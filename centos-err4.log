TASK [chef_openstack_install : Launch Chef based OpenStack installer on First (controller) node] ***************************************
skipping: [147.75.91.70]
skipping: [139.178.70.174]
fatal: [147.75.91.18]: FAILED! => {"changed": true, "cmd": ["chef-client", "-z", "-E", "multinode", "-r", "role[multinode-controller]"], "delta": "0:11:50.132832", "end": "2019-04-25 23:24:04.010703", "msg": "non-zero return code", "rc": 1, "start": "2019-04-25 23:12:13.877871", "stderr": "", "stderr_lines": [], "stdout": "[2019-04-25T23:12:15+00:00] WARN: No config file found or specified on command line, using command line options.
Starting Chef Client, version 14.6.47\u001b[0m
resolving cookbooks for run list: [\"build-essential\", \"openstack-common\", \"openstack-common::logging\", \"openstack-common::sysctl\", \"openstack-common::python\", \"openstack-common::client\", \"openstack-ops-database::server\", \"openstack-ops-database::openstack-db\", \"openstack-ops-messaging::rabbitmq-server\", \"openstack-identity::server-apache\", \"openstack-identity::registration\", \"openstack-identity::openrc\", \"openstack-image::api\", \"openstack-image::registry\", \"openstack-image::identity_registration\", \"openstack-network\", \"openstack-network::server\", \"openstack-network::ml2_core_plugin\", \"openstack-network::dhcp_agent\", \"openstack-network::metadata_agent\", \"openstack-compute::nova-setup\", \"openstack-compute::identity_registration\", \"openstack-compute::conductor\", \"openstack-compute::api-os-compute\", \"openstack-compute::api-metadata\", \"openstack-compute::placement_api\", \"openstack-compute::scheduler\", \"openstack-compute::vncproxy\", \"openstack-orchestration::engine\", \"openstack-orchestration::api\", \"openstack-orchestration::api-cfn\", \"openstack-orchestration::identity_registration\", \"openstack-image::image_upload\", \"openstack-dashboard::horizon\"]\u001b[0m
Synchronizing Cookbooks:\u001b[0m
  - build-essential (8.2.1)\u001b[0m
  - openstack-common (18.0.0)\u001b[0m
  - openstack-ops-database (18.0.0)\u001b[0m
  - openstack-ops-messaging (18.0.0)\u001b[0m
  - openstack-identity (18.0.0)\u001b[0m
  - openstack-image (18.0.0)\u001b[0m
  - openstack-network (18.0.0)\u001b[0m
  - openstack-compute (18.0.0)\u001b[0m
  - openstack-orchestration (18.0.0)\u001b[0m
  - openstack-dashboard (18.0.0)\u001b[0m
  - seven_zip (3.1.0)\u001b[0m
  - mingw (2.1.0)\u001b[0m
  - etcd (5.6.0)\u001b[0m
  - mariadb (1.5.4)\u001b[0m
  - memcached (4.1.0)\u001b[0m
  - mysql (8.5.1)\u001b[0m
  - poise-python (1.7.0)\u001b[0m
  - selinux (2.1.1)\u001b[0m
  - mysql2_chef_gem (2.1.0)\u001b[0m
  - rabbitmq (5.8.0)\u001b[0m
  - openstackclient (18.0.0)\u001b[0m
  - apache2 (5.0.1)\u001b[0m
  - windows (5.3.0)\u001b[0m
  - docker (4.9.2)\u001b[0m
  - apt (7.1.1)\u001b[0m
  - selinux_policy (2.3.4)\u001b[0m
  - yum (5.1.0)\u001b[0m
  - yum-epel (3.3.0)\u001b[0m
  - yum-scl (0.2.0)\u001b[0m
  - runit (5.0.1)\u001b[0m
  - poise (2.8.2)\u001b[0m
  - poise-languages (2.1.2)\u001b[0m
  - erlang (7.0.0)\u001b[0m
  - yum-erlang_solutions (2.0.0)\u001b[0m
  - dpkg_autostart (0.2.0)\u001b[0m
  - logrotate (2.2.0)\u001b[0m
  - inifile_chef_gem (0.1.0)\u001b[0m
  - packagecloud (1.0.1)\u001b[0m
  - poise-archive (1.5.0)\u001b[0m
Installing Cookbook Gems:\u001b[0m
Compiling Cookbooks...\u001b[0m
Converging 391 resources\u001b[0m
Recipe: build-essential::default\u001b[0m
  * build_essential[install_packages] action install
    * yum_package[autoconf, bison, flex, gcc, gcc-c++, gettext, kernel-devel, make, m4, ncurses-devel, patch] action install
      \u001b[32m- install version 0:2.69-11.el7.noarch of package autoconf\u001b[0m
      \u001b[32m- install version 0:3.0.4-2.el7.x86_64 of package bison\u001b[0m
      \u001b[32m- install version 0:2.5.37-6.el7.x86_64 of package flex\u001b[0m
      \u001b[32m- install version 0:4.8.5-36.el7_6.1.x86_64 of package gcc\u001b[0m
      \u001b[32m- install version 0:4.8.5-36.el7_6.1.x86_64 of package gcc-c++\u001b[0m
      \u001b[32m- install version 0:3.10.0-957.10.1.el7.x86_64 of package kernel-devel\u001b[0m
      \u001b[32m- install version 0:5.9-14.20130511.el7_4.x86_64 of package ncurses-devel\u001b[0m
\u001b[0m  
\u001b[0mRecipe: openstack-common::default\u001b[0m
  * yum_repository[RDO-rocky] action add
    * template[/etc/yum.repos.d/RDO-rocky.repo] action create
      \u001b[32m- create new file /etc/yum.repos.d/RDO-rocky.repo\u001b[0m
      \u001b[32m- update content in file /etc/yum.repos.d/RDO-rocky.repo from none to 1643ff\u001b[0m
      \u001b[37m--- /etc/yum.repos.d/RDO-rocky.repo\t2019-04-25 23:14:55.330868852 +0000\u001b[0m
      \u001b[37m+++ /etc/yum.repos.d/.chef-RDO-rocky20190425-73771-1g03aol.repo\t2019-04-25 23:14:55.330868852 +0000\u001b[0m
      \u001b[37m@@ -1 +1,11 @@\u001b[0m
      \u001b[37m+# This file was generated by Chef\u001b[0m
      \u001b[37m+# Do NOT modify this file by hand.\u001b[0m
      \u001b[37m+\u001b[0m
      \u001b[37m+[RDO-rocky]\u001b[0m
      \u001b[37m+name=OpenStack RDO repo for rocky\u001b[0m
      \u001b[37m+baseurl=http://mirror.centos.org/centos/$releasever/cloud/$basearch/openstack-rocky\u001b[0m
      \u001b[37m+enabled=1\u001b[0m
      \u001b[37m+fastestmirror_enabled=0\u001b[0m
      \u001b[37m+gpgcheck=1\u001b[0m
      \u001b[37m+gpgkey=https://github.com/rdo-infra/rdo-release/raw/rocky-rdo/RPM-GPG-KEY-CentOS-SIG-Cloud\u001b[0m
      \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m    * execute[yum clean metadata RDO-rocky] action run
      \u001b[32m- execute yum clean metadata --disablerepo=* --enablerepo=RDO-rocky\u001b[0m
\u001b[0m    * execute[yum-makecache-RDO-rocky] action run
      \u001b[32m- execute yum -q -y makecache --disablerepo=* --enablerepo=RDO-rocky\u001b[0m
\u001b[0m    * ruby_block[package-cache-reload-RDO-rocky] action create
      \u001b[32m- execute the ruby block package-cache-reload-RDO-rocky\u001b[0m
\u001b[0m    * execute[yum clean metadata RDO-rocky] action nothing (skipped due to action :nothing)
    * execute[yum-makecache-RDO-rocky] action nothing (skipped due to action :nothing)
    * ruby_block[package-cache-reload-RDO-rocky] action nothing (skipped due to action :nothing)
  
\u001b[0m  * yum_repository[RDO-rocky-deps] action remove
    * execute[yum clean all RDO-rocky-deps] action run (skipped due to only_if)
    * file[/etc/yum.repos.d/RDO-rocky-deps.repo] action delete (up to date)
    * ruby_block[package-cache-reload-RDO-rocky-deps] action nothing (skipped due to action :nothing)
     (up to date)
  * bash[yum_contentdir] action run (skipped due to not_if)
  * yum_package[centos-release-qemu-ev] action upgrade
    \u001b[32m- upgrade package centos-release-qemu-ev from uninstalled to 0:1.0-4.el7.centos.noarch\u001b[0m
\u001b[0m  * python_runtime[2] action install
    * poise_languages_system[python] action install
      \u001b[32m- install version 0:2.7.5-77.el7_6.x86_64 of package python-devel\u001b[0m
\u001b[0m    * yum_package[python, python-devel] action nothing (skipped due to action :nothing)
  
\u001b[0m  * python_runtime_pip[2] action install
    * python_package[pip] action upgrade
      \u001b[32m- upgrade(allow_downgrade) package pip from 8.1.2 to 18.0\u001b[0m
\u001b[0m  
\u001b[0m  * python_package[setuptools] action install
    \u001b[32m- install version 40.0.0 of package setuptools\u001b[0m
\u001b[0m  * python_package[wheel] action install
    \u001b[32m- install version 0.31.1 of package wheel\u001b[0m
\u001b[0m  * python_package[virtualenv] action install
    \u001b[32m- install version 16.5.0 of package virtualenv\u001b[0m
\u001b[0m
\u001b[0mRecipe: openstack-common::logging\u001b[0m
  * directory[/etc/openstack] action create
    \u001b[32m- create new directory /etc/openstack\u001b[0m
    \u001b[32m- change mode from '' to '0755'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0m  * template[/etc/openstack/logging.conf] action create
    \u001b[32m- create new file /etc/openstack/logging.conf\u001b[0m
    \u001b[32m- update content in file /etc/openstack/logging.conf from none to d41178\u001b[0m
    \u001b[37m--- /etc/openstack/logging.conf\t2019-04-25 23:17:13.144152707 +0000\u001b[0m
    \u001b[37m+++ /etc/openstack/.chef-logging20190425-73771-1ankrr1.conf\t2019-04-25 23:17:13.143152668 +0000\u001b[0m
    \u001b[37m@@ -1 +1,135 @@\u001b[0m
    \u001b[37m+[loggers]\u001b[0m
    \u001b[37m+keys=root,ceilometer,cinder,glance,horizon,keystone,nova,neutron,trove,amqplib,sqlalchemy,boto,suds,eventletwsgi,nova_api_openstack_wsgi,nova_osapi_compute_wsgi_server\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[formatters]\u001b[0m
    \u001b[37m+keys=normal,normal_with_name,debug,syslog_with_name,syslog_debug\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[handlers]\u001b[0m
    \u001b[37m+keys=stderr,devel,prod,debug\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+## LOGGERS ##\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_root]\u001b[0m
    \u001b[37m+level=NOTSET\u001b[0m
    \u001b[37m+handlers=devel\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_ceilometer]\u001b[0m
    \u001b[37m+level=DEBUG\u001b[0m
    \u001b[37m+handlers=prod,debug\u001b[0m
    \u001b[37m+qualname=ceilometer\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_cinder]\u001b[0m
    \u001b[37m+level=DEBUG\u001b[0m
    \u001b[37m+handlers=prod,debug\u001b[0m
    \u001b[37m+qualname=cinder\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_glance]\u001b[0m
    \u001b[37m+level=DEBUG\u001b[0m
    \u001b[37m+handlers=prod,debug\u001b[0m
    \u001b[37m+qualname=glance\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_horizon]\u001b[0m
    \u001b[37m+level=DEBUG\u001b[0m
    \u001b[37m+handlers=prod,debug\u001b[0m
    \u001b[37m+qualname=horizon\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_keystone]\u001b[0m
    \u001b[37m+level=DEBUG\u001b[0m
    \u001b[37m+handlers=prod,debug\u001b[0m
    \u001b[37m+qualname=keystone\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_nova]\u001b[0m
    \u001b[37m+level=DEBUG\u001b[0m
    \u001b[37m+handlers=prod,debug\u001b[0m
    \u001b[37m+qualname=nova\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_neutron]\u001b[0m
    \u001b[37m+level=DEBUG\u001b[0m
    \u001b[37m+handlers=prod,debug\u001b[0m
    \u001b[37m+qualname=neutron\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_trove]\u001b[0m
    \u001b[37m+level=DEBUG\u001b[0m
    \u001b[37m+handlers=prod,debug\u001b[0m
    \u001b[37m+qualname=trove\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_amqplib]\u001b[0m
    \u001b[37m+level=WARNING\u001b[0m
    \u001b[37m+handlers=stderr\u001b[0m
    \u001b[37m+qualname=amqplib\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_sqlalchemy]\u001b[0m
    \u001b[37m+level=WARNING\u001b[0m
    \u001b[37m+handlers=stderr\u001b[0m
    \u001b[37m+qualname=sqlalchemy\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_boto]\u001b[0m
    \u001b[37m+level=WARNING\u001b[0m
    \u001b[37m+handlers=stderr\u001b[0m
    \u001b[37m+qualname=boto\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_suds]\u001b[0m
    \u001b[37m+level=INFO\u001b[0m
    \u001b[37m+handlers=stderr\u001b[0m
    \u001b[37m+qualname=suds\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_eventletwsgi]\u001b[0m
    \u001b[37m+level=WARNING\u001b[0m
    \u001b[37m+handlers=stderr\u001b[0m
    \u001b[37m+qualname=eventlet.wsgi.server\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_nova_api_openstack_wsgi]\u001b[0m
    \u001b[37m+level=WARNING\u001b[0m
    \u001b[37m+handlers=prod,debug\u001b[0m
    \u001b[37m+qualname=nova.api.openstack.wsgi\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_nova_osapi_compute_wsgi_server]\u001b[0m
    \u001b[37m+level=WARNING\u001b[0m
    \u001b[37m+handlers=prod,debug\u001b[0m
    \u001b[37m+qualname=nova.osapi_compute.wsgi.server\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+## FORMATTERS ##\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[formatter_normal]\u001b[0m
    \u001b[37m+format=%(asctime)s %(levelname)s %(message)s\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[formatter_normal_with_name]\u001b[0m
    \u001b[37m+format=[%(name)s]: %(asctime)s %(levelname)s %(message)s\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[formatter_debug]\u001b[0m
    \u001b[37m+format=[%(name)s]: %(asctime)s %(levelname)s %(module)s.%(funcName)s %(message)s\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[formatter_syslog_with_name]\u001b[0m
    \u001b[37m+format=%(name)s: %(levelname)s %(message)s\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[formatter_syslog_debug]\u001b[0m
    \u001b[37m+format=%(name)s: %(levelname)s %(module)s.%(funcName)s %(message)s\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+## HANDLERS ##\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[handler_stderr]\u001b[0m
    \u001b[37m+args=(sys.stderr,)\u001b[0m
    \u001b[37m+class=StreamHandler\u001b[0m
    \u001b[37m+formatter=debug\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[handler_devel]\u001b[0m
    \u001b[37m+args=(sys.stdout,)\u001b[0m
    \u001b[37m+class=StreamHandler\u001b[0m
    \u001b[37m+formatter=debug\u001b[0m
    \u001b[37m+level=NOTSET\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[handler_prod]\u001b[0m
    \u001b[37m+args=(('/dev/log'), handlers.SysLogHandler.LOG_LOCAL0)\u001b[0m
    \u001b[37m+class=handlers.SysLogHandler\u001b[0m
    \u001b[37m+formatter=syslog_with_name\u001b[0m
    \u001b[37m+level=INFO\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[handler_debug]\u001b[0m
    \u001b[37m+args=(('/dev/log'), handlers.SysLogHandler.LOG_LOCAL1)\u001b[0m
    \u001b[37m+class=handlers.SysLogHandler\u001b[0m
    \u001b[37m+formatter=syslog_debug\u001b[0m
    \u001b[37m+level=DEBUG\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0mRecipe: openstack-common::sysctl\u001b[0m
  * directory[/etc/sysctl.d] action create (up to date)
  * template[/etc/sysctl.d/60-openstack.conf] action create
    \u001b[32m- create new file /etc/sysctl.d/60-openstack.conf\u001b[0m
    \u001b[32m- update content in file /etc/sysctl.d/60-openstack.conf from none to 8fa39c\u001b[0m
    \u001b[37m--- /etc/sysctl.d/60-openstack.conf\t2019-04-25 23:17:13.160153320 +0000\u001b[0m
    \u001b[37m+++ /etc/sysctl.d/.chef-60-openstack20190425-73771-1na5rkh.conf\t2019-04-25 23:17:13.160153320 +0000\u001b[0m
    \u001b[37m@@ -1 +1,6 @@\u001b[0m
    \u001b[37m+# Managed by Chef\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+net.ipv4.conf.all.rp_filter = 0\u001b[0m
    \u001b[37m+net.ipv4.conf.default.rp_filter = 0\u001b[0m
    \u001b[37m+net.ipv4.ip_forward = 1\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0m  * execute[sysctl -p /etc/sysctl.d/60-openstack.conf] action run
    \u001b[32m- execute sysctl -p /etc/sysctl.d/60-openstack.conf\u001b[0m
\u001b[0m  * execute[sysctl -p /etc/sysctl.d/60-openstack.conf] action nothing (skipped due to action :nothing)
Recipe: openstack-common::python\u001b[0m
  * python_runtime[3.5] action install
    * poise_languages_scl[rh-python35] action install
      * yum_package[centos-release-scl-rh] action upgrade
        \u001b[32m- upgrade package centos-release-scl-rh from uninstalled to 0:2-3.el7.centos.noarch\u001b[0m
\u001b[0m      * ruby_block[flush_yum_cache] action run
        \u001b[32m- execute the ruby block flush_yum_cache\u001b[0m
\u001b[0m      * yum_package[rh-python35] action install
        \u001b[32m- install version 0:2.0-2.el7.x86_64 of package rh-python35\u001b[0m
\u001b[0m      * yum_package[rh-python35-python-devel] action install (up to date)
    
\u001b[0m    * python_runtime_pip[3.5] action install
      * python_package[pip] action upgrade
        \u001b[32m- upgrade(allow_downgrade) package pip from 7.1.0 to 18.0\u001b[0m
\u001b[0m    
\u001b[0m    * python_package[setuptools] action install
      \u001b[32m- install version 40.0.0 of package setuptools\u001b[0m
\u001b[0m    * python_package[wheel] action install
      \u001b[32m- install version 0.31.1 of package wheel\u001b[0m
\u001b[0m  
\u001b[0mRecipe: openstack-common::client\u001b[0m
  * yum_package[python-openstackclient] action upgrade
    \u001b[32m- upgrade package python-openstackclient from uninstalled to 0:3.16.2-1.el7.noarch\u001b[0m
\u001b[0mRecipe: yum::default\u001b[0m
  * yum_globalconfig[/etc/yum.conf] action create
    * template[/etc/yum.conf] action create
      \u001b[32m- update content in file /etc/yum.conf from 732348 to f32996\u001b[0m
      \u001b[37m--- /etc/yum.conf\t2019-04-25 21:37:22.183967612 +0000\u001b[0m
      \u001b[37m+++ /etc/.chef-yum20190425-73771-1qd58fv.conf\t2019-04-25 23:18:13.378461743 +0000\u001b[0m
      \u001b[37m@@ -1,28 +1,16 @@\u001b[0m
      \u001b[37m+# This file was generated by Chef\u001b[0m
      \u001b[37m+# Do NOT modify this file by hand.\u001b[0m
      \u001b[37m+\u001b[0m
      \u001b[37m [main]\u001b[0m
      \u001b[37m cachedir=/var/cache/yum/$basearch/$releasever\u001b[0m
      \u001b[37m-keepcache=0\u001b[0m
      \u001b[37m debuglevel=2\u001b[0m
      \u001b[37m-logfile=/var/log/yum.log\u001b[0m
      \u001b[37m+distroverpkg=centos-release\u001b[0m
      \u001b[37m exactarch=1\u001b[0m
      \u001b[37m-obsoletes=1\u001b[0m
      \u001b[37m gpgcheck=1\u001b[0m
      \u001b[37m+installonly_limit=3\u001b[0m
      \u001b[37m+keepcache=0\u001b[0m
      \u001b[37m+localpkg_gpgcheck=0\u001b[0m
      \u001b[37m+logfile=/var/log/yum.log\u001b[0m
      \u001b[37m+obsoletes=1\u001b[0m
      \u001b[37m plugins=1\u001b[0m
      \u001b[37m-installonly_limit=5\u001b[0m
      \u001b[37m-bugtracker_url=http://bugs.centos.org/set_project.php?project_id=23&ref=http://bugs.centos.org/bug_report_page.php?category=yum\u001b[0m
      \u001b[37m-distroverpkg=centos-release\u001b[0m
      \u001b[37m-exclude=microcode_ctl  ibutils-libs*\u001b[0m
      \u001b[37m-\u001b[0m
      \u001b[37m-\u001b[0m
      \u001b[37m-#  This is the default, if you make this bigger yum won't see if the metadata\u001b[0m
      \u001b[37m-# is newer on the remote and so you'll \"gain\" the bandwidth of not having to\u001b[0m
      \u001b[37m-# download the new metadata and \"pay\" for it by yum not having correct\u001b[0m
      \u001b[37m-# information.\u001b[0m
      \u001b[37m-#  It is esp. important, to have correct metadata, for distributions like\u001b[0m
      \u001b[37m-# Fedora which don't keep old packages around. If you don't like this checking\u001b[0m
      \u001b[37m-# interupting your command line usage, it's much better to have something\u001b[0m
      \u001b[37m-# manually check the metadata once an hour (yum-updatesd will do this).\u001b[0m
      \u001b[37m-# metadata_expire=90m\u001b[0m
      \u001b[37m-\u001b[0m
      \u001b[37m-# PUT YOUR REPOS HERE OR IN separate files named file.repo\u001b[0m
      \u001b[37m-# in /etc/yum.repos.d\u001b[0m
\u001b[0m  
\u001b[0mRecipe: mariadb::repository\u001b[0m
  * yum_repository[mariadb-10.0] action create
    * template[/etc/yum.repos.d/mariadb-10.0.repo] action create
      \u001b[32m- create new file /etc/yum.repos.d/mariadb-10.0.repo\u001b[0m
      \u001b[32m- update content in file /etc/yum.repos.d/mariadb-10.0.repo from none to 7b7062\u001b[0m
      \u001b[37m--- /etc/yum.repos.d/mariadb-10.0.repo\t2019-04-25 23:18:13.392462280 +0000\u001b[0m
      \u001b[37m+++ /etc/yum.repos.d/.chef-mariadb-1020190425-73771-bfz5hk.0.repo\t2019-04-25 23:18:13.392462280 +0000\u001b[0m
      \u001b[37m@@ -1 +1,11 @@\u001b[0m
      \u001b[37m+# This file was generated by Chef\u001b[0m
      \u001b[37m+# Do NOT modify this file by hand.\u001b[0m
      \u001b[37m+\u001b[0m
      \u001b[37m+[mariadb-10.0]\u001b[0m
      \u001b[37m+name=MariaDB Official Repository\u001b[0m
      \u001b[37m+baseurl=http://yum.mariadb.org/10.0/centos7-amd64\u001b[0m
      \u001b[37m+enabled=1\u001b[0m
      \u001b[37m+fastestmirror_enabled=0\u001b[0m
      \u001b[37m+gpgcheck=1\u001b[0m
      \u001b[37m+gpgkey=https://yum.mariadb.org/RPM-GPG-KEY-MariaDB\u001b[0m
      \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m    * execute[yum clean metadata mariadb-10.0] action run
      \u001b[32m- execute yum clean metadata --disablerepo=* --enablerepo=mariadb-10.0\u001b[0m
\u001b[0m    * execute[yum-makecache-mariadb-10.0] action run
      \u001b[32m- execute yum -q -y makecache --disablerepo=* --enablerepo=mariadb-10.0\u001b[0m
\u001b[0m    * ruby_block[package-cache-reload-mariadb-10.0] action create
      \u001b[32m- execute the ruby block package-cache-reload-mariadb-10.0\u001b[0m
\u001b[0m    * execute[yum clean metadata mariadb-10.0] action nothing (skipped due to action :nothing)
    * execute[yum-makecache-mariadb-10.0] action nothing (skipped due to action :nothing)
    * ruby_block[package-cache-reload-mariadb-10.0] action nothing (skipped due to action :nothing)
  
\u001b[0mRecipe: yum-epel::default\u001b[0m
  * yum_repository[epel] action create
    * template[/etc/yum.repos.d/epel.repo] action create
      \u001b[32m- update content in file /etc/yum.repos.d/epel.repo from dfa0c7 to 490677\u001b[0m
      \u001b[37m--- /etc/yum.repos.d/epel.repo\t2017-10-02 17:44:08.000000000 +0000\u001b[0m
      \u001b[37m+++ /etc/yum.repos.d/.chef-epel20190425-73771-1ixd04m.repo\t2019-04-25 23:18:14.567507324 +0000\u001b[0m
      \u001b[37m@@ -1,27 +1,12 @@\u001b[0m
      \u001b[37m-[epel]\u001b[0m
      \u001b[37m-name=Extra Packages for Enterprise Linux 7 - $basearch\u001b[0m
      \u001b[37m-#baseurl=http://download.fedoraproject.org/pub/epel/7/$basearch\u001b[0m
      \u001b[37m-metalink=https://mirrors.fedoraproject.org/metalink?repo=epel-7&arch=$basearch\u001b[0m
      \u001b[37m-failovermethod=priority\u001b[0m
      \u001b[37m-enabled=1\u001b[0m
      \u001b[37m-gpgcheck=1\u001b[0m
      \u001b[37m-gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7\u001b[0m
      \u001b[37m+# This file was generated by Chef\u001b[0m
      \u001b[37m+# Do NOT modify this file by hand.\u001b[0m
      \u001b[37m \u001b[0m
      \u001b[37m-[epel-debuginfo]\u001b[0m
      \u001b[37m-name=Extra Packages for Enterprise Linux 7 - $basearch - Debug\u001b[0m
      \u001b[37m-#baseurl=http://download.fedoraproject.org/pub/epel/7/$basearch/debug\u001b[0m
      \u001b[37m-metalink=https://mirrors.fedoraproject.org/metalink?repo=epel-debug-7&arch=$basearch\u001b[0m
      \u001b[37m-failovermethod=priority\u001b[0m
      \u001b[37m+[epel]\u001b[0m
      \u001b[37m+name=Extra Packages for 7 - $basearch\u001b[0m
      \u001b[37m enabled=0\u001b[0m
      \u001b[37m-gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7\u001b[0m
      \u001b[37m-gpgcheck=1\u001b[0m
      \u001b[37m-\u001b[0m
      \u001b[37m-[epel-source]\u001b[0m
      \u001b[37m-name=Extra Packages for Enterprise Linux 7 - $basearch - Source\u001b[0m
      \u001b[37m-#baseurl=http://download.fedoraproject.org/pub/epel/7/SRPMS\u001b[0m
      \u001b[37m-metalink=https://mirrors.fedoraproject.org/metalink?repo=epel-source-7&arch=$basearch\u001b[0m
      \u001b[37m failovermethod=priority\u001b[0m
      \u001b[37m-enabled=0\u001b[0m
      \u001b[37m-gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7\u001b[0m
      \u001b[37m+fastestmirror_enabled=0\u001b[0m
      \u001b[37m gpgcheck=1\u001b[0m
      \u001b[37m+gpgkey=https://download.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-7\u001b[0m
      \u001b[37m+mirrorlist=http://mirrors.fedoraproject.org/mirrorlist?repo=epel-7&arch=$basearch\u001b[0m
\u001b[0m    * execute[yum clean metadata epel] action run
      \u001b[32m- execute yum clean metadata --disablerepo=* --enablerepo=epel\u001b[0m
\u001b[0m    * execute[yum-makecache-epel] action run (skipped due to only_if)
    * ruby_block[package-cache-reload-epel] action create
      \u001b[32m- execute the ruby block package-cache-reload-epel\u001b[0m
\u001b[0m    * execute[yum clean metadata epel] action nothing (skipped due to action :nothing)
    * execute[yum-makecache-epel] action nothing (skipped due to action :nothing)
    * ruby_block[package-cache-reload-epel] action nothing (skipped due to action :nothing)
  
\u001b[0mRecipe: mariadb::_redhat_client\u001b[0m
  * yum_package[mysql-libs] action remove (skipped due to not_if)
Recipe: mariadb::client\u001b[0m
  * yum_package[MariaDB-client] action install
    \u001b[32m- install version 0:10.0.38-1.el7.centos.x86_64 of package MariaDB-client\u001b[0m
\u001b[0mRecipe: mariadb::devel\u001b[0m
  * yum_package[MariaDB-devel] action install
    \u001b[32m- install version 0:10.0.38-1.el7.centos.x86_64 of package MariaDB-devel\u001b[0m
\u001b[0mRecipe: openstack-ops-database::mariadb-client\u001b[0m
  * mysql2_chef_gem_mysql2_chef_gem_mariadb[default] action install
    \u001b[32m- evaluate block and run any associated actions\u001b[0m
    \u001b[32m- evaluate block and run any associated actions\u001b[0m
    * gem_package[mysql2] action install
      \u001b[32m- install version 0.4.9 of package mysql2\u001b[0m
\u001b[0m  
\u001b[0m  * yum_package[MySQL-python] action install
    \u001b[32m- install version 0:1.2.5-1.el7.x86_64 of package MySQL-python\u001b[0m
\u001b[0mRecipe: mariadb::_redhat_server_preinstall\u001b[0m
  * yum_package[MariaDB-shared] action install (up to date)
Recipe: mariadb::server\u001b[0m
  * yum_package[MariaDB-server] action install
    \u001b[32m- install version 0:10.0.38-1.el7.centos.x86_64 of package MariaDB-server\u001b[0m
\u001b[0m  * ruby_block[restart_mysql] action run
    \u001b[32m- execute the ruby block restart_mysql\u001b[0m
\u001b[0mRecipe: mariadb::config\u001b[0m
  * template[/root/.my.cnf] action create (skipped due to only_if)
  * template[/etc/my.cnf] action create
    \u001b[32m- update content in file /etc/my.cnf from a9b0e4 to edd38d\u001b[0m
    \u001b[37m--- /etc/my.cnf\t2019-01-29 18:39:42.000000000 +0000\u001b[0m
    \u001b[37m+++ /etc/.chef-my20190425-73771-17bljyk.cnf\t2019-04-25 23:23:43.794127976 +0000\u001b[0m
    \u001b[37m@@ -1,12 +1,159 @@\u001b[0m
    \u001b[37m+# DEPLOYED BY CHEF\u001b[0m
    \u001b[37m+# MariaDB database server configuration file.\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-# This group is read both both by the client and the server\u001b[0m
    \u001b[37m-# use it for options that affect everything\u001b[0m
    \u001b[37m+# You can copy this file to one of:\u001b[0m
    \u001b[37m+# - \"/etc/mysql/my.cnf\" to set global options,\u001b[0m
    \u001b[37m+# - \"~/.my.cnf\" to set user-specific options.\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-[client-server]\u001b[0m
    \u001b[37m+# One can use all long options that the program supports.\u001b[0m
    \u001b[37m+# Run program with --help to get a list of available options and with\u001b[0m
    \u001b[37m+# --print-defaults to see which it would actually understand and use.\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# For explanations see\u001b[0m
    \u001b[37m+# http://dev.mysql.com/doc/mysql/en/server-system-variables.html\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m+# This will be passed to all mysql clients\u001b[0m
    \u001b[37m+# It has been reported that passwords should be enclosed with ticks/quotes\u001b[0m
    \u001b[37m+# escpecially if they contain \"#\" chars...\u001b[0m
    \u001b[37m+# Remember to edit /etc/mysql/debian.cnf when changing the socket location.\u001b[0m
    \u001b[37m+[client]\u001b[0m
    \u001b[37m+port\t\t= 3306\u001b[0m
    \u001b[37m+socket\t\t= /var/lib/mysql/mysql.sock\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+# Here is entries for some specific programs\u001b[0m
    \u001b[37m+# The following values assume you have at least 32M ram\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+# This was formally known as [safe_mysqld]. Both versions are currently parsed.\u001b[0m
    \u001b[37m+[mysqld_safe]\u001b[0m
    \u001b[37m+socket\t\t= /var/lib/mysql/mysql.sock\u001b[0m
    \u001b[37m+nice\t\t= 0\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[mysqld]\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-# include all files from the config directory\u001b[0m
    \u001b[37m+# * Basic Settings\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-!includedir /etc/my.cnf.d\u001b[0m
    \u001b[37m+user\t\t= mysql\u001b[0m
    \u001b[37m+socket\t\t= /var/lib/mysql/mysql.sock\u001b[0m
    \u001b[37m+port\t\t= 3306\u001b[0m
    \u001b[37m+basedir\t\t= /usr\u001b[0m
    \u001b[37m+datadir\t\t= /var/lib/mysql\u001b[0m
    \u001b[37m+tmpdir\t\t= /var/tmp\u001b[0m
    \u001b[37m+lc_messages_dir\t= /usr/share/mysql\u001b[0m
    \u001b[37m+lc_messages\t= en_US\u001b[0m
    \u001b[37m+skip-external-locking\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# Instead of skip-networking the default is now to listen only on\u001b[0m
    \u001b[37m+# localhost which is more compatible and is not less secure.\u001b[0m
    \u001b[37m+bind-address\t\t= 147.75.91.18\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# * Fine Tuning\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+max_connections\t\t= 307\u001b[0m
    \u001b[37m+connect_timeout\t\t= 5\u001b[0m
    \u001b[37m+wait_timeout\t\t= 600\u001b[0m
    \u001b[37m+max_allowed_packet\t= 16M\u001b[0m
    \u001b[37m+thread_cache_size       = 128\u001b[0m
    \u001b[37m+sort_buffer_size\t= 4M\u001b[0m
    \u001b[37m+bulk_insert_buffer_size\t= 16M\u001b[0m
    \u001b[37m+tmp_table_size\t\t= 32M\u001b[0m
    \u001b[37m+max_heap_table_size\t= 32M\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# * MyISAM\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# This replaces the startup script and checks MyISAM tables if needed\u001b[0m
    \u001b[37m+# the first time they are touched. On error, make copy and try a repair.\u001b[0m
    \u001b[37m+myisam_recover          = BACKUP\u001b[0m
    \u001b[37m+key_buffer_size\t\t= 128M\u001b[0m
    \u001b[37m+table_open_cache\t= 400\u001b[0m
    \u001b[37m+myisam_sort_buffer_size\t= 512M\u001b[0m
    \u001b[37m+concurrent_insert\t= 2\u001b[0m
    \u001b[37m+read_buffer_size\t= 2M\u001b[0m
    \u001b[37m+read_rnd_buffer_size\t= 1M\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# * Query Cache Configuration\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# Cache only tiny result sets, so we can fit more in the query cache.\u001b[0m
    \u001b[37m+query_cache_limit\t\t= 128K\u001b[0m
    \u001b[37m+query_cache_size\t\t= 64M\u001b[0m
    \u001b[37m+# for more write intensive setups, set to DEMAND or OFF\u001b[0m
    \u001b[37m+#query_cache_type\t\t= DEMAND\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# * Logging and Replication\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# Both location gets rotated by the cronjob.\u001b[0m
    \u001b[37m+# Be aware that this log type is a performance killer.\u001b[0m
    \u001b[37m+# As of 5.1 you can enable the log at runtime!\u001b[0m
    \u001b[37m+general_log_file        = /var/log/mysql/mysql.log\u001b[0m
    \u001b[37m+general_log             = 0\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# Error logging goes to syslog due to /etc/mysql/conf.d/mysqld_safe_syslog.cnf.\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# we do want to know about network errors and such\u001b[0m
    \u001b[37m+log_warnings\t\t= 2\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# Enable the slow query log to see queries with especially long duration\u001b[0m
    \u001b[37m+#slow_query_log[={0|1}]\u001b[0m
    \u001b[37m+slow_query_log = 0\u001b[0m
    \u001b[37m+slow_query_log_file\t= /var/log/mysql/mariadb-slow.log\u001b[0m
    \u001b[37m+long_query_time = 10\u001b[0m
    \u001b[37m+log_slow_rate_limit\t= 1000\u001b[0m
    \u001b[37m+log_slow_verbosity\t= query_plan\u001b[0m
    \u001b[37m+# Logging output type\u001b[0m
    \u001b[37m+log_output = FILE\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m+#log-queries-not-using-indexes\u001b[0m
    \u001b[37m+#log_slow_admin_statements\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# The following can be used as easy to replay backup logs or for replication.\u001b[0m
    \u001b[37m+# note: if you are setting up a replication slave, see README.Debian about\u001b[0m
    \u001b[37m+#       other settings you may need to change.\u001b[0m
    \u001b[37m+#report_host\t\t= master1\u001b[0m
    \u001b[37m+#auto_increment_increment = 2\u001b[0m
    \u001b[37m+#auto_increment_offset\t= 1\u001b[0m
    \u001b[37m+# not fab for performance, but safer\u001b[0m
    \u001b[37m+#sync_binlog\t\t= 1\u001b[0m
    \u001b[37m+# slaves\u001b[0m
    \u001b[37m+#relay_log\t\t= /var/log/mysql/relay-bin\u001b[0m
    \u001b[37m+#relay_log_index\t= /var/log/mysql/relay-bin.index\u001b[0m
    \u001b[37m+#relay_log_info_file\t= /var/log/mysql/relay-bin.info\u001b[0m
    \u001b[37m+#log_slave_updates\u001b[0m
    \u001b[37m+#read_only\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# If applications support it, this stricter sql_mode prevents some\u001b[0m
    \u001b[37m+# mistakes like inserting invalid dates etc.\u001b[0m
    \u001b[37m+#sql_mode\t\t= NO_ENGINE_SUBSTITUTION,TRADITIONAL\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+default_storage_engine\t= InnoDB\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# * Security Features\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# Read the manual, too, if you want chroot!\u001b[0m
    \u001b[37m+# chroot = /var/lib/mysql/\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# For generating SSL certificates I recommend the OpenSSL GUI \"tinyca\".\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# ssl-ca=/etc/mysql/cacert.pem\u001b[0m
    \u001b[37m+# ssl-cert=/etc/mysql/server-cert.pem\u001b[0m
    \u001b[37m+# ssl-key=/etc/mysql/server-key.pem\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# * Plugins Options\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[mysqldump]\u001b[0m
    \u001b[37m+max_allowed_packet\t= 16M\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[mysql]\u001b[0m
    \u001b[37m+#no-auto-rehash\t# faster start of mysql but no tab completition\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[isamchk]\u001b[0m
    \u001b[37m+key_buffer\t\t= 16M\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# * IMPORTANT: Additional settings that can override those from this file!\u001b[0m
    \u001b[37m+#   The files must end with '.cnf', otherwise they'll be ignored.\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+!includedir /etc/my.cnf.d/\u001b[0m
\u001b[0m  * directory[/etc/my.cnf.d] action create (skipped due to not_if)
  * mariadb_configuration[20-innodb] action add
    * template[/etc/my.cnf.d/20-innodb.cnf] action create
      \u001b[32m- create new file /etc/my.cnf.d/20-innodb.cnf\u001b[0m
      \u001b[32m- update content in file /etc/my.cnf.d/20-innodb.cnf from none to 36e5ec\u001b[0m
      \u001b[32m- suppressed sensitive resource\u001b[0m
      \u001b[32m- change mode from '' to '0640'\u001b[0m
      \u001b[32m- change owner from '' to 'root'\u001b[0m
      \u001b[32m- change group from '' to 'mysql'\u001b[0m
\u001b[0m  
\u001b[0m  * mariadb_configuration[30-replication] action add
    * template[/etc/my.cnf.d/30-replication.cnf] action create
      \u001b[32m- create new file /etc/my.cnf.d/30-replication.cnf\u001b[0m
      \u001b[32m- update content in file /etc/my.cnf.d/30-replication.cnf from none to b2d844\u001b[0m
      \u001b[32m- suppressed sensitive resource\u001b[0m
      \u001b[32m- change mode from '' to '0640'\u001b[0m
      \u001b[32m- change owner from '' to 'root'\u001b[0m
      \u001b[32m- change group from '' to 'mysql'\u001b[0m
\u001b[0m  
\u001b[0mRecipe: mariadb::server\u001b[0m
  * directory[/var/log/mysql] action create
    \u001b[32m- create new directory /var/log/mysql\u001b[0m
    \u001b[32m- change mode from '' to '0755'\u001b[0m
    \u001b[32m- change owner from '' to 'mysql'\u001b[0m
    \u001b[32m- change group from '' to 'mysql'\u001b[0m
\u001b[0m  * execute[mariadb-service-restart-needed] action run
    \u001b[32m- execute true\u001b[0m
\u001b[0m  * ruby_block[restart_mysql] action run
    \u001b[32m- execute the ruby block restart_mysql\u001b[0m
\u001b[0m  * service[mysql] action enable (up to date)
  * service[mysql] action restart
    \u001b[32m- restart service service[mysql]\u001b[0m
\u001b[0m  * ruby_block[restart_mysql] action nothing (skipped due to action :nothing)
Recipe: mariadb::_redhat_server_postinstall\u001b[0m
  * execute[change first install root password] action run
    \u001b[32m- execute sensitive resource\u001b[0m
\u001b[0mRecipe: mariadb::_mariadb_postinstall\u001b[0m
  * file[/etc/mysql_root_change] action create
    \u001b[32m- create new file /etc/mysql_root_change\u001b[0m
    \u001b[32m- update content in file /etc/mysql_root_change from none to f8cd5c\u001b[0m
    \u001b[37m--- /etc/mysql_root_change\t2019-04-25 23:23:45.178181033 +0000\u001b[0m
    \u001b[37m+++ /etc/.chef-mysql_root_change20190425-73771-f0xlap\t2019-04-25 23:23:45.177180995 +0000\u001b[0m
    \u001b[37m@@ -1 +1,2 @@\u001b[0m
    \u001b[37m+a029d0df84eb5549c641e04a9ef389e5\u001b[0m
\u001b[0m  * execute[install-grants] action run (skipped due to only_if)
  * execute[install-grants] action nothing (skipped due to action :nothing)
  * template[/etc/mariadb_grants] action create
    \u001b[32m- create new file /etc/mariadb_grants\u001b[0m
    \u001b[32m- update content in file /etc/mariadb_grants from none to b25da0\u001b[0m
    \u001b[32m- suppressed sensitive resource\u001b[0m
    \u001b[32m- change mode from '' to '0600'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0m  * execute[install-grants] action run
    \u001b[32m- execute sensitive resource\u001b[0m
\u001b[0mRecipe: openstack-ops-database::mariadb-server\u001b[0m
  * template[/etc/my.cnf.d/openstack.cnf] action create
    \u001b[32m- create new file /etc/my.cnf.d/openstack.cnf\u001b[0m
    \u001b[32m- update content in file /etc/my.cnf.d/openstack.cnf from none to 3f1fa5\u001b[0m
    \u001b[37m--- /etc/my.cnf.d/openstack.cnf\t2019-04-25 23:23:45.244183563 +0000\u001b[0m
    \u001b[37m+++ /etc/my.cnf.d/.chef-openstack20190425-73771-6i9yui.cnf\t2019-04-25 23:23:45.244183563 +0000\u001b[0m
    \u001b[37m@@ -1 +1,19 @@\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+# This file is automatically generated by Chef\u001b[0m
    \u001b[37m+# Any changes will be overwritten\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[mysqld]\u001b[0m
    \u001b[37m+default-storage-engine = InnoDB\u001b[0m
    \u001b[37m+innodb_autoinc_lock_mode = 1\u001b[0m
    \u001b[37m+innodb_file_per_table = OFF\u001b[0m
    \u001b[37m+innodb_thread_concurrency = 0\u001b[0m
    \u001b[37m+innodb_commit_concurrency = 0\u001b[0m
    \u001b[37m+innodb_read_io_threads = 4\u001b[0m
    \u001b[37m+innodb_flush_log_at_trx_commit = 1\u001b[0m
    \u001b[37m+innodb_buffer_pool_size = 134217728\u001b[0m
    \u001b[37m+innodb_log_file_size = 5242880\u001b[0m
    \u001b[37m+innodb_log_buffer_size = 8388608\u001b[0m
    \u001b[37m+character-set-server = latin1\u001b[0m
    \u001b[37m+query_cache_size = 0\u001b[0m
    \u001b[37m+max_connections = 307\u001b[0m
    \u001b[32m- change owner from '' to 'mysql'\u001b[0m
    \u001b[32m- change group from '' to 'mysql'\u001b[0m
\u001b[0mRecipe: openstack-ops-database::openstack-db\u001b[0m
  * log[No databag item containing the database password for aodh was found, so no database was created] action write
  
\u001b[0m  * openstack_common_database[bare_metal] action create
    * database[create database ironic] action create
      \u001b[32m- Creating schema 'ironic'\u001b[0m
\u001b[0m    * database_user[create database user ironic] action create
      \u001b[32m- Creating user 'ironic'@'localhost'\u001b[0m
\u001b[0m    * database_user[grant database user ironic] action grant
      \u001b[32m- Granting privs for 'ironic'@'%'\u001b[0m
\u001b[0m  
\u001b[0m  * openstack_common_database[block_storage] action create
    * database[create database cinder] action create
      \u001b[32m- Creating schema 'cinder'\u001b[0m
\u001b[0m    * database_user[create database user cinder] action create
      \u001b[32m- Creating user 'cinder'@'localhost'\u001b[0m
\u001b[0m    * database_user[grant database user cinder] action grant
      \u001b[32m- Granting privs for 'cinder'@'%'\u001b[0m
\u001b[0m  
\u001b[0m  * openstack_common_database[compute] action create
    * database[create database nova] action create
      \u001b[32m- Creating schema 'nova'\u001b[0m
\u001b[0m    * database_user[create database user nova] action create
      \u001b[32m- Creating user 'nova'@'localhost'\u001b[0m
\u001b[0m    * database_user[grant database user nova] action grant
      \u001b[32m- Granting privs for 'nova'@'%'\u001b[0m
\u001b[0m  
\u001b[0m  * openstack_common_database[compute_api] action create
    * database[create database nova_api] action create
      \u001b[32m- Creating schema 'nova_api'\u001b[0m
\u001b[0m    * database_user[create database user nova_api] action create
      \u001b[32m- Creating user 'nova_api'@'localhost'\u001b[0m
\u001b[0m    * database_user[grant database user nova_api] action grant
      \u001b[32m- Granting privs for 'nova_api'@'%'\u001b[0m
\u001b[0m  
\u001b[0m  * openstack_common_database[compute_cell0] action create
    * database[create database nova_cell0] action create
      \u001b[32m- Creating schema 'nova_cell0'\u001b[0m
\u001b[0m    * database_user[create database user nova_cell0] action create
      \u001b[32m- Creating user 'nova_cell0'@'localhost'\u001b[0m
\u001b[0m    * database_user[grant database user nova_cell0] action grant
      \u001b[32m- Granting privs for 'nova_cell0'@'%'\u001b[0m
\u001b[0m  
\u001b[0m  * openstack_common_database[dashboard] action create
    * database[create database horizon] action create
      \u001b[32m- Creating schema 'horizon'\u001b[0m
\u001b[0m    * database_user[create database user horizon] action create
      \u001b[32m- Creating user 'horizon'@'localhost'\u001b[0m
\u001b[0m    * database_user[grant database user horizon] action grant
      \u001b[32m- Granting privs for 'horizon'@'%'\u001b[0m
\u001b[0m  
\u001b[0m  * log[No databag item containing the database password for trove was found, so no database was created] action write
  
\u001b[0m  * openstack_common_database[dns] action create
    * database[create database designate] action create
      \u001b[32m- Creating schema 'designate'\u001b[0m
\u001b[0m    * database_user[create database user designate] action create
      \u001b[32m- Creating user 'designate'@'localhost'\u001b[0m
\u001b[0m    * database_user[grant database user designate] action grant
      \u001b[32m- Granting privs for 'designate'@'%'\u001b[0m
\u001b[0m  
\u001b[0m  * openstack_common_database[identity] action create
    * database[create database keystone] action create
      \u001b[32m- Creating schema 'keystone'\u001b[0m
\u001b[0m    * database_user[create database user keystone] action create
      \u001b[32m- Creating user 'keystone'@'localhost'\u001b[0m
\u001b[0m    * database_user[grant database user keystone] action grant
      \u001b[32m- Granting privs for 'keystone'@'%'\u001b[0m
\u001b[0m  
\u001b[0m  * openstack_common_database[image] action create
    * database[create database glance] action create
      \u001b[32m- Creating schema 'glance'\u001b[0m
\u001b[0m    * database_user[create database user glance] action create
      \u001b[32m- Creating user 'glance'@'localhost'\u001b[0m
\u001b[0m    * database_user[grant database user glance] action grant
      \u001b[32m- Granting privs for 'glance'@'%'\u001b[0m
\u001b[0m  
\u001b[0m  * openstack_common_database[network] action create
    * database[create database neutron] action create
      \u001b[32m- Creating schema 'neutron'\u001b[0m
\u001b[0m    * database_user[create database user neutron] action create
      \u001b[32m- Creating user 'neutron'@'localhost'\u001b[0m
\u001b[0m    * database_user[grant database user neutron] action grant
      \u001b[32m- Granting privs for 'neutron'@'%'\u001b[0m
\u001b[0m  
\u001b[0m  * log[No databag item containing the database password for swift was found, so no database was created] action write
  
\u001b[0m  * openstack_common_database[orchestration] action create
    * database[create database heat] action create
      \u001b[32m- Creating schema 'heat'\u001b[0m
\u001b[0m    * database_user[create database user heat] action create
      \u001b[32m- Creating user 'heat'@'localhost'\u001b[0m
\u001b[0m    * database_user[grant database user heat] action grant
      \u001b[32m- Granting privs for 'heat'@'%'\u001b[0m
\u001b[0m  
\u001b[0m  * openstack_common_database[telemetry] action create
    * database[create database ceilometer] action create
      \u001b[32m- Creating schema 'ceilometer'\u001b[0m
\u001b[0m    * database_user[create database user ceilometer] action create
      \u001b[32m- Creating user 'ceilometer'@'localhost'\u001b[0m
\u001b[0m    * database_user[grant database user ceilometer] action grant
      \u001b[32m- Granting privs for 'ceilometer'@'%'\u001b[0m
\u001b[0m  
\u001b[0m  * openstack_common_database[telemetry_metric] action create
    * database[create database gnocchi] action create
      \u001b[32m- Creating schema 'gnocchi'\u001b[0m
\u001b[0m    * database_user[create database user gnocchi] action create
      \u001b[32m- Creating user 'gnocchi'@'localhost'\u001b[0m
\u001b[0m    * database_user[grant database user gnocchi] action grant
      \u001b[32m- Granting privs for 'gnocchi'@'%'\u001b[0m
\u001b[0m  
\u001b[0m  * log[No databag item containing the database password for murano was found, so no database was created] action write
  
\u001b[0mRecipe: erlang::package\u001b[0m
  * yum_package[erlang] action install
    \u001b[32m- install version 0:19.3.6.4-1.el7.x86_64 of package erlang\u001b[0m
\u001b[0mRecipe: rabbitmq::default\u001b[0m
  * directory[/etc/rabbitmq] action create
    \u001b[32m- create new directory /etc/rabbitmq\u001b[0m
    \u001b[32m- change mode from '' to '0755'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0m  * yum_package[logrotate] action install (up to date)
  * yum_package[socat] action install (up to date)
  * remote_file[/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm] action create_if_missing
    \u001b[32m- create new file /root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm\u001b[0m
    \u001b[32m- update content in file /root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm from none to 8addbc\u001b[0m
    \u001b[37m(new content is binary, diff output suppressed)\u001b[0m
\u001b[0m  * rpm_package[/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm] action install
    \u001b[0m
    ================================================================================\u001b[0m
    \u001b[31mError executing action `install` on resource 'rpm_package[/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm]'\u001b[0m
    ================================================================================\u001b[0m
    
\u001b[0m    Mixlib::ShellOut::ShellCommandFailed\u001b[0m
    ------------------------------------\u001b[0m
    Expected process to exit with [0], but received '1'
\u001b[0m    ---- Begin output of [\"rpm\", \"-i\", \"/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm\"] ----
\u001b[0m    STDOUT: 
\u001b[0m    STDERR: warning: /root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm: Header V4 RSA/SHA256 Signature, key ID 6026dfca: NOKEY
\u001b[0m    error: Failed dependencies:
\u001b[0m    \terlang >= 20.3 is needed by rabbitmq-server-3.7.14-1.el7.noarch
\u001b[0m    ---- End output of [\"rpm\", \"-i\", \"/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm\"] ----
\u001b[0m    Ran [\"rpm\", \"-i\", \"/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm\"] returned 1\u001b[0m
    
\u001b[0m    Resource Declaration:\u001b[0m
    ---------------------\u001b[0m
    # In /root/.chef/local-mode-cache/cache/cookbooks/rabbitmq/recipes/default.rb
\u001b[0m    
\u001b[0m    218:     rpm_package \"#{Chef::Config[:file_cache_path]}/#{rpm_package_name}\"
\u001b[0m    219:   end
\u001b[0m    
\u001b[0m    Compiled Resource:\u001b[0m
    ------------------\u001b[0m
    # Declared in /root/.chef/local-mode-cache/cache/cookbooks/rabbitmq/recipes/default.rb:218:in `from_file'
\u001b[0m    
\u001b[0m    rpm_package(\"/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm\") do
\u001b[0m      package_name \"/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm\"
\u001b[0m      action [:install]
\u001b[0m      default_guard_interpreter :default
\u001b[0m      declared_type :rpm_package
\u001b[0m      cookbook_name \"rabbitmq\"
\u001b[0m      recipe_name \"default\"
\u001b[0m      source \"/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm\"
\u001b[0m      version \"3.7.14-1.el7\"
\u001b[0m    end
\u001b[0m    
\u001b[0m    System Info:\u001b[0m
    ------------\u001b[0m
    chef_version=14.6.47
\u001b[0m    platform=centos
\u001b[0m    platform_version=7.6.1810
\u001b[0m    ruby=ruby 2.5.3p105 (2018-10-18 revision 65156) [x86_64-linux]
\u001b[0m    program_name=/usr/bin/chef-client
\u001b[0m    executable=/opt/chefdk/bin/chef-client\u001b[0m
    
\u001b[0mRecipe: mariadb::server\u001b[0m
  * service[mysql] action restart
    \u001b[32m- restart service service[mysql]\u001b[0m
\u001b[0m\u001b[0m
Running handlers:\u001b[0m
[2019-04-25T23:24:03+00:00] ERROR: Running exception handlers
Running handlers complete
\u001b[0m[2019-04-25T23:24:03+00:00] ERROR: Exception handlers complete
Chef Client failed. 122 resources updated in 11 minutes 47 seconds\u001b[0m
[2019-04-25T23:24:03+00:00] FATAL: Stacktrace dumped to /root/.chef/local-mode-cache/cache/chef-stacktrace.out
[2019-04-25T23:24:03+00:00] FATAL: Please provide the contents of the stacktrace.out file if you file a bug report
[2019-04-25T23:24:03+00:00] FATAL: Mixlib::ShellOut::ShellCommandFailed: rpm_package[/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm] (rabbitmq::default line 218) had an error: Mixlib::ShellOut::ShellCommandFailed: Expected process to exit with [0], but received '1'
---- Begin output of [\"rpm\", \"-i\", \"/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm\"] ----
STDOUT: 
STDERR: warning: /root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm: Header V4 RSA/SHA256 Signature, key ID 6026dfca: NOKEY
error: Failed dependencies:
\terlang >= 20.3 is needed by rabbitmq-server-3.7.14-1.el7.noarch
---- End output of [\"rpm\", \"-i\", \"/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm\"] ----
Ran [\"rpm\", \"-i\", \"/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm\"] returned 1", "stdout_lines": ["[2019-04-25T23:12:15+00:00] WARN: No config file found or specified on command line, using command line options.", "Starting Chef Client, version 14.6.47\u001b[0m", "resolving cookbooks for run list: [\"build-essential\", \"openstack-common\", \"openstack-common::logging\", \"openstack-common::sysctl\", \"openstack-common::python\", \"openstack-common::client\", \"openstack-ops-database::server\", \"openstack-ops-database::openstack-db\", \"openstack-ops-messaging::rabbitmq-server\", \"openstack-identity::server-apache\", \"openstack-identity::registration\", \"openstack-identity::openrc\", \"openstack-image::api\", \"openstack-image::registry\", \"openstack-image::identity_registration\", \"openstack-network\", \"openstack-network::server\", \"openstack-network::ml2_core_plugin\", \"openstack-network::dhcp_agent\", \"openstack-network::metadata_agent\", \"openstack-compute::nova-setup\", \"openstack-compute::identity_registration\", \"openstack-compute::conductor\", \"openstack-compute::api-os-compute\", \"openstack-compute::api-metadata\", \"openstack-compute::placement_api\", \"openstack-compute::scheduler\", \"openstack-compute::vncproxy\", \"openstack-orchestration::engine\", \"openstack-orchestration::api\", \"openstack-orchestration::api-cfn\", \"openstack-orchestration::identity_registration\", \"openstack-image::image_upload\", \"openstack-dashboard::horizon\"]\u001b[0m", "Synchronizing Cookbooks:\u001b[0m", "  - build-essential (8.2.1)\u001b[0m", "  - openstack-common (18.0.0)\u001b[0m", "  - openstack-ops-database (18.0.0)\u001b[0m", "  - openstack-ops-messaging (18.0.0)\u001b[0m", "  - openstack-identity (18.0.0)\u001b[0m", "  - openstack-image (18.0.0)\u001b[0m", "  - openstack-network (18.0.0)\u001b[0m", "  - openstack-compute (18.0.0)\u001b[0m", "  - openstack-orchestration (18.0.0)\u001b[0m", "  - openstack-dashboard (18.0.0)\u001b[0m", "  - seven_zip (3.1.0)\u001b[0m", "  - mingw (2.1.0)\u001b[0m", "  - etcd (5.6.0)\u001b[0m", "  - mariadb (1.5.4)\u001b[0m", "  - memcached (4.1.0)\u001b[0m", "  - mysql (8.5.1)\u001b[0m", "  - poise-python (1.7.0)\u001b[0m", "  - selinux (2.1.1)\u001b[0m", "  - mysql2_chef_gem (2.1.0)\u001b[0m", "  - rabbitmq (5.8.0)\u001b[0m", "  - openstackclient (18.0.0)\u001b[0m", "  - apache2 (5.0.1)\u001b[0m", "  - windows (5.3.0)\u001b[0m", "  - docker (4.9.2)\u001b[0m", "  - apt (7.1.1)\u001b[0m", "  - selinux_policy (2.3.4)\u001b[0m", "  - yum (5.1.0)\u001b[0m", "  - yum-epel (3.3.0)\u001b[0m", "  - yum-scl (0.2.0)\u001b[0m", "  - runit (5.0.1)\u001b[0m", "  - poise (2.8.2)\u001b[0m", "  - poise-languages (2.1.2)\u001b[0m", "  - erlang (7.0.0)\u001b[0m", "  - yum-erlang_solutions (2.0.0)\u001b[0m", "  - dpkg_autostart (0.2.0)\u001b[0m", "  - logrotate (2.2.0)\u001b[0m", "  - inifile_chef_gem (0.1.0)\u001b[0m", "  - packagecloud (1.0.1)\u001b[0m", "  - poise-archive (1.5.0)\u001b[0m", "Installing Cookbook Gems:\u001b[0m", "Compiling Cookbooks...\u001b[0m", "Converging 391 resources\u001b[0m", "Recipe: build-essential::default\u001b[0m", "  * build_essential[install_packages] action install", "    * yum_package[autoconf, bison, flex, gcc, gcc-c++, gettext, kernel-devel, make, m4, ncurses-devel, patch] action install", "      \u001b[32m- install version 0:2.69-11.el7.noarch of package autoconf\u001b[0m", "      \u001b[32m- install version 0:3.0.4-2.el7.x86_64 of package bison\u001b[0m", "      \u001b[32m- install version 0:2.5.37-6.el7.x86_64 of package flex\u001b[0m", "      \u001b[32m- install version 0:4.8.5-36.el7_6.1.x86_64 of package gcc\u001b[0m", "      \u001b[32m- install version 0:4.8.5-36.el7_6.1.x86_64 of package gcc-c++\u001b[0m", "      \u001b[32m- install version 0:3.10.0-957.10.1.el7.x86_64 of package kernel-devel\u001b[0m", "      \u001b[32m- install version 0:5.9-14.20130511.el7_4.x86_64 of package ncurses-devel\u001b[0m", "\u001b[0m  ", "\u001b[0mRecipe: openstack-common::default\u001b[0m", "  * yum_repository[RDO-rocky] action add", "    * template[/etc/yum.repos.d/RDO-rocky.repo] action create", "      \u001b[32m- create new file /etc/yum.repos.d/RDO-rocky.repo\u001b[0m", "      \u001b[32m- update content in file /etc/yum.repos.d/RDO-rocky.repo from none to 1643ff\u001b[0m", "      \u001b[37m--- /etc/yum.repos.d/RDO-rocky.repo\t2019-04-25 23:14:55.330868852 +0000\u001b[0m", "      \u001b[37m+++ /etc/yum.repos.d/.chef-RDO-rocky20190425-73771-1g03aol.repo\t2019-04-25 23:14:55.330868852 +0000\u001b[0m", "      \u001b[37m@@ -1 +1,11 @@\u001b[0m", "      \u001b[37m+# This file was generated by Chef\u001b[0m", "      \u001b[37m+# Do NOT modify this file by hand.\u001b[0m", "      \u001b[37m+\u001b[0m", "      \u001b[37m+[RDO-rocky]\u001b[0m", "      \u001b[37m+name=OpenStack RDO repo for rocky\u001b[0m", "      \u001b[37m+baseurl=http://mirror.centos.org/centos/$releasever/cloud/$basearch/openstack-rocky\u001b[0m", "      \u001b[37m+enabled=1\u001b[0m", "      \u001b[37m+fastestmirror_enabled=0\u001b[0m", "      \u001b[37m+gpgcheck=1\u001b[0m", "      \u001b[37m+gpgkey=https://github.com/rdo-infra/rdo-release/raw/rocky-rdo/RPM-GPG-KEY-CentOS-SIG-Cloud\u001b[0m", "      \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m    * execute[yum clean metadata RDO-rocky] action run", "      \u001b[32m- execute yum clean metadata --disablerepo=* --enablerepo=RDO-rocky\u001b[0m", "\u001b[0m    * execute[yum-makecache-RDO-rocky] action run", "      \u001b[32m- execute yum -q -y makecache --disablerepo=* --enablerepo=RDO-rocky\u001b[0m", "\u001b[0m    * ruby_block[package-cache-reload-RDO-rocky] action create", "      \u001b[32m- execute the ruby block package-cache-reload-RDO-rocky\u001b[0m", "\u001b[0m    * execute[yum clean metadata RDO-rocky] action nothing (skipped due to action :nothing)", "    * execute[yum-makecache-RDO-rocky] action nothing (skipped due to action :nothing)", "    * ruby_block[package-cache-reload-RDO-rocky] action nothing (skipped due to action :nothing)", "  ", "\u001b[0m  * yum_repository[RDO-rocky-deps] action remove", "    * execute[yum clean all RDO-rocky-deps] action run (skipped due to only_if)", "    * file[/etc/yum.repos.d/RDO-rocky-deps.repo] action delete (up to date)", "    * ruby_block[package-cache-reload-RDO-rocky-deps] action nothing (skipped due to action :nothing)", "     (up to date)", "  * bash[yum_contentdir] action run (skipped due to not_if)", "  * yum_package[centos-release-qemu-ev] action upgrade", "    \u001b[32m- upgrade package centos-release-qemu-ev from uninstalled to 0:1.0-4.el7.centos.noarch\u001b[0m", "\u001b[0m  * python_runtime[2] action install", "    * poise_languages_system[python] action install", "      \u001b[32m- install version 0:2.7.5-77.el7_6.x86_64 of package python-devel\u001b[0m", "\u001b[0m    * yum_package[python, python-devel] action nothing (skipped due to action :nothing)", "  ", "\u001b[0m  * python_runtime_pip[2] action install", "    * python_package[pip] action upgrade", "      \u001b[32m- upgrade(allow_downgrade) package pip from 8.1.2 to 18.0\u001b[0m", "\u001b[0m  ", "\u001b[0m  * python_package[setuptools] action install", "    \u001b[32m- install version 40.0.0 of package setuptools\u001b[0m", "\u001b[0m  * python_package[wheel] action install", "    \u001b[32m- install version 0.31.1 of package wheel\u001b[0m", "\u001b[0m  * python_package[virtualenv] action install", "    \u001b[32m- install version 16.5.0 of package virtualenv\u001b[0m", "\u001b[0m", "\u001b[0mRecipe: openstack-common::logging\u001b[0m", "  * directory[/etc/openstack] action create", "    \u001b[32m- create new directory /etc/openstack\u001b[0m", "    \u001b[32m- change mode from '' to '0755'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0m  * template[/etc/openstack/logging.conf] action create", "    \u001b[32m- create new file /etc/openstack/logging.conf\u001b[0m", "    \u001b[32m- update content in file /etc/openstack/logging.conf from none to d41178\u001b[0m", "    \u001b[37m--- /etc/openstack/logging.conf\t2019-04-25 23:17:13.144152707 +0000\u001b[0m", "    \u001b[37m+++ /etc/openstack/.chef-logging20190425-73771-1ankrr1.conf\t2019-04-25 23:17:13.143152668 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,135 @@\u001b[0m", "    \u001b[37m+[loggers]\u001b[0m", "    \u001b[37m+keys=root,ceilometer,cinder,glance,horizon,keystone,nova,neutron,trove,amqplib,sqlalchemy,boto,suds,eventletwsgi,nova_api_openstack_wsgi,nova_osapi_compute_wsgi_server\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[formatters]\u001b[0m", "    \u001b[37m+keys=normal,normal_with_name,debug,syslog_with_name,syslog_debug\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[handlers]\u001b[0m", "    \u001b[37m+keys=stderr,devel,prod,debug\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+## LOGGERS ##\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_root]\u001b[0m", "    \u001b[37m+level=NOTSET\u001b[0m", "    \u001b[37m+handlers=devel\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_ceilometer]\u001b[0m", "    \u001b[37m+level=DEBUG\u001b[0m", "    \u001b[37m+handlers=prod,debug\u001b[0m", "    \u001b[37m+qualname=ceilometer\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_cinder]\u001b[0m", "    \u001b[37m+level=DEBUG\u001b[0m", "    \u001b[37m+handlers=prod,debug\u001b[0m", "    \u001b[37m+qualname=cinder\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_glance]\u001b[0m", "    \u001b[37m+level=DEBUG\u001b[0m", "    \u001b[37m+handlers=prod,debug\u001b[0m", "    \u001b[37m+qualname=glance\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_horizon]\u001b[0m", "    \u001b[37m+level=DEBUG\u001b[0m", "    \u001b[37m+handlers=prod,debug\u001b[0m", "    \u001b[37m+qualname=horizon\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_keystone]\u001b[0m", "    \u001b[37m+level=DEBUG\u001b[0m", "    \u001b[37m+handlers=prod,debug\u001b[0m", "    \u001b[37m+qualname=keystone\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_nova]\u001b[0m", "    \u001b[37m+level=DEBUG\u001b[0m", "    \u001b[37m+handlers=prod,debug\u001b[0m", "    \u001b[37m+qualname=nova\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_neutron]\u001b[0m", "    \u001b[37m+level=DEBUG\u001b[0m", "    \u001b[37m+handlers=prod,debug\u001b[0m", "    \u001b[37m+qualname=neutron\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_trove]\u001b[0m", "    \u001b[37m+level=DEBUG\u001b[0m", "    \u001b[37m+handlers=prod,debug\u001b[0m", "    \u001b[37m+qualname=trove\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_amqplib]\u001b[0m", "    \u001b[37m+level=WARNING\u001b[0m", "    \u001b[37m+handlers=stderr\u001b[0m", "    \u001b[37m+qualname=amqplib\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_sqlalchemy]\u001b[0m", "    \u001b[37m+level=WARNING\u001b[0m", "    \u001b[37m+handlers=stderr\u001b[0m", "    \u001b[37m+qualname=sqlalchemy\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_boto]\u001b[0m", "    \u001b[37m+level=WARNING\u001b[0m", "    \u001b[37m+handlers=stderr\u001b[0m", "    \u001b[37m+qualname=boto\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_suds]\u001b[0m", "    \u001b[37m+level=INFO\u001b[0m", "    \u001b[37m+handlers=stderr\u001b[0m", "    \u001b[37m+qualname=suds\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_eventletwsgi]\u001b[0m", "    \u001b[37m+level=WARNING\u001b[0m", "    \u001b[37m+handlers=stderr\u001b[0m", "    \u001b[37m+qualname=eventlet.wsgi.server\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_nova_api_openstack_wsgi]\u001b[0m", "    \u001b[37m+level=WARNING\u001b[0m", "    \u001b[37m+handlers=prod,debug\u001b[0m", "    \u001b[37m+qualname=nova.api.openstack.wsgi\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_nova_osapi_compute_wsgi_server]\u001b[0m", "    \u001b[37m+level=WARNING\u001b[0m", "    \u001b[37m+handlers=prod,debug\u001b[0m", "    \u001b[37m+qualname=nova.osapi_compute.wsgi.server\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+## FORMATTERS ##\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[formatter_normal]\u001b[0m", "    \u001b[37m+format=%(asctime)s %(levelname)s %(message)s\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[formatter_normal_with_name]\u001b[0m", "    \u001b[37m+format=[%(name)s]: %(asctime)s %(levelname)s %(message)s\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[formatter_debug]\u001b[0m", "    \u001b[37m+format=[%(name)s]: %(asctime)s %(levelname)s %(module)s.%(funcName)s %(message)s\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[formatter_syslog_with_name]\u001b[0m", "    \u001b[37m+format=%(name)s: %(levelname)s %(message)s\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[formatter_syslog_debug]\u001b[0m", "    \u001b[37m+format=%(name)s: %(levelname)s %(module)s.%(funcName)s %(message)s\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+## HANDLERS ##\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[handler_stderr]\u001b[0m", "    \u001b[37m+args=(sys.stderr,)\u001b[0m", "    \u001b[37m+class=StreamHandler\u001b[0m", "    \u001b[37m+formatter=debug\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[handler_devel]\u001b[0m", "    \u001b[37m+args=(sys.stdout,)\u001b[0m", "    \u001b[37m+class=StreamHandler\u001b[0m", "    \u001b[37m+formatter=debug\u001b[0m", "    \u001b[37m+level=NOTSET\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[handler_prod]\u001b[0m", "    \u001b[37m+args=(('/dev/log'), handlers.SysLogHandler.LOG_LOCAL0)\u001b[0m", "    \u001b[37m+class=handlers.SysLogHandler\u001b[0m", "    \u001b[37m+formatter=syslog_with_name\u001b[0m", "    \u001b[37m+level=INFO\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[handler_debug]\u001b[0m", "    \u001b[37m+args=(('/dev/log'), handlers.SysLogHandler.LOG_LOCAL1)\u001b[0m", "    \u001b[37m+class=handlers.SysLogHandler\u001b[0m", "    \u001b[37m+formatter=syslog_debug\u001b[0m", "    \u001b[37m+level=DEBUG\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0mRecipe: openstack-common::sysctl\u001b[0m", "  * directory[/etc/sysctl.d] action create (up to date)", "  * template[/etc/sysctl.d/60-openstack.conf] action create", "    \u001b[32m- create new file /etc/sysctl.d/60-openstack.conf\u001b[0m", "    \u001b[32m- update content in file /etc/sysctl.d/60-openstack.conf from none to 8fa39c\u001b[0m", "    \u001b[37m--- /etc/sysctl.d/60-openstack.conf\t2019-04-25 23:17:13.160153320 +0000\u001b[0m", "    \u001b[37m+++ /etc/sysctl.d/.chef-60-openstack20190425-73771-1na5rkh.conf\t2019-04-25 23:17:13.160153320 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,6 @@\u001b[0m", "    \u001b[37m+# Managed by Chef\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+net.ipv4.conf.all.rp_filter = 0\u001b[0m", "    \u001b[37m+net.ipv4.conf.default.rp_filter = 0\u001b[0m", "    \u001b[37m+net.ipv4.ip_forward = 1\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0m  * execute[sysctl -p /etc/sysctl.d/60-openstack.conf] action run", "    \u001b[32m- execute sysctl -p /etc/sysctl.d/60-openstack.conf\u001b[0m", "\u001b[0m  * execute[sysctl -p /etc/sysctl.d/60-openstack.conf] action nothing (skipped due to action :nothing)", "Recipe: openstack-common::python\u001b[0m", "  * python_runtime[3.5] action install", "    * poise_languages_scl[rh-python35] action install", "      * yum_package[centos-release-scl-rh] action upgrade", "        \u001b[32m- upgrade package centos-release-scl-rh from uninstalled to 0:2-3.el7.centos.noarch\u001b[0m", "\u001b[0m      * ruby_block[flush_yum_cache] action run", "        \u001b[32m- execute the ruby block flush_yum_cache\u001b[0m", "\u001b[0m      * yum_package[rh-python35] action install", "        \u001b[32m- install version 0:2.0-2.el7.x86_64 of package rh-python35\u001b[0m", "\u001b[0m      * yum_package[rh-python35-python-devel] action install (up to date)", "    ", "\u001b[0m    * python_runtime_pip[3.5] action install", "      * python_package[pip] action upgrade", "        \u001b[32m- upgrade(allow_downgrade) package pip from 7.1.0 to 18.0\u001b[0m", "\u001b[0m    ", "\u001b[0m    * python_package[setuptools] action install", "      \u001b[32m- install version 40.0.0 of package setuptools\u001b[0m", "\u001b[0m    * python_package[wheel] action install", "      \u001b[32m- install version 0.31.1 of package wheel\u001b[0m", "\u001b[0m  ", "\u001b[0mRecipe: openstack-common::client\u001b[0m", "  * yum_package[python-openstackclient] action upgrade", "    \u001b[32m- upgrade package python-openstackclient from uninstalled to 0:3.16.2-1.el7.noarch\u001b[0m", "\u001b[0mRecipe: yum::default\u001b[0m", "  * yum_globalconfig[/etc/yum.conf] action create", "    * template[/etc/yum.conf] action create", "      \u001b[32m- update content in file /etc/yum.conf from 732348 to f32996\u001b[0m", "      \u001b[37m--- /etc/yum.conf\t2019-04-25 21:37:22.183967612 +0000\u001b[0m", "      \u001b[37m+++ /etc/.chef-yum20190425-73771-1qd58fv.conf\t2019-04-25 23:18:13.378461743 +0000\u001b[0m", "      \u001b[37m@@ -1,28 +1,16 @@\u001b[0m", "      \u001b[37m+# This file was generated by Chef\u001b[0m", "      \u001b[37m+# Do NOT modify this file by hand.\u001b[0m", "      \u001b[37m+\u001b[0m", "      \u001b[37m [main]\u001b[0m", "      \u001b[37m cachedir=/var/cache/yum/$basearch/$releasever\u001b[0m", "      \u001b[37m-keepcache=0\u001b[0m", "      \u001b[37m debuglevel=2\u001b[0m", "      \u001b[37m-logfile=/var/log/yum.log\u001b[0m", "      \u001b[37m+distroverpkg=centos-release\u001b[0m", "      \u001b[37m exactarch=1\u001b[0m", "      \u001b[37m-obsoletes=1\u001b[0m", "      \u001b[37m gpgcheck=1\u001b[0m", "      \u001b[37m+installonly_limit=3\u001b[0m", "      \u001b[37m+keepcache=0\u001b[0m", "      \u001b[37m+localpkg_gpgcheck=0\u001b[0m", "      \u001b[37m+logfile=/var/log/yum.log\u001b[0m", "      \u001b[37m+obsoletes=1\u001b[0m", "      \u001b[37m plugins=1\u001b[0m", "      \u001b[37m-installonly_limit=5\u001b[0m", "      \u001b[37m-bugtracker_url=http://bugs.centos.org/set_project.php?project_id=23&ref=http://bugs.centos.org/bug_report_page.php?category=yum\u001b[0m", "      \u001b[37m-distroverpkg=centos-release\u001b[0m", "      \u001b[37m-exclude=microcode_ctl  ibutils-libs*\u001b[0m", "      \u001b[37m-\u001b[0m", "      \u001b[37m-\u001b[0m", "      \u001b[37m-#  This is the default, if you make this bigger yum won't see if the metadata\u001b[0m", "      \u001b[37m-# is newer on the remote and so you'll \"gain\" the bandwidth of not having to\u001b[0m", "      \u001b[37m-# download the new metadata and \"pay\" for it by yum not having correct\u001b[0m", "      \u001b[37m-# information.\u001b[0m", "      \u001b[37m-#  It is esp. important, to have correct metadata, for distributions like\u001b[0m", "      \u001b[37m-# Fedora which don't keep old packages around. If you don't like this checking\u001b[0m", "      \u001b[37m-# interupting your command line usage, it's much better to have something\u001b[0m", "      \u001b[37m-# manually check the metadata once an hour (yum-updatesd will do this).\u001b[0m", "      \u001b[37m-# metadata_expire=90m\u001b[0m", "      \u001b[37m-\u001b[0m", "      \u001b[37m-# PUT YOUR REPOS HERE OR IN separate files named file.repo\u001b[0m", "      \u001b[37m-# in /etc/yum.repos.d\u001b[0m", "\u001b[0m  ", "\u001b[0mRecipe: mariadb::repository\u001b[0m", "  * yum_repository[mariadb-10.0] action create", "    * template[/etc/yum.repos.d/mariadb-10.0.repo] action create", "      \u001b[32m- create new file /etc/yum.repos.d/mariadb-10.0.repo\u001b[0m", "      \u001b[32m- update content in file /etc/yum.repos.d/mariadb-10.0.repo from none to 7b7062\u001b[0m", "      \u001b[37m--- /etc/yum.repos.d/mariadb-10.0.repo\t2019-04-25 23:18:13.392462280 +0000\u001b[0m", "      \u001b[37m+++ /etc/yum.repos.d/.chef-mariadb-1020190425-73771-bfz5hk.0.repo\t2019-04-25 23:18:13.392462280 +0000\u001b[0m", "      \u001b[37m@@ -1 +1,11 @@\u001b[0m", "      \u001b[37m+# This file was generated by Chef\u001b[0m", "      \u001b[37m+# Do NOT modify this file by hand.\u001b[0m", "      \u001b[37m+\u001b[0m", "      \u001b[37m+[mariadb-10.0]\u001b[0m", "      \u001b[37m+name=MariaDB Official Repository\u001b[0m", "      \u001b[37m+baseurl=http://yum.mariadb.org/10.0/centos7-amd64\u001b[0m", "      \u001b[37m+enabled=1\u001b[0m", "      \u001b[37m+fastestmirror_enabled=0\u001b[0m", "      \u001b[37m+gpgcheck=1\u001b[0m", "      \u001b[37m+gpgkey=https://yum.mariadb.org/RPM-GPG-KEY-MariaDB\u001b[0m", "      \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m    * execute[yum clean metadata mariadb-10.0] action run", "      \u001b[32m- execute yum clean metadata --disablerepo=* --enablerepo=mariadb-10.0\u001b[0m", "\u001b[0m    * execute[yum-makecache-mariadb-10.0] action run", "      \u001b[32m- execute yum -q -y makecache --disablerepo=* --enablerepo=mariadb-10.0\u001b[0m", "\u001b[0m    * ruby_block[package-cache-reload-mariadb-10.0] action create", "      \u001b[32m- execute the ruby block package-cache-reload-mariadb-10.0\u001b[0m", "\u001b[0m    * execute[yum clean metadata mariadb-10.0] action nothing (skipped due to action :nothing)", "    * execute[yum-makecache-mariadb-10.0] action nothing (skipped due to action :nothing)", "    * ruby_block[package-cache-reload-mariadb-10.0] action nothing (skipped due to action :nothing)", "  ", "\u001b[0mRecipe: yum-epel::default\u001b[0m", "  * yum_repository[epel] action create", "    * template[/etc/yum.repos.d/epel.repo] action create", "      \u001b[32m- update content in file /etc/yum.repos.d/epel.repo from dfa0c7 to 490677\u001b[0m", "      \u001b[37m--- /etc/yum.repos.d/epel.repo\t2017-10-02 17:44:08.000000000 +0000\u001b[0m", "      \u001b[37m+++ /etc/yum.repos.d/.chef-epel20190425-73771-1ixd04m.repo\t2019-04-25 23:18:14.567507324 +0000\u001b[0m", "      \u001b[37m@@ -1,27 +1,12 @@\u001b[0m", "      \u001b[37m-[epel]\u001b[0m", "      \u001b[37m-name=Extra Packages for Enterprise Linux 7 - $basearch\u001b[0m", "      \u001b[37m-#baseurl=http://download.fedoraproject.org/pub/epel/7/$basearch\u001b[0m", "      \u001b[37m-metalink=https://mirrors.fedoraproject.org/metalink?repo=epel-7&arch=$basearch\u001b[0m", "      \u001b[37m-failovermethod=priority\u001b[0m", "      \u001b[37m-enabled=1\u001b[0m", "      \u001b[37m-gpgcheck=1\u001b[0m", "      \u001b[37m-gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7\u001b[0m", "      \u001b[37m+# This file was generated by Chef\u001b[0m", "      \u001b[37m+# Do NOT modify this file by hand.\u001b[0m", "      \u001b[37m \u001b[0m", "      \u001b[37m-[epel-debuginfo]\u001b[0m", "      \u001b[37m-name=Extra Packages for Enterprise Linux 7 - $basearch - Debug\u001b[0m", "      \u001b[37m-#baseurl=http://download.fedoraproject.org/pub/epel/7/$basearch/debug\u001b[0m", "      \u001b[37m-metalink=https://mirrors.fedoraproject.org/metalink?repo=epel-debug-7&arch=$basearch\u001b[0m", "      \u001b[37m-failovermethod=priority\u001b[0m", "      \u001b[37m+[epel]\u001b[0m", "      \u001b[37m+name=Extra Packages for 7 - $basearch\u001b[0m", "      \u001b[37m enabled=0\u001b[0m", "      \u001b[37m-gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7\u001b[0m", "      \u001b[37m-gpgcheck=1\u001b[0m", "      \u001b[37m-\u001b[0m", "      \u001b[37m-[epel-source]\u001b[0m", "      \u001b[37m-name=Extra Packages for Enterprise Linux 7 - $basearch - Source\u001b[0m", "      \u001b[37m-#baseurl=http://download.fedoraproject.org/pub/epel/7/SRPMS\u001b[0m", "      \u001b[37m-metalink=https://mirrors.fedoraproject.org/metalink?repo=epel-source-7&arch=$basearch\u001b[0m", "      \u001b[37m failovermethod=priority\u001b[0m", "      \u001b[37m-enabled=0\u001b[0m", "      \u001b[37m-gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7\u001b[0m", "      \u001b[37m+fastestmirror_enabled=0\u001b[0m", "      \u001b[37m gpgcheck=1\u001b[0m", "      \u001b[37m+gpgkey=https://download.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-7\u001b[0m", "      \u001b[37m+mirrorlist=http://mirrors.fedoraproject.org/mirrorlist?repo=epel-7&arch=$basearch\u001b[0m", "\u001b[0m    * execute[yum clean metadata epel] action run", "      \u001b[32m- execute yum clean metadata --disablerepo=* --enablerepo=epel\u001b[0m", "\u001b[0m    * execute[yum-makecache-epel] action run (skipped due to only_if)", "    * ruby_block[package-cache-reload-epel] action create", "      \u001b[32m- execute the ruby block package-cache-reload-epel\u001b[0m", "\u001b[0m    * execute[yum clean metadata epel] action nothing (skipped due to action :nothing)", "    * execute[yum-makecache-epel] action nothing (skipped due to action :nothing)", "    * ruby_block[package-cache-reload-epel] action nothing (skipped due to action :nothing)", "  ", "\u001b[0mRecipe: mariadb::_redhat_client\u001b[0m", "  * yum_package[mysql-libs] action remove (skipped due to not_if)", "Recipe: mariadb::client\u001b[0m", "  * yum_package[MariaDB-client] action install", "    \u001b[32m- install version 0:10.0.38-1.el7.centos.x86_64 of package MariaDB-client\u001b[0m", "\u001b[0mRecipe: mariadb::devel\u001b[0m", "  * yum_package[MariaDB-devel] action install", "    \u001b[32m- install version 0:10.0.38-1.el7.centos.x86_64 of package MariaDB-devel\u001b[0m", "\u001b[0mRecipe: openstack-ops-database::mariadb-client\u001b[0m", "  * mysql2_chef_gem_mysql2_chef_gem_mariadb[default] action install", "    \u001b[32m- evaluate block and run any associated actions\u001b[0m", "    \u001b[32m- evaluate block and run any associated actions\u001b[0m", "    * gem_package[mysql2] action install", "      \u001b[32m- install version 0.4.9 of package mysql2\u001b[0m", "\u001b[0m  ", "\u001b[0m  * yum_package[MySQL-python] action install", "    \u001b[32m- install version 0:1.2.5-1.el7.x86_64 of package MySQL-python\u001b[0m", "\u001b[0mRecipe: mariadb::_redhat_server_preinstall\u001b[0m", "  * yum_package[MariaDB-shared] action install (up to date)", "Recipe: mariadb::server\u001b[0m", "  * yum_package[MariaDB-server] action install", "    \u001b[32m- install version 0:10.0.38-1.el7.centos.x86_64 of package MariaDB-server\u001b[0m", "\u001b[0m  * ruby_block[restart_mysql] action run", "    \u001b[32m- execute the ruby block restart_mysql\u001b[0m", "\u001b[0mRecipe: mariadb::config\u001b[0m", "  * template[/root/.my.cnf] action create (skipped due to only_if)", "  * template[/etc/my.cnf] action create", "    \u001b[32m- update content in file /etc/my.cnf from a9b0e4 to edd38d\u001b[0m", "    \u001b[37m--- /etc/my.cnf\t2019-01-29 18:39:42.000000000 +0000\u001b[0m", "    \u001b[37m+++ /etc/.chef-my20190425-73771-17bljyk.cnf\t2019-04-25 23:23:43.794127976 +0000\u001b[0m", "    \u001b[37m@@ -1,12 +1,159 @@\u001b[0m", "    \u001b[37m+# DEPLOYED BY CHEF\u001b[0m", "    \u001b[37m+# MariaDB database server configuration file.\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-# This group is read both both by the client and the server\u001b[0m", "    \u001b[37m-# use it for options that affect everything\u001b[0m", "    \u001b[37m+# You can copy this file to one of:\u001b[0m", "    \u001b[37m+# - \"/etc/mysql/my.cnf\" to set global options,\u001b[0m", "    \u001b[37m+# - \"~/.my.cnf\" to set user-specific options.\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-[client-server]\u001b[0m", "    \u001b[37m+# One can use all long options that the program supports.\u001b[0m", "    \u001b[37m+# Run program with --help to get a list of available options and with\u001b[0m", "    \u001b[37m+# --print-defaults to see which it would actually understand and use.\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# For explanations see\u001b[0m", "    \u001b[37m+# http://dev.mysql.com/doc/mysql/en/server-system-variables.html\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m+# This will be passed to all mysql clients\u001b[0m", "    \u001b[37m+# It has been reported that passwords should be enclosed with ticks/quotes\u001b[0m", "    \u001b[37m+# escpecially if they contain \"#\" chars...\u001b[0m", "    \u001b[37m+# Remember to edit /etc/mysql/debian.cnf when changing the socket location.\u001b[0m", "    \u001b[37m+[client]\u001b[0m", "    \u001b[37m+port\t\t= 3306\u001b[0m", "    \u001b[37m+socket\t\t= /var/lib/mysql/mysql.sock\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+# Here is entries for some specific programs\u001b[0m", "    \u001b[37m+# The following values assume you have at least 32M ram\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+# This was formally known as [safe_mysqld]. Both versions are currently parsed.\u001b[0m", "    \u001b[37m+[mysqld_safe]\u001b[0m", "    \u001b[37m+socket\t\t= /var/lib/mysql/mysql.sock\u001b[0m", "    \u001b[37m+nice\t\t= 0\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[mysqld]\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-# include all files from the config directory\u001b[0m", "    \u001b[37m+# * Basic Settings\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-!includedir /etc/my.cnf.d\u001b[0m", "    \u001b[37m+user\t\t= mysql\u001b[0m", "    \u001b[37m+socket\t\t= /var/lib/mysql/mysql.sock\u001b[0m", "    \u001b[37m+port\t\t= 3306\u001b[0m", "    \u001b[37m+basedir\t\t= /usr\u001b[0m", "    \u001b[37m+datadir\t\t= /var/lib/mysql\u001b[0m", "    \u001b[37m+tmpdir\t\t= /var/tmp\u001b[0m", "    \u001b[37m+lc_messages_dir\t= /usr/share/mysql\u001b[0m", "    \u001b[37m+lc_messages\t= en_US\u001b[0m", "    \u001b[37m+skip-external-locking\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# Instead of skip-networking the default is now to listen only on\u001b[0m", "    \u001b[37m+# localhost which is more compatible and is not less secure.\u001b[0m", "    \u001b[37m+bind-address\t\t= 147.75.91.18\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# * Fine Tuning\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+max_connections\t\t= 307\u001b[0m", "    \u001b[37m+connect_timeout\t\t= 5\u001b[0m", "    \u001b[37m+wait_timeout\t\t= 600\u001b[0m", "    \u001b[37m+max_allowed_packet\t= 16M\u001b[0m", "    \u001b[37m+thread_cache_size       = 128\u001b[0m", "    \u001b[37m+sort_buffer_size\t= 4M\u001b[0m", "    \u001b[37m+bulk_insert_buffer_size\t= 16M\u001b[0m", "    \u001b[37m+tmp_table_size\t\t= 32M\u001b[0m", "    \u001b[37m+max_heap_table_size\t= 32M\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# * MyISAM\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# This replaces the startup script and checks MyISAM tables if needed\u001b[0m", "    \u001b[37m+# the first time they are touched. On error, make copy and try a repair.\u001b[0m", "    \u001b[37m+myisam_recover          = BACKUP\u001b[0m", "    \u001b[37m+key_buffer_size\t\t= 128M\u001b[0m", "    \u001b[37m+table_open_cache\t= 400\u001b[0m", "    \u001b[37m+myisam_sort_buffer_size\t= 512M\u001b[0m", "    \u001b[37m+concurrent_insert\t= 2\u001b[0m", "    \u001b[37m+read_buffer_size\t= 2M\u001b[0m", "    \u001b[37m+read_rnd_buffer_size\t= 1M\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# * Query Cache Configuration\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# Cache only tiny result sets, so we can fit more in the query cache.\u001b[0m", "    \u001b[37m+query_cache_limit\t\t= 128K\u001b[0m", "    \u001b[37m+query_cache_size\t\t= 64M\u001b[0m", "    \u001b[37m+# for more write intensive setups, set to DEMAND or OFF\u001b[0m", "    \u001b[37m+#query_cache_type\t\t= DEMAND\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# * Logging and Replication\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# Both location gets rotated by the cronjob.\u001b[0m", "    \u001b[37m+# Be aware that this log type is a performance killer.\u001b[0m", "    \u001b[37m+# As of 5.1 you can enable the log at runtime!\u001b[0m", "    \u001b[37m+general_log_file        = /var/log/mysql/mysql.log\u001b[0m", "    \u001b[37m+general_log             = 0\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# Error logging goes to syslog due to /etc/mysql/conf.d/mysqld_safe_syslog.cnf.\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# we do want to know about network errors and such\u001b[0m", "    \u001b[37m+log_warnings\t\t= 2\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# Enable the slow query log to see queries with especially long duration\u001b[0m", "    \u001b[37m+#slow_query_log[={0|1}]\u001b[0m", "    \u001b[37m+slow_query_log = 0\u001b[0m", "    \u001b[37m+slow_query_log_file\t= /var/log/mysql/mariadb-slow.log\u001b[0m", "    \u001b[37m+long_query_time = 10\u001b[0m", "    \u001b[37m+log_slow_rate_limit\t= 1000\u001b[0m", "    \u001b[37m+log_slow_verbosity\t= query_plan\u001b[0m", "    \u001b[37m+# Logging output type\u001b[0m", "    \u001b[37m+log_output = FILE\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m+#log-queries-not-using-indexes\u001b[0m", "    \u001b[37m+#log_slow_admin_statements\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# The following can be used as easy to replay backup logs or for replication.\u001b[0m", "    \u001b[37m+# note: if you are setting up a replication slave, see README.Debian about\u001b[0m", "    \u001b[37m+#       other settings you may need to change.\u001b[0m", "    \u001b[37m+#report_host\t\t= master1\u001b[0m", "    \u001b[37m+#auto_increment_increment = 2\u001b[0m", "    \u001b[37m+#auto_increment_offset\t= 1\u001b[0m", "    \u001b[37m+# not fab for performance, but safer\u001b[0m", "    \u001b[37m+#sync_binlog\t\t= 1\u001b[0m", "    \u001b[37m+# slaves\u001b[0m", "    \u001b[37m+#relay_log\t\t= /var/log/mysql/relay-bin\u001b[0m", "    \u001b[37m+#relay_log_index\t= /var/log/mysql/relay-bin.index\u001b[0m", "    \u001b[37m+#relay_log_info_file\t= /var/log/mysql/relay-bin.info\u001b[0m", "    \u001b[37m+#log_slave_updates\u001b[0m", "    \u001b[37m+#read_only\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# If applications support it, this stricter sql_mode prevents some\u001b[0m", "    \u001b[37m+# mistakes like inserting invalid dates etc.\u001b[0m", "    \u001b[37m+#sql_mode\t\t= NO_ENGINE_SUBSTITUTION,TRADITIONAL\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+default_storage_engine\t= InnoDB\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# * Security Features\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# Read the manual, too, if you want chroot!\u001b[0m", "    \u001b[37m+# chroot = /var/lib/mysql/\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# For generating SSL certificates I recommend the OpenSSL GUI \"tinyca\".\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# ssl-ca=/etc/mysql/cacert.pem\u001b[0m", "    \u001b[37m+# ssl-cert=/etc/mysql/server-cert.pem\u001b[0m", "    \u001b[37m+# ssl-key=/etc/mysql/server-key.pem\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# * Plugins Options\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[mysqldump]\u001b[0m", "    \u001b[37m+max_allowed_packet\t= 16M\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[mysql]\u001b[0m", "    \u001b[37m+#no-auto-rehash\t# faster start of mysql but no tab completition\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[isamchk]\u001b[0m", "    \u001b[37m+key_buffer\t\t= 16M\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# * IMPORTANT: Additional settings that can override those from this file!\u001b[0m", "    \u001b[37m+#   The files must end with '.cnf', otherwise they'll be ignored.\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+!includedir /etc/my.cnf.d/\u001b[0m", "\u001b[0m  * directory[/etc/my.cnf.d] action create (skipped due to not_if)", "  * mariadb_configuration[20-innodb] action add", "    * template[/etc/my.cnf.d/20-innodb.cnf] action create", "      \u001b[32m- create new file /etc/my.cnf.d/20-innodb.cnf\u001b[0m", "      \u001b[32m- update content in file /etc/my.cnf.d/20-innodb.cnf from none to 36e5ec\u001b[0m", "      \u001b[32m- suppressed sensitive resource\u001b[0m", "      \u001b[32m- change mode from '' to '0640'\u001b[0m", "      \u001b[32m- change owner from '' to 'root'\u001b[0m", "      \u001b[32m- change group from '' to 'mysql'\u001b[0m", "\u001b[0m  ", "\u001b[0m  * mariadb_configuration[30-replication] action add", "    * template[/etc/my.cnf.d/30-replication.cnf] action create", "      \u001b[32m- create new file /etc/my.cnf.d/30-replication.cnf\u001b[0m", "      \u001b[32m- update content in file /etc/my.cnf.d/30-replication.cnf from none to b2d844\u001b[0m", "      \u001b[32m- suppressed sensitive resource\u001b[0m", "      \u001b[32m- change mode from '' to '0640'\u001b[0m", "      \u001b[32m- change owner from '' to 'root'\u001b[0m", "      \u001b[32m- change group from '' to 'mysql'\u001b[0m", "\u001b[0m  ", "\u001b[0mRecipe: mariadb::server\u001b[0m", "  * directory[/var/log/mysql] action create", "    \u001b[32m- create new directory /var/log/mysql\u001b[0m", "    \u001b[32m- change mode from '' to '0755'\u001b[0m", "    \u001b[32m- change owner from '' to 'mysql'\u001b[0m", "    \u001b[32m- change group from '' to 'mysql'\u001b[0m", "\u001b[0m  * execute[mariadb-service-restart-needed] action run", "    \u001b[32m- execute true\u001b[0m", "\u001b[0m  * ruby_block[restart_mysql] action run", "    \u001b[32m- execute the ruby block restart_mysql\u001b[0m", "\u001b[0m  * service[mysql] action enable (up to date)", "  * service[mysql] action restart", "    \u001b[32m- restart service service[mysql]\u001b[0m", "\u001b[0m  * ruby_block[restart_mysql] action nothing (skipped due to action :nothing)", "Recipe: mariadb::_redhat_server_postinstall\u001b[0m", "  * execute[change first install root password] action run", "    \u001b[32m- execute sensitive resource\u001b[0m", "\u001b[0mRecipe: mariadb::_mariadb_postinstall\u001b[0m", "  * file[/etc/mysql_root_change] action create", "    \u001b[32m- create new file /etc/mysql_root_change\u001b[0m", "    \u001b[32m- update content in file /etc/mysql_root_change from none to f8cd5c\u001b[0m", "    \u001b[37m--- /etc/mysql_root_change\t2019-04-25 23:23:45.178181033 +0000\u001b[0m", "    \u001b[37m+++ /etc/.chef-mysql_root_change20190425-73771-f0xlap\t2019-04-25 23:23:45.177180995 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,2 @@\u001b[0m", "    \u001b[37m+a029d0df84eb5549c641e04a9ef389e5\u001b[0m", "\u001b[0m  * execute[install-grants] action run (skipped due to only_if)", "  * execute[install-grants] action nothing (skipped due to action :nothing)", "  * template[/etc/mariadb_grants] action create", "    \u001b[32m- create new file /etc/mariadb_grants\u001b[0m", "    \u001b[32m- update content in file /etc/mariadb_grants from none to b25da0\u001b[0m", "    \u001b[32m- suppressed sensitive resource\u001b[0m", "    \u001b[32m- change mode from '' to '0600'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0m  * execute[install-grants] action run", "    \u001b[32m- execute sensitive resource\u001b[0m", "\u001b[0mRecipe: openstack-ops-database::mariadb-server\u001b[0m", "  * template[/etc/my.cnf.d/openstack.cnf] action create", "    \u001b[32m- create new file /etc/my.cnf.d/openstack.cnf\u001b[0m", "    \u001b[32m- update content in file /etc/my.cnf.d/openstack.cnf from none to 3f1fa5\u001b[0m", "    \u001b[37m--- /etc/my.cnf.d/openstack.cnf\t2019-04-25 23:23:45.244183563 +0000\u001b[0m", "    \u001b[37m+++ /etc/my.cnf.d/.chef-openstack20190425-73771-6i9yui.cnf\t2019-04-25 23:23:45.244183563 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,19 @@\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+# This file is automatically generated by Chef\u001b[0m", "    \u001b[37m+# Any changes will be overwritten\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[mysqld]\u001b[0m", "    \u001b[37m+default-storage-engine = InnoDB\u001b[0m", "    \u001b[37m+innodb_autoinc_lock_mode = 1\u001b[0m", "    \u001b[37m+innodb_file_per_table = OFF\u001b[0m", "    \u001b[37m+innodb_thread_concurrency = 0\u001b[0m", "    \u001b[37m+innodb_commit_concurrency = 0\u001b[0m", "    \u001b[37m+innodb_read_io_threads = 4\u001b[0m", "    \u001b[37m+innodb_flush_log_at_trx_commit = 1\u001b[0m", "    \u001b[37m+innodb_buffer_pool_size = 134217728\u001b[0m", "    \u001b[37m+innodb_log_file_size = 5242880\u001b[0m", "    \u001b[37m+innodb_log_buffer_size = 8388608\u001b[0m", "    \u001b[37m+character-set-server = latin1\u001b[0m", "    \u001b[37m+query_cache_size = 0\u001b[0m", "    \u001b[37m+max_connections = 307\u001b[0m", "    \u001b[32m- change owner from '' to 'mysql'\u001b[0m", "    \u001b[32m- change group from '' to 'mysql'\u001b[0m", "\u001b[0mRecipe: openstack-ops-database::openstack-db\u001b[0m", "  * log[No databag item containing the database password for aodh was found, so no database was created] action write", "  ", "\u001b[0m  * openstack_common_database[bare_metal] action create", "    * database[create database ironic] action create", "      \u001b[32m- Creating schema 'ironic'\u001b[0m", "\u001b[0m    * database_user[create database user ironic] action create", "      \u001b[32m- Creating user 'ironic'@'localhost'\u001b[0m", "\u001b[0m    * database_user[grant database user ironic] action grant", "      \u001b[32m- Granting privs for 'ironic'@'%'\u001b[0m", "\u001b[0m  ", "\u001b[0m  * openstack_common_database[block_storage] action create", "    * database[create database cinder] action create", "      \u001b[32m- Creating schema 'cinder'\u001b[0m", "\u001b[0m    * database_user[create database user cinder] action create", "      \u001b[32m- Creating user 'cinder'@'localhost'\u001b[0m", "\u001b[0m    * database_user[grant database user cinder] action grant", "      \u001b[32m- Granting privs for 'cinder'@'%'\u001b[0m", "\u001b[0m  ", "\u001b[0m  * openstack_common_database[compute] action create", "    * database[create database nova] action create", "      \u001b[32m- Creating schema 'nova'\u001b[0m", "\u001b[0m    * database_user[create database user nova] action create", "      \u001b[32m- Creating user 'nova'@'localhost'\u001b[0m", "\u001b[0m    * database_user[grant database user nova] action grant", "      \u001b[32m- Granting privs for 'nova'@'%'\u001b[0m", "\u001b[0m  ", "\u001b[0m  * openstack_common_database[compute_api] action create", "    * database[create database nova_api] action create", "      \u001b[32m- Creating schema 'nova_api'\u001b[0m", "\u001b[0m    * database_user[create database user nova_api] action create", "      \u001b[32m- Creating user 'nova_api'@'localhost'\u001b[0m", "\u001b[0m    * database_user[grant database user nova_api] action grant", "      \u001b[32m- Granting privs for 'nova_api'@'%'\u001b[0m", "\u001b[0m  ", "\u001b[0m  * openstack_common_database[compute_cell0] action create", "    * database[create database nova_cell0] action create", "      \u001b[32m- Creating schema 'nova_cell0'\u001b[0m", "\u001b[0m    * database_user[create database user nova_cell0] action create", "      \u001b[32m- Creating user 'nova_cell0'@'localhost'\u001b[0m", "\u001b[0m    * database_user[grant database user nova_cell0] action grant", "      \u001b[32m- Granting privs for 'nova_cell0'@'%'\u001b[0m", "\u001b[0m  ", "\u001b[0m  * openstack_common_database[dashboard] action create", "    * database[create database horizon] action create", "      \u001b[32m- Creating schema 'horizon'\u001b[0m", "\u001b[0m    * database_user[create database user horizon] action create", "      \u001b[32m- Creating user 'horizon'@'localhost'\u001b[0m", "\u001b[0m    * database_user[grant database user horizon] action grant", "      \u001b[32m- Granting privs for 'horizon'@'%'\u001b[0m", "\u001b[0m  ", "\u001b[0m  * log[No databag item containing the database password for trove was found, so no database was created] action write", "  ", "\u001b[0m  * openstack_common_database[dns] action create", "    * database[create database designate] action create", "      \u001b[32m- Creating schema 'designate'\u001b[0m", "\u001b[0m    * database_user[create database user designate] action create", "      \u001b[32m- Creating user 'designate'@'localhost'\u001b[0m", "\u001b[0m    * database_user[grant database user designate] action grant", "      \u001b[32m- Granting privs for 'designate'@'%'\u001b[0m", "\u001b[0m  ", "\u001b[0m  * openstack_common_database[identity] action create", "    * database[create database keystone] action create", "      \u001b[32m- Creating schema 'keystone'\u001b[0m", "\u001b[0m    * database_user[create database user keystone] action create", "      \u001b[32m- Creating user 'keystone'@'localhost'\u001b[0m", "\u001b[0m    * database_user[grant database user keystone] action grant", "      \u001b[32m- Granting privs for 'keystone'@'%'\u001b[0m", "\u001b[0m  ", "\u001b[0m  * openstack_common_database[image] action create", "    * database[create database glance] action create", "      \u001b[32m- Creating schema 'glance'\u001b[0m", "\u001b[0m    * database_user[create database user glance] action create", "      \u001b[32m- Creating user 'glance'@'localhost'\u001b[0m", "\u001b[0m    * database_user[grant database user glance] action grant", "      \u001b[32m- Granting privs for 'glance'@'%'\u001b[0m", "\u001b[0m  ", "\u001b[0m  * openstack_common_database[network] action create", "    * database[create database neutron] action create", "      \u001b[32m- Creating schema 'neutron'\u001b[0m", "\u001b[0m    * database_user[create database user neutron] action create", "      \u001b[32m- Creating user 'neutron'@'localhost'\u001b[0m", "\u001b[0m    * database_user[grant database user neutron] action grant", "      \u001b[32m- Granting privs for 'neutron'@'%'\u001b[0m", "\u001b[0m  ", "\u001b[0m  * log[No databag item containing the database password for swift was found, so no database was created] action write", "  ", "\u001b[0m  * openstack_common_database[orchestration] action create", "    * database[create database heat] action create", "      \u001b[32m- Creating schema 'heat'\u001b[0m", "\u001b[0m    * database_user[create database user heat] action create", "      \u001b[32m- Creating user 'heat'@'localhost'\u001b[0m", "\u001b[0m    * database_user[grant database user heat] action grant", "      \u001b[32m- Granting privs for 'heat'@'%'\u001b[0m", "\u001b[0m  ", "\u001b[0m  * openstack_common_database[telemetry] action create", "    * database[create database ceilometer] action create", "      \u001b[32m- Creating schema 'ceilometer'\u001b[0m", "\u001b[0m    * database_user[create database user ceilometer] action create", "      \u001b[32m- Creating user 'ceilometer'@'localhost'\u001b[0m", "\u001b[0m    * database_user[grant database user ceilometer] action grant", "      \u001b[32m- Granting privs for 'ceilometer'@'%'\u001b[0m", "\u001b[0m  ", "\u001b[0m  * openstack_common_database[telemetry_metric] action create", "    * database[create database gnocchi] action create", "      \u001b[32m- Creating schema 'gnocchi'\u001b[0m", "\u001b[0m    * database_user[create database user gnocchi] action create", "      \u001b[32m- Creating user 'gnocchi'@'localhost'\u001b[0m", "\u001b[0m    * database_user[grant database user gnocchi] action grant", "      \u001b[32m- Granting privs for 'gnocchi'@'%'\u001b[0m", "\u001b[0m  ", "\u001b[0m  * log[No databag item containing the database password for murano was found, so no database was created] action write", "  ", "\u001b[0mRecipe: erlang::package\u001b[0m", "  * yum_package[erlang] action install", "    \u001b[32m- install version 0:19.3.6.4-1.el7.x86_64 of package erlang\u001b[0m", "\u001b[0mRecipe: rabbitmq::default\u001b[0m", "  * directory[/etc/rabbitmq] action create", "    \u001b[32m- create new directory /etc/rabbitmq\u001b[0m", "    \u001b[32m- change mode from '' to '0755'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0m  * yum_package[logrotate] action install (up to date)", "  * yum_package[socat] action install (up to date)", "  * remote_file[/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm] action create_if_missing", "    \u001b[32m- create new file /root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm\u001b[0m", "    \u001b[32m- update content in file /root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm from none to 8addbc\u001b[0m", "    \u001b[37m(new content is binary, diff output suppressed)\u001b[0m", "\u001b[0m  * rpm_package[/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm] action install", "    \u001b[0m", "    ================================================================================\u001b[0m", "    \u001b[31mError executing action `install` on resource 'rpm_package[/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm]'\u001b[0m", "    ================================================================================\u001b[0m", "    ", "\u001b[0m    Mixlib::ShellOut::ShellCommandFailed\u001b[0m", "    ------------------------------------\u001b[0m", "    Expected process to exit with [0], but received '1'", "\u001b[0m    ---- Begin output of [\"rpm\", \"-i\", \"/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm\"] ----", "\u001b[0m    STDOUT: ", "\u001b[0m    STDERR: warning: /root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm: Header V4 RSA/SHA256 Signature, key ID 6026dfca: NOKEY", "\u001b[0m    error: Failed dependencies:", "\u001b[0m    \terlang >= 20.3 is needed by rabbitmq-server-3.7.14-1.el7.noarch", "\u001b[0m    ---- End output of [\"rpm\", \"-i\", \"/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm\"] ----", "\u001b[0m    Ran [\"rpm\", \"-i\", \"/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm\"] returned 1\u001b[0m", "    ", "\u001b[0m    Resource Declaration:\u001b[0m", "    ---------------------\u001b[0m", "    # In /root/.chef/local-mode-cache/cache/cookbooks/rabbitmq/recipes/default.rb", "\u001b[0m    ", "\u001b[0m    218:     rpm_package \"#{Chef::Config[:file_cache_path]}/#{rpm_package_name}\"", "\u001b[0m    219:   end", "\u001b[0m    ", "\u001b[0m    Compiled Resource:\u001b[0m", "    ------------------\u001b[0m", "    # Declared in /root/.chef/local-mode-cache/cache/cookbooks/rabbitmq/recipes/default.rb:218:in `from_file'", "\u001b[0m    ", "\u001b[0m    rpm_package(\"/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm\") do", "\u001b[0m      package_name \"/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm\"", "\u001b[0m      action [:install]", "\u001b[0m      default_guard_interpreter :default", "\u001b[0m      declared_type :rpm_package", "\u001b[0m      cookbook_name \"rabbitmq\"", "\u001b[0m      recipe_name \"default\"", "\u001b[0m      source \"/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm\"", "\u001b[0m      version \"3.7.14-1.el7\"", "\u001b[0m    end", "\u001b[0m    ", "\u001b[0m    System Info:\u001b[0m", "    ------------\u001b[0m", "    chef_version=14.6.47", "\u001b[0m    platform=centos", "\u001b[0m    platform_version=7.6.1810", "\u001b[0m    ruby=ruby 2.5.3p105 (2018-10-18 revision 65156) [x86_64-linux]", "\u001b[0m    program_name=/usr/bin/chef-client", "\u001b[0m    executable=/opt/chefdk/bin/chef-client\u001b[0m", "    ", "\u001b[0mRecipe: mariadb::server\u001b[0m", "  * service[mysql] action restart", "    \u001b[32m- restart service service[mysql]\u001b[0m", "\u001b[0m\u001b[0m", "Running handlers:\u001b[0m", "[2019-04-25T23:24:03+00:00] ERROR: Running exception handlers", "Running handlers complete", "\u001b[0m[2019-04-25T23:24:03+00:00] ERROR: Exception handlers complete", "Chef Client failed. 122 resources updated in 11 minutes 47 seconds\u001b[0m", "[2019-04-25T23:24:03+00:00] FATAL: Stacktrace dumped to /root/.chef/local-mode-cache/cache/chef-stacktrace.out", "[2019-04-25T23:24:03+00:00] FATAL: Please provide the contents of the stacktrace.out file if you file a bug report", "[2019-04-25T23:24:03+00:00] FATAL: Mixlib::ShellOut::ShellCommandFailed: rpm_package[/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm] (rabbitmq::default line 218) had an error: Mixlib::ShellOut::ShellCommandFailed: Expected process to exit with [0], but received '1'", "---- Begin output of [\"rpm\", \"-i\", \"/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm\"] ----", "STDOUT: ", "STDERR: warning: /root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm: Header V4 RSA/SHA256 Signature, key ID 6026dfca: NOKEY", "error: Failed dependencies:", "\terlang >= 20.3 is needed by rabbitmq-server-3.7.14-1.el7.noarch", "---- End output of [\"rpm\", \"-i\", \"/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm\"] ----", "Ran [\"rpm\", \"-i\", \"/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm\"] returned 1"]}
