2018-11-30 10:01:02,817 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-30 10:01:02,855 INFO EXT chain with OpenStack mode disabled
2018-11-30 10:01:02,855 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csp_4c1n_18500000pps-1.json
2018-11-30 10:01:02,856 INFO Connecting to TRex (127.0.0.1)...
2018-11-30 10:01:03,001 INFO Connected to TRex
2018-11-30 10:01:03,001 INFO    Port 0: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d1 pci=0000:1a:00.1 driver=net_i40e
2018-11-30 10:01:03,001 INFO    Port 1: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d2 pci=0000:1a:00.2 driver=net_i40e
2018-11-30 10:01:03,002 INFO ChainRunner initialized
2018-11-30 10:01:03,002 INFO Starting 4xEXT benchmark...
2018-11-30 10:01:03,108 INFO Polling ARP until successful...
2018-11-30 10:01:03,319 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-30 10:01:03,319 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-30 10:01:03,319 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-30 10:01:03,319 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-30 10:01:03,319 INFO ARP resolved successfully for port 0
2018-11-30 10:01:03,529 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-30 10:01:03,529 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-30 10:01:03,530 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-30 10:01:03,530 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-30 10:01:03,530 INFO ARP resolved successfully for port 1
2018-11-30 10:01:03,631 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa']
2018-11-30 10:01:03,631 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb']
2018-11-30 10:01:03,631 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-30 10:01:03,654 INFO Created 4 traffic streams for port 0.
2018-11-30 10:01:03,657 INFO Created 4 traffic streams for port 1.
2018-11-30 10:01:03,768 INFO Captured unique src mac 0/8, capturing return packets (retry 1/100)...
2018-11-30 10:01:05,893 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-30 10:01:05,893 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-30 10:01:05,893 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-30 10:01:05,893 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-30 10:01:05,893 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-30 10:01:05,893 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-30 10:01:05,893 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-30 10:01:05,893 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-30 10:01:05,893 INFO End-to-end connectivity established
2018-11-30 10:01:05,911 INFO Cleared all existing streams
2018-11-30 10:01:05,942 INFO Created 8 traffic streams for port 0.
2018-11-30 10:01:05,947 INFO Created 8 traffic streams for port 1.
2018-11-30 10:01:05,952 INFO Starting to generate traffic...
2018-11-30 10:01:05,952 INFO Running traffic generator
2018-11-30 10:01:15,980 INFO TX: 185189451; RX: 94943686; Est. Dropped: 90245765; Est. Drop rate: 48.7316%
2018-11-30 10:01:25,998 INFO TX: 370504548; RX: 189985117; Est. Dropped: 180519431; Est. Drop rate: 48.7226%
2018-11-30 10:01:35,991 INFO TX: 554999224; RX: 284419715; Est. Dropped: 270579509; Est. Drop rate: 48.7531%
2018-11-30 10:01:35,991 INFO ...traffic generating ended.
2018-11-30 10:01:36,016 INFO Cleared all existing streams
2018-11-30 10:01:36,106 INFO Created 16 traffic streams for port 0.
2018-11-30 10:01:36,117 INFO Created 16 traffic streams for port 1.
2018-11-30 10:01:36,122 INFO Starting to generate traffic...
2018-11-30 10:01:36,122 INFO Running traffic generator


2018-11-30 10:01:39 - [local][warning]   - [1mCPU util. is high: 85.7%[22m
2018-11-30 10:01:46,152 INFO TX: 65545202; RX: 56567118; Est. Dropped: 8978084; Est. Drop rate: 13.6975%
2018-11-30 10:01:56,170 INFO TX: 131136739; RX: 113170901; Est. Dropped: 17965838; Est. Drop rate: 13.7001%
2018-11-30 10:02:06,166 INFO TX: 196517440; RX: 169574444; Est. Dropped: 26942996; Est. Drop rate: 13.7102%
2018-11-30 10:02:06,166 INFO ...traffic generating ended.
2018-11-30 10:02:06,173 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6550581). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-30 10:02:06,173 INFO Service chain 'EXT' run completed.
2018-11-30 10:02:06,173 INFO Clean up skipped.
2018-11-30 10:02:06,202 INFO Saving results in json file: /tmp/nfvbench/csp_4c1n_18500000pps-1.json...
2018-11-30 10:02:06,217 INFO 
========== NFVBench Summary ==========
Date: 2018-11-30 10:01:03
NFVBench version 2.0.4
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 4
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  48.7531%   |         627          |                   20 |         857          |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  13.7102%   |        1,002         |                   20 |        1,358         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |   3.1996 Gbps   |       9,250,000 pps       |     9,249,987 pps      |  4,761,379 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |   3.1714 Gbps   |       9,250,000 pps       |     9,249,987 pps      |  4,719,278 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   6.3710 Gbps   |      18,500,000 pps       |     18,499,974 pps     |  9,480,657 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  69,374,903  | -33,670,574 (-48.5342%)  |  624 usec  |  40 usec   |  775 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  69,374,903  | -33,671,237 (-48.5352%)  |  635 usec  |  100 usec  |  823 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  69,374,903  | -33,658,366 (-48.5166%)  |  628 usec  |  90 usec   |  766 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  69,374,903  | -33,658,064 (-48.5162%)  |  622 usec  |  100 usec  |  775 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,612  | -134,658,241 (-48.5256%) |  627 usec  |  40 usec   |  823 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  69,374,903  | -33,989,792 (-48.9944%)  |  638 usec  |  50 usec   |  763 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  69,374,903  | -33,989,773 (-48.9943%)  |  627 usec  |  100 usec  |  759 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  69,374,903  | -33,971,022 (-48.9673%)  |  619 usec  |  20 usec   |  857 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  69,374,903  | -33,970,681 (-48.9668%)  |  625 usec  |  100 usec  |  807 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,612  | -135,921,268 (-48.9807%) |  627 usec  |  20 usec   |  857 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      10.0052 Gbps      |   8.6445 Gbps   |       9,250,000 pps       |     3,275,366 pps      |  2,829,946 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      10.0047 Gbps      |   8.6219 Gbps   |       9,250,000 pps       |     3,275,215 pps      |  2,822,534 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      20.0098 Gbps      |  17.2664 Gbps   |      18,500,000 pps       |     6,550,581 pps      |  5,652,480 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6550581). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+-------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |       TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+=========================+============+============+============+
              |    0    |  24,565,246  | -3,345,691 (-13.6196%)  |  990 usec  |  50 usec   | 1,284 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    1    |  24,565,246  | -3,329,773 (-13.5548%)  |  968 usec  |  70 usec   | 1,279 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    2    |  24,565,246  | -3,329,419 (-13.5534%)  | 1,026 usec |  40 usec   | 1,317 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    3    |  24,565,246  | -3,357,693 (-13.6685%)  | 1,005 usec |  20 usec   | 1,358 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |  total  |  98,260,984  | -13,362,576 (-13.5991%) |  997 usec  |  20 usec   | 1,358 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+-------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |       TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+=========================+============+============+============+
              |    0    |  24,564,114  | -3,399,085 (-13.8376%)  |  988 usec  |  50 usec   | 1,285 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    1    |  24,564,114  | -3,398,122 (-13.8337%)  | 1,002 usec |  70 usec   | 1,297 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    2    |  24,564,114  | -3,391,648 (-13.8073%)  | 1,007 usec |  50 usec   | 1,269 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    3    |  24,564,114  | -3,391,565 (-13.8070%)  | 1,032 usec |  70 usec   | 1,327 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |  total  |  98,256,456  | -13,580,420 (-13.8214%) | 1,007 usec |  50 usec   | 1,327 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              

