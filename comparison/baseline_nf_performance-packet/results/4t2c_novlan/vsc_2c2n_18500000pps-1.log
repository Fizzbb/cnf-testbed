2018-11-30 14:13:06,909 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-30 14:13:06,946 INFO EXT chain with OpenStack mode disabled
2018-11-30 14:13:06,946 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/vsc_2c2n_18500000pps-1.json
2018-11-30 14:13:06,948 INFO Connecting to TRex (127.0.0.1)...
2018-11-30 14:13:07,084 INFO Connected to TRex
2018-11-30 14:13:07,084 INFO    Port 0: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d1 pci=0000:1a:00.1 driver=net_i40e
2018-11-30 14:13:07,084 INFO    Port 1: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d2 pci=0000:1a:00.2 driver=net_i40e
2018-11-30 14:13:07,085 INFO ChainRunner initialized
2018-11-30 14:13:07,085 INFO Starting 2xEXT benchmark...
2018-11-30 14:13:07,212 INFO Polling ARP until successful...
2018-11-30 14:13:07,440 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-30 14:13:07,440 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-30 14:13:07,440 INFO ARP resolved successfully for port 0
2018-11-30 14:13:07,649 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-30 14:13:07,649 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-30 14:13:07,649 INFO ARP resolved successfully for port 1
2018-11-30 14:13:07,773 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa']
2018-11-30 14:13:07,773 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb']
2018-11-30 14:13:07,773 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-30 14:13:07,785 INFO Created 2 traffic streams for port 0.
2018-11-30 14:13:07,786 INFO Created 2 traffic streams for port 1.
2018-11-30 14:13:07,897 INFO Captured unique src mac 0/4, capturing return packets (retry 1/100)...
2018-11-30 14:13:10,019 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-30 14:13:10,020 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-30 14:13:10,020 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-30 14:13:10,020 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-30 14:13:10,020 INFO End-to-end connectivity established
2018-11-30 14:13:10,037 INFO Cleared all existing streams
2018-11-30 14:13:10,053 INFO Created 4 traffic streams for port 0.
2018-11-30 14:13:10,056 INFO Created 4 traffic streams for port 1.
2018-11-30 14:13:10,060 INFO Starting to generate traffic...
2018-11-30 14:13:10,060 INFO Running traffic generator
2018-11-30 14:13:20,085 INFO TX: 185185153; RX: 21483587; Est. Dropped: 163701566; Est. Drop rate: 88.3989%
2018-11-30 14:13:30,101 INFO TX: 370466194; RX: 42200846; Est. Dropped: 328265348; Est. Drop rate: 88.6087%
2018-11-30 14:13:40,096 INFO TX: 555001872; RX: 63433296; Est. Dropped: 491568576; Est. Drop rate: 88.5706%
2018-11-30 14:13:40,096 INFO ...traffic generating ended.
2018-11-30 14:13:40,119 INFO Cleared all existing streams
2018-11-30 14:13:40,164 INFO Created 8 traffic streams for port 0.
2018-11-30 14:13:40,169 INFO Created 8 traffic streams for port 1.
2018-11-30 14:13:40,172 INFO Starting to generate traffic...
2018-11-30 14:13:40,172 INFO Running traffic generator


2018-11-30 14:13:44 - [local][warning]   - [1mCPU util. is high: 87.2%[22m
2018-11-30 14:13:50,198 INFO TX: 65551144; RX: 12971262; Est. Dropped: 52579882; Est. Drop rate: 80.2120%
2018-11-30 14:14:00,214 INFO TX: 131133021; RX: 25545800; Est. Dropped: 105587221; Est. Drop rate: 80.5192%
2018-11-30 14:14:10,213 INFO TX: 196519286; RX: 38284668; Est. Dropped: 158234618; Est. Drop rate: 80.5186%
2018-11-30 14:14:10,213 INFO ...traffic generating ended.
2018-11-30 14:14:10,218 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6550642). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-30 14:14:10,218 INFO Service chain 'EXT' run completed.
2018-11-30 14:14:10,218 INFO Clean up skipped.
2018-11-30 14:14:10,257 INFO Saving results in json file: /tmp/nfvbench/vsc_2c2n_18500000pps-1.json...
2018-11-30 14:14:10,270 INFO 
========== NFVBench Summary ==========
Date: 2018-11-30 14:13:07
NFVBench version 2.0.4
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 2
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  88.5706%   |        1,111         |                  100 |        52,083        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  80.5186%   |        1,805         |                   40 |        41,519        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |  788.5881 Mbps  |       9,250,000 pps       |     9,250,031 pps      |  1,173,494 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |  632.3177 Mbps  |       9,250,000 pps       |     9,250,031 pps      |   940,948 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   1.4209 Gbps   |      18,500,000 pps       |     18,500,062 pps     |  2,114,442 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+============+============+=============+
              |    0    | 138,750,468  | -122,642,293 (-88.3905%) | 1,706 usec |  400 usec  | 48,635 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    1    | 138,750,468  | -119,653,815 (-86.2367%) |  677 usec  |  200 usec  | 16,936 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  total  | 277,500,936  | -242,296,108 (-87.3136%) | 1,192 usec |  200 usec  | 48,635 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |           TRex.RX.p0           |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+================================+============+============+=============+
              |    0    | 138,750,468  |    -123,774,466 (-89.2065%)    |  863 usec  |  100 usec  | 32,502 usec |
              +---------+--------------+--------------------------------+------------+------------+-------------+
              |    1    | 138,750,468  | +64,286,392,382 (+46332.3788%) | 1,233 usec |  500 usec  | 52,083 usec |
              +---------+--------------+--------------------------------+------------+------------+-------------+
              |  total  | 277,500,936  | +64,162,617,916 (+23121.5861%) | 1,048 usec |  100 usec  | 52,083 usec |
              +---------+--------------+--------------------------------+------------+------------+-------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      10.0047 Gbps      |   2.0845 Gbps   |       9,250,000 pps       |     3,275,226 pps      |   682,395 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      10.0053 Gbps      |   1.8137 Gbps   |       9,250,000 pps       |     3,275,416 pps      |   593,760 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      20.0100 Gbps      |   3.8982 Gbps   |      18,500,000 pps       |     6,550,642 pps      |  1,276,155 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6550642). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+-------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p0  |       TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+=========================+============+============+=============+
              |    0    |  49,128,403  | -39,186,840 (-79.7641%) | 3,415 usec |  600 usec  | 41,519 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |    1    |  49,128,403  | -38,598,099 (-78.5658%) |  544 usec  |  40 usec   | 36,925 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |  total  |  98,256,806  | -77,784,939 (-79.1649%) | 1,980 usec |  40 usec   | 41,519 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+---------------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |           TRex.RX.p0            |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+=================================+============+============+=============+
              |    0    |  49,131,240  |     -39,487,671 (-80.3718%)     | 2,002 usec |  80 usec   | 32,305 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+
              |    1    |  49,131,240  | +64,375,791,446 (+131028.2245%) | 1,310 usec |  60 usec   | 32,222 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+
              |  total  |  98,262,480  | +64,336,303,775 (+65473.9263%)  | 1,656 usec |  60 usec   | 32,305 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+
              

