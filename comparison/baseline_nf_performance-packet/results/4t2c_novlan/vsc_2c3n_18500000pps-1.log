2018-12-07 16:57:01,080 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-12-07 16:57:01,118 INFO EXT chain with OpenStack mode disabled
2018-12-07 16:57:01,118 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/vsc_2c3n_18500000pps-1.json
2018-12-07 16:57:01,120 INFO Connecting to TRex (127.0.0.1)...
2018-12-07 16:57:01,257 INFO Connected to TRex
2018-12-07 16:57:01,258 INFO    Port 0: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d1 pci=0000:1a:00.1 driver=net_i40e
2018-12-07 16:57:01,258 INFO    Port 1: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d2 pci=0000:1a:00.2 driver=net_i40e
2018-12-07 16:57:01,258 INFO ChainRunner initialized
2018-12-07 16:57:01,259 INFO Starting 2xEXT benchmark...
2018-12-07 16:57:01,364 INFO Polling ARP until successful...
2018-12-07 16:57:01,573 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-12-07 16:57:01,573 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-12-07 16:57:01,574 INFO ARP resolved successfully for port 0
2018-12-07 16:57:01,783 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-12-07 16:57:01,783 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-12-07 16:57:01,783 INFO ARP resolved successfully for port 1
2018-12-07 16:57:01,908 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa']
2018-12-07 16:57:01,908 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb']
2018-12-07 16:57:01,908 INFO Starting traffic generator to ensure end-to-end connectivity
2018-12-07 16:57:01,920 INFO Created 2 traffic streams for port 0.
2018-12-07 16:57:01,921 INFO Created 2 traffic streams for port 1.
2018-12-07 16:57:02,031 INFO Captured unique src mac 0/4, capturing return packets (retry 1/100)...
2018-12-07 16:57:04,210 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-12-07 16:57:04,211 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-12-07 16:57:04,214 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-12-07 16:57:04,214 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-12-07 16:57:04,214 INFO End-to-end connectivity established
2018-12-07 16:57:04,231 INFO Cleared all existing streams
2018-12-07 16:57:04,246 INFO Created 4 traffic streams for port 0.
2018-12-07 16:57:04,249 INFO Created 4 traffic streams for port 1.
2018-12-07 16:57:04,253 INFO Starting to generate traffic...
2018-12-07 16:57:04,253 INFO Running traffic generator
2018-12-07 16:57:14,278 INFO TX: 185181008; RX: 9553772; Est. Dropped: 175627236; Est. Drop rate: 94.8408%
2018-12-07 16:57:24,294 INFO TX: 370447845; RX: 18649863; Est. Dropped: 351797982; Est. Drop rate: 94.9656%
2018-12-07 16:57:34,289 INFO TX: 554991200; RX: 27295236; Est. Dropped: 527695964; Est. Drop rate: 95.0819%
2018-12-07 16:57:34,289 INFO ...traffic generating ended.
2018-12-07 16:57:34,312 INFO Cleared all existing streams
2018-12-07 16:57:34,356 INFO Created 8 traffic streams for port 0.
2018-12-07 16:57:34,362 INFO Created 8 traffic streams for port 1.
2018-12-07 16:57:34,366 INFO Starting to generate traffic...
2018-12-07 16:57:34,366 INFO Running traffic generator


2018-12-07 16:57:38 - [local][warning]   - [1mCPU util. is high: 87.2%[22m
2018-12-07 16:57:44,391 INFO TX: 65544764; RX: 5469070; Est. Dropped: 60075694; Est. Drop rate: 91.6560%
2018-12-07 16:57:54,406 INFO TX: 131121139; RX: 10892991; Est. Dropped: 120228148; Est. Drop rate: 91.6924%
2018-12-07 16:58:04,404 INFO TX: 196512454; RX: 16255195; Est. Dropped: 180257259; Est. Drop rate: 91.7282%
2018-12-07 16:58:04,404 INFO ...traffic generating ended.
2018-12-07 16:58:04,409 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6550415). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-12-07 16:58:04,409 INFO Service chain 'EXT' run completed.
2018-12-07 16:58:04,409 INFO Clean up skipped.
2018-12-07 16:58:04,450 INFO Saving results in json file: /tmp/nfvbench/vsc_2c3n_18500000pps-1.json...
2018-12-07 16:58:04,463 INFO 
========== NFVBench Summary ==========
Date: 2018-12-07 16:57:01
NFVBench version 2.0.4
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 2
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  95.0819%   |        2,805         |                  500 |       104,774        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  91.7282%   |        5,319         |                  300 |       124,530        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2159 Gbps       |  340.3437 Mbps  |       9,250,000 pps       |     9,249,853 pps      |   506,463 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2159 Gbps       |  271.0696 Mbps  |       9,250,000 pps       |     9,249,853 pps      |   403,377 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4318 Gbps      |  611.4133 Mbps  |      18,500,000 pps       |     18,499,706 pps     |   909,840 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+--------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |   Max lat.   |
              +=========+==============+==========================+============+============+==============+
              |    0    | 138,747,800  | -130,889,037 (-94.3359%) | 4,547 usec |  700 usec  | 104,774 usec |
              +---------+--------------+--------------------------+------------+------------+--------------+
              |    1    | 138,747,800  | -131,412,053 (-94.7129%) | 2,364 usec |  800 usec  | 44,266 usec  |
              +---------+--------------+--------------------------+------------+------------+--------------+
              |  total  | 277,495,600  | -262,301,090 (-94.5244%) | 3,456 usec |  700 usec  | 104,774 usec |
              +---------+--------------+--------------------------+------------+------------+--------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |           TRex.RX.p0           |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+================================+============+============+=============+
              |    0    | 138,747,800  |    -132,686,475 (-95.6314%)    | 1,258 usec |  600 usec  | 44,414 usec |
              +---------+--------------+--------------------------------+------------+------------+-------------+
              |    1    | 138,747,800  | +64,285,969,684 (+46332.9651%) | 3,320 usec |  500 usec  | 36,558 usec |
              +---------+--------------+--------------------------------+------------+------------+-------------+
              |  total  | 277,495,600  | +64,153,283,209 (+23118.6668%) | 2,289 usec |  500 usec  | 44,414 usec |
              +---------+--------------+--------------------------------+------------+------------+-------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      10.0045 Gbps      |  974.4884 Mbps  |       9,250,000 pps       |     3,275,138 pps      |   319,016 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      10.0049 Gbps      |  680.6517 Mbps  |       9,250,000 pps       |     3,275,276 pps      |   222,823 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      20.0093 Gbps      |   1.6551 Gbps   |      18,500,000 pps       |     6,550,414 pps      |   541,839 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6550415). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+-------------------------+-------------+------------+--------------+
              |  Chain  |  TRex.TX.p0  |       TRex.RX.p1        |  Avg lat.   |  Min lat.  |   Max lat.   |
              +=========+==============+=========================+=============+============+==============+
              |    0    |  49,127,073  | -43,942,847 (-89.4473%) | 6,051 usec  |  800 usec  | 124,530 usec |
              +---------+--------------+-------------------------+-------------+------------+--------------+
              |    1    |  49,127,073  | -44,740,554 (-91.0711%) | 12,278 usec | 1,000 usec | 115,876 usec |
              +---------+--------------+-------------------------+-------------+------------+--------------+
              |  total  |  98,254,146  | -88,683,401 (-90.2592%) | 9,165 usec  |  800 usec  | 124,530 usec |
              +---------+--------------+-------------------------+-------------+------------+--------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+---------------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |           TRex.RX.p0            |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+=================================+============+============+=============+
              |    0    |  49,129,154  |     -45,811,567 (-93.2472%)     | 1,939 usec |  300 usec  | 44,471 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+
              |    1    |  49,129,154  | +60,080,567,681 (+122291.0691%) | 3,330 usec |  300 usec  | 40,273 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+
              |  total  |  98,258,308  | +60,034,756,114 (+61098.9110%)  | 2,635 usec |  300 usec  | 44,471 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+
              

