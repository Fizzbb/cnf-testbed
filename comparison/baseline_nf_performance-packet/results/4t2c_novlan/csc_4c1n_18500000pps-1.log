2018-11-30 09:05:08,354 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-30 09:05:08,392 INFO EXT chain with OpenStack mode disabled
2018-11-30 09:05:08,392 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csc_4c1n_18500000pps-1.json
2018-11-30 09:05:08,394 INFO Connecting to TRex (127.0.0.1)...
2018-11-30 09:05:08,539 INFO Connected to TRex
2018-11-30 09:05:08,539 INFO    Port 0: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d1 pci=0000:1a:00.1 driver=net_i40e
2018-11-30 09:05:08,539 INFO    Port 1: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d2 pci=0000:1a:00.2 driver=net_i40e
2018-11-30 09:05:08,540 INFO ChainRunner initialized
2018-11-30 09:05:08,541 INFO Starting 4xEXT benchmark...
2018-11-30 09:05:08,645 INFO Polling ARP until successful...
2018-11-30 09:05:08,856 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-30 09:05:08,856 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-30 09:05:08,856 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-30 09:05:08,857 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-30 09:05:08,857 INFO ARP resolved successfully for port 0
2018-11-30 09:05:09,067 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-30 09:05:09,067 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-30 09:05:09,067 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-30 09:05:09,067 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-30 09:05:09,067 INFO ARP resolved successfully for port 1
2018-11-30 09:05:09,169 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa']
2018-11-30 09:05:09,169 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb']
2018-11-30 09:05:09,169 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-30 09:05:09,192 INFO Created 4 traffic streams for port 0.
2018-11-30 09:05:09,195 INFO Created 4 traffic streams for port 1.
2018-11-30 09:05:09,306 INFO Captured unique src mac 0/8, capturing return packets (retry 1/100)...
2018-11-30 09:05:11,429 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-30 09:05:11,429 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-30 09:05:11,429 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-30 09:05:11,429 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-30 09:05:11,429 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-30 09:05:11,429 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-30 09:05:11,429 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-30 09:05:11,429 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-30 09:05:11,429 INFO End-to-end connectivity established
2018-11-30 09:05:11,449 INFO Cleared all existing streams
2018-11-30 09:05:11,486 INFO Created 8 traffic streams for port 0.
2018-11-30 09:05:11,492 INFO Created 8 traffic streams for port 1.
2018-11-30 09:05:11,497 INFO Starting to generate traffic...
2018-11-30 09:05:11,497 INFO Running traffic generator
2018-11-30 09:05:21,528 INFO TX: 185195187; RX: 94704469; Est. Dropped: 90490718; Est. Drop rate: 48.8623%
2018-11-30 09:05:31,542 INFO TX: 370457711; RX: 189510645; Est. Dropped: 180947066; Est. Drop rate: 48.8442%
2018-11-30 09:05:41,540 INFO TX: 554999224; RX: 283949679; Est. Dropped: 271049545; Est. Drop rate: 48.8378%
2018-11-30 09:05:41,540 INFO ...traffic generating ended.
2018-11-30 09:05:41,565 INFO Cleared all existing streams
2018-11-30 09:05:41,655 INFO Created 16 traffic streams for port 0.
2018-11-30 09:05:41,665 INFO Created 16 traffic streams for port 1.
2018-11-30 09:05:41,671 INFO Starting to generate traffic...
2018-11-30 09:05:41,671 INFO Running traffic generator


2018-11-30 09:05:44 - [local][warning]   - [1mCPU util. is high: 85.5%[22m
2018-11-30 09:05:51,699 INFO TX: 65542104; RX: 56591027; Est. Dropped: 8951077; Est. Drop rate: 13.6570%
2018-11-30 09:06:01,716 INFO TX: 131129534; RX: 113199606; Est. Dropped: 17929928; Est. Drop rate: 13.6734%
2018-11-30 09:06:11,713 INFO TX: 196508724; RX: 169599634; Est. Dropped: 26909090; Est. Drop rate: 13.6936%
2018-11-30 09:06:11,713 INFO ...traffic generating ended.
2018-11-30 09:06:11,720 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6550290). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-30 09:06:11,720 INFO Service chain 'EXT' run completed.
2018-11-30 09:06:11,720 INFO Clean up skipped.
2018-11-30 09:06:11,749 INFO Saving results in json file: /tmp/nfvbench/csc_4c1n_18500000pps-1.json...
2018-11-30 09:06:11,764 INFO 
========== NFVBench Summary ==========
Date: 2018-11-30 09:05:08
NFVBench version 2.0.4
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 4
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  48.8378%   |         618          |                   20 |         842          |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  13.6936%   |        1,007         |                   30 |        1,306         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |   3.1887 Gbps   |       9,250,000 pps       |     9,249,987 pps      |  4,745,103 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |   3.1718 Gbps   |       9,250,000 pps       |     9,249,987 pps      |  4,719,885 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   6.3605 Gbps   |      18,500,000 pps       |     18,499,974 pps     |  9,464,988 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  69,374,903  | -33,808,472 (-48.7330%)  |  612 usec  |  100 usec  |  774 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  69,374,903  | -33,808,348 (-48.7328%)  |  625 usec  |  300 usec  |  757 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  69,374,903  | -33,764,454 (-48.6696%)  |  620 usec  |  200 usec  |  783 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  69,374,903  | -33,765,225 (-48.6707%)  |  614 usec  |  300 usec  |  767 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,612  | -135,146,499 (-48.7015%) |  618 usec  |  100 usec  |  783 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  69,374,903  | -33,970,056 (-48.9659%)  |  626 usec  |  300 usec  |  842 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  69,374,903  | -33,970,402 (-48.9664%)  |  617 usec  |  200 usec  |  775 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  69,374,903  | -33,981,137 (-48.9819%)  |  615 usec  |  100 usec  |  776 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  69,374,903  | -33,981,451 (-48.9823%)  |  621 usec  |  20 usec   |  770 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,612  | -135,903,046 (-48.9741%) |  620 usec  |  20 usec   |  842 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      10.0048 Gbps      |   8.6451 Gbps   |       9,250,000 pps       |     3,275,236 pps      |  2,830,130 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      10.0042 Gbps      |   8.6239 Gbps   |       9,250,000 pps       |     3,275,054 pps      |  2,823,191 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      20.0090 Gbps      |  17.2690 Gbps   |      18,500,000 pps       |     6,550,290 pps      |  5,653,321 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6550290). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+-------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |       TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+=========================+============+============+============+
              |    0    |  24,564,270  | -3,338,779 (-13.5920%)  |  993 usec  |  60 usec   | 1,272 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    1    |  24,564,270  | -3,335,043 (-13.5768%)  |  973 usec  |  100 usec  | 1,251 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    2    |  24,564,270  | -3,336,223 (-13.5816%)  | 1,056 usec |  100 usec  | 1,292 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    3    |  24,564,270  | -3,343,135 (-13.6097%)  | 1,003 usec |  200 usec  | 1,306 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |  total  |  98,257,080  | -13,353,180 (-13.5900%) | 1,006 usec |  60 usec   | 1,306 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+-------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |       TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+=========================+============+============+============+
              |    0    |  24,562,911  | -3,389,925 (-13.8010%)  |  989 usec  |  50 usec   | 1,268 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    1    |  24,562,911  | -3,389,013 (-13.7973%)  |  995 usec  |  30 usec   | 1,276 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    2    |  24,562,911  | -3,389,117 (-13.7977%)  | 1,018 usec |  50 usec   | 1,267 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    3    |  24,562,911  | -3,387,855 (-13.7926%)  | 1,033 usec |  50 usec   | 1,293 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |  total  |  98,251,644  | -13,555,910 (-13.7971%) | 1,009 usec |  30 usec   | 1,293 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              

