2018-11-30 14:42:02,276 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-30 14:42:02,315 INFO EXT chain with OpenStack mode disabled
2018-11-30 14:42:02,315 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/vsc_6c1n_18500000pps-1.json
2018-11-30 14:42:02,317 INFO Connecting to TRex (127.0.0.1)...
2018-11-30 14:42:02,459 INFO Connected to TRex
2018-11-30 14:42:02,459 INFO    Port 0: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d1 pci=0000:1a:00.1 driver=net_i40e
2018-11-30 14:42:02,459 INFO    Port 1: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d2 pci=0000:1a:00.2 driver=net_i40e
2018-11-30 14:42:02,460 INFO ChainRunner initialized
2018-11-30 14:42:02,461 INFO Starting 6xEXT benchmark...
2018-11-30 14:42:02,588 INFO Polling ARP until successful...
2018-11-30 14:42:02,801 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-30 14:42:02,801 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-30 14:42:02,801 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-30 14:42:02,801 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-30 14:42:02,801 INFO    ARP: port=0 chain=4 src IP=172.16.10.104 dst IP=172.16.10.14 -> MAC=52:54:04:00:00:aa
2018-11-30 14:42:02,801 INFO    ARP: port=0 chain=5 src IP=172.16.10.105 dst IP=172.16.10.15 -> MAC=52:54:05:00:00:aa
2018-11-30 14:42:02,801 INFO ARP resolved successfully for port 0
2018-11-30 14:42:03,014 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-30 14:42:03,014 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-30 14:42:03,014 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-30 14:42:03,014 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-30 14:42:03,014 INFO    ARP: port=1 chain=4 src IP=172.16.20.104 dst IP=172.16.20.14 -> MAC=52:54:04:00:00:bb
2018-11-30 14:42:03,014 INFO    ARP: port=1 chain=5 src IP=172.16.20.105 dst IP=172.16.20.15 -> MAC=52:54:05:00:00:bb
2018-11-30 14:42:03,014 INFO ARP resolved successfully for port 1
2018-11-30 14:42:03,116 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa', '52:54:04:00:00:aa', '52:54:05:00:00:aa']
2018-11-30 14:42:03,116 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb', '52:54:04:00:00:bb', '52:54:05:00:00:bb']
2018-11-30 14:42:03,116 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-30 14:42:03,149 INFO Created 6 traffic streams for port 0.
2018-11-30 14:42:03,154 INFO Created 6 traffic streams for port 1.
2018-11-30 14:42:03,267 INFO Captured unique src mac 0/12, capturing return packets (retry 1/100)...
2018-11-30 14:42:05,391 INFO Received packet from mac: 52:54:04:00:00:bb (chain=4, port=1)
2018-11-30 14:42:05,391 INFO Received packet from mac: 52:54:05:00:00:bb (chain=5, port=1)
2018-11-30 14:42:05,391 INFO Received packet from mac: 52:54:04:00:00:aa (chain=4, port=0)
2018-11-30 14:42:05,391 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-30 14:42:05,391 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-30 14:42:05,391 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-30 14:42:05,391 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-30 14:42:05,391 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-30 14:42:05,391 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-30 14:42:05,391 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-30 14:42:05,391 INFO Received packet from mac: 52:54:05:00:00:aa (chain=5, port=0)
2018-11-30 14:42:05,391 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-30 14:42:05,391 INFO End-to-end connectivity established
2018-11-30 14:42:05,410 INFO Cleared all existing streams
2018-11-30 14:42:05,453 INFO Created 12 traffic streams for port 0.
2018-11-30 14:42:05,460 INFO Created 12 traffic streams for port 1.
2018-11-30 14:42:05,467 INFO Starting to generate traffic...
2018-11-30 14:42:05,468 INFO Running traffic generator
2018-11-30 14:42:15,500 INFO TX: 185189590; RX: 28196401; Est. Dropped: 156993189; Est. Drop rate: 84.7743%
2018-11-30 14:42:25,519 INFO TX: 370536814; RX: 56420516; Est. Dropped: 314116298; Est. Drop rate: 84.7733%
2018-11-30 14:42:35,510 INFO TX: 555000192; RX: 84520122; Est. Dropped: 470480070; Est. Drop rate: 84.7712%
2018-11-30 14:42:35,510 INFO ...traffic generating ended.
2018-11-30 14:42:35,538 INFO Cleared all existing streams
2018-11-30 14:42:35,670 INFO Created 24 traffic streams for port 0.
2018-11-30 14:42:35,685 INFO Created 24 traffic streams for port 1.
2018-11-30 14:42:35,692 INFO Starting to generate traffic...
2018-11-30 14:42:35,692 INFO Running traffic generator


2018-11-30 14:42:38 - [local][warning]   - [1mCPU util. is high: 88.2%[22m
2018-11-30 14:42:45,730 INFO TX: 65536061; RX: 11742237; Est. Dropped: 53793824; Est. Drop rate: 82.0828%
2018-11-30 14:42:55,750 INFO TX: 131139367; RX: 23486073; Est. Dropped: 107653294; Est. Drop rate: 82.0908%
2018-11-30 14:43:05,744 INFO TX: 196505436; RX: 35203021; Est. Dropped: 161302415; Est. Drop rate: 82.0855%
2018-11-30 14:43:05,744 INFO ...traffic generating ended.
2018-11-30 14:43:05,754 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6550181). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-30 14:43:05,754 INFO Service chain 'EXT' run completed.
2018-11-30 14:43:05,754 INFO Clean up skipped.
2018-11-30 14:43:05,785 INFO Saving results in json file: /tmp/nfvbench/vsc_6c1n_18500000pps-1.json...
2018-11-30 14:43:05,802 INFO 
========== NFVBench Summary ==========
Date: 2018-11-30 14:42:02
NFVBench version 2.0.4
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 6
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  84.7712%   |        2,280         |                   20 |        40,549        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  82.0855%   |        1,661         |                   30 |        48,014        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |  949.1763 Mbps  |       9,250,000 pps       |     9,250,003 pps      |  1,412,464 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |  944.0745 Mbps  |       9,250,000 pps       |     9,250,003 pps      |  1,404,872 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   1.8933 Gbps   |      18,500,000 pps       |     18,500,006 pps     |  2,817,336 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+============+============+=============+
              |    0    |  46,250,016  | -39,506,580 (-85.4196%)  | 2,293 usec |  90 usec   | 40,549 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    1    |  46,250,016  | -38,551,652 (-83.3549%)  | 1,011 usec |  100 usec  | 40,484 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    2    |  46,250,016  | -39,947,559 (-86.3731%)  | 2,813 usec |  90 usec   | 32,497 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    3    |  46,250,016  | -38,530,548 (-83.3093%)  |  718 usec  |  100 usec  | 40,497 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    4    |  46,250,016  | -40,127,399 (-86.7619%)  | 3,604 usec |  100 usec  | 32,519 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    5    |  46,250,016  | -38,462,130 (-83.1613%)  | 1,625 usec |  100 usec  | 40,213 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  total  | 277,500,096  | -235,125,868 (-84.7300%) | 2,011 usec |  90 usec   | 40,549 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+---------------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |           TRex.RX.p0            |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+=================================+============+============+=============+
              |    0    |  46,250,016  | +64,378,436,384 (+139196.5711%) | 4,568 usec |  100 usec  | 32,279 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+
              |    1    |  46,250,016  | +64,378,479,325 (+139196.6639%) |  657 usec  |  100 usec  | 40,393 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+
              |    2    |  46,250,016  | +64,378,445,741 (+139196.5913%) | 4,020 usec |  100 usec  | 36,175 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+
              |    3    |  46,250,016  |     -38,835,326 (-83.9682%)     | 2,204 usec |  100 usec  | 24,546 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+
              |    4    |  46,250,016  |     -38,936,914 (-84.1879%)     | 2,465 usec |  20 usec   | 40,495 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+
              |    5    |  46,250,016  |     -38,698,254 (-83.6719%)     | 1,383 usec |  100 usec  | 24,578 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+
              |  total  | 277,500,096  | +193,018,890,956 (+69556.3330%) | 2,550 usec |  20 usec   | 40,495 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      10.0067 Gbps      |   1.7925 Gbps   |       9,250,000 pps       |     3,275,876 pps      |   586,810 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      10.0019 Gbps      |   1.7919 Gbps   |       9,250,000 pps       |     3,274,305 pps      |   586,623 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      20.0086 Gbps      |   3.5844 Gbps   |      18,500,000 pps       |     6,550,181 pps      |  1,173,433 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6550181). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+-------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p0  |       TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+=========================+============+============+=============+
              |    0    |  16,379,381  | -13,396,674 (-81.7899%) |  292 usec  |  30 usec   | 40,292 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |    1    |  16,379,381  | -13,378,025 (-81.6760%) |  741 usec  |  30 usec   | 35,926 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |    2    |  16,379,381  | -13,366,085 (-81.6031%) | 1,495 usec |  30 usec   | 36,257 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |    3    |  16,379,381  | -13,393,786 (-81.7722%) |  281 usec  |  30 usec   | 40,283 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |    4    |  16,379,381  | -13,732,064 (-83.8375%) |  933 usec  |  30 usec   | 48,014 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |    5    |  16,379,381  | -13,404,836 (-81.8397%) | 5,033 usec |  30 usec   | 40,247 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |  total  |  98,276,286  | -80,671,470 (-82.0864%) | 1,463 usec |  30 usec   | 48,014 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+----------------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |            TRex.RX.p0            |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==================================+============+============+=============+
              |    0    |  16,371,525  | +64,408,240,579 (+393416.2552%)  | 1,133 usec |  30 usec   | 31,976 usec |
              +---------+--------------+----------------------------------+------------+------------+-------------+
              |    1    |  16,371,525  | +64,408,241,107 (+393416.2585%)  |  918 usec  |  30 usec   | 24,267 usec |
              +---------+--------------+----------------------------------+------------+------------+-------------+
              |    2    |  16,371,525  | +64,408,241,148 (+393416.2587%)  | 1,402 usec |  30 usec   | 24,245 usec |
              +---------+--------------+----------------------------------+------------+------------+-------------+
              |    3    |  16,371,525  |     -13,474,868 (-82.3067%)      | 1,042 usec |  30 usec   | 24,275 usec |
              +---------+--------------+----------------------------------+------------+------------+-------------+
              |    4    |  16,371,525  |     -13,208,464 (-80.6795%)      | 5,435 usec |  30 usec   | 40,213 usec |
              +---------+--------------+----------------------------------+------------+------------+-------------+
              |    5    |  16,371,525  |     -13,487,208 (-82.3821%)      | 1,238 usec |  30 usec   | 24,234 usec |
              +---------+--------------+----------------------------------+------------+------------+-------------+
              |  total  |  98,229,150  | +193,184,552,294 (+196667.2340%) | 1,861 usec |  30 usec   | 40,213 usec |
              +---------+--------------+----------------------------------+------------+------------+-------------+
              

