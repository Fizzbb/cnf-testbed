2018-12-07 16:17:00,697 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-12-07 16:17:00,734 INFO EXT chain with OpenStack mode disabled
2018-12-07 16:17:00,735 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csp_3c2n_18500000pps-1.json
2018-12-07 16:17:00,736 INFO Connecting to TRex (127.0.0.1)...
2018-12-07 16:17:00,875 INFO Connected to TRex
2018-12-07 16:17:00,875 INFO    Port 0: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d1 pci=0000:1a:00.1 driver=net_i40e
2018-12-07 16:17:00,875 INFO    Port 1: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d2 pci=0000:1a:00.2 driver=net_i40e
2018-12-07 16:17:00,876 INFO ChainRunner initialized
2018-12-07 16:17:00,877 INFO Starting 3xEXT benchmark...
2018-12-07 16:17:00,982 INFO Polling ARP until successful...
2018-12-07 16:17:01,192 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-12-07 16:17:01,192 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-12-07 16:17:01,192 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-12-07 16:17:01,192 INFO ARP resolved successfully for port 0
2018-12-07 16:17:01,402 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-12-07 16:17:01,402 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-12-07 16:17:01,402 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-12-07 16:17:01,402 INFO ARP resolved successfully for port 1
2018-12-07 16:17:01,504 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa']
2018-12-07 16:17:01,504 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb']
2018-12-07 16:17:01,504 INFO Starting traffic generator to ensure end-to-end connectivity
2018-12-07 16:17:01,521 INFO Created 3 traffic streams for port 0.
2018-12-07 16:17:01,524 INFO Created 3 traffic streams for port 1.
2018-12-07 16:17:01,635 INFO Captured unique src mac 0/6, capturing return packets (retry 1/100)...
2018-12-07 16:17:03,757 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-12-07 16:17:03,757 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-12-07 16:17:03,757 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-12-07 16:17:03,757 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-12-07 16:17:03,757 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-12-07 16:17:03,757 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-12-07 16:17:03,757 INFO End-to-end connectivity established
2018-12-07 16:17:03,775 INFO Cleared all existing streams
2018-12-07 16:17:03,797 INFO Created 6 traffic streams for port 0.
2018-12-07 16:17:03,801 INFO Created 6 traffic streams for port 1.
2018-12-07 16:17:03,806 INFO Starting to generate traffic...
2018-12-07 16:17:03,806 INFO Running traffic generator
2018-12-07 16:17:13,834 INFO TX: 185193767; RX: 91353509; Est. Dropped: 93840258; Est. Drop rate: 50.6714%
2018-12-07 16:17:23,851 INFO TX: 370487920; RX: 182690685; Est. Dropped: 187797235; Est. Drop rate: 50.6892%
2018-12-07 16:17:33,843 INFO TX: 554994312; RX: 273568536; Est. Dropped: 281425776; Est. Drop rate: 50.7079%
2018-12-07 16:17:33,843 INFO ...traffic generating ended.
2018-12-07 16:17:33,867 INFO Cleared all existing streams
2018-12-07 16:17:33,933 INFO Created 12 traffic streams for port 0.
2018-12-07 16:17:33,941 INFO Created 12 traffic streams for port 1.
2018-12-07 16:17:33,945 INFO Starting to generate traffic...
2018-12-07 16:17:33,945 INFO Running traffic generator


2018-12-07 16:17:38 - [local][warning]   - [1mCPU util. is high: 88.5%[22m
2018-12-07 16:17:43,972 INFO TX: 65546629; RX: 51651013; Est. Dropped: 13895616; Est. Drop rate: 21.1996%
2018-12-07 16:17:53,989 INFO TX: 131130464; RX: 103346534; Est. Dropped: 27783930; Est. Drop rate: 21.1880%
2018-12-07 16:18:03,985 INFO TX: 196511970; RX: 154893739; Est. Dropped: 41618231; Est. Drop rate: 21.1785%
2018-12-07 16:18:03,985 INFO ...traffic generating ended.
2018-12-07 16:18:03,991 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6550399). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-12-07 16:18:03,991 INFO Service chain 'EXT' run completed.
2018-12-07 16:18:03,991 INFO Clean up skipped.
2018-12-07 16:18:04,018 INFO Saving results in json file: /tmp/nfvbench/csp_3c2n_18500000pps-1.json...
2018-12-07 16:18:04,032 INFO 
========== NFVBench Summary ==========
Date: 2018-12-07 16:17:00
NFVBench version 2.0.4
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 3
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  50.7079%   |         832          |                   60 |        1,229         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  21.1785%   |        1,240         |                   90 |        2,163         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2159 Gbps       |   2.5897 Gbps   |       9,250,000 pps       |     9,249,905 pps      |  3,853,647 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2159 Gbps       |   3.5383 Gbps   |       9,250,000 pps       |     9,249,905 pps      |  5,265,303 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4319 Gbps      |   6.1279 Gbps   |      18,500,000 pps       |     18,499,810 pps     |  9,118,950 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  92,499,052  | -53,915,670 (-58.2878%)  |  799 usec  |  90 usec   |  962 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  92,499,052  | -53,913,750 (-58.2857%)  |  731 usec  |  60 usec   |  930 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  92,499,052  | -54,058,309 (-58.4420%)  |  806 usec  |  100 usec  |  971 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,497,156  | -161,887,729 (-58.3385%) |  779 usec  |  60 usec   |  971 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  92,499,052  | -41,902,709 (-45.3007%)  | 1,077 usec |  300 usec  | 1,228 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  92,499,052  | -35,732,513 (-38.6301%)  |  565 usec  |  200 usec  |  681 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  92,499,052  | -41,902,825 (-45.3008%)  | 1,080 usec |  300 usec  | 1,229 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,497,156  | -119,538,047 (-43.0772%) |  907 usec  |  200 usec  | 1,229 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      10.0047 Gbps      |   6.8467 Gbps   |       9,250,000 pps       |     3,275,221 pps      |  2,241,382 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      10.0046 Gbps      |   8.9249 Gbps   |       9,250,000 pps       |     3,275,177 pps      |  2,921,741 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      20.0093 Gbps      |  15.7716 Gbps   |      18,500,000 pps       |     6,550,398 pps      |  5,163,123 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6550399). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+-------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |       TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+=========================+============+============+============+
              |    0    |  32,752,216  | -10,281,086 (-31.3905%) | 1,282 usec |  200 usec  | 1,685 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    1    |  32,752,216  | -10,460,233 (-31.9375%) | 1,075 usec |  100 usec  | 1,526 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    2    |  32,752,216  | -10,273,848 (-31.3684%) | 1,270 usec |  100 usec  | 1,736 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |  total  |  98,256,648  | -31,015,167 (-31.5655%) | 1,209 usec |  100 usec  | 1,736 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+-------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |       TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+=========================+============+============+============+
              |    0    |  32,751,774  | -4,909,286 (-14.9894%)  | 1,576 usec |  200 usec  | 2,129 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    1    |  32,751,774  |   -783,829 (-2.3932%)   |  653 usec  |  90 usec   | 1,145 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    2    |  32,751,774  | -4,909,949 (-14.9914%)  | 1,618 usec |  200 usec  | 2,163 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |  total  |  98,255,322  | -10,603,064 (-10.7913%) | 1,282 usec |  90 usec   | 2,163 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              

