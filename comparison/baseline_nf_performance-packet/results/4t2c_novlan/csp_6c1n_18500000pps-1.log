2018-11-30 09:41:27,184 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-30 09:41:27,222 INFO EXT chain with OpenStack mode disabled
2018-11-30 09:41:27,222 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csp_6c1n_18500000pps-1.json
2018-11-30 09:41:27,224 INFO Connecting to TRex (127.0.0.1)...
2018-11-30 09:41:27,361 INFO Connected to TRex
2018-11-30 09:41:27,361 INFO    Port 0: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d1 pci=0000:1a:00.1 driver=net_i40e
2018-11-30 09:41:27,361 INFO    Port 1: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d2 pci=0000:1a:00.2 driver=net_i40e
2018-11-30 09:41:27,362 INFO ChainRunner initialized
2018-11-30 09:41:27,363 INFO Starting 6xEXT benchmark...
2018-11-30 09:41:27,468 INFO Polling ARP until successful...
2018-11-30 09:41:27,681 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-30 09:41:27,681 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-30 09:41:27,681 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-30 09:41:27,681 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-30 09:41:27,681 INFO    ARP: port=0 chain=4 src IP=172.16.10.104 dst IP=172.16.10.14 -> MAC=52:54:04:00:00:aa
2018-11-30 09:41:27,681 INFO    ARP: port=0 chain=5 src IP=172.16.10.105 dst IP=172.16.10.15 -> MAC=52:54:05:00:00:aa
2018-11-30 09:41:27,681 INFO ARP resolved successfully for port 0
2018-11-30 09:41:27,894 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-30 09:41:27,894 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-30 09:41:27,894 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-30 09:41:27,894 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-30 09:41:27,894 INFO    ARP: port=1 chain=4 src IP=172.16.20.104 dst IP=172.16.20.14 -> MAC=52:54:04:00:00:bb
2018-11-30 09:41:27,894 INFO    ARP: port=1 chain=5 src IP=172.16.20.105 dst IP=172.16.20.15 -> MAC=52:54:05:00:00:bb
2018-11-30 09:41:27,894 INFO ARP resolved successfully for port 1
2018-11-30 09:41:27,996 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa', '52:54:04:00:00:aa', '52:54:05:00:00:aa']
2018-11-30 09:41:27,996 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb', '52:54:04:00:00:bb', '52:54:05:00:00:bb']
2018-11-30 09:41:27,996 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-30 09:41:28,029 INFO Created 6 traffic streams for port 0.
2018-11-30 09:41:28,034 INFO Created 6 traffic streams for port 1.
2018-11-30 09:41:28,146 INFO Captured unique src mac 0/12, capturing return packets (retry 1/100)...
2018-11-30 09:41:30,270 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-30 09:41:30,270 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-30 09:41:30,270 INFO Received packet from mac: 52:54:04:00:00:bb (chain=4, port=1)
2018-11-30 09:41:30,270 INFO Received packet from mac: 52:54:05:00:00:bb (chain=5, port=1)
2018-11-30 09:41:30,270 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-30 09:41:30,270 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-30 09:41:30,270 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-30 09:41:30,270 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-30 09:41:30,270 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-30 09:41:30,270 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-30 09:41:30,270 INFO Received packet from mac: 52:54:05:00:00:aa (chain=5, port=0)
2018-11-30 09:41:30,270 INFO Received packet from mac: 52:54:04:00:00:aa (chain=4, port=0)
2018-11-30 09:41:30,270 INFO End-to-end connectivity established
2018-11-30 09:41:30,290 INFO Cleared all existing streams
2018-11-30 09:41:30,334 INFO Created 12 traffic streams for port 0.
2018-11-30 09:41:30,341 INFO Created 12 traffic streams for port 1.
2018-11-30 09:41:30,348 INFO Starting to generate traffic...
2018-11-30 09:41:30,348 INFO Running traffic generator
2018-11-30 09:41:40,382 INFO TX: 185205038; RX: 92043969; Est. Dropped: 93161069; Est. Drop rate: 50.3016%
2018-11-30 09:41:50,402 INFO TX: 370555612; RX: 184070075; Est. Dropped: 186485537; Est. Drop rate: 50.3259%
2018-11-30 09:42:00,385 INFO TX: 555000192; RX: 275603356; Est. Dropped: 279396836; Est. Drop rate: 50.3418%
2018-11-30 09:42:00,385 INFO ...traffic generating ended.
2018-11-30 09:42:00,416 INFO Cleared all existing streams
2018-11-30 09:42:00,548 INFO Created 24 traffic streams for port 0.
2018-11-30 09:42:00,563 INFO Created 24 traffic streams for port 1.
2018-11-30 09:42:00,569 INFO Starting to generate traffic...
2018-11-30 09:42:00,570 INFO Running traffic generator


2018-11-30 09:42:04 - [local][warning]   - [1mCPU util. is high: 85.2%[22m
2018-11-30 09:42:10,602 INFO TX: 65536813; RX: 54904682; Est. Dropped: 10632131; Est. Drop rate: 16.2231%
2018-11-30 09:42:20,622 INFO TX: 131139843; RX: 109846308; Est. Dropped: 21293535; Est. Drop rate: 16.2373%
2018-11-30 09:42:30,615 INFO TX: 196503942; RX: 164607952; Est. Dropped: 31895990; Est. Drop rate: 16.2317%
2018-11-30 09:42:30,615 INFO ...traffic generating ended.
2018-11-30 09:42:30,624 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6550131). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-30 09:42:30,624 INFO Service chain 'EXT' run completed.
2018-11-30 09:42:30,624 INFO Clean up skipped.
2018-11-30 09:42:30,654 INFO Saving results in json file: /tmp/nfvbench/csp_6c1n_18500000pps-1.json...
2018-11-30 09:42:30,671 INFO 
========== NFVBench Summary ==========
Date: 2018-11-30 09:41:27
NFVBench version 2.0.4
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 6
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  50.3418%   |         628          |                   30 |         794          |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  16.2317%   |        1,024         |                   20 |        1,416         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |   3.0987 Gbps   |       9,250,000 pps       |     9,250,003 pps      |  4,611,217 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |   3.0748 Gbps   |       9,250,000 pps       |     9,250,003 pps      |  4,575,561 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   6.1735 Gbps   |      18,500,000 pps       |     18,500,006 pps     |  9,186,778 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  46,250,016  | -23,353,016 (-50.4930%)  |  636 usec  |  50 usec   |  784 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  46,250,016  | -23,152,632 (-50.0597%)  |  633 usec  |  200 usec  |  777 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  46,250,016  | -23,142,895 (-50.0387%)  |  640 usec  |  40 usec   |  780 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  46,250,016  | -23,164,700 (-50.0858%)  |  624 usec  |  200 usec  |  789 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  46,250,016  | -23,189,545 (-50.1395%)  |  647 usec  |  100 usec  |  771 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  46,250,016  | -23,160,790 (-50.0774%)  |  623 usec  |  200 usec  |  779 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,500,096  | -139,163,578 (-50.1490%) |  634 usec  |  40 usec   |  789 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+---------------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |           TRex.RX.p0            |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+=================================+============+============+============+
              |    0    |  46,250,016  | +60,084,608,157 (+129912.6213%) |  627 usec  |  30 usec   |  786 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              |    1    |  46,250,016  | +60,084,608,063 (+129912.6211%) |  623 usec  |  100 usec  |  777 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              |    2    |  46,250,016  | +60,084,615,739 (+129912.6377%) |  621 usec  |  30 usec   |  791 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              |    3    |  46,250,016  |     -23,443,293 (-50.6882%)     |  629 usec  |  100 usec  |  794 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              |    4    |  46,250,016  |     -23,312,048 (-50.4044%)     |  617 usec  |  40 usec   |  786 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              |    5    |  46,250,016  |     -23,422,336 (-50.6429%)     |  631 usec  |  100 usec  |  770 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              |  total  | 277,500,096  | +180,183,654,282 (+64931.0241%) |  625 usec  |  30 usec   |  794 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      10.0050 Gbps      |   8.4076 Gbps   |       9,250,000 pps       |     3,275,314 pps      |  2,752,365 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      10.0035 Gbps      |   8.3532 Gbps   |       9,250,000 pps       |     3,274,817 pps      |  2,734,565 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      20.0085 Gbps      |  16.7607 Gbps   |      18,500,000 pps       |     6,550,131 pps      |  5,486,930 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6550131). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+-------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |       TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+=========================+============+============+============+
              |    0    |  16,376,572  | -2,601,563 (-15.8859%)  | 1,014 usec |  20 usec   | 1,298 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    1    |  16,376,572  | -2,608,038 (-15.9254%)  |  995 usec  |  50 usec   | 1,314 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    2    |  16,376,572  | -2,563,352 (-15.6526%)  | 1,032 usec |  20 usec   | 1,370 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    3    |  16,376,572  | -2,638,909 (-16.1139%)  | 1,005 usec |  30 usec   | 1,291 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    4    |  16,376,572  | -2,640,217 (-16.1219%)  | 1,061 usec |  30 usec   | 1,362 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    5    |  16,376,572  | -2,636,379 (-16.0985%)  | 1,044 usec |  50 usec   | 1,316 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |  total  |  98,259,432  | -15,688,458 (-15.9664%) | 1,025 usec |  20 usec   | 1,370 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+----------------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |            TRex.RX.p0            |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==================================+============+============+============+
              |    0    |  16,374,085  | +60,114,055,127 (+367129.2480%)  |  997 usec  |  90 usec   | 1,309 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              |    1    |  16,374,085  | +60,114,051,286 (+367129.2245%)  | 1,011 usec |  40 usec   | 1,282 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              |    2    |  16,374,085  | +60,114,058,786 (+367129.2703%)  | 1,012 usec |  80 usec   | 1,342 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              |    3    |  16,374,085  |      -2,780,048 (-16.9783%)      | 1,035 usec |  100 usec  | 1,416 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              |    4    |  16,374,085  |      -2,635,081 (-16.0930%)      | 1,045 usec |  30 usec   | 1,367 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              |    5    |  16,374,085  |      -2,757,476 (-16.8405%)      | 1,054 usec |  40 usec   | 1,360 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              |  total  |  98,244,510  | +180,333,992,594 (+183556.3052%) | 1,026 usec |  30 usec   | 1,416 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              

