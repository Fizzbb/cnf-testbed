2018-11-29 08:58:36,669 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-29 08:58:36,706 INFO EXT chain with OpenStack mode disabled
2018-11-29 08:58:36,706 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/vsc_4c1n_18500000pps-1.json
2018-11-29 08:58:36,708 INFO Connecting to TRex (127.0.0.1)...
2018-11-29 08:58:36,846 INFO Connected to TRex
2018-11-29 08:58:36,846 INFO    Port 0: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d1 pci=0000:1a:00.1 driver=net_i40e
2018-11-29 08:58:36,846 INFO    Port 1: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d2 pci=0000:1a:00.2 driver=net_i40e
2018-11-29 08:58:36,847 INFO ChainRunner initialized
2018-11-29 08:58:36,848 INFO Starting 4xEXT benchmark...
2018-11-29 08:58:36,953 INFO Polling ARP until successful...
2018-11-29 08:58:37,164 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-29 08:58:37,164 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-29 08:58:37,164 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-29 08:58:37,164 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-29 08:58:37,164 INFO ARP resolved successfully for port 0
2018-11-29 08:58:37,375 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-29 08:58:37,375 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-29 08:58:37,375 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-29 08:58:37,375 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-29 08:58:37,375 INFO ARP resolved successfully for port 1
2018-11-29 08:58:37,476 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa']
2018-11-29 08:58:37,476 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb']
2018-11-29 08:58:37,477 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-29 08:58:37,499 INFO Created 4 traffic streams for port 0.
2018-11-29 08:58:37,502 INFO Created 4 traffic streams for port 1.
2018-11-29 08:58:37,614 INFO Captured unique src mac 0/8, capturing return packets (retry 1/100)...
2018-11-29 08:58:39,737 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-29 08:58:39,737 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-29 08:58:39,737 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-29 08:58:39,737 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-29 08:58:39,737 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-29 08:58:39,737 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-29 08:58:39,737 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-29 08:58:39,737 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-29 08:58:39,737 INFO End-to-end connectivity established
2018-11-29 08:58:39,756 INFO Cleared all existing streams
2018-11-29 08:58:39,786 INFO Created 8 traffic streams for port 0.
2018-11-29 08:58:39,791 INFO Created 8 traffic streams for port 1.
2018-11-29 08:58:39,797 INFO Starting to generate traffic...
2018-11-29 08:58:39,797 INFO Running traffic generator
2018-11-29 08:58:49,826 INFO TX: 185203228; RX: 20626437; Est. Dropped: 164576791; Est. Drop rate: 88.8628%
2018-11-29 08:58:59,844 INFO TX: 370521101; RX: 41256663; Est. Dropped: 329264438; Est. Drop rate: 88.8652%
2018-11-29 08:59:09,836 INFO TX: 554999216; RX: 61758092; Est. Dropped: 493241124; Est. Drop rate: 88.8724%
2018-11-29 08:59:09,836 INFO ...traffic generating ended.
2018-11-29 08:59:09,866 INFO Cleared all existing streams
2018-11-29 08:59:09,954 INFO Created 16 traffic streams for port 0.
2018-11-29 08:59:09,965 INFO Created 16 traffic streams for port 1.
2018-11-29 08:59:09,969 INFO Starting to generate traffic...
2018-11-29 08:59:09,969 INFO Running traffic generator


2018-11-29 08:59:13 - [local][warning]   - [1mCPU util. is high: 88.3%[22m
2018-11-29 08:59:19,999 INFO TX: 65545970; RX: 15744172; Est. Dropped: 49801798; Est. Drop rate: 75.9800%
2018-11-29 08:59:30,022 INFO TX: 131173284; RX: 31510336; Est. Dropped: 99662948; Est. Drop rate: 75.9781%
2018-11-29 08:59:40,014 INFO TX: 196517460; RX: 47217192; Est. Dropped: 149300268; Est. Drop rate: 75.9730%
2018-11-29 08:59:40,014 INFO ...traffic generating ended.
2018-11-29 08:59:40,020 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6550582). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-29 08:59:40,021 INFO Service chain 'EXT' run completed.
2018-11-29 08:59:40,021 INFO Clean up skipped.
2018-11-29 08:59:40,050 INFO Saving results in json file: /tmp/nfvbench/vsc_4c1n_18500000pps-1.json...
2018-11-29 08:59:40,064 INFO 
========== NFVBench Summary ==========
Date: 2018-11-29 08:58:36
NFVBench version 2.0.4
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 4
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  88.8724%   |        3,270         |                  300 |        32,316        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  75.9730%   |        1,614         |                   50 |        32,579        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |  691.3751 Mbps  |       9,250,000 pps       |     9,249,986 pps      |  1,028,832 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |  692.0061 Mbps  |       9,250,000 pps       |     9,249,986 pps      |  1,029,771 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   1.3834 Gbps   |      18,500,000 pps       |     18,499,972 pps     |  2,058,603 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+============+============+=============+
              |    0    |  69,374,902  | -61,438,997 (-88.5608%)  | 3,060 usec |  300 usec  | 28,528 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    1    |  69,374,902  | -61,537,387 (-88.7027%)  | 2,976 usec |  300 usec  | 28,495 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    2    |  69,374,902  | -61,408,348 (-88.5167%)  | 3,165 usec |  300 usec  | 28,467 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    3    |  69,374,902  | -62,249,659 (-89.7294%)  | 3,736 usec |  300 usec  | 28,548 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  total  | 277,499,608  | -246,634,391 (-88.8774%) | 3,234 usec |  300 usec  | 28,548 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+============+============+=============+
              |    0    |  69,374,902  | -61,837,830 (-89.1357%)  | 3,733 usec |  300 usec  | 32,316 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    1    |  69,374,902  | -61,975,159 (-89.3337%)  | 3,632 usec |  300 usec  | 28,591 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    2    |  69,374,902  | -61,836,858 (-89.1343%)  | 3,289 usec |  300 usec  | 28,548 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    3    |  69,374,902  | -60,956,375 (-87.8652%)  | 2,576 usec |  300 usec  | 24,537 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  total  | 277,499,608  | -246,606,222 (-88.8672%) | 3,308 usec |  300 usec  | 32,316 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      10.0050 Gbps      |   2.4051 Gbps   |       9,250,000 pps       |     3,275,327 pps      |   787,337 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      10.0048 Gbps      |   2.4027 Gbps   |       9,250,000 pps       |     3,275,254 pps      |   786,568 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      20.0098 Gbps      |   4.8078 Gbps   |      18,500,000 pps       |     6,550,581 pps      |  1,573,905 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6550582). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+-------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p0  |       TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+=========================+============+============+=============+
              |    0    |  24,564,957  | -18,399,788 (-74.9026%) | 2,581 usec |  100 usec  | 28,593 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |    1    |  24,564,957  | -18,647,610 (-75.9114%) | 1,856 usec |  400 usec  | 32,579 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |    2    |  24,564,957  | -18,522,342 (-75.4015%) | 1,878 usec |  400 usec  | 28,728 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |    3    |  24,564,957  | -19,069,695 (-77.6297%) | 1,189 usec |  400 usec  | 28,718 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |  total  |  98,259,828  | -74,639,435 (-75.9613%) | 1,876 usec |  100 usec  | 32,579 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+-------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |       TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+=========================+============+============+=============+
              |    0    |  24,564,408  | -18,740,971 (-76.2932%) | 1,039 usec |  400 usec  | 28,694 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |    1    |  24,564,408  | -18,971,840 (-77.2330%) |  943 usec  |  400 usec  | 28,724 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |    2    |  24,564,408  | -18,887,536 (-76.8898%) | 2,330 usec |  50 usec   | 28,664 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |    3    |  24,564,408  | -18,060,230 (-73.5219%) | 1,106 usec |  400 usec  | 24,762 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |  total  |  98,257,632  | -74,660,577 (-75.9845%) | 1,355 usec |  50 usec   | 28,724 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              

