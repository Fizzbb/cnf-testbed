2018-11-28 15:12:04,550 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-28 15:12:04,588 INFO EXT chain with OpenStack mode disabled
2018-11-28 15:12:04,588 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csp_6c1n_18500000pps-1.json
2018-11-28 15:12:04,590 INFO Connecting to TRex (127.0.0.1)...
2018-11-28 15:12:04,726 INFO Connected to TRex
2018-11-28 15:12:04,726 INFO    Port 0: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d1 pci=0000:1a:00.1 driver=net_i40e
2018-11-28 15:12:04,726 INFO    Port 1: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d2 pci=0000:1a:00.2 driver=net_i40e
2018-11-28 15:12:04,727 INFO ChainRunner initialized
2018-11-28 15:12:04,728 INFO Starting 6xEXT benchmark...
2018-11-28 15:12:04,833 INFO Polling ARP until successful...
2018-11-28 15:12:04,966 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-28 15:12:04,967 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-28 15:12:04,967 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-28 15:12:04,967 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-28 15:12:04,967 INFO    ARP: port=0 chain=4 src IP=172.16.10.104 dst IP=172.16.10.14 -> MAC=52:54:04:00:00:aa
2018-11-28 15:12:04,967 INFO    ARP: port=0 chain=5 src IP=172.16.10.105 dst IP=172.16.10.15 -> MAC=52:54:05:00:00:aa
2018-11-28 15:12:04,967 INFO ARP resolved successfully for port 0
2018-11-28 15:12:05,104 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-28 15:12:05,104 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-28 15:12:05,104 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-28 15:12:05,104 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-28 15:12:05,104 INFO    ARP: port=1 chain=4 src IP=172.16.20.104 dst IP=172.16.20.14 -> MAC=52:54:04:00:00:bb
2018-11-28 15:12:05,104 INFO    ARP: port=1 chain=5 src IP=172.16.20.105 dst IP=172.16.20.15 -> MAC=52:54:05:00:00:bb
2018-11-28 15:12:05,104 INFO ARP resolved successfully for port 1
2018-11-28 15:12:05,206 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa', '52:54:04:00:00:aa', '52:54:05:00:00:aa']
2018-11-28 15:12:05,206 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb', '52:54:04:00:00:bb', '52:54:05:00:00:bb']
2018-11-28 15:12:05,206 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-28 15:12:05,239 INFO Created 6 traffic streams for port 0.
2018-11-28 15:12:05,244 INFO Created 6 traffic streams for port 1.
2018-11-28 15:12:05,358 INFO Captured unique src mac 0/12, capturing return packets (retry 1/100)...
2018-11-28 15:12:07,480 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-28 15:12:07,480 INFO Received packet from mac: 52:54:04:00:00:bb (chain=4, port=1)
2018-11-28 15:12:07,480 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-28 15:12:07,480 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-28 15:12:07,481 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-28 15:12:07,481 INFO Received packet from mac: 52:54:05:00:00:bb (chain=5, port=1)
2018-11-28 15:12:07,481 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-28 15:12:07,481 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-28 15:12:07,481 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-28 15:12:07,481 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-28 15:12:07,481 INFO Received packet from mac: 52:54:04:00:00:aa (chain=4, port=0)
2018-11-28 15:12:07,481 INFO Received packet from mac: 52:54:05:00:00:aa (chain=5, port=0)
2018-11-28 15:12:07,481 INFO End-to-end connectivity established
2018-11-28 15:12:07,500 INFO Cleared all existing streams
2018-11-28 15:12:07,543 INFO Created 12 traffic streams for port 0.
2018-11-28 15:12:07,550 INFO Created 12 traffic streams for port 1.
2018-11-28 15:12:07,557 INFO Starting to generate traffic...
2018-11-28 15:12:07,557 INFO Running traffic generator
2018-11-28 15:12:17,591 INFO TX: 185206878; RX: 47879712; Est. Dropped: 137327166; Est. Drop rate: 74.1480%
2018-11-28 15:12:27,610 INFO TX: 370552178; RX: 95818380; Est. Dropped: 274733798; Est. Drop rate: 74.1417%
2018-11-28 15:12:37,601 INFO TX: 554999952; RX: 143548623; Est. Dropped: 411451329; Est. Drop rate: 74.1354%
2018-11-28 15:12:37,601 INFO ...traffic generating ended.
2018-11-28 15:12:37,629 INFO Cleared all existing streams
2018-11-28 15:12:37,761 INFO Created 24 traffic streams for port 0.
2018-11-28 15:12:37,776 INFO Created 24 traffic streams for port 1.
2018-11-28 15:12:37,783 INFO Starting to generate traffic...
2018-11-28 15:12:37,783 INFO Running traffic generator


2018-11-28 15:12:42 - [local][warning]   - [1mCPU util. is high: 88.4%[22m
2018-11-28 15:12:47,817 INFO TX: 65548793; RX: 28744500; Est. Dropped: 36804293; Est. Drop rate: 56.1479%
2018-11-28 15:12:57,836 INFO TX: 131152763; RX: 57652617; Est. Dropped: 73500146; Est. Drop rate: 56.0416%
2018-11-28 15:13:07,831 INFO TX: 196517523; RX: 86273764; Est. Dropped: 110243759; Est. Drop rate: 56.0987%
2018-11-28 15:13:07,831 INFO ...traffic generating ended.
2018-11-28 15:13:07,840 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6550584). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-28 15:13:07,840 INFO Service chain 'EXT' run completed.
2018-11-28 15:13:07,840 INFO Clean up skipped.
2018-11-28 15:13:07,871 INFO Saving results in json file: /tmp/nfvbench/csp_6c1n_18500000pps-1.json...
2018-11-28 15:13:07,888 INFO 
========== NFVBench Summary ==========
Date: 2018-11-28 15:12:04
NFVBench version 2.0.4
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 6
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  74.1354%   |         618          |                   90 |         841          |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  56.0987%   |        1,057         |                   20 |        1,378         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |   1.5957 Gbps   |       9,250,000 pps       |     9,249,999 pps      |  2,374,553 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |   1.6198 Gbps   |       9,250,000 pps       |     9,249,999 pps      |  2,410,400 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   3.2155 Gbps   |      18,500,000 pps       |     18,499,998 pps     |  4,784,953 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  46,249,996  | -34,375,174 (-74.3247%)  |  612 usec  |  200 usec  |  826 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  46,249,996  | -34,376,881 (-74.3284%)  |  609 usec  |  200 usec  |  829 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  46,249,996  | -34,380,046 (-74.3352%)  |  611 usec  |  200 usec  |  830 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  46,249,996  | -34,376,758 (-74.3281%)  |  617 usec  |  200 usec  |  834 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  46,249,996  | -34,379,108 (-74.3332%)  |  620 usec  |  200 usec  |  838 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  46,249,996  | -34,375,406 (-74.3252%)  |  624 usec  |  200 usec  |  841 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,976  | -206,263,373 (-74.3291%) |  616 usec  |  200 usec  |  841 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+---------------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |           TRex.RX.p0            |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+=================================+============+============+============+
              |    0    |  46,249,996  | +64,378,628,978 (+139197.0477%) |  617 usec  |  100 usec  |  744 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              |    1    |  46,249,996  | +64,378,629,249 (+139197.0483%) |  620 usec  |  100 usec  |  748 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              |    2    |  46,249,996  | +64,378,629,417 (+139197.0486%) |  623 usec  |  90 usec   |  755 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              |    3    |  46,249,996  |     -34,196,729 (-73.9389%)     |  624 usec  |  100 usec  |  750 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              |    4    |  46,249,996  |     -34,195,675 (-73.9366%)     |  629 usec  |  100 usec  |  761 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              |    5    |  46,249,996  |     -34,197,383 (-73.9403%)     |  630 usec  |  100 usec  |  767 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              |  total  | 277,499,976  | +193,033,297,857 (+69561.5548%) |  624 usec  |  90 usec   |  767 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      10.0052 Gbps      |   5.2430 Gbps   |       9,250,000 pps       |     3,275,388 pps      |  1,716,392 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      10.0046 Gbps      |   3.5416 Gbps   |       9,250,000 pps       |     3,275,195 pps      |  1,159,399 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      20.0099 Gbps      |   8.7846 Gbps   |      18,500,000 pps       |     6,550,583 pps      |  2,875,791 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6550584). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+-------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |       TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+=========================+============+============+============+
              |    0    |  16,376,945  | -7,792,986 (-47.5851%)  |  915 usec  |  30 usec   | 1,132 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    1    |  16,376,944  | -7,796,228 (-47.6049%)  |  925 usec  |  20 usec   | 1,138 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    2    |  16,376,944  | -7,793,500 (-47.5882%)  |  938 usec  |  30 usec   | 1,161 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    3    |  16,376,945  | -7,794,637 (-47.5952%)  |  932 usec  |  30 usec   | 1,164 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    4    |  16,376,944  | -7,795,865 (-47.6027%)  |  953 usec  |  20 usec   | 1,176 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    5    |  16,376,945  | -7,796,678 (-47.6076%)  |  945 usec  |  20 usec   | 1,175 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |  total  |  98,261,667  | -46,769,894 (-47.5973%) |  935 usec  |  20 usec   | 1,176 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+----------------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |            TRex.RX.p0            |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==================================+============+============+============+
              |    0    |  16,375,976  | +64,408,359,563 (+393310.0510%)  | 1,115 usec |  200 usec  | 1,309 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              |    1    |  16,375,976  | +64,408,359,679 (+393310.0517%)  | 1,124 usec |  200 usec  | 1,324 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              |    2    |  16,375,976  | +64,408,359,898 (+393310.0531%)  | 1,141 usec |  200 usec  | 1,338 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              |    3    |  16,375,976  |     -10,579,015 (-64.6008%)      | 1,149 usec |  200 usec  | 1,347 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              |    4    |  16,375,976  |     -10,578,529 (-64.5979%)      | 1,154 usec |  200 usec  | 1,362 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              |    5    |  16,375,976  |     -10,578,806 (-64.5995%)      | 1,168 usec |  200 usec  | 1,378 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              |  total  |  98,255,856  | +193,193,342,790 (+196622.7263%) | 1,142 usec |  200 usec  | 1,378 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              

