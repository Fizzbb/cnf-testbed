2018-11-28 15:33:03,389 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-28 15:33:03,428 INFO EXT chain with OpenStack mode disabled
2018-11-28 15:33:03,429 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csp_8c1n_18500000pps-1.json
2018-11-28 15:33:03,430 INFO Connecting to TRex (127.0.0.1)...
2018-11-28 15:33:03,571 INFO Connected to TRex
2018-11-28 15:33:03,571 INFO    Port 0: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d1 pci=0000:1a:00.1 driver=net_i40e
2018-11-28 15:33:03,571 INFO    Port 1: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d2 pci=0000:1a:00.2 driver=net_i40e
2018-11-28 15:33:03,573 INFO ChainRunner initialized
2018-11-28 15:33:03,574 INFO Starting 8xEXT benchmark...
2018-11-28 15:33:03,678 INFO Polling ARP until successful...
2018-11-28 15:33:03,893 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-28 15:33:03,893 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-28 15:33:03,893 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-28 15:33:03,893 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-28 15:33:03,893 INFO    ARP: port=0 chain=4 src IP=172.16.10.104 dst IP=172.16.10.14 -> MAC=52:54:04:00:00:aa
2018-11-28 15:33:03,893 INFO    ARP: port=0 chain=5 src IP=172.16.10.105 dst IP=172.16.10.15 -> MAC=52:54:05:00:00:aa
2018-11-28 15:33:03,893 INFO    ARP: port=0 chain=6 src IP=172.16.10.106 dst IP=172.16.10.16 -> MAC=52:54:06:00:00:aa
2018-11-28 15:33:03,893 INFO    ARP: port=0 chain=7 src IP=172.16.10.107 dst IP=172.16.10.17 -> MAC=52:54:07:00:00:aa
2018-11-28 15:33:03,893 INFO ARP resolved successfully for port 0
2018-11-28 15:33:04,108 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-28 15:33:04,108 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-28 15:33:04,108 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-28 15:33:04,108 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-28 15:33:04,108 INFO    ARP: port=1 chain=4 src IP=172.16.20.104 dst IP=172.16.20.14 -> MAC=52:54:04:00:00:bb
2018-11-28 15:33:04,108 INFO    ARP: port=1 chain=5 src IP=172.16.20.105 dst IP=172.16.20.15 -> MAC=52:54:05:00:00:bb
2018-11-28 15:33:04,108 INFO    ARP: port=1 chain=6 src IP=172.16.20.106 dst IP=172.16.20.16 -> MAC=52:54:06:00:00:bb
2018-11-28 15:33:04,108 INFO    ARP: port=1 chain=7 src IP=172.16.20.107 dst IP=172.16.20.17 -> MAC=52:54:07:00:00:bb
2018-11-28 15:33:04,108 INFO ARP resolved successfully for port 1
2018-11-28 15:33:04,210 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa', '52:54:04:00:00:aa', '52:54:05:00:00:aa', '52:54:06:00:00:aa', '52:54:07:00:00:aa']
2018-11-28 15:33:04,210 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb', '52:54:04:00:00:bb', '52:54:05:00:00:bb', '52:54:06:00:00:bb', '52:54:07:00:00:bb']
2018-11-28 15:33:04,210 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-28 15:33:04,255 INFO Created 8 traffic streams for port 0.
2018-11-28 15:33:04,261 INFO Created 8 traffic streams for port 1.
2018-11-28 15:33:04,398 INFO Captured unique src mac 0/16, capturing return packets (retry 1/100)...
2018-11-28 15:33:06,527 INFO Received packet from mac: 52:54:05:00:00:bb (chain=5, port=1)
2018-11-28 15:33:06,527 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-28 15:33:06,527 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-28 15:33:06,527 INFO Received packet from mac: 52:54:04:00:00:bb (chain=4, port=1)
2018-11-28 15:33:06,528 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-28 15:33:06,528 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-28 15:33:06,528 INFO Received packet from mac: 52:54:06:00:00:bb (chain=6, port=1)
2018-11-28 15:33:06,528 INFO Received packet from mac: 52:54:07:00:00:bb (chain=7, port=1)
2018-11-28 15:33:06,528 INFO Received packet from mac: 52:54:04:00:00:aa (chain=4, port=0)
2018-11-28 15:33:06,528 INFO Received packet from mac: 52:54:05:00:00:aa (chain=5, port=0)
2018-11-28 15:33:06,528 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-28 15:33:06,528 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-28 15:33:06,528 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-28 15:33:06,528 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-28 15:33:06,528 INFO Received packet from mac: 52:54:06:00:00:aa (chain=6, port=0)
2018-11-28 15:33:06,528 INFO Received packet from mac: 52:54:07:00:00:aa (chain=7, port=0)
2018-11-28 15:33:06,528 INFO End-to-end connectivity established
2018-11-28 15:33:06,549 INFO Cleared all existing streams
2018-11-28 15:33:06,607 INFO Created 16 traffic streams for port 0.
2018-11-28 15:33:06,616 INFO Created 16 traffic streams for port 1.
2018-11-28 15:33:06,625 INFO Starting to generate traffic...
2018-11-28 15:33:06,625 INFO Running traffic generator
2018-11-28 15:33:16,662 INFO TX: 185196860; RX: 46961504; Est. Dropped: 138235356; Est. Drop rate: 74.6424%
2018-11-28 15:33:26,682 INFO TX: 370589758; RX: 93880160; Est. Dropped: 276709598; Est. Drop rate: 74.6674%
2018-11-28 15:33:36,673 INFO TX: 554999984; RX: 140549742; Est. Dropped: 414450242; Est. Drop rate: 74.6757%
2018-11-28 15:33:36,673 INFO ...traffic generating ended.
2018-11-28 15:33:36,703 INFO Cleared all existing streams
2018-11-28 15:33:36,878 INFO Created 32 traffic streams for port 0.
2018-11-28 15:33:36,899 INFO Created 32 traffic streams for port 1.
2018-11-28 15:33:36,907 INFO Starting to generate traffic...
2018-11-28 15:33:36,907 INFO Running traffic generator


2018-11-28 15:33:40 - [local][warning]   - [1mCPU util. is high: 86.5%[22m
2018-11-28 15:33:46,945 INFO TX: 65540245; RX: 27904939; Est. Dropped: 37635306; Est. Drop rate: 57.4232%
2018-11-28 15:33:56,966 INFO TX: 131152901; RX: 55799770; Est. Dropped: 75353131; Est. Drop rate: 57.4544%
2018-11-28 15:34:06,965 INFO TX: 196511320; RX: 83576466; Est. Dropped: 112934854; Est. Drop rate: 57.4699%
2018-11-28 15:34:06,965 INFO ...traffic generating ended.
2018-11-28 15:34:06,974 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6550377). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-28 15:34:06,974 INFO Service chain 'EXT' run completed.
2018-11-28 15:34:06,975 INFO Clean up skipped.
2018-11-28 15:34:07,008 INFO Saving results in json file: /tmp/nfvbench/csp_8c1n_18500000pps-1.json...
2018-11-28 15:34:07,027 INFO 
========== NFVBench Summary ==========
Date: 2018-11-28 15:33:03
NFVBench version 2.0.4
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 8
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  74.6757%   |         642          |                  200 |         867          |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  57.4699%   |        1,083         |                  200 |        1,401         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |   1.5696 Gbps   |       9,250,000 pps       |     9,249,999 pps      |  2,335,738 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |   1.5787 Gbps   |       9,250,000 pps       |     9,249,999 pps      |  2,349,253 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   3.1483 Gbps   |      18,500,000 pps       |     18,499,998 pps     |  4,684,991 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  34,687,499  | -25,928,480 (-74.7488%)  |  637 usec  |  200 usec  |  777 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  34,687,499  | -25,928,437 (-74.7486%)  |  638 usec  |  300 usec  |  783 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  34,687,499  | -25,928,453 (-74.7487%)  |  640 usec  |  200 usec  |  836 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  34,687,499  | -25,928,375 (-74.7485%)  |  640 usec  |  200 usec  |  785 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  34,687,499  | -25,928,350 (-74.7484%)  |  644 usec  |  300 usec  |  782 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  34,687,499  | -25,928,225 (-74.7480%)  |  642 usec  |  300 usec  |  772 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  34,687,499  | -25,928,751 (-74.7496%)  |  650 usec  |  300 usec  |  867 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  34,687,499  | -25,928,778 (-74.7496%)  |  650 usec  |  200 usec  |  773 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,992  | -207,427,849 (-74.7488%) |  643 usec  |  200 usec  |  867 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+---------------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |           TRex.RX.p0            |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+=================================+============+============+============+
              |    0    |  34,687,499  | +64,389,829,537 (+185628.3428%) |  636 usec  |  300 usec  |  763 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              |    1    |  34,687,499  | +64,389,829,519 (+185628.3427%) |  638 usec  |  200 usec  |  762 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              |    2    |  34,687,499  |     -25,877,691 (-74.6024%)     |  638 usec  |  300 usec  |  762 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              |    3    |  34,687,499  |     -25,877,476 (-74.6017%)     |  642 usec  |  300 usec  |  766 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              |    4    |  34,687,499  |     -25,878,077 (-74.6035%)     |  642 usec  |  300 usec  |  766 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              |    5    |  34,687,499  |     -25,877,566 (-74.6020%)     |  647 usec  |  300 usec  |  768 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              |    6    |  34,687,499  | +64,389,829,558 (+185628.3428%) |  644 usec  |  300 usec  |  775 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              |    7    |  34,687,499  |     -25,877,986 (-74.6032%)     |  651 usec  |  300 usec  |  773 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              |  total  | 277,499,992  | +193,040,099,818 (+69564.0019%) |  642 usec  |  200 usec  |  775 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      10.0052 Gbps      |   3.4867 Gbps   |       9,250,000 pps       |     3,275,385 pps      |  1,141,447 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      10.0040 Gbps      |   5.0232 Gbps   |       9,250,000 pps       |     3,274,992 pps      |  1,644,435 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      20.0092 Gbps      |   8.5099 Gbps   |      18,500,000 pps       |     6,550,377 pps      |  2,785,882 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6550377). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+-------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |       TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+=========================+============+============+============+
              |    0    |  12,282,694  | -8,001,987 (-65.1485%)  | 1,144 usec |  300 usec  | 1,338 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    1    |  12,282,694  | -8,001,812 (-65.1470%)  | 1,157 usec |  300 usec  | 1,344 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    2    |  12,282,694  | -8,002,720 (-65.1544%)  | 1,166 usec |  300 usec  | 1,355 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    3    |  12,282,694  | -8,001,687 (-65.1460%)  | 1,175 usec |  300 usec  | 1,356 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    4    |  12,282,694  | -8,002,105 (-65.1494%)  | 1,183 usec |  300 usec  | 1,366 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    5    |  12,282,694  | -8,003,542 (-65.1611%)  | 1,194 usec |  300 usec  | 1,381 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    6    |  12,282,694  | -8,001,703 (-65.1462%)  | 1,199 usec |  300 usec  | 1,390 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    7    |  12,282,694  | -8,002,585 (-65.1533%)  | 1,204 usec |  300 usec  | 1,401 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |  total  |  98,261,552  | -64,018,141 (-65.1508%) | 1,178 usec |  300 usec  | 1,401 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+----------------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |            TRex.RX.p0            |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==================================+============+============+============+
              |    0    |  12,281,221  | +64,412,291,150 (+524477.9094%)  |  933 usec  |  200 usec  | 1,183 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              |    1    |  12,281,221  | +64,412,291,138 (+524477.9093%)  |  940 usec  |  200 usec  | 1,171 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              |    2    |  12,281,221  | +64,412,291,221 (+524477.9100%)  |  944 usec  |  200 usec  | 1,166 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              |    3    |  12,281,221  |      -6,114,242 (-49.7853%)      |  949 usec  |  200 usec  | 1,176 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              |    4    |  12,281,221  |      -6,115,321 (-49.7941%)      |  954 usec  |  200 usec  | 1,183 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              |    5    |  12,281,221  |      -6,117,242 (-49.8097%)      |  959 usec  |  200 usec  | 1,203 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              |    6    |  12,281,221  |      -6,114,271 (-49.7855%)      |  960 usec  |  200 usec  | 1,208 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              |    7    |  12,281,221  |      -6,114,645 (-49.7886%)      |  967 usec  |  200 usec  | 1,208 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              |  total  |  98,249,768  | +193,206,297,788 (+196648.0957%) |  951 usec  |  200 usec  | 1,208 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              

