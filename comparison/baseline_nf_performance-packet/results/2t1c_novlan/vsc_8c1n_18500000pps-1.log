2018-11-29 10:21:53,851 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-29 10:21:53,889 INFO EXT chain with OpenStack mode disabled
2018-11-29 10:21:53,890 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/vsc_8c1n_18500000pps-1.json
2018-11-29 10:21:53,891 INFO Connecting to TRex (127.0.0.1)...
2018-11-29 10:21:54,027 INFO Connected to TRex
2018-11-29 10:21:54,027 INFO    Port 0: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d1 pci=0000:1a:00.1 driver=net_i40e
2018-11-29 10:21:54,027 INFO    Port 1: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d2 pci=0000:1a:00.2 driver=net_i40e
2018-11-29 10:21:54,028 INFO ChainRunner initialized
2018-11-29 10:21:54,029 INFO Starting 8xEXT benchmark...
2018-11-29 10:21:54,134 INFO Polling ARP until successful...
2018-11-29 10:21:54,349 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-29 10:21:54,349 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-29 10:21:54,349 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-29 10:21:54,349 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-29 10:21:54,349 INFO    ARP: port=0 chain=4 src IP=172.16.10.104 dst IP=172.16.10.14 -> MAC=52:54:04:00:00:aa
2018-11-29 10:21:54,349 INFO    ARP: port=0 chain=5 src IP=172.16.10.105 dst IP=172.16.10.15 -> MAC=52:54:05:00:00:aa
2018-11-29 10:21:54,349 INFO    ARP: port=0 chain=6 src IP=172.16.10.106 dst IP=172.16.10.16 -> MAC=52:54:06:00:00:aa
2018-11-29 10:21:54,349 INFO    ARP: port=0 chain=7 src IP=172.16.10.107 dst IP=172.16.10.17 -> MAC=52:54:07:00:00:aa
2018-11-29 10:21:54,349 INFO ARP resolved successfully for port 0
2018-11-29 10:21:54,564 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-29 10:21:54,564 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-29 10:21:54,564 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-29 10:21:54,564 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-29 10:21:54,564 INFO    ARP: port=1 chain=4 src IP=172.16.20.104 dst IP=172.16.20.14 -> MAC=52:54:04:00:00:bb
2018-11-29 10:21:54,564 INFO    ARP: port=1 chain=5 src IP=172.16.20.105 dst IP=172.16.20.15 -> MAC=52:54:05:00:00:bb
2018-11-29 10:21:54,564 INFO    ARP: port=1 chain=6 src IP=172.16.20.106 dst IP=172.16.20.16 -> MAC=52:54:06:00:00:bb
2018-11-29 10:21:54,564 INFO    ARP: port=1 chain=7 src IP=172.16.20.107 dst IP=172.16.20.17 -> MAC=52:54:07:00:00:bb
2018-11-29 10:21:54,565 INFO ARP resolved successfully for port 1
2018-11-29 10:21:54,666 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa', '52:54:04:00:00:aa', '52:54:05:00:00:aa', '52:54:06:00:00:aa', '52:54:07:00:00:aa']
2018-11-29 10:21:54,666 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb', '52:54:04:00:00:bb', '52:54:05:00:00:bb', '52:54:06:00:00:bb', '52:54:07:00:00:bb']
2018-11-29 10:21:54,666 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-29 10:21:54,711 INFO Created 8 traffic streams for port 0.
2018-11-29 10:21:54,716 INFO Created 8 traffic streams for port 1.
2018-11-29 10:21:54,831 INFO Captured unique src mac 0/16, capturing return packets (retry 1/100)...
2018-11-29 10:21:56,979 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-29 10:21:56,979 INFO Received packet from mac: 52:54:07:00:00:aa (chain=7, port=0)
2018-11-29 10:21:56,979 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-29 10:21:56,979 INFO Received packet from mac: 52:54:05:00:00:aa (chain=5, port=0)
2018-11-29 10:21:56,979 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-29 10:21:56,979 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-29 10:21:56,979 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-29 10:21:56,979 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-29 10:21:56,979 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-29 10:21:56,979 INFO Received packet from mac: 52:54:06:00:00:bb (chain=6, port=1)
2018-11-29 10:21:56,979 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-29 10:21:56,979 INFO Received packet from mac: 52:54:04:00:00:bb (chain=4, port=1)
2018-11-29 10:21:56,979 INFO Received packet from mac: 52:54:04:00:00:aa (chain=4, port=0)
2018-11-29 10:21:56,979 INFO Received packet from mac: 52:54:07:00:00:bb (chain=7, port=1)
2018-11-29 10:21:56,979 INFO Received packet from mac: 52:54:05:00:00:bb (chain=5, port=1)
2018-11-29 10:21:56,979 INFO Received packet from mac: 52:54:06:00:00:aa (chain=6, port=0)
2018-11-29 10:21:56,979 INFO End-to-end connectivity established
2018-11-29 10:21:57,000 INFO Cleared all existing streams
2018-11-29 10:21:57,059 INFO Created 16 traffic streams for port 0.
2018-11-29 10:21:57,069 INFO Created 16 traffic streams for port 1.
2018-11-29 10:21:57,076 INFO Starting to generate traffic...
2018-11-29 10:21:57,076 INFO Running traffic generator
2018-11-29 10:22:07,115 INFO TX: 185200877; RX: 11757304; Est. Dropped: 173443573; Est. Drop rate: 93.6516%
2018-11-29 10:22:17,136 INFO TX: 370600990; RX: 23535352; Est. Dropped: 347065638; Est. Drop rate: 93.6494%
2018-11-29 10:22:27,124 INFO TX: 554999408; RX: 35252818; Est. Dropped: 519746590; Est. Drop rate: 93.6481%
2018-11-29 10:22:27,124 INFO ...traffic generating ended.
2018-11-29 10:22:27,155 INFO Cleared all existing streams
2018-11-29 10:22:27,333 INFO Created 32 traffic streams for port 0.
2018-11-29 10:22:27,353 INFO Created 32 traffic streams for port 1.
2018-11-29 10:22:27,362 INFO Starting to generate traffic...
2018-11-29 10:22:27,362 INFO Running traffic generator


2018-11-29 10:22:31 - [local][warning]   - [1mCPU util. is high: 88.2%[22m
2018-11-29 10:22:37,401 INFO TX: 65530853; RX: 9056018; Est. Dropped: 56474835; Est. Drop rate: 86.1805%
2018-11-29 10:22:47,427 INFO TX: 131187466; RX: 18128880; Est. Dropped: 113058586; Est. Drop rate: 86.1809%
2018-11-29 10:22:57,413 INFO TX: 196496296; RX: 27156498; Est. Dropped: 169339798; Est. Drop rate: 86.1796%
2018-11-29 10:22:57,414 INFO ...traffic generating ended.
2018-11-29 10:22:57,425 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6549876). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-29 10:22:57,425 INFO Service chain 'EXT' run completed.
2018-11-29 10:22:57,425 INFO Clean up skipped.
2018-11-29 10:22:57,459 INFO Saving results in json file: /tmp/nfvbench/vsc_8c1n_18500000pps-1.json...
2018-11-29 10:22:57,478 INFO
========== NFVBench Summary ==========
Date: 2018-11-29 10:21:54
NFVBench version 2.0.4
Openstack Neutron:
  vSwitch:
  Encapsulation:
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 8
          Compute nodes: []

            Run Summary:

              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  93.6481%   |         434          |                  100 |        52,347        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  86.1796%   |        4,741         |                   50 |        52,243        |
              +-----------------+-------------+----------------------+----------------------+----------------------+


            L2 frame size: 64

            Run Config:

              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |  394.7409 Mbps  |       9,250,000 pps       |     9,249,990 pps      |   587,412 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |  394.9222 Mbps  |       9,250,000 pps       |     9,249,990 pps      |   587,681 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |  789.6631 Mbps  |      18,500,000 pps       |     18,499,980 pps     |  1,175,093 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+

            Forward Chain Packet Counters and Latency:

              +---------+--------------+--------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+============+============+=============+
              |    0    |  34,687,463  | -32,308,011 (-93.1403%)  |  353 usec  |  200 usec  | 28,523 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    1    |  34,687,463  | -32,323,144 (-93.1839%)  |  352 usec  |  200 usec  | 32,406 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    2    |  34,687,463  | -32,310,956 (-93.1488%)  |  898 usec  |  100 usec  | 28,548 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    3    |  34,687,463  | -32,822,010 (-94.6221%)  |  360 usec  |  200 usec  | 48,174 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    4    |  34,687,463  | -32,340,928 (-93.2352%)  | 1,100 usec |  200 usec  | 28,547 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    5    |  34,687,463  | -32,342,073 (-93.2385%)  |  359 usec  |  200 usec  | 28,546 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    6    |  34,687,463  | -33,105,289 (-95.4388%)  |  355 usec  |  200 usec  | 52,295 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    7    |  34,687,463  | -32,324,419 (-93.1876%)  |  361 usec  |  200 usec  | 28,551 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  total  | 277,499,704  | -259,876,830 (-93.6494%) |  517 usec  |  100 usec  | 52,295 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+

            Reverse Chain Packet Counters and Latency:

              +---------+--------------+---------------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |           TRex.RX.p0            |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+=================================+============+============+=============+
              |    0    |  34,687,463  | +64,389,859,864 (+185628.6228%) |  356 usec  |  200 usec  | 28,525 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+
              |    1    |  34,687,463  | +64,389,857,759 (+185628.6168%) |  358 usec  |  100 usec  | 28,538 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+
              |    2    |  34,687,463  |     -32,318,885 (-93.1717%)     |  348 usec  |  200 usec  | 32,269 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+
              |    3    |  34,687,463  |     -32,823,378 (-94.6261%)     |  347 usec  |  200 usec  | 44,422 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+
              |    4    |  34,687,463  |     -32,352,927 (-93.2698%)     |  347 usec  |  200 usec  | 32,400 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+
              |    5    |  34,687,463  |     -32,327,199 (-93.1956%)     |  354 usec  |  200 usec  | 28,499 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+
              |    6    |  34,687,463  | +64,389,846,921 (+185628.5855%) |  350 usec  |  200 usec  | 52,347 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+
              |    7    |  34,687,463  |     -32,321,347 (-93.1788%)     |  351 usec  |  200 usec  | 28,523 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+
              |  total  | 277,499,704  | +193,007,420,808 (+69552.2979%) |  351 usec  |  100 usec  | 52,347 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+


            L2 frame size: IMIX

            Run Config:

              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      10.0053 Gbps      |   1.3829 Gbps   |       9,250,000 pps       |     3,275,426 pps      |   452,714 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      10.0024 Gbps      |   1.3822 Gbps   |       9,250,000 pps       |     3,274,450 pps      |   452,502 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      20.0077 Gbps      |   2.7651 Gbps   |      18,500,000 pps       |     6,549,876 pps      |   905,216 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+

              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6549876). The traffic generator may not have sufficient CPU to achieve the requested TX rate.

            Forward Chain Packet Counters and Latency:

              +---------+--------------+-------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p0  |       TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+=========================+============+============+=============+
              |    0    |  12,282,849  | -10,450,641 (-85.0832%) | 4,178 usec |  50 usec   | 28,346 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |    1    |  12,282,849  | -10,461,901 (-85.1749%) | 3,195 usec |  70 usec   | 32,342 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |    2    |  12,282,849  | -10,454,482 (-85.1145%) | 4,116 usec |  50 usec   | 28,337 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |    3    |  12,282,849  | -10,857,667 (-88.3970%) | 3,053 usec |  60 usec   | 44,332 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |    4    |  12,282,849  | -10,462,084 (-85.1764%) | 1,758 usec |  60 usec   | 32,045 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |    5    |  12,282,849  | -10,458,406 (-85.1464%) | 5,728 usec |  60 usec   | 28,342 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |    6    |  12,282,849  | -11,063,390 (-90.0719%) | 8,362 usec |  60 usec   | 52,237 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |    7    |  12,282,849  | -10,472,009 (-85.2572%) | 2,884 usec |  60 usec   | 28,383 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |  total  |  98,262,792  | -84,680,580 (-86.1777%) | 4,159 usec |  50 usec   | 52,237 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+

            Reverse Chain Packet Counters and Latency:

              +---------+--------------+----------------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |            TRex.RX.p0            |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==================================+============+============+=============+
              |    0    |  12,279,188  | +64,412,275,683 (+524564.6185%)  | 4,568 usec |  60 usec   | 32,310 usec |
              +---------+--------------+----------------------------------+------------+------------+-------------+
              |    1    |  12,279,188  | +64,412,275,960 (+524564.6207%)  | 2,552 usec |  60 usec   | 28,336 usec |
              +---------+--------------+----------------------------------+------------+------------+-------------+
              |    2    |  12,279,188  | +64,412,275,698 (+524564.6186%)  | 4,368 usec |  60 usec   | 32,299 usec |
              +---------+--------------+----------------------------------+------------+------------+-------------+
              |    3    |  12,279,188  |     -10,853,132 (-88.3864%)      | 9,880 usec |  50 usec   | 48,242 usec |
              +---------+--------------+----------------------------------+------------+------------+-------------+
              |    4    |  12,279,188  |     -10,466,050 (-85.2341%)      | 1,652 usec |  60 usec   | 32,331 usec |
              +---------+--------------+----------------------------------+------------+------------+-------------+
              |    5    |  12,279,188  |     -10,446,941 (-85.0784%)      | 4,733 usec |  60 usec   | 28,343 usec |
              +---------+--------------+----------------------------------+------------+------------+-------------+
              |    6    |  12,279,188  |     -11,055,512 (-90.0346%)      | 7,648 usec |  60 usec   | 52,243 usec |
              +---------+--------------+----------------------------------+------------+------------+-------------+
              |    7    |  12,279,188  |     -10,469,707 (-85.2638%)      | 7,196 usec |  60 usec   | 28,392 usec |
              +---------+--------------+----------------------------------+------------+------------+-------------+
              |  total  |  98,233,504  | +193,183,535,999 (+196657.4826%) | 5,325 usec |  50 usec   | 52,243 usec |
              +---------+--------------+----------------------------------+------------+------------+-------------+


