2018-11-29 09:45:11,825 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-29 09:45:11,864 INFO EXT chain with OpenStack mode disabled
2018-11-29 09:45:11,864 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/vsc_6c1n_18500000pps-1.json
2018-11-29 09:45:11,865 INFO Connecting to TRex (127.0.0.1)...
2018-11-29 09:45:12,011 INFO Connected to TRex
2018-11-29 09:45:12,011 INFO    Port 0: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d1 pci=0000:1a:00.1 driver=net_i40e
2018-11-29 09:45:12,011 INFO    Port 1: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d2 pci=0000:1a:00.2 driver=net_i40e
2018-11-29 09:45:12,012 INFO ChainRunner initialized
2018-11-29 09:45:12,013 INFO Starting 6xEXT benchmark...
2018-11-29 09:45:12,118 INFO Polling ARP until successful...
2018-11-29 09:45:12,330 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-29 09:45:12,331 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-29 09:45:12,331 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-29 09:45:12,331 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-29 09:45:12,331 INFO    ARP: port=0 chain=4 src IP=172.16.10.104 dst IP=172.16.10.14 -> MAC=52:54:04:00:00:aa
2018-11-29 09:45:12,331 INFO    ARP: port=0 chain=5 src IP=172.16.10.105 dst IP=172.16.10.15 -> MAC=52:54:05:00:00:aa
2018-11-29 09:45:12,331 INFO ARP resolved successfully for port 0
2018-11-29 09:45:12,544 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-29 09:45:12,544 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-29 09:45:12,544 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-29 09:45:12,544 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-29 09:45:12,544 INFO    ARP: port=1 chain=4 src IP=172.16.20.104 dst IP=172.16.20.14 -> MAC=52:54:04:00:00:bb
2018-11-29 09:45:12,544 INFO    ARP: port=1 chain=5 src IP=172.16.20.105 dst IP=172.16.20.15 -> MAC=52:54:05:00:00:bb
2018-11-29 09:45:12,544 INFO ARP resolved successfully for port 1
2018-11-29 09:45:12,646 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa', '52:54:04:00:00:aa', '52:54:05:00:00:aa']
2018-11-29 09:45:12,646 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb', '52:54:04:00:00:bb', '52:54:05:00:00:bb']
2018-11-29 09:45:12,646 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-29 09:45:12,680 INFO Created 6 traffic streams for port 0.
2018-11-29 09:45:12,685 INFO Created 6 traffic streams for port 1.
2018-11-29 09:45:12,799 INFO Captured unique src mac 0/12, capturing return packets (retry 1/100)...
2018-11-29 09:45:14,925 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-29 09:45:14,925 INFO Received packet from mac: 52:54:05:00:00:aa (chain=5, port=0)
2018-11-29 09:45:14,925 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-29 09:45:14,925 INFO Received packet from mac: 52:54:04:00:00:bb (chain=4, port=1)
2018-11-29 09:45:14,926 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-29 09:45:14,926 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-29 09:45:14,926 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-29 09:45:14,926 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-29 09:45:14,926 INFO Received packet from mac: 52:54:05:00:00:bb (chain=5, port=1)
2018-11-29 09:45:14,926 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-29 09:45:14,926 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-29 09:45:14,926 INFO Received packet from mac: 52:54:04:00:00:aa (chain=4, port=0)
2018-11-29 09:45:14,926 INFO End-to-end connectivity established
2018-11-29 09:45:14,944 INFO Cleared all existing streams
2018-11-29 09:45:14,987 INFO Created 12 traffic streams for port 0.
2018-11-29 09:45:14,995 INFO Created 12 traffic streams for port 1.
2018-11-29 09:45:15,002 INFO Starting to generate traffic...
2018-11-29 09:45:15,002 INFO Running traffic generator
2018-11-29 09:45:25,035 INFO TX: 185206071; RX: 15029956; Est. Dropped: 170176115; Est. Drop rate: 91.8847%
2018-11-29 09:45:35,055 INFO TX: 370564334; RX: 30071664; Est. Dropped: 340492670; Est. Drop rate: 91.8849%
2018-11-29 09:45:45,045 INFO TX: 555000180; RX: 45017309; Est. Dropped: 509982871; Est. Drop rate: 91.8888%
2018-11-29 09:45:45,045 INFO ...traffic generating ended.
2018-11-29 09:45:45,074 INFO Cleared all existing streams
2018-11-29 09:45:45,207 INFO Created 24 traffic streams for port 0.
2018-11-29 09:45:45,222 INFO Created 24 traffic streams for port 1.
2018-11-29 09:45:45,229 INFO Starting to generate traffic...
2018-11-29 09:45:45,229 INFO Running traffic generator


2018-11-29 09:45:48 - [local][warning]   - [1mCPU util. is high: 86.3%[22m
2018-11-29 09:45:55,264 INFO TX: 65537637; RX: 11662631; Est. Dropped: 53875006; Est. Drop rate: 82.2047%
2018-11-29 09:46:05,280 INFO TX: 131125109; RX: 23340374; Est. Dropped: 107784735; Est. Drop rate: 82.1999%
2018-11-29 09:46:15,279 INFO TX: 196507809; RX: 34989679; Est. Dropped: 161518130; Est. Drop rate: 82.1943%
2018-11-29 09:46:15,279 INFO ...traffic generating ended.
2018-11-29 09:46:15,288 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6550260). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-29 09:46:15,288 INFO Service chain 'EXT' run completed.
2018-11-29 09:46:15,288 INFO Clean up skipped.
2018-11-29 09:46:15,320 INFO Saving results in json file: /tmp/nfvbench/vsc_6c1n_18500000pps-1.json...
2018-11-29 09:46:15,337 INFO 
========== NFVBench Summary ==========
Date: 2018-11-29 09:45:12
NFVBench version 2.0.4
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 6
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  91.8888%   |        4,832         |                  100 |        40,555        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  82.1943%   |        2,374         |                   50 |        40,359        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |  503.4732 Mbps  |       9,250,000 pps       |     9,250,003 pps      |   749,216 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |  504.9145 Mbps  |       9,250,000 pps       |     9,250,003 pps      |   751,360 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   1.0084 Gbps   |      18,500,000 pps       |     18,500,006 pps     |  1,500,576 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+============+============+=============+
              |    0    |  46,250,015  | -42,509,434 (-91.9123%)  | 5,233 usec |  300 usec  | 24,505 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    1    |  46,250,015  | -42,499,914 (-91.8917%)  | 5,187 usec |  100 usec  | 40,555 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    2    |  46,250,015  | -42,508,158 (-91.9095%)  | 5,636 usec |  300 usec  | 40,331 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    3    |  46,250,015  | -42,533,812 (-91.9650%)  | 5,682 usec |  300 usec  | 36,350 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    4    |  46,250,015  | -42,475,268 (-91.8384%)  | 3,897 usec |  300 usec  | 40,512 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    5    |  46,250,015  | -42,497,021 (-91.8854%)  | 5,625 usec |  300 usec  | 40,390 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  total  | 277,500,090  | -255,023,607 (-91.9004%) | 5,210 usec |  100 usec  | 40,555 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+---------------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |           TRex.RX.p0            |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+=================================+============+============+=============+
              |    0    |  46,250,015  | +64,378,304,449 (+139196.2888%) | 3,930 usec |  100 usec  | 32,344 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+
              |    1    |  46,250,015  | +64,378,306,588 (+139196.2934%) | 4,119 usec |  200 usec  | 24,370 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+
              |    2    |  46,250,015  | +64,378,305,370 (+139196.2908%) | 3,894 usec |  300 usec  | 40,365 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+
              |    3    |  46,250,015  |     -42,508,337 (-91.9099%)     | 4,693 usec |  300 usec  | 40,260 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+
              |    4    |  46,250,015  |     -42,485,895 (-91.8614%)     | 5,479 usec |  300 usec  | 40,309 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+
              |    5    |  46,250,015  |     -42,496,841 (-91.8850%)     | 4,615 usec |  300 usec  | 40,245 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+
              |  total  | 277,500,090  | +193,007,425,334 (+69552.2028%) | 4,455 usec |  100 usec  | 40,365 usec |
              +---------+--------------+---------------------------------+------------+------------+-------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      10.0046 Gbps      |   1.7809 Gbps   |       9,250,000 pps       |     3,275,174 pps      |   583,022 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      10.0043 Gbps      |   1.7818 Gbps   |       9,250,000 pps       |     3,275,086 pps      |   583,299 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      20.0089 Gbps      |   3.5627 Gbps   |      18,500,000 pps       |     6,550,260 pps      |  1,166,321 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6550260). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+-------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p0  |       TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+=========================+============+============+=============+
              |    0    |  16,375,871  | -13,459,565 (-82.1914%) | 4,245 usec |  50 usec   | 40,316 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |    1    |  16,375,871  | -13,485,284 (-82.3485%) | 3,420 usec |  80 usec   | 40,093 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |    2    |  16,375,870  | -13,455,967 (-82.1695%) |  515 usec  |  80 usec   | 36,072 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |    3    |  16,375,870  | -13,463,145 (-82.2133%) | 2,871 usec |  80 usec   | 24,368 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |    4    |  16,375,871  | -13,449,071 (-82.1274%) | 2,348 usec |  80 usec   | 40,345 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |    5    |  16,375,870  | -13,450,980 (-82.1390%) |  809 usec  |  70 usec   | 40,026 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              |  total  |  98,255,223  | -80,764,012 (-82.1982%) | 2,368 usec |  50 usec   | 40,345 usec |
              +---------+--------------+-------------------------+------------+------------+-------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+----------------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |            TRex.RX.p0            |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==================================+============+============+=============+
              |    0    |  16,375,431  | +64,408,194,641 (+393322.1339%)  | 1,018 usec |  70 usec   | 24,352 usec |
              +---------+--------------+----------------------------------+------------+------------+-------------+
              |    1    |  16,375,431  | +64,408,194,308 (+393322.1318%)  |  684 usec  |  80 usec   | 40,359 usec |
              +---------+--------------+----------------------------------+------------+------------+-------------+
              |    2    |  16,375,431  | +64,408,194,615 (+393322.1337%)  | 2,855 usec |  80 usec   | 24,301 usec |
              +---------+--------------+----------------------------------+------------+------------+-------------+
              |    3    |  16,375,431  |     -13,451,733 (-82.1458%)      | 4,182 usec |  80 usec   | 40,149 usec |
              +---------+--------------+----------------------------------+------------+------------+-------------+
              |    4    |  16,375,431  |     -13,455,690 (-82.1700%)      | 2,001 usec |  70 usec   | 40,300 usec |
              +---------+--------------+----------------------------------+------------+------------+-------------+
              |    5    |  16,375,431  |     -13,445,887 (-82.1101%)      | 3,563 usec |  80 usec   | 39,995 usec |
              +---------+--------------+----------------------------------+------------+------------+-------------+
              |  total  |  98,252,586  | +193,184,230,254 (+196619.9956%) | 2,384 usec |  70 usec   | 40,359 usec |
              +---------+--------------+----------------------------------+------------+------------+-------------+
              

