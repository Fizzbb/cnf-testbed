2018-11-29 09:21:18,009 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-29 09:21:18,047 INFO EXT chain with OpenStack mode disabled
2018-11-29 09:21:18,047 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/vsc_4c2n_18500000pps-1.json
2018-11-29 09:21:18,049 INFO Connecting to TRex (127.0.0.1)...
2018-11-29 09:21:18,185 INFO Connected to TRex
2018-11-29 09:21:18,185 INFO    Port 0: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d1 pci=0000:1a:00.1 driver=net_i40e
2018-11-29 09:21:18,186 INFO    Port 1: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d2 pci=0000:1a:00.2 driver=net_i40e
2018-11-29 09:21:18,186 INFO ChainRunner initialized
2018-11-29 09:21:18,187 INFO Starting 4xEXT benchmark...
2018-11-29 09:21:18,291 INFO Polling ARP until successful...
2018-11-29 09:21:18,502 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-29 09:21:18,502 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-29 09:21:18,502 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-29 09:21:18,502 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-29 09:21:18,503 INFO ARP resolved successfully for port 0
2018-11-29 09:21:18,713 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-29 09:21:18,713 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-29 09:21:18,713 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-29 09:21:18,713 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-29 09:21:18,713 INFO ARP resolved successfully for port 1
2018-11-29 09:21:18,815 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa']
2018-11-29 09:21:18,815 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb']
2018-11-29 09:21:18,815 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-29 09:21:18,838 INFO Created 4 traffic streams for port 0.
2018-11-29 09:21:18,841 INFO Created 4 traffic streams for port 1.
2018-11-29 09:21:18,953 INFO Captured unique src mac 0/8, capturing return packets (retry 1/100)...
2018-11-29 09:21:21,132 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-29 09:21:21,134 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-29 09:21:21,246 INFO Captured unique src mac 2/8, capturing return packets (retry 2/100)...
2018-11-29 09:21:23,426 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-29 09:21:23,545 INFO Captured unique src mac 3/8, capturing return packets (retry 3/100)...
2018-11-29 09:21:25,751 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-29 09:21:25,865 INFO Captured unique src mac 4/8, capturing return packets (retry 4/100)...
2018-11-29 09:21:28,158 INFO Captured unique src mac 4/8, capturing return packets (retry 5/100)...
2018-11-29 09:21:30,472 INFO Captured unique src mac 4/8, capturing return packets (retry 6/100)...
2018-11-29 09:21:32,764 INFO Captured unique src mac 4/8, capturing return packets (retry 7/100)...
2018-11-29 09:21:35,056 INFO Captured unique src mac 4/8, capturing return packets (retry 8/100)...
2018-11-29 09:21:37,350 INFO Captured unique src mac 4/8, capturing return packets (retry 9/100)...
2018-11-29 09:21:39,643 INFO Captured unique src mac 4/8, capturing return packets (retry 10/100)...
2018-11-29 09:21:41,821 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-29 09:21:41,822 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-29 09:21:41,936 INFO Captured unique src mac 6/8, capturing return packets (retry 11/100)...
2018-11-29 09:21:44,232 INFO Captured unique src mac 6/8, capturing return packets (retry 12/100)...
2018-11-29 09:21:46,551 INFO Captured unique src mac 6/8, capturing return packets (retry 13/100)...
2018-11-29 09:21:48,731 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-29 09:21:48,733 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-29 09:21:48,733 INFO End-to-end connectivity established
2018-11-29 09:21:48,751 INFO Cleared all existing streams
2018-11-29 09:21:48,781 INFO Created 8 traffic streams for port 0.
2018-11-29 09:21:48,786 INFO Created 8 traffic streams for port 1.
2018-11-29 09:21:48,792 INFO Starting to generate traffic...
2018-11-29 09:21:48,792 INFO Running traffic generator
2018-11-29 09:21:58,821 INFO TX: 185195197; RX: 4537258; Est. Dropped: 180657939; Est. Drop rate: 97.5500%
2018-11-29 09:22:08,838 INFO TX: 370509800; RX: 9239218; Est. Dropped: 361270582; Est. Drop rate: 97.5063%
2018-11-29 09:22:18,831 INFO TX: 554999216; RX: 13657213; Est. Dropped: 541342003; Est. Drop rate: 97.5392%
2018-11-29 09:22:18,831 INFO ...traffic generating ended.
2018-11-29 09:22:18,857 INFO Cleared all existing streams
2018-11-29 09:22:18,946 INFO Created 16 traffic streams for port 0.
2018-11-29 09:22:18,956 INFO Created 16 traffic streams for port 1.
2018-11-29 09:22:18,962 INFO Starting to generate traffic...
2018-11-29 09:22:18,962 INFO Running traffic generator


2018-11-29 09:22:22 - [local][warning]   - [1mCPU util. is high: 85.5%[22m
2018-11-29 09:22:28,991 INFO TX: 65540081; RX: 3249775; Est. Dropped: 62290306; Est. Drop rate: 95.0415%
2018-11-29 09:22:39,008 INFO TX: 131130200; RX: 6612389; Est. Dropped: 124517811; Est. Drop rate: 94.9574%
2018-11-29 09:22:49,004 INFO TX: 196505376; RX: 9873490; Est. Dropped: 186631886; Est. Drop rate: 94.9755%
2018-11-29 09:22:49,004 INFO ...traffic generating ended.
2018-11-29 09:22:49,011 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6550179). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-29 09:22:49,011 INFO Service chain 'EXT' run completed.
2018-11-29 09:22:49,011 INFO Clean up skipped.
2018-11-29 09:22:49,045 INFO Saving results in json file: /tmp/nfvbench/vsc_4c2n_18500000pps-1.json...
2018-11-29 09:22:49,060 INFO 
========== NFVBench Summary ==========
Date: 2018-11-29 09:21:18
NFVBench version 2.0.4
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 4
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  97.5392%   |        11,882        |                   70 |        90,415        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  94.9755%   |        9,172         |                  400 |       194,429        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |  253.2025 Mbps  |       9,250,000 pps       |     9,249,986 pps      |   376,789 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |  52.7191 Mbps   |       9,250,000 pps       |     9,249,986 pps      |   78,451 pps    |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |  305.9216 Mbps  |      18,500,000 pps       |     18,499,972 pps     |   455,240 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+============+============+=============+
              |    0    |  69,374,902  | -66,205,602 (-95.4316%)  | 5,842 usec | 1,000 usec | 68,089 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    1    |  69,374,902  | -67,774,677 (-97.6934%)  |  745 usec  |  500 usec  | 29,284 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    2    |  69,374,902  | -66,144,393 (-95.3434%)  | 8,476 usec | 1,000 usec | 77,300 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    3    |  69,374,902  | -66,070,867 (-95.2374%)  | 5,847 usec |  70 usec   | 90,415 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  total  | 277,499,608  | -266,195,539 (-95.9265%) | 5,228 usec |  70 usec   | 90,415 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.   |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+=============+============+=============+
              |    0    |  69,374,902  | -68,815,754 (-99.1940%)  | 11,412 usec |  500 usec  | 48,348 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |    1    |  69,374,902  | -68,928,976 (-99.3572%)  | 22,716 usec |  500 usec  | 71,373 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |    2    |  69,374,902  | -68,876,773 (-99.2820%)  | 17,451 usec |  500 usec  | 52,656 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |    3    |  69,374,902  | -68,525,302 (-98.7753%)  | 1,493 usec  |  500 usec  | 51,462 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |  total  | 277,499,608  | -275,146,805 (-99.1521%) | 13,268 usec |  500 usec  | 71,373 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      10.0048 Gbps      |  820.1757 Mbps  |       9,250,000 pps       |     3,275,253 pps      |   268,499 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      10.0038 Gbps      |  185.1650 Mbps  |       9,250,000 pps       |     3,274,925 pps      |   60,617 pps    |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      20.0086 Gbps      |   1.0053 Gbps   |      18,500,000 pps       |     6,550,178 pps      |   329,116 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6550179). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+-------------------------+-------------+------------+--------------+
              |  Chain  |  TRex.TX.p0  |       TRex.RX.p1        |  Avg lat.   |  Min lat.  |   Max lat.   |
              +=========+==============+=========================+=============+============+==============+
              |    0    |  24,564,401  | -22,172,488 (-90.2627%) | 12,353 usec | 1,000 usec | 108,013 usec |
              +---------+--------------+-------------------------+-------------+------------+--------------+
              |    1    |  24,564,401  | -23,413,984 (-95.3167%) | 6,156 usec  |  400 usec  | 49,543 usec  |
              +---------+--------------+-------------------------+-------------+------------+--------------+
              |    2    |  24,564,401  | -22,274,502 (-90.6780%) | 7,990 usec  | 1,000 usec | 67,432 usec  |
              +---------+--------------+-------------------------+-------------+------------+--------------+
              |    3    |  24,564,401  | -22,341,661 (-90.9514%) | 11,962 usec | 1,000 usec | 194,429 usec |
              +---------+--------------+-------------------------+-------------+------------+--------------+
              |  total  |  98,257,604  | -90,202,635 (-91.8022%) | 9,615 usec  |  400 usec  | 194,429 usec |
              +---------+--------------+-------------------------+-------------+------------+--------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+-------------------------+-------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |       TRex.RX.p0        |  Avg lat.   |  Min lat.  |  Max lat.   |
              +=========+==============+=========================+=============+============+=============+
              |    0    |  24,561,943  | -24,094,227 (-98.0958%) | 12,836 usec |  400 usec  | 51,582 usec |
              +---------+--------------+-------------------------+-------------+------------+-------------+
              |    1    |  24,561,943  | -24,133,448 (-98.2555%) | 10,035 usec |  500 usec  | 58,939 usec |
              +---------+--------------+-------------------------+-------------+------------+-------------+
              |    2    |  24,561,943  | -24,104,143 (-98.1361%) | 11,055 usec |  500 usec  | 54,200 usec |
              +---------+--------------+-------------------------+-------------+------------+-------------+
              |    3    |  24,561,943  | -24,097,441 (-98.1089%) | 2,369 usec  |  400 usec  | 52,891 usec |
              +---------+--------------+-------------------------+-------------+------------+-------------+
              |  total  |  98,247,772  | -96,429,259 (-98.1491%) | 9,074 usec  |  400 usec  | 58,939 usec |
              +---------+--------------+-------------------------+-------------+------------+-------------+
              

