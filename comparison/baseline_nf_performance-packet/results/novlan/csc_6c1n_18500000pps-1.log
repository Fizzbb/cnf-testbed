2018-11-28 12:55:23,328 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-28 12:55:23,366 INFO EXT chain with OpenStack mode disabled
2018-11-28 12:55:23,366 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csc_6c1n_18500000pps-1.json
2018-11-28 12:55:23,368 INFO Connecting to TRex (127.0.0.1)...
2018-11-28 12:55:23,503 INFO Connected to TRex
2018-11-28 12:55:23,503 INFO    Port 0: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d1 pci=0000:1a:00.1 driver=net_i40e
2018-11-28 12:55:23,504 INFO    Port 1: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d2 pci=0000:1a:00.2 driver=net_i40e
2018-11-28 12:55:23,504 INFO ChainRunner initialized
2018-11-28 12:55:23,505 INFO Starting 6xEXT benchmark...
2018-11-28 12:55:23,611 INFO Polling ARP until successful...
2018-11-28 12:55:23,824 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-28 12:55:23,824 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-28 12:55:23,824 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-28 12:55:23,824 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-28 12:55:23,824 INFO    ARP: port=0 chain=4 src IP=172.16.10.104 dst IP=172.16.10.14 -> MAC=52:54:04:00:00:aa
2018-11-28 12:55:23,824 INFO    ARP: port=0 chain=5 src IP=172.16.10.105 dst IP=172.16.10.15 -> MAC=52:54:05:00:00:aa
2018-11-28 12:55:23,824 INFO ARP resolved successfully for port 0
2018-11-28 12:55:24,037 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-28 12:55:24,037 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-28 12:55:24,037 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-28 12:55:24,037 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-28 12:55:24,037 INFO    ARP: port=1 chain=4 src IP=172.16.20.104 dst IP=172.16.20.14 -> MAC=52:54:04:00:00:bb
2018-11-28 12:55:24,037 INFO    ARP: port=1 chain=5 src IP=172.16.20.105 dst IP=172.16.20.15 -> MAC=52:54:05:00:00:bb
2018-11-28 12:55:24,037 INFO ARP resolved successfully for port 1
2018-11-28 12:55:24,139 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa', '52:54:04:00:00:aa', '52:54:05:00:00:aa']
2018-11-28 12:55:24,139 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb', '52:54:04:00:00:bb', '52:54:05:00:00:bb']
2018-11-28 12:55:24,139 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-28 12:55:24,172 INFO Created 6 traffic streams for port 0.
2018-11-28 12:55:24,177 INFO Created 6 traffic streams for port 1.
2018-11-28 12:55:24,290 INFO Captured unique src mac 0/12, capturing return packets (retry 1/100)...
2018-11-28 12:55:26,413 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-28 12:55:26,413 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-28 12:55:26,413 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-28 12:55:26,413 INFO Received packet from mac: 52:54:05:00:00:bb (chain=5, port=1)
2018-11-28 12:55:26,413 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-28 12:55:26,413 INFO Received packet from mac: 52:54:04:00:00:bb (chain=4, port=1)
2018-11-28 12:55:26,413 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-28 12:55:26,413 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-28 12:55:26,413 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-28 12:55:26,413 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-28 12:55:26,414 INFO Received packet from mac: 52:54:04:00:00:aa (chain=4, port=0)
2018-11-28 12:55:26,414 INFO Received packet from mac: 52:54:05:00:00:aa (chain=5, port=0)
2018-11-28 12:55:26,414 INFO End-to-end connectivity established
2018-11-28 12:55:26,432 INFO Cleared all existing streams
2018-11-28 12:55:26,476 INFO Created 12 traffic streams for port 0.
2018-11-28 12:55:26,483 INFO Created 12 traffic streams for port 1.
2018-11-28 12:55:26,490 INFO Starting to generate traffic...
2018-11-28 12:55:26,490 INFO Running traffic generator
2018-11-28 12:55:36,523 INFO TX: 185194593; RX: 47900879; Est. Dropped: 137293714; Est. Drop rate: 74.1348%
2018-11-28 12:55:46,542 INFO TX: 370545687; RX: 95695331; Est. Dropped: 274850356; Est. Drop rate: 74.1745%
2018-11-28 12:55:56,536 INFO TX: 554996640; RX: 143211210; Est. Dropped: 411785430; Est. Drop rate: 74.1960%
2018-11-28 12:55:56,536 INFO ...traffic generating ended.
2018-11-28 12:55:56,564 INFO Cleared all existing streams
2018-11-28 12:55:56,696 INFO Created 24 traffic streams for port 0.
2018-11-28 12:55:56,711 INFO Created 24 traffic streams for port 1.
2018-11-28 12:55:56,717 INFO Starting to generate traffic...
2018-11-28 12:55:56,718 INFO Running traffic generator


2018-11-28 12:56:00 - [local][warning]   - [1mCPU util. is high: 86.5%[22m
2018-11-28 12:56:06,752 INFO TX: 65546346; RX: 28858558; Est. Dropped: 36687788; Est. Drop rate: 55.9723%
2018-11-28 12:56:16,771 INFO TX: 131150688; RX: 57702444; Est. Dropped: 73448244; Est. Drop rate: 56.0029%
2018-11-28 12:56:26,767 INFO TX: 196518510; RX: 86451980; Est. Dropped: 110066530; Est. Drop rate: 56.0082%
2018-11-28 12:56:26,767 INFO ...traffic generating ended.
2018-11-28 12:56:26,776 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6550617). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-28 12:56:26,776 INFO Service chain 'EXT' run completed.
2018-11-28 12:56:26,776 INFO Clean up skipped.
2018-11-28 12:56:26,806 INFO Saving results in json file: /tmp/nfvbench/csc_6c1n_18500000pps-1.json...
2018-11-28 12:56:26,823 INFO 
========== NFVBench Summary ==========
Date: 2018-11-28 12:55:23
NFVBench version 2.0.4
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 6
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  74.1960%   |         633          |                  100 |         790          |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  56.0082%   |        1,060         |                  100 |        1,410         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |   1.6034 Gbps   |       9,250,000 pps       |     9,249,944 pps      |  2,386,029 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |   1.6045 Gbps   |       9,250,000 pps       |     9,249,944 pps      |  2,387,677 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4319 Gbps      |   3.2079 Gbps   |      18,500,000 pps       |     18,499,888 pps     |  4,773,706 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  46,249,720  | -34,320,406 (-74.2067%)  |  626 usec  |  300 usec  |  773 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  46,249,720  | -34,319,353 (-74.2045%)  |  629 usec  |  300 usec  |  777 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  46,249,720  | -34,317,651 (-74.2008%)  |  631 usec  |  300 usec  |  777 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  46,249,720  | -34,319,864 (-74.2056%)  |  636 usec  |  300 usec  |  758 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  46,249,720  | -34,319,235 (-74.2042%)  |  638 usec  |  300 usec  |  786 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  46,249,720  | -34,320,922 (-74.2078%)  |  641 usec  |  200 usec  |  788 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,498,320  | -205,917,431 (-74.2049%) |  634 usec  |  200 usec  |  788 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+---------------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |           TRex.RX.p0            |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+=================================+============+============+============+
              |    0    |  46,249,720  | +60,084,034,244 (+129912.2119%) |  629 usec  |  100 usec  |  761 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              |    1    |  46,249,720  | +60,084,035,184 (+129912.2139%) |  630 usec  |  100 usec  |  732 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              |    2    |  46,249,720  | +60,084,034,360 (+129912.2121%) |  633 usec  |  100 usec  |  772 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              |    3    |  46,249,720  |     -34,311,094 (-74.1866%)     |  636 usec  |  100 usec  |  746 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              |    4    |  46,249,720  |     -34,310,823 (-74.1860%)     |  639 usec  |  100 usec  |  745 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              |    5    |  46,249,720  |     -34,311,120 (-74.1867%)     |  642 usec  |  100 usec  |  790 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              |  total  | 277,498,320  | +180,149,170,751 (+64919.0131%) |  635 usec  |  100 usec  |  790 usec  |
              +---------+--------------+---------------------------------+------------+------------+------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      10.0053 Gbps      |   5.2664 Gbps   |       9,250,000 pps       |     3,275,412 pps      |  1,724,067 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      10.0047 Gbps      |   3.5363 Gbps   |       9,250,000 pps       |     3,275,204 pps      |  1,157,665 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      20.0100 Gbps      |   8.8027 Gbps   |      18,500,000 pps       |     6,550,616 pps      |  2,881,732 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6550617). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+-------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |       TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+=========================+============+============+============+
              |    0    |  16,377,061  | -7,757,339 (-47.3671%)  |  921 usec  |  200 usec  | 1,122 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    1    |  16,377,061  | -7,757,246 (-47.3665%)  |  921 usec  |  200 usec  | 1,156 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    2    |  16,377,061  | -7,756,987 (-47.3650%)  |  932 usec  |  200 usec  | 1,181 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    3    |  16,377,061  | -7,756,450 (-47.3617%)  |  932 usec  |  200 usec  | 1,168 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    4    |  16,377,061  | -7,755,599 (-47.3565%)  |  935 usec  |  100 usec  | 1,203 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |    5    |  16,377,061  | -7,756,735 (-47.3634%)  |  943 usec  |  200 usec  | 1,211 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              |  total  |  98,262,366  | -46,540,356 (-47.3634%) |  931 usec  |  100 usec  | 1,211 usec |
              +---------+--------------+-------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+----------------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |            TRex.RX.p0            |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==================================+============+============+============+
              |    0    |  16,376,024  |     -10,587,385 (-64.6517%)      | 1,123 usec |  100 usec  | 1,341 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              |    1    |  16,376,024  |     -10,587,682 (-64.6536%)      | 1,135 usec |  100 usec  | 1,354 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              |    2    |  16,376,024  | +64,408,154,970 (+393307.6489%)  | 1,145 usec |  200 usec  | 1,369 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              |    3    |  16,376,024  | +64,408,154,882 (+393307.6483%)  | 1,147 usec |  200 usec  | 1,384 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              |    4    |  16,376,024  | +64,408,154,949 (+393307.6487%)  | 1,168 usec |  200 usec  | 1,395 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              |    5    |  16,376,024  |     -10,587,376 (-64.6517%)      | 1,173 usec |  200 usec  | 1,410 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              |  total  |  98,256,144  | +193,192,702,358 (+196621.4982%) | 1,149 usec |  100 usec  | 1,410 usec |
              +---------+--------------+----------------------------------+------------+------------+------------+
              

