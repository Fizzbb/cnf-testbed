2018-11-29 08:40:04,164 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-29 08:40:04,201 INFO EXT chain with OpenStack mode disabled
2018-11-29 08:40:04,201 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/vsc_2c4n_18500000pps-1.json
2018-11-29 08:40:04,203 INFO Connecting to TRex (127.0.0.1)...
2018-11-29 08:40:04,348 INFO Connected to TRex
2018-11-29 08:40:04,348 INFO    Port 0: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d1 pci=0000:1a:00.1 driver=net_i40e
2018-11-29 08:40:04,348 INFO    Port 1: Ethernet Controller X710 for 10GbE SFP+ speed=10Gbps mac=e4:43:4b:2e:b1:d2 pci=0000:1a:00.2 driver=net_i40e
2018-11-29 08:40:04,349 INFO ChainRunner initialized
2018-11-29 08:40:04,350 INFO Starting 2xEXT benchmark...
2018-11-29 08:40:04,455 INFO Polling ARP until successful...
2018-11-29 08:40:04,664 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-29 08:40:04,665 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-29 08:40:04,665 INFO ARP resolved successfully for port 0
2018-11-29 08:40:04,873 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-29 08:40:04,873 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-29 08:40:04,874 INFO ARP resolved successfully for port 1
2018-11-29 08:40:04,975 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa']
2018-11-29 08:40:04,975 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb']
2018-11-29 08:40:04,975 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-29 08:40:04,987 INFO Created 2 traffic streams for port 0.
2018-11-29 08:40:04,989 INFO Created 2 traffic streams for port 1.
2018-11-29 08:40:05,099 INFO Captured unique src mac 0/4, capturing return packets (retry 1/100)...
2018-11-29 08:40:07,279 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-29 08:40:07,279 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-29 08:40:07,281 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-29 08:40:07,281 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-29 08:40:07,281 INFO End-to-end connectivity established
2018-11-29 08:40:07,298 INFO Cleared all existing streams
2018-11-29 08:40:07,314 INFO Created 4 traffic streams for port 0.
2018-11-29 08:40:07,317 INFO Created 4 traffic streams for port 1.
2018-11-29 08:40:07,321 INFO Starting to generate traffic...
2018-11-29 08:40:07,321 INFO Running traffic generator
2018-11-29 08:40:17,346 INFO TX: 185193484; RX: 2877524; Est. Dropped: 182315960; Est. Drop rate: 98.4462%
2018-11-29 08:40:27,362 INFO TX: 370475088; RX: 5692443; Est. Dropped: 364782645; Est. Drop rate: 98.4635%
2018-11-29 08:40:37,356 INFO TX: 555001868; RX: 8531696; Est. Dropped: 546470172; Est. Drop rate: 98.4628%
2018-11-29 08:40:37,356 INFO ...traffic generating ended.
2018-11-29 08:40:37,378 INFO Cleared all existing streams
2018-11-29 08:40:37,422 INFO Created 8 traffic streams for port 0.
2018-11-29 08:40:37,428 INFO Created 8 traffic streams for port 1.
2018-11-29 08:40:37,436 INFO Starting to generate traffic...
2018-11-29 08:40:37,436 INFO Running traffic generator


2018-11-29 08:40:41 - [local][warning]   - [1mCPU util. is high: 86.9%[22m
2018-11-29 08:40:47,461 INFO TX: 65546531; RX: 1942017; Est. Dropped: 63604514; Est. Drop rate: 97.0372%
2018-11-29 08:40:57,477 INFO TX: 131127165; RX: 3807506; Est. Dropped: 127319659; Est. Drop rate: 97.0963%
2018-11-29 08:41:07,475 INFO TX: 196515530; RX: 5677329; Est. Dropped: 190838201; Est. Drop rate: 97.1110%
2018-11-29 08:41:07,475 INFO ...traffic generating ended.
2018-11-29 08:41:07,479 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6550517). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-29 08:41:07,480 INFO Service chain 'EXT' run completed.
2018-11-29 08:41:07,480 INFO Clean up skipped.
2018-11-29 08:41:07,506 INFO Saving results in json file: /tmp/nfvbench/vsc_2c4n_18500000pps-1.json...
2018-11-29 08:41:07,518 INFO 
========== NFVBench Summary ==========
Date: 2018-11-29 08:40:04
NFVBench version 2.0.4
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 2
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |  Min Latency (usec)  |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  98.4628%   |        8,076         |        1,000         |       169,624        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  97.1110%   |        11,799        |        1,000         |       242,878        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |  122.7909 Mbps  |       9,250,000 pps       |     9,250,031 pps      |   182,724 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |  68.3191 Mbps   |       9,250,000 pps       |     9,250,031 pps      |   101,665 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |  191.1100 Mbps  |      18,500,000 pps       |     18,500,062 pps     |   284,389 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+--------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |   Max lat.   |
              +=========+==============+==========================+============+============+==============+
              |    0    | 138,750,467  | -135,898,367 (-97.9444%) | 5,472 usec | 1,000 usec | 44,655 usec  |
              +---------+--------------+--------------------------+------------+------------+--------------+
              |    1    | 138,750,467  | -136,120,579 (-98.1046%) | 8,869 usec | 1,000 usec | 169,624 usec |
              +---------+--------------+--------------------------+------------+------------+--------------+
              |  total  | 277,500,934  | -272,018,946 (-98.0245%) | 7,171 usec | 1,000 usec | 169,624 usec |
              +---------+--------------+--------------------------+------------+------------+--------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------------+-------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |           TRex.RX.p0           |  Avg lat.   |  Min lat.  |  Max lat.   |
              +=========+==============+================================+=============+============+=============+
              |    0    | 138,750,467  |    -137,268,335 (-98.9318%)    | 4,549 usec  | 1,000 usec | 52,814 usec |
              +---------+--------------+--------------------------------+-------------+------------+-------------+
              |    1    | 138,750,467  | +64,285,776,750 (+46331.9354%) | 12,613 usec | 1,000 usec | 50,033 usec |
              +---------+--------------+--------------------------------+-------------+------------+-------------+
              |  total  | 277,500,934  | +64,148,508,415 (+23116.5018%) | 8,581 usec  | 1,000 usec | 52,814 usec |
              +---------+--------------+--------------------------------+-------------+------------+-------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      10.0044 Gbps      |  386.1186 Mbps  |       9,250,000 pps       |     3,275,130 pps      |   126,402 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      10.0052 Gbps      |  191.9596 Mbps  |       9,250,000 pps       |     3,275,386 pps      |   62,841 pps    |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      20.0096 Gbps      |  578.0783 Mbps  |      18,500,000 pps       |     6,550,516 pps      |   189,243 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (6550517). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+-------------------------+-------------+------------+--------------+
              |  Chain  |  TRex.TX.p0  |       TRex.RX.p1        |  Avg lat.   |  Min lat.  |   Max lat.   |
              +=========+==============+=========================+=============+============+==============+
              |    0    |  49,126,964  | -47,133,823 (-95.9429%) | 10,753 usec | 2,000 usec | 182,795 usec |
              +---------+--------------+-------------------------+-------------+------------+--------------+
              |    1    |  49,126,964  | -47,328,275 (-96.3387%) | 11,890 usec | 2,000 usec | 242,878 usec |
              +---------+--------------+-------------------------+-------------+------------+--------------+
              |  total  |  98,253,928  | -94,462,098 (-96.1408%) | 11,322 usec | 2,000 usec | 242,878 usec |
              +---------+--------------+-------------------------+-------------+------------+--------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+---------------------------------+-------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |           TRex.RX.p0            |  Avg lat.   |  Min lat.  |  Max lat.   |
              +=========+==============+=================================+=============+============+=============+
              |    0    |  49,130,801  |     -48,224,893 (-98.1561%)     | 12,937 usec | 1,000 usec | 48,824 usec |
              +---------+--------------+---------------------------------+-------------+------------+-------------+
              |    1    |  49,130,801  | +64,375,400,368 (+131028.5993%) | 11,138 usec | 1,000 usec | 39,827 usec |
              +---------+--------------+---------------------------------+-------------+------------+-------------+
              |  total  |  98,261,602  | +64,327,175,475 (+65465.2216%)  | 12,038 usec | 1,000 usec | 48,824 usec |
              +---------+--------------+---------------------------------+-------------+------------+-------------+
              

