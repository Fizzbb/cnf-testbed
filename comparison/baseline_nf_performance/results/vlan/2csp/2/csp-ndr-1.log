2018-11-09 12:12:17,390 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-09 12:12:17,422 INFO EXT chain with OpenStack mode disabled
2018-11-09 12:12:17,422 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate ndr --flow-count 1000 --duration 30 --json /tmp/nfvbench/2csp_2_ndr-1.log
2018-11-09 12:12:17,423 INFO Connecting to TRex (127.0.0.1)...
2018-11-09 12:12:17,558 INFO Connected to TRex
2018-11-09 12:12:17,558 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-09 12:12:17,558 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-09 12:12:17,559 INFO Port 0: VLANs (1070, 1071)
2018-11-09 12:12:17,559 INFO Port 1: VLANs (1064, 1065)
2018-11-09 12:12:17,559 INFO ChainRunner initialized
2018-11-09 12:12:17,559 INFO Adjusting frame size 64 Bytes to minimum size 68 Bytes due to traffic generator restriction
2018-11-09 12:12:17,560 INFO Starting 2xEXT benchmark...
2018-11-09 12:12:17,665 INFO Polling ARP until successful...
2018-11-09 12:12:17,874 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-09 12:12:17,874 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:00:00:00:aa
2018-11-09 12:12:17,874 INFO ARP resolved successfully for port 0
2018-11-09 12:12:17,986 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-09 12:12:17,986 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:00:00:00:bb
2018-11-09 12:12:17,986 INFO ARP resolved successfully for port 1
2018-11-09 12:12:18,088 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:00:00:00:aa']
2018-11-09 12:12:18,088 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:00:00:00:bb']
2018-11-09 12:12:18,088 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-09 12:12:18,100 INFO Created 2 traffic streams for port 0.
2018-11-09 12:12:18,102 INFO Created 2 traffic streams for port 1.
2018-11-09 12:12:18,211 INFO Captured unique src mac 0/2, capturing return packets (retry 1/100)...
2018-11-09 12:12:20,333 INFO Received packet from mac: 52:54:00:00:00:bb (chain=1, port=1)
2018-11-09 12:12:20,333 INFO Received packet from mac: 52:54:00:00:00:aa (chain=1, port=0)
2018-11-09 12:12:20,333 INFO End-to-end connectivity established
2018-11-09 12:12:20,350 INFO Cleared all existing streams
2018-11-09 12:12:20,366 INFO Created 4 traffic streams for port 0.
2018-11-09 12:12:20,369 INFO Created 4 traffic streams for port 1.
2018-11-09 12:12:20,369 INFO *** Searching NDR for 68 (Bidirectional)...
2018-11-09 12:12:20,369 INFO Range search [0.0 .. 200.0] targets: {'ndr': 0.001}
2018-11-09 12:12:20,369 INFO Modified traffic stream for port 0, new rate=100.0%.
2018-11-09 12:12:20,369 INFO Modified traffic stream for port 1, new rate=100.0%.
2018-11-09 12:12:20,369 INFO Running traffic generator


2018-11-09 12:12:26 - [local][warning]   - [1mCPU util. is high: 85.1%[22m
2018-11-09 12:12:30,392 INFO TX: 411765475; RX: 14905580; Est. Dropped: 396859895; Est. Drop rate: 96.3801%
2018-11-09 12:12:40,405 INFO TX: 827559275; RX: 28223602; Est. Dropped: 799335673; Est. Drop rate: 96.5895%
2018-11-09 12:12:50,396 INFO TX: 1241933572; RX: 41844046; Est. Dropped: 1200089526; Est. Drop rate: 96.6307%
2018-11-09 12:12:52,403 INFO WARNING: There is a significant difference between requested TX rate (71022726) and actual TX rate (41397785). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-09 12:12:52,403 INFO Average drop rate: 96.630652
2018-11-09 12:12:52,403 INFO Range search [0.0 .. 100.0] targets: {'ndr': 0.001}
2018-11-09 12:12:52,404 INFO Modified traffic stream for port 0, new rate=50.0%.
2018-11-09 12:12:52,404 INFO Modified traffic stream for port 1, new rate=50.0%.
2018-11-09 12:12:52,404 INFO Running traffic generator
2018-11-09 12:13:02,436 INFO TX: 355473791; RX: 15224097; Est. Dropped: 340249694; Est. Drop rate: 95.7172%


2018-11-09 12:13:05 - [local][warning]   - [1mCPU util. is high: 85.1%[22m
2018-11-09 12:13:12,451 INFO TX: 711113693; RX: 30115493; Est. Dropped: 680998200; Est. Drop rate: 95.7650%
2018-11-09 12:13:22,447 INFO TX: 1065341640; RX: 45491791; Est. Dropped: 1019849849; Est. Drop rate: 95.7298%
2018-11-09 12:13:24,453 INFO Average drop rate: 95.729840
2018-11-09 12:13:24,453 INFO Range search [0.0 .. 50.0] targets: {'ndr': 0.001}
2018-11-09 12:13:24,453 INFO Modified traffic stream for port 0, new rate=25.0%.
2018-11-09 12:13:24,453 INFO Modified traffic stream for port 1, new rate=25.0%.
2018-11-09 12:13:24,453 INFO Running traffic generator
2018-11-09 12:13:34,476 INFO TX: 177738988; RX: 14300284; Est. Dropped: 163438704; Est. Drop rate: 91.9543%
2018-11-09 12:13:44,489 INFO TX: 355535076; RX: 30417643; Est. Dropped: 325117433; Est. Drop rate: 91.4445%
2018-11-09 12:13:54,479 INFO TX: 532671856; RX: 44440893; Est. Dropped: 488230963; Est. Drop rate: 91.6570%
2018-11-09 12:13:56,485 INFO Average drop rate: 91.656985
2018-11-09 12:13:56,485 INFO Range search [0.0 .. 25.0] targets: {'ndr': 0.001}
2018-11-09 12:13:56,485 INFO Modified traffic stream for port 0, new rate=12.5%.
2018-11-09 12:13:56,485 INFO Modified traffic stream for port 1, new rate=12.5%.
2018-11-09 12:13:56,485 INFO Running traffic generator
2018-11-09 12:14:06,512 INFO TX: 88907302; RX: 15010340; Est. Dropped: 73896962; Est. Drop rate: 83.1169%
2018-11-09 12:14:16,526 INFO TX: 177808640; RX: 31036340; Est. Dropped: 146772300; Est. Drop rate: 82.5451%
2018-11-09 12:14:26,517 INFO TX: 266335756; RX: 44840363; Est. Dropped: 221495393; Est. Drop rate: 83.1640%
2018-11-09 12:14:28,522 INFO Average drop rate: 83.163972
2018-11-09 12:14:28,522 INFO Range search [0.0 .. 12.5] targets: {'ndr': 0.001}
2018-11-09 12:14:28,522 INFO Modified traffic stream for port 0, new rate=6.25%.
2018-11-09 12:14:28,522 INFO Modified traffic stream for port 1, new rate=6.25%.
2018-11-09 12:14:28,522 INFO Running traffic generator
2018-11-09 12:14:38,548 INFO TX: 44432276; RX: 13064236; Est. Dropped: 31368040; Est. Drop rate: 70.5974%
2018-11-09 12:14:48,561 INFO TX: 88879612; RX: 26292273; Est. Dropped: 62587339; Est. Drop rate: 70.4181%
2018-11-09 12:14:58,556 INFO TX: 133167748; RX: 37939645; Est. Dropped: 95228103; Est. Drop rate: 71.5099%
2018-11-09 12:15:00,561 INFO Average drop rate: 71.509885
2018-11-09 12:15:00,561 INFO Range search [0.0 .. 6.25] targets: {'ndr': 0.001}
2018-11-09 12:15:00,561 INFO Modified traffic stream for port 0, new rate=3.125%.
2018-11-09 12:15:00,561 INFO Modified traffic stream for port 1, new rate=3.125%.
2018-11-09 12:15:00,562 INFO Running traffic generator
2018-11-09 12:15:10,594 INFO TX: 22214648; RX: 7399606; Est. Dropped: 14815042; Est. Drop rate: 66.6904%
2018-11-09 12:15:20,607 INFO TX: 44437678; RX: 15501526; Est. Dropped: 28936152; Est. Drop rate: 65.1163%
2018-11-09 12:15:30,600 INFO TX: 66583824; RX: 22577506; Est. Dropped: 44006318; Est. Drop rate: 66.0916%
2018-11-09 12:15:32,605 INFO Average drop rate: 66.090090
2018-11-09 12:15:32,605 INFO Range search [0.0 .. 3.125] targets: {'ndr': 0.001}
2018-11-09 12:15:32,606 INFO Modified traffic stream for port 0, new rate=1.5625%.
2018-11-09 12:15:32,606 INFO Modified traffic stream for port 1, new rate=1.5625%.
2018-11-09 12:15:32,606 INFO Running traffic generator
2018-11-09 12:15:42,629 INFO TX: 11107678; RX: 5056098; Est. Dropped: 6051580; Est. Drop rate: 54.4811%
2018-11-09 12:15:52,641 INFO TX: 22219502; RX: 10289565; Est. Dropped: 11929937; Est. Drop rate: 53.6913%
2018-11-09 12:16:02,635 INFO TX: 33291908; RX: 15504435; Est. Dropped: 17787473; Est. Drop rate: 53.4288%
2018-11-09 12:16:04,640 INFO Average drop rate: 53.428818
2018-11-09 12:16:04,640 INFO Range search [0.0 .. 1.5625] targets: {'ndr': 0.001}
2018-11-09 12:16:04,640 INFO Modified traffic stream for port 0, new rate=0.78125%.
2018-11-09 12:16:04,640 INFO Modified traffic stream for port 1, new rate=0.78125%.
2018-11-09 12:16:04,640 INFO Running traffic generator
2018-11-09 12:16:14,658 INFO TX: 5551396; RX: 3231337; Est. Dropped: 2320059; Est. Drop rate: 41.7924%
2018-11-09 12:16:24,673 INFO TX: 11107868; RX: 6717553; Est. Dropped: 4390315; Est. Drop rate: 39.5244%
2018-11-09 12:16:34,666 INFO TX: 16645956; RX: 9940917; Est. Dropped: 6705039; Est. Drop rate: 40.2803%
2018-11-09 12:16:36,671 INFO Average drop rate: 40.280180
2018-11-09 12:16:36,671 INFO Range search [0.0 .. 0.78125] targets: {'ndr': 0.001}
2018-11-09 12:16:36,671 INFO Modified traffic stream for port 0, new rate=0.390625%.
2018-11-09 12:16:36,671 INFO Modified traffic stream for port 1, new rate=0.390625%.
2018-11-09 12:16:36,671 INFO Running traffic generator
2018-11-09 12:16:46,704 INFO TX: 2776838; RX: 2432952; Est. Dropped: 343886; Est. Drop rate: 12.3841%
2018-11-09 12:16:56,717 INFO TX: 5554766; RX: 4902649; Est. Dropped: 652117; Est. Drop rate: 11.7398%
2018-11-09 12:17:06,718 INFO TX: 8322980; RX: 7375687; Est. Dropped: 947293; Est. Drop rate: 11.3817%
2018-11-09 12:17:08,724 INFO Average drop rate: 11.381657
2018-11-09 12:17:08,724 INFO Range search [0.0 .. 0.390625] targets: {'ndr': 0.001}
2018-11-09 12:17:08,724 INFO Modified traffic stream for port 0, new rate=0.1953125%.
2018-11-09 12:17:08,724 INFO Modified traffic stream for port 1, new rate=0.1953125%.
2018-11-09 12:17:08,724 INFO Running traffic generator
2018-11-09 12:17:18,758 INFO TX: 1388352; RX: 1387680; Est. Dropped: 672; Est. Drop rate: 0.0484%
2018-11-09 12:17:28,772 INFO TX: 2777664; RX: 2776660; Est. Dropped: 1004; Est. Drop rate: 0.0361%
2018-11-09 12:17:38,765 INFO TX: 4161488; RX: 4160802; Est. Dropped: 686; Est. Drop rate: 0.0165%
2018-11-09 12:17:40,770 INFO Average drop rate: 0.016484
2018-11-09 12:17:40,770 INFO Range search [0.0 .. 0.1953125] targets: {'ndr': 0.001}
2018-11-09 12:17:40,771 INFO Modified traffic stream for port 0, new rate=0.09765625%.
2018-11-09 12:17:40,771 INFO Modified traffic stream for port 1, new rate=0.09765625%.
2018-11-09 12:17:40,771 INFO Running traffic generator
2018-11-09 12:17:50,803 INFO TX: 694282; RX: 693762; Est. Dropped: 520; Est. Drop rate: 0.0749%
2018-11-09 12:18:00,817 INFO TX: 1388766; RX: 1388402; Est. Dropped: 364; Est. Drop rate: 0.0262%
2018-11-09 12:18:10,814 INFO TX: 2080744; RX: 2080744; Est. Dropped: 0; Est. Drop rate: 0.0000%
2018-11-09 12:18:12,819 INFO Average drop rate: 0.000000
2018-11-09 12:18:12,819 INFO Range search [0.09765625 .. 0.1953125] targets: {'ndr': 0.001}
2018-11-09 12:18:12,819 INFO Found ndr (0.001) load: 0.09765625
2018-11-09 12:18:12,820 INFO NDR load: 0.1953125
2018-11-09 12:18:12,820 INFO Service chain 'EXT' run completed.
2018-11-09 12:18:12,820 INFO Clean up skipped.
2018-11-09 12:18:12,845 INFO Saving results in json file: /tmp/nfvbench/2csp_2_ndr-1.log...
2018-11-09 12:18:12,848 INFO 
========== NFVBench Summary ==========
Date: 2018-11-09 12:12:17
NFVBench version 2.0.3
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Measurement Parameters:
      NDR: 0.001
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_64B
          Bidirectional: True
          Flow count: 1000
          Service chains count: 2
          Compute nodes: []
            
            Run Summary:
            
              +-----+-----------------+------------------+------------------+-----------------+----------------------+----------------------+----------------------+
              |  -  |   L2 Frame Size |  Rate (fwd+rev)  |  Rate (fwd+rev)  |  Avg Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=====+=================+==================+==================+=================+======================+======================+======================+
              | NDR |              64 |   48.8281 Mbps   |    69,358 pps    |     0.0000%     |        5,947         |                   10 |        27,428        |
              +-----+-----------------+------------------+------------------+-----------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            Actual l2 frame size: 68
            NDR search duration: 352 seconds
            

