2018-11-12 09:37:25,038 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-12 09:37:25,070 INFO EXT chain with OpenStack mode disabled
2018-11-12 09:37:25,070 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate ndr --flow-count 1000 --duration 30 --json /tmp/nfvbench/2vsc_1_ndr-1.log
2018-11-12 09:37:25,071 INFO Connecting to TRex (127.0.0.1)...
2018-11-12 09:37:25,101 INFO Connected to TRex
2018-11-12 09:37:25,102 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-12 09:37:25,102 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-12 09:37:25,102 INFO Port 0: VLANs (1070, 1071)
2018-11-12 09:37:25,102 INFO Port 1: VLANs (1064, 1065)
2018-11-12 09:37:25,103 INFO ChainRunner initialized
2018-11-12 09:37:25,103 INFO Adjusting frame size 64 Bytes to minimum size 68 Bytes due to traffic generator restriction
2018-11-12 09:37:25,103 INFO Starting 2xEXT benchmark...
2018-11-12 09:37:25,209 INFO Polling ARP until successful...
2018-11-12 09:37:25,418 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-12 09:37:25,418 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:00:00:00:aa
2018-11-12 09:37:25,418 INFO ARP resolved successfully for port 0
2018-11-12 09:37:25,627 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-12 09:37:25,627 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:00:00:00:bb
2018-11-12 09:37:25,627 INFO ARP resolved successfully for port 1
2018-11-12 09:37:25,729 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:00:00:00:aa']
2018-11-12 09:37:25,729 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:00:00:00:bb']
2018-11-12 09:37:25,729 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-12 09:37:25,741 INFO Created 2 traffic streams for port 0.
2018-11-12 09:37:25,743 INFO Created 2 traffic streams for port 1.
2018-11-12 09:37:25,853 INFO Captured unique src mac 0/2, capturing return packets (retry 1/100)...
2018-11-12 09:37:27,974 INFO Received packet from mac: 52:54:00:00:00:bb (chain=1, port=1)
2018-11-12 09:37:27,974 INFO Received packet from mac: 52:54:00:00:00:aa (chain=1, port=0)
2018-11-12 09:37:27,974 INFO End-to-end connectivity established
2018-11-12 09:37:27,991 INFO Cleared all existing streams
2018-11-12 09:37:28,008 INFO Created 4 traffic streams for port 0.
2018-11-12 09:37:28,010 INFO Created 4 traffic streams for port 1.
2018-11-12 09:37:28,011 INFO *** Searching NDR for 68 (Bidirectional)...
2018-11-12 09:37:28,011 INFO Range search [0.0 .. 200.0] targets: {'ndr': 0.001}
2018-11-12 09:37:28,011 INFO Modified traffic stream for port 0, new rate=100.0%.
2018-11-12 09:37:28,011 INFO Modified traffic stream for port 1, new rate=100.0%.
2018-11-12 09:37:28,011 INFO Running traffic generator


2018-11-12 09:37:34 - [local][warning]   - [1mCPU util. is high: 88.1%[22m
2018-11-12 09:37:38,033 INFO TX: 413945824; RX: 41826278; Est. Dropped: 372119546; Est. Drop rate: 89.8957%
2018-11-12 09:37:48,047 INFO TX: 832401873; RX: 83652198; Est. Dropped: 748749675; Est. Drop rate: 89.9505%
2018-11-12 09:37:58,047 INFO TX: 1249758933; RX: 125372262; Est. Dropped: 1124386671; Est. Drop rate: 89.9683%
2018-11-12 09:38:00,053 INFO WARNING: There is a significant difference between requested TX rate (71022726) and actual TX rate (41658631). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-12 09:38:00,053 INFO Average drop rate: 89.968284
2018-11-12 09:38:00,053 INFO Range search [0.0 .. 100.0] targets: {'ndr': 0.001}
2018-11-12 09:38:00,053 INFO Modified traffic stream for port 0, new rate=50.0%.
2018-11-12 09:38:00,053 INFO Modified traffic stream for port 1, new rate=50.0%.
2018-11-12 09:38:00,053 INFO Running traffic generator
2018-11-12 09:38:10,085 INFO TX: 355456023; RX: 41964983; Est. Dropped: 313491040; Est. Drop rate: 88.1940%


2018-11-12 09:38:12 - [local][warning]   - [1mCPU util. is high: 85.2%[22m
2018-11-12 09:38:20,100 INFO TX: 711072568; RX: 83944125; Est. Dropped: 627128443; Est. Drop rate: 88.1947%
2018-11-12 09:38:30,096 INFO TX: 1065302328; RX: 125766016; Est. Dropped: 939536312; Est. Drop rate: 88.1943%
2018-11-12 09:38:32,103 INFO Average drop rate: 88.194336
2018-11-12 09:38:32,103 INFO Range search [0.0 .. 50.0] targets: {'ndr': 0.001}
2018-11-12 09:38:32,103 INFO Modified traffic stream for port 0, new rate=25.0%.
2018-11-12 09:38:32,103 INFO Modified traffic stream for port 1, new rate=25.0%.
2018-11-12 09:38:32,103 INFO Running traffic generator
2018-11-12 09:38:42,134 INFO TX: 177723493; RX: 42062848; Est. Dropped: 135660645; Est. Drop rate: 76.3324%
2018-11-12 09:38:52,149 INFO TX: 355543936; RX: 84103495; Est. Dropped: 271440441; Est. Drop rate: 76.3451%
2018-11-12 09:39:02,145 INFO TX: 532671860; RX: 126015296; Est. Dropped: 406656564; Est. Drop rate: 76.3428%
2018-11-12 09:39:04,151 INFO Average drop rate: 76.342791
2018-11-12 09:39:04,151 INFO Range search [0.0 .. 25.0] targets: {'ndr': 0.001}
2018-11-12 09:39:04,151 INFO Modified traffic stream for port 0, new rate=12.5%.
2018-11-12 09:39:04,151 INFO Modified traffic stream for port 1, new rate=12.5%.
2018-11-12 09:39:04,151 INFO Running traffic generator
2018-11-12 09:39:14,184 INFO TX: 88862701; RX: 41812665; Est. Dropped: 47050036; Est. Drop rate: 52.9469%
2018-11-12 09:39:24,199 INFO TX: 177771660; RX: 83667840; Est. Dropped: 94103820; Est. Drop rate: 52.9352%
2018-11-12 09:39:34,194 INFO TX: 266336988; RX: 125373260; Est. Dropped: 140963728; Est. Drop rate: 52.9268%
2018-11-12 09:39:36,201 INFO Average drop rate: 52.926831
2018-11-12 09:39:36,201 INFO Range search [0.0 .. 12.5] targets: {'ndr': 0.001}
2018-11-12 09:39:36,201 INFO Modified traffic stream for port 0, new rate=6.25%.
2018-11-12 09:39:36,201 INFO Modified traffic stream for port 1, new rate=6.25%.
2018-11-12 09:39:36,201 INFO Running traffic generator
2018-11-12 09:39:46,232 INFO TX: 44431886; RX: 40530062; Est. Dropped: 3901824; Est. Drop rate: 8.7816%
2018-11-12 09:39:56,247 INFO TX: 88885900; RX: 81073682; Est. Dropped: 7812218; Est. Drop rate: 8.7890%
2018-11-12 09:40:06,243 INFO TX: 133167136; RX: 121441488; Est. Dropped: 11725648; Est. Drop rate: 8.8052%
2018-11-12 09:40:08,250 INFO Average drop rate: 8.805212
2018-11-12 09:40:08,250 INFO Range search [0.0 .. 6.25] targets: {'ndr': 0.001}
2018-11-12 09:40:08,250 INFO Modified traffic stream for port 0, new rate=3.125%.
2018-11-12 09:40:08,250 INFO Modified traffic stream for port 1, new rate=3.125%.
2018-11-12 09:40:08,250 INFO Running traffic generator
2018-11-12 09:40:18,281 INFO TX: 22216360; RX: 22216389; Est. Dropped: -29; Est. Drop rate: -0.0001%
2018-11-12 09:40:28,294 INFO TX: 44441098; RX: 44441112; Est. Dropped: -14; Est. Drop rate: -0.0000%
2018-11-12 09:40:38,292 INFO TX: 66583828; RX: 66583828; Est. Dropped: 0; Est. Drop rate: 0.0000%
2018-11-12 09:40:40,297 INFO Average drop rate: 0.000000
2018-11-12 09:40:40,297 INFO Range search [3.125 .. 6.25] targets: {'ndr': 0.001}
2018-11-12 09:40:40,297 INFO Modified traffic stream for port 0, new rate=4.6875%.
2018-11-12 09:40:40,297 INFO Modified traffic stream for port 1, new rate=4.6875%.
2018-11-12 09:40:40,297 INFO Running traffic generator
2018-11-12 09:40:50,325 INFO TX: 33324686; RX: 33324619; Est. Dropped: 67; Est. Drop rate: 0.0002%
2018-11-12 09:41:00,338 INFO TX: 66662242; RX: 66662215; Est. Dropped: 27; Est. Drop rate: 0.0000%
2018-11-12 09:41:10,337 INFO TX: 99875924; RX: 99875924; Est. Dropped: 0; Est. Drop rate: 0.0000%
2018-11-12 09:41:12,344 INFO Average drop rate: 0.000000
2018-11-12 09:41:12,344 INFO Range search [4.6875 .. 6.25] targets: {'ndr': 0.001}
2018-11-12 09:41:12,344 INFO Modified traffic stream for port 0, new rate=5.46875%.
2018-11-12 09:41:12,344 INFO Modified traffic stream for port 1, new rate=5.46875%.
2018-11-12 09:41:12,344 INFO Running traffic generator
2018-11-12 09:41:22,374 INFO TX: 38878512; RX: 38878273; Est. Dropped: 239; Est. Drop rate: 0.0006%
2018-11-12 09:41:32,388 INFO TX: 77768346; RX: 77768172; Est. Dropped: 174; Est. Drop rate: 0.0002%
2018-11-12 09:41:42,385 INFO TX: 116521356; RX: 116521343; Est. Dropped: 13; Est. Drop rate: 0.0000%
2018-11-12 09:41:44,392 INFO Average drop rate: 0.000011
2018-11-12 09:41:44,392 INFO Range search [5.46875 .. 6.25] targets: {'ndr': 0.001}
2018-11-12 09:41:44,392 INFO Modified traffic stream for port 0, new rate=5.859375%.
2018-11-12 09:41:44,393 INFO Modified traffic stream for port 1, new rate=5.859375%.
2018-11-12 09:41:44,393 INFO Running traffic generator
2018-11-12 09:41:54,424 INFO TX: 41655334; RX: 40438237; Est. Dropped: 1217097; Est. Drop rate: 2.9218%
2018-11-12 09:42:04,439 INFO TX: 83331501; RX: 80872874; Est. Dropped: 2458627; Est. Drop rate: 2.9504%
2018-11-12 09:42:14,435 INFO TX: 124844216; RX: 121142461; Est. Dropped: 3701755; Est. Drop rate: 2.9651%
2018-11-12 09:42:16,441 INFO Average drop rate: 2.965099
2018-11-12 09:42:16,441 INFO Range search [5.46875 .. 5.859375] targets: {'ndr': 0.001}
2018-11-12 09:42:16,441 INFO Modified traffic stream for port 0, new rate=5.6640625%.
2018-11-12 09:42:16,442 INFO Modified traffic stream for port 1, new rate=5.6640625%.
2018-11-12 09:42:16,442 INFO Running traffic generator
2018-11-12 09:42:26,467 INFO TX: 40267518; RX: 40212140; Est. Dropped: 55378; Est. Drop rate: 0.1375%
2018-11-12 09:42:36,482 INFO TX: 80555376; RX: 80452221; Est. Dropped: 103155; Est. Drop rate: 0.1281%
2018-11-12 09:42:46,477 INFO TX: 120683512; RX: 120492184; Est. Dropped: 191328; Est. Drop rate: 0.1585%
2018-11-12 09:42:48,484 INFO Average drop rate: 0.158537
2018-11-12 09:42:48,484 INFO Range search [5.46875 .. 5.6640625] targets: {'ndr': 0.001}
2018-11-12 09:42:48,484 INFO Modified traffic stream for port 0, new rate=5.56640625%.
2018-11-12 09:42:48,484 INFO Modified traffic stream for port 1, new rate=5.56640625%.
2018-11-12 09:42:48,484 INFO Running traffic generator
2018-11-12 09:42:58,515 INFO TX: 39572704; RX: 39572221; Est. Dropped: 483; Est. Drop rate: 0.0012%
2018-11-12 09:43:08,530 INFO TX: 79165786; RX: 79164797; Est. Dropped: 989; Est. Drop rate: 0.0012%
2018-11-12 09:43:18,529 INFO TX: 118602836; RX: 118601327; Est. Dropped: 1509; Est. Drop rate: 0.0013%
2018-11-12 09:43:20,535 INFO Average drop rate: 0.001272
2018-11-12 09:43:20,535 INFO Range search [5.46875 .. 5.56640625] targets: {'ndr': 0.001}
2018-11-12 09:43:20,535 INFO Found ndr (0.001) load: 5.46875
2018-11-12 09:43:20,536 INFO NDR load: 10.9375
2018-11-12 09:43:20,536 INFO Service chain 'EXT' run completed.
2018-11-12 09:43:20,536 INFO Clean up skipped.
2018-11-12 09:43:20,569 INFO Saving results in json file: /tmp/nfvbench/2vsc_1_ndr-1.log...
2018-11-12 09:43:20,572 INFO
========== NFVBench Summary ==========
Date: 2018-11-12 09:37:25
NFVBench version 2.0.3
Openstack Neutron:
  vSwitch:
  Encapsulation:
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Measurement Parameters:
      NDR: 0.001
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_64B
          Bidirectional: True
          Flow count: 1000
          Service chains count: 2
          Compute nodes: []

            Run Summary:

              +-----+-----------------+------------------+------------------+-----------------+----------------------+----------------------+----------------------+
              |  -  |   L2 Frame Size |  Rate (fwd+rev)  |  Rate (fwd+rev)  |  Avg Drop Rate  |   Avg Latency (usec) |   Min Latency (usec) |   Max Latency (usec) |
              +=====+=================+==================+==================+=================+======================+======================+======================+
              | NDR |              64 |   2.7344 Gbps    |  3,884,054 pps   |     0.0000%     |                  105 |                   10 |                  141 |
              +-----+-----------------+------------------+------------------+-----------------+----------------------+----------------------+----------------------+


            L2 frame size: 64
            Actual l2 frame size: 68
            NDR search duration: 353 seconds


