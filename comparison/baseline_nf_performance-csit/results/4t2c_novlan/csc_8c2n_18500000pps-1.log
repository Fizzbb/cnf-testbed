2018-11-30 13:05:44,343 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-30 13:05:44,378 INFO EXT chain with OpenStack mode disabled
2018-11-30 13:05:44,378 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csc_8c2n_18500000pps-1.json
2018-11-30 13:05:44,379 INFO Connecting to TRex (127.0.0.1)...
2018-11-30 13:05:44,519 INFO Connected to TRex
2018-11-30 13:05:44,519 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-30 13:05:44,519 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-30 13:05:44,520 INFO ChainRunner initialized
2018-11-30 13:05:44,521 INFO Starting 8xEXT benchmark...
2018-11-30 13:05:44,626 INFO Polling ARP until successful...
2018-11-30 13:05:44,841 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-30 13:05:44,841 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-30 13:05:44,841 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-30 13:05:44,841 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-30 13:05:44,841 INFO    ARP: port=0 chain=4 src IP=172.16.10.104 dst IP=172.16.10.14 -> MAC=52:54:04:00:00:aa
2018-11-30 13:05:44,841 INFO    ARP: port=0 chain=5 src IP=172.16.10.105 dst IP=172.16.10.15 -> MAC=52:54:05:00:00:aa
2018-11-30 13:05:44,841 INFO    ARP: port=0 chain=6 src IP=172.16.10.106 dst IP=172.16.10.16 -> MAC=52:54:06:00:00:aa
2018-11-30 13:05:44,841 INFO    ARP: port=0 chain=7 src IP=172.16.10.107 dst IP=172.16.10.17 -> MAC=52:54:07:00:00:aa
2018-11-30 13:05:44,841 INFO ARP resolved successfully for port 0
2018-11-30 13:05:45,056 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-30 13:05:45,056 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-30 13:05:45,056 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-30 13:05:45,056 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-30 13:05:45,056 INFO    ARP: port=1 chain=4 src IP=172.16.20.104 dst IP=172.16.20.14 -> MAC=52:54:04:00:00:bb
2018-11-30 13:05:45,056 INFO    ARP: port=1 chain=5 src IP=172.16.20.105 dst IP=172.16.20.15 -> MAC=52:54:05:00:00:bb
2018-11-30 13:05:45,056 INFO    ARP: port=1 chain=6 src IP=172.16.20.106 dst IP=172.16.20.16 -> MAC=52:54:06:00:00:bb
2018-11-30 13:05:45,056 INFO    ARP: port=1 chain=7 src IP=172.16.20.107 dst IP=172.16.20.17 -> MAC=52:54:07:00:00:bb
2018-11-30 13:05:45,056 INFO ARP resolved successfully for port 1
2018-11-30 13:05:45,158 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa', '52:54:04:00:00:aa', '52:54:05:00:00:aa', '52:54:06:00:00:aa', '52:54:07:00:00:aa']
2018-11-30 13:05:45,158 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb', '52:54:04:00:00:bb', '52:54:05:00:00:bb', '52:54:06:00:00:bb', '52:54:07:00:00:bb']
2018-11-30 13:05:45,158 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-30 13:05:45,204 INFO Created 8 traffic streams for port 0.
2018-11-30 13:05:45,209 INFO Created 8 traffic streams for port 1.
2018-11-30 13:05:45,324 INFO Captured unique src mac 0/16, capturing return packets (retry 1/100)...
2018-11-30 13:05:47,447 INFO Received packet from mac: 52:54:04:00:00:bb (chain=4, port=1)
2018-11-30 13:05:47,447 INFO Received packet from mac: 52:54:05:00:00:bb (chain=5, port=1)
2018-11-30 13:05:47,448 INFO Received packet from mac: 52:54:07:00:00:bb (chain=7, port=1)
2018-11-30 13:05:47,448 INFO Received packet from mac: 52:54:06:00:00:bb (chain=6, port=1)
2018-11-30 13:05:47,448 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-30 13:05:47,448 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-30 13:05:47,448 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-30 13:05:47,448 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-30 13:05:47,448 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-30 13:05:47,448 INFO Received packet from mac: 52:54:06:00:00:aa (chain=6, port=0)
2018-11-30 13:05:47,448 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-30 13:05:47,448 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-30 13:05:47,448 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-30 13:05:47,448 INFO Received packet from mac: 52:54:04:00:00:aa (chain=4, port=0)
2018-11-30 13:05:47,448 INFO Received packet from mac: 52:54:05:00:00:aa (chain=5, port=0)
2018-11-30 13:05:47,448 INFO Received packet from mac: 52:54:07:00:00:aa (chain=7, port=0)
2018-11-30 13:05:47,448 INFO End-to-end connectivity established
2018-11-30 13:05:47,468 INFO Cleared all existing streams
2018-11-30 13:05:47,531 INFO Created 16 traffic streams for port 0.
2018-11-30 13:05:47,540 INFO Created 16 traffic streams for port 1.
2018-11-30 13:05:47,540 INFO Starting to generate traffic...
2018-11-30 13:05:47,540 INFO Running traffic generator
2018-11-30 13:05:57,574 INFO TX: 185207192; RX: 64098492; Est. Dropped: 121108700; Est. Drop rate: 65.3909%
2018-11-30 13:06:07,594 INFO TX: 370568736; RX: 128255934; Est. Dropped: 242312802; Est. Drop rate: 65.3894%
2018-11-30 13:06:17,584 INFO TX: 554999424; RX: 192100612; Est. Dropped: 362898812; Est. Drop rate: 65.3872%
2018-11-30 13:06:17,585 INFO ...traffic generating ended.
2018-11-30 13:06:17,612 INFO Cleared all existing streams
2018-11-30 13:06:17,794 INFO Created 32 traffic streams for port 0.
2018-11-30 13:06:17,812 INFO Created 32 traffic streams for port 1.
2018-11-30 13:06:17,812 INFO Starting to generate traffic...
2018-11-30 13:06:17,812 INFO Running traffic generator


2018-11-30 13:06:23 - [local][warning]   - [1mCPU util. is high: 85.7%[22m
2018-11-30 13:06:27,846 INFO TX: 144880392; RX: 34842036; Est. Dropped: 110038356; Est. Drop rate: 75.9512%
2018-11-30 13:06:37,865 INFO TX: 289851200; RX: 69685442; Est. Dropped: 220165758; Est. Drop rate: 75.9582%
2018-11-30 13:06:47,861 INFO TX: 434357972; RX: 104414579; Est. Dropped: 329943393; Est. Drop rate: 75.9612%
2018-11-30 13:06:47,861 INFO ...traffic generating ended.
2018-11-30 13:06:47,870 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14478599). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-30 13:06:47,870 INFO Service chain 'EXT' run completed.
2018-11-30 13:06:47,870 INFO Clean up skipped.
2018-11-30 13:06:47,900 INFO Saving results in json file: /tmp/nfvbench/csc_8c2n_18500000pps-1.json...
2018-11-30 13:06:47,918 INFO 
========== NFVBench Summary ==========
Date: 2018-11-30 13:05:44
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 8
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  65.3872%   |        1,109         |                   20 |        1,606         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  75.9612%   |        2,004         |                   50 |        4,529         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |   2.1504 Gbps   |       9,250,000 pps       |     9,249,990 pps      |  3,199,928 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |   2.1527 Gbps   |       9,250,000 pps       |     9,249,990 pps      |  3,203,425 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   4.3031 Gbps   |      18,500,000 pps       |     18,499,980 pps     |  6,403,353 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  34,687,464  | -22,637,182 (-65.2604%)  | 1,110 usec |  50 usec   | 1,519 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  34,687,464  | -22,636,966 (-65.2598%)  | 1,116 usec |  50 usec   | 1,494 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  34,687,464  | -22,636,906 (-65.2596%)  | 1,123 usec |  50 usec   | 1,496 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  34,687,464  | -22,637,319 (-65.2608%)  | 1,121 usec |  50 usec   | 1,501 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  34,687,464  | -22,738,275 (-65.5519%)  | 1,112 usec |  50 usec   | 1,566 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  34,687,464  | -22,738,255 (-65.5518%)  | 1,114 usec |  50 usec   | 1,571 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  34,687,464  | -22,738,541 (-65.5526%)  | 1,085 usec |  30 usec   | 1,606 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  34,687,464  | -22,738,422 (-65.5523%)  | 1,120 usec |  20 usec   | 1,572 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,712  | -181,501,866 (-65.4061%) | 1,113 usec |  20 usec   | 1,606 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  34,687,464  | -22,629,033 (-65.2369%)  | 1,103 usec |  600 usec  | 1,543 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  34,687,464  | -22,629,448 (-65.2381%)  | 1,111 usec |  600 usec  | 1,546 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  34,687,464  | -22,629,252 (-65.2376%)  | 1,110 usec |  600 usec  | 1,516 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  34,687,464  | -22,629,425 (-65.2380%)  | 1,116 usec |  700 usec  | 1,520 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  34,687,464  | -22,719,841 (-65.4987%)  | 1,115 usec |  80 usec   | 1,501 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  34,687,464  | -22,720,107 (-65.4995%)  | 1,104 usec |  90 usec   | 1,512 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  34,687,464  | -22,719,918 (-65.4989%)  | 1,081 usec |  80 usec   | 1,523 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  34,687,464  | -22,719,922 (-65.4989%)  | 1,109 usec |  90 usec   | 1,510 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,712  | -181,396,946 (-65.3683%) | 1,106 usec |  80 usec   | 1,546 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      22.1143 Gbps      |   5.3258 Gbps   |       9,250,000 pps       |     7,239,504 pps      |  1,743,510 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      22.1130 Gbps      |   5.3059 Gbps   |       9,250,000 pps       |     7,239,094 pps      |  1,736,975 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      44.2273 Gbps      |  10.6317 Gbps   |      18,500,000 pps       |     14,478,598 pps     |  3,480,485 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14478599). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  27,148,141  | -20,608,054 (-75.9096%)  | 1,884 usec |  100 usec  | 4,122 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  27,148,141  | -20,608,191 (-75.9101%)  | 1,941 usec |  100 usec  | 3,535 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  27,148,140  | -20,607,749 (-75.9085%)  | 1,961 usec |  50 usec   | 3,564 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  27,148,140  | -20,608,373 (-75.9108%)  | 2,001 usec |  100 usec  | 3,598 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  27,148,141  | -20,612,040 (-75.9243%)  | 2,091 usec |  100 usec  | 4,413 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  27,148,141  | -20,611,413 (-75.9220%)  | 2,074 usec |  60 usec   | 4,437 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  27,148,140  | -20,611,685 (-75.9230%)  | 1,983 usec |  60 usec   | 3,852 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  27,148,140  | -20,612,304 (-75.9253%)  | 2,094 usec |  60 usec   | 3,597 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 217,185,124  | -164,879,809 (-75.9167%) | 2,004 usec |  50 usec   | 4,437 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  27,146,606  | -20,629,708 (-75.9937%)  | 1,972 usec |  200 usec  | 3,041 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  27,146,606  | -20,628,979 (-75.9910%)  | 1,972 usec |  200 usec  | 3,052 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  27,146,606  | -20,629,644 (-75.9935%)  | 1,982 usec |  200 usec  | 3,066 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  27,146,606  | -20,629,159 (-75.9917%)  | 2,004 usec |  300 usec  | 3,083 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  27,146,606  | -20,636,672 (-76.0193%)  | 2,051 usec |  100 usec  | 4,512 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  27,146,606  | -20,636,533 (-76.0188%)  | 2,031 usec |  100 usec  | 3,416 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  27,146,606  | -20,636,067 (-76.0171%)  | 2,001 usec |  100 usec  | 3,473 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  27,146,606  | -20,636,822 (-76.0199%)  | 2,040 usec |  100 usec  | 4,529 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 217,172,848  | -165,063,584 (-76.0056%) | 2,007 usec |  100 usec  | 4,529 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              

