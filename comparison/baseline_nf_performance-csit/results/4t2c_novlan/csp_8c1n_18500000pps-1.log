2018-11-30 13:23:20,019 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-30 13:23:20,053 INFO EXT chain with OpenStack mode disabled
2018-11-30 13:23:20,053 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csp_8c1n_18500000pps-1.json
2018-11-30 13:23:20,055 INFO Connecting to TRex (127.0.0.1)...
2018-11-30 13:23:20,190 INFO Connected to TRex
2018-11-30 13:23:20,191 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-30 13:23:20,191 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-30 13:23:20,192 INFO ChainRunner initialized
2018-11-30 13:23:20,193 INFO Starting 8xEXT benchmark...
2018-11-30 13:23:20,298 INFO Polling ARP until successful...
2018-11-30 13:23:20,513 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-30 13:23:20,513 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-30 13:23:20,513 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-30 13:23:20,513 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-30 13:23:20,513 INFO    ARP: port=0 chain=4 src IP=172.16.10.104 dst IP=172.16.10.14 -> MAC=52:54:04:00:00:aa
2018-11-30 13:23:20,513 INFO    ARP: port=0 chain=5 src IP=172.16.10.105 dst IP=172.16.10.15 -> MAC=52:54:05:00:00:aa
2018-11-30 13:23:20,513 INFO    ARP: port=0 chain=6 src IP=172.16.10.106 dst IP=172.16.10.16 -> MAC=52:54:06:00:00:aa
2018-11-30 13:23:20,513 INFO    ARP: port=0 chain=7 src IP=172.16.10.107 dst IP=172.16.10.17 -> MAC=52:54:07:00:00:aa
2018-11-30 13:23:20,513 INFO ARP resolved successfully for port 0
2018-11-30 13:23:20,728 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-30 13:23:20,728 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-30 13:23:20,728 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-30 13:23:20,728 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-30 13:23:20,728 INFO    ARP: port=1 chain=4 src IP=172.16.20.104 dst IP=172.16.20.14 -> MAC=52:54:04:00:00:bb
2018-11-30 13:23:20,728 INFO    ARP: port=1 chain=5 src IP=172.16.20.105 dst IP=172.16.20.15 -> MAC=52:54:05:00:00:bb
2018-11-30 13:23:20,728 INFO    ARP: port=1 chain=6 src IP=172.16.20.106 dst IP=172.16.20.16 -> MAC=52:54:06:00:00:bb
2018-11-30 13:23:20,728 INFO    ARP: port=1 chain=7 src IP=172.16.20.107 dst IP=172.16.20.17 -> MAC=52:54:07:00:00:bb
2018-11-30 13:23:20,728 INFO ARP resolved successfully for port 1
2018-11-30 13:23:20,830 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa', '52:54:04:00:00:aa', '52:54:05:00:00:aa', '52:54:06:00:00:aa', '52:54:07:00:00:aa']
2018-11-30 13:23:20,830 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb', '52:54:04:00:00:bb', '52:54:05:00:00:bb', '52:54:06:00:00:bb', '52:54:07:00:00:bb']
2018-11-30 13:23:20,830 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-30 13:23:20,877 INFO Created 8 traffic streams for port 0.
2018-11-30 13:23:20,881 INFO Created 8 traffic streams for port 1.
2018-11-30 13:23:20,995 INFO Captured unique src mac 0/16, capturing return packets (retry 1/100)...
2018-11-30 13:23:23,120 INFO Received packet from mac: 52:54:06:00:00:bb (chain=6, port=1)
2018-11-30 13:23:23,120 INFO Received packet from mac: 52:54:05:00:00:bb (chain=5, port=1)
2018-11-30 13:23:23,120 INFO Received packet from mac: 52:54:07:00:00:bb (chain=7, port=1)
2018-11-30 13:23:23,120 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-30 13:23:23,120 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-30 13:23:23,120 INFO Received packet from mac: 52:54:04:00:00:bb (chain=4, port=1)
2018-11-30 13:23:23,120 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-30 13:23:23,120 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-30 13:23:23,120 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-30 13:23:23,120 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-30 13:23:23,120 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-30 13:23:23,120 INFO Received packet from mac: 52:54:05:00:00:aa (chain=5, port=0)
2018-11-30 13:23:23,120 INFO Received packet from mac: 52:54:07:00:00:aa (chain=7, port=0)
2018-11-30 13:23:23,120 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-30 13:23:23,121 INFO Received packet from mac: 52:54:04:00:00:aa (chain=4, port=0)
2018-11-30 13:23:23,121 INFO Received packet from mac: 52:54:06:00:00:aa (chain=6, port=0)
2018-11-30 13:23:23,121 INFO End-to-end connectivity established
2018-11-30 13:23:23,141 INFO Cleared all existing streams
2018-11-30 13:23:23,199 INFO Created 16 traffic streams for port 0.
2018-11-30 13:23:23,213 INFO Created 16 traffic streams for port 1.
2018-11-30 13:23:23,213 INFO Starting to generate traffic...
2018-11-30 13:23:23,213 INFO Running traffic generator
2018-11-30 13:23:33,249 INFO TX: 185223776; RX: 102838896; Est. Dropped: 82384880; Est. Drop rate: 44.4786%
2018-11-30 13:23:43,269 INFO TX: 370591848; RX: 205864676; Est. Dropped: 164727172; Est. Drop rate: 44.4498%
2018-11-30 13:23:53,259 INFO TX: 554999424; RX: 308289356; Est. Dropped: 246710068; Est. Drop rate: 44.4523%
2018-11-30 13:23:53,259 INFO ...traffic generating ended.
2018-11-30 13:23:53,287 INFO Cleared all existing streams
2018-11-30 13:23:53,469 INFO Created 32 traffic streams for port 0.
2018-11-30 13:23:53,487 INFO Created 32 traffic streams for port 1.
2018-11-30 13:23:53,488 INFO Starting to generate traffic...
2018-11-30 13:23:53,488 INFO Running traffic generator


2018-11-30 13:23:59 - [local][warning]   - [1mCPU util. is high: 87.3%[22m
2018-11-30 13:24:03,523 INFO TX: 144371813; RX: 64709125; Est. Dropped: 79662688; Est. Drop rate: 55.1788%
2018-11-30 13:24:13,542 INFO TX: 288829146; RX: 129404418; Est. Dropped: 159424728; Est. Drop rate: 55.1969%
2018-11-30 13:24:23,537 INFO TX: 432825372; RX: 193925910; Est. Dropped: 238899462; Est. Drop rate: 55.1953%
2018-11-30 13:24:23,537 INFO ...traffic generating ended.
2018-11-30 13:24:23,546 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14427512). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-30 13:24:23,546 INFO Service chain 'EXT' run completed.
2018-11-30 13:24:23,547 INFO Clean up skipped.
2018-11-30 13:24:23,578 INFO Saving results in json file: /tmp/nfvbench/csp_8c1n_18500000pps-1.json...
2018-11-30 13:24:23,595 INFO 
========== NFVBench Summary ==========
Date: 2018-11-30 13:23:20
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 8
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |   Avg Latency (usec) |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  44.4523%   |                  548 |                   10 |         708          |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  55.1953%   |                  844 |                   60 |        1,305         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |   3.4501 Gbps   |       9,250,000 pps       |     9,249,990 pps      |  5,134,088 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |   3.4556 Gbps   |       9,250,000 pps       |     9,249,990 pps      |  5,142,223 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   6.9057 Gbps   |      18,500,000 pps       |     18,499,980 pps     | 10,276,311 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  34,687,464  | -15,434,027 (-44.4945%)  |  557 usec  |  20 usec   |  700 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  34,687,464  | -15,434,343 (-44.4954%)  |  556 usec  |  100 usec  |  703 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  34,687,464  | -15,433,644 (-44.4934%)  |  556 usec  |  20 usec   |  700 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  34,687,464  | -15,433,776 (-44.4938%)  |  551 usec  |  100 usec  |  698 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  34,687,464  | -15,436,014 (-44.5003%)  |  558 usec  |  50 usec   |  708 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  34,687,464  | -15,434,509 (-44.4959%)  |  546 usec  |  100 usec  |  685 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  34,687,464  | -15,435,509 (-44.4988%)  |  559 usec  |  20 usec   |  687 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  34,687,464  | -15,435,228 (-44.4980%)  |  547 usec  |  30 usec   |  689 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,712  | -123,477,050 (-44.4963%) |  554 usec  |  20 usec   |  708 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  34,687,464  | -15,395,680 (-44.3840%)  |  542 usec  |  20 usec   |  693 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  34,687,464  | -15,395,852 (-44.3845%)  |  548 usec  |  90 usec   |  706 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  34,687,464  | -15,396,240 (-44.3856%)  |  543 usec  |  20 usec   |  699 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  34,687,464  | -15,396,080 (-44.3851%)  |  548 usec  |  90 usec   |  689 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  34,687,464  | -15,412,181 (-44.4316%)  |  538 usec  |  20 usec   |  688 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  34,687,464  | -15,412,432 (-44.4323%)  |  545 usec  |  90 usec   |  700 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  34,687,464  | -15,412,488 (-44.4324%)  |  540 usec  |  10 usec   |  693 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  34,687,464  | -15,412,065 (-44.4312%)  |  547 usec  |  90 usec   |  684 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,712  | -123,233,018 (-44.4083%) |  544 usec  |  10 usec   |  706 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      22.0358 Gbps      |   9.8689 Gbps   |       9,250,000 pps       |     7,213,799 pps      |  3,230,756 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      22.0355 Gbps      |   9.8771 Gbps   |       9,250,000 pps       |     7,213,713 pps      |  3,233,440 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      44.0712 Gbps      |  19.7460 Gbps   |      18,500,000 pps       |     14,427,512 pps     |  6,464,196 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14427512). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  27,051,747  | -14,938,373 (-55.2215%)  |  847 usec  |  70 usec   | 1,183 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  27,051,747  | -14,938,864 (-55.2233%)  |  839 usec  |  200 usec  | 1,305 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  27,051,746  | -14,937,473 (-55.2181%)  |  856 usec  |  60 usec   | 1,141 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  27,051,747  | -14,937,607 (-55.2186%)  |  832 usec  |  200 usec  | 1,123 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  27,051,746  | -14,934,737 (-55.2080%)  |  852 usec  |  300 usec  | 1,096 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  27,051,746  | -14,934,830 (-55.2084%)  |  854 usec  |  500 usec  | 1,094 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  27,051,747  | -14,934,924 (-55.2087%)  |  848 usec  |  300 usec  | 1,137 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  27,051,746  | -14,934,478 (-55.2071%)  |  861 usec  |  500 usec  | 1,094 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 216,413,972  | -119,491,286 (-55.2142%) |  849 usec  |  60 usec   | 1,305 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  27,051,425  | -14,930,111 (-55.1916%)  |  857 usec  |  600 usec  | 1,262 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  27,051,425  | -14,929,415 (-55.1890%)  |  841 usec  |  500 usec  | 1,105 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  27,051,425  | -14,927,901 (-55.1834%)  |  836 usec  |  600 usec  | 1,299 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  27,051,425  | -14,928,026 (-55.1839%)  |  834 usec  |  500 usec  | 1,102 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  27,051,425  | -14,923,186 (-55.1660%)  |  835 usec  |  500 usec  | 1,084 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  27,051,425  | -14,923,310 (-55.1664%)  |  836 usec  |  300 usec  | 1,124 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  27,051,425  | -14,922,471 (-55.1633%)  |  847 usec  |  500 usec  | 1,098 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  27,051,425  | -14,923,756 (-55.1681%)  |  844 usec  |  300 usec  | 1,110 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 216,411,400  | -119,408,176 (-55.1765%) |  841 usec  |  300 usec  | 1,299 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              

