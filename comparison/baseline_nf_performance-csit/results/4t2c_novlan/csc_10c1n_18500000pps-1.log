2018-12-08 05:03:31,883 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-12-08 05:03:31,919 INFO EXT chain with OpenStack mode disabled
2018-12-08 05:03:31,920 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csc_10c1n_18500000pps-1.json
2018-12-08 05:03:31,921 INFO Connecting to TRex (127.0.0.1)...
2018-12-08 05:03:32,064 INFO Connected to TRex
2018-12-08 05:03:32,064 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-12-08 05:03:32,064 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-12-08 05:03:32,066 INFO ChainRunner initialized
2018-12-08 05:03:32,067 INFO Starting 10xEXT benchmark...
2018-12-08 05:03:32,173 INFO Polling ARP until successful...
2018-12-08 05:03:32,390 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-12-08 05:03:32,390 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-12-08 05:03:32,390 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-12-08 05:03:32,390 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-12-08 05:03:32,390 INFO    ARP: port=0 chain=4 src IP=172.16.10.104 dst IP=172.16.10.14 -> MAC=52:54:04:00:00:aa
2018-12-08 05:03:32,390 INFO    ARP: port=0 chain=5 src IP=172.16.10.105 dst IP=172.16.10.15 -> MAC=52:54:05:00:00:aa
2018-12-08 05:03:32,390 INFO    ARP: port=0 chain=6 src IP=172.16.10.106 dst IP=172.16.10.16 -> MAC=52:54:06:00:00:aa
2018-12-08 05:03:32,390 INFO    ARP: port=0 chain=7 src IP=172.16.10.107 dst IP=172.16.10.17 -> MAC=52:54:07:00:00:aa
2018-12-08 05:03:32,390 INFO    ARP: port=0 chain=8 src IP=172.16.10.108 dst IP=172.16.10.18 -> MAC=52:54:08:00:00:aa
2018-12-08 05:03:32,391 INFO    ARP: port=0 chain=9 src IP=172.16.10.109 dst IP=172.16.10.19 -> MAC=52:54:09:00:00:aa
2018-12-08 05:03:32,391 INFO ARP resolved successfully for port 0
2018-12-08 05:03:32,607 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-12-08 05:03:32,607 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-12-08 05:03:32,607 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-12-08 05:03:32,608 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-12-08 05:03:32,608 INFO    ARP: port=1 chain=4 src IP=172.16.20.104 dst IP=172.16.20.14 -> MAC=52:54:04:00:00:bb
2018-12-08 05:03:32,608 INFO    ARP: port=1 chain=5 src IP=172.16.20.105 dst IP=172.16.20.15 -> MAC=52:54:05:00:00:bb
2018-12-08 05:03:32,608 INFO    ARP: port=1 chain=6 src IP=172.16.20.106 dst IP=172.16.20.16 -> MAC=52:54:06:00:00:bb
2018-12-08 05:03:32,608 INFO    ARP: port=1 chain=7 src IP=172.16.20.107 dst IP=172.16.20.17 -> MAC=52:54:07:00:00:bb
2018-12-08 05:03:32,608 INFO    ARP: port=1 chain=8 src IP=172.16.20.108 dst IP=172.16.20.18 -> MAC=52:54:08:00:00:bb
2018-12-08 05:03:32,608 INFO    ARP: port=1 chain=9 src IP=172.16.20.109 dst IP=172.16.20.19 -> MAC=52:54:09:00:00:bb
2018-12-08 05:03:32,608 INFO ARP resolved successfully for port 1
2018-12-08 05:03:32,714 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa', '52:54:04:00:00:aa', '52:54:05:00:00:aa', '52:54:06:00:00:aa', '52:54:07:00:00:aa', '52:54:08:00:00:aa', '52:54:09:00:00:aa']
2018-12-08 05:03:32,715 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb', '52:54:04:00:00:bb', '52:54:05:00:00:bb', '52:54:06:00:00:bb', '52:54:07:00:00:bb', '52:54:08:00:00:bb', '52:54:09:00:00:bb']
2018-12-08 05:03:32,715 INFO Starting traffic generator to ensure end-to-end connectivity
2018-12-08 05:03:32,772 INFO Created 10 traffic streams for port 0.
2018-12-08 05:03:32,778 INFO Created 10 traffic streams for port 1.
2018-12-08 05:03:32,894 INFO Captured unique src mac 0/20, capturing return packets (retry 1/100)...
2018-12-08 05:03:35,018 INFO Received packet from mac: 52:54:05:00:00:bb (chain=5, port=1)
2018-12-08 05:03:35,019 INFO Received packet from mac: 52:54:08:00:00:bb (chain=8, port=1)
2018-12-08 05:03:35,019 INFO Received packet from mac: 52:54:09:00:00:bb (chain=9, port=1)
2018-12-08 05:03:35,019 INFO Received packet from mac: 52:54:04:00:00:bb (chain=4, port=1)
2018-12-08 05:03:35,019 INFO Received packet from mac: 52:54:07:00:00:bb (chain=7, port=1)
2018-12-08 05:03:35,019 INFO Received packet from mac: 52:54:06:00:00:bb (chain=6, port=1)
2018-12-08 05:03:35,019 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-12-08 05:03:35,019 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-12-08 05:03:35,019 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-12-08 05:03:35,019 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-12-08 05:03:35,019 INFO Received packet from mac: 52:54:09:00:00:aa (chain=9, port=0)
2018-12-08 05:03:35,020 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-12-08 05:03:35,020 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-12-08 05:03:35,020 INFO Received packet from mac: 52:54:05:00:00:aa (chain=5, port=0)
2018-12-08 05:03:35,020 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-12-08 05:03:35,020 INFO Received packet from mac: 52:54:08:00:00:aa (chain=8, port=0)
2018-12-08 05:03:35,020 INFO Received packet from mac: 52:54:07:00:00:aa (chain=7, port=0)
2018-12-08 05:03:35,020 INFO Received packet from mac: 52:54:06:00:00:aa (chain=6, port=0)
2018-12-08 05:03:35,020 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-12-08 05:03:35,020 INFO Received packet from mac: 52:54:04:00:00:aa (chain=4, port=0)
2018-12-08 05:03:35,020 INFO End-to-end connectivity established
2018-12-08 05:03:35,040 INFO Cleared all existing streams
2018-12-08 05:03:35,113 INFO Created 20 traffic streams for port 0.
2018-12-08 05:03:35,124 INFO Created 20 traffic streams for port 1.
2018-12-08 05:03:35,124 INFO Starting to generate traffic...
2018-12-08 05:03:35,124 INFO Running traffic generator
2018-12-08 05:03:45,164 INFO TX: 185219976; RX: 100585058; Est. Dropped: 84634918; Est. Drop rate: 45.6943%
2018-12-08 05:03:55,185 INFO TX: 370626750; RX: 201131663; Est. Dropped: 169495087; Est. Drop rate: 45.7320%
2018-12-08 05:04:05,174 INFO TX: 555000120; RX: 301147801; Est. Dropped: 253852319; Est. Drop rate: 45.7391%
2018-12-08 05:04:05,174 INFO ...traffic generating ended.
2018-12-08 05:04:05,206 INFO Cleared all existing streams
2018-12-08 05:04:05,435 INFO Created 40 traffic streams for port 0.
2018-12-08 05:04:05,457 INFO Created 40 traffic streams for port 1.
2018-12-08 05:04:05,458 INFO Starting to generate traffic...
2018-12-08 05:04:05,458 INFO Running traffic generator


2018-12-08 05:04:10 - [local][warning]   - [1mCPU util. is high: 86.0%[22m
2018-12-08 05:04:15,502 INFO TX: 144480222; RX: 62720348; Est. Dropped: 81759874; Est. Drop rate: 56.5890%
2018-12-08 05:04:25,522 INFO TX: 289086519; RX: 125496771; Est. Dropped: 163589748; Est. Drop rate: 56.5885%
2018-12-08 05:04:35,512 INFO TX: 433125304; RX: 188021851; Est. Dropped: 245103453; Est. Drop rate: 56.5895%
2018-12-08 05:04:35,513 INFO ...traffic generating ended.
2018-12-08 05:04:35,524 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14437510). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-12-08 05:04:35,525 INFO Service chain 'EXT' run completed.
2018-12-08 05:04:35,525 INFO Clean up skipped.
2018-12-08 05:04:35,561 INFO Saving results in json file: /tmp/nfvbench/csc_10c1n_18500000pps-1.json...
2018-12-08 05:04:35,580 INFO 
========== NFVBench Summary ==========
Date: 2018-12-08 05:03:32
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 10
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |   Avg Latency (usec) |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  45.7391%   |                  563 |                   30 |         943          |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  56.5895%   |                  876 |                   50 |        1,293         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |   3.3770 Gbps   |       9,250,000 pps       |     9,250,002 pps      |  5,025,324 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |   3.3687 Gbps   |       9,250,000 pps       |     9,250,002 pps      |  5,012,935 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   6.7457 Gbps   |      18,500,000 pps       |     18,500,004 pps     | 10,038,259 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  27,750,006  | -12,692,262 (-45.7379%)  |  569 usec  |  30 usec   |  745 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  27,750,006  | -12,753,790 (-45.9596%)  |  560 usec  |  200 usec  |  943 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  27,750,006  | -12,801,755 (-46.1324%)  |  569 usec  |  100 usec  |  701 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  27,750,006  | -12,571,238 (-45.3017%)  |  562 usec  |  100 usec  |  898 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  27,750,006  | -12,724,523 (-45.8541%)  |  572 usec  |  100 usec  |  729 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  27,750,006  | -12,570,742 (-45.3000%)  |  557 usec  |  100 usec  |  904 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  27,750,006  | -12,612,003 (-45.4486%)  |  571 usec  |  100 usec  |  709 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  27,750,006  | -12,758,079 (-45.9750%)  |  557 usec  |  200 usec  |  818 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    8    |  27,750,006  | -12,502,826 (-45.0552%)  |  574 usec  |  100 usec  |  713 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    9    |  27,750,006  | -12,753,105 (-45.9571%)  |  559 usec  |  200 usec  |  827 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,500,060  | -126,740,323 (-45.6722%) |  565 usec  |  30 usec   |  943 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  27,750,006  | -12,696,945 (-45.7547%)  |  567 usec  |  50 usec   |  701 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  27,750,006  | -12,860,985 (-46.3459%)  |  567 usec  |  100 usec  |  683 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  27,750,006  | -12,868,365 (-46.3725%)  |  558 usec  |  60 usec   |  691 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  27,750,006  | -12,577,877 (-45.3257%)  |  567 usec  |  100 usec  |  700 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  27,750,006  | -12,753,543 (-45.9587%)  |  555 usec  |  60 usec   |  702 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  27,750,006  | -12,596,409 (-45.3925%)  |  567 usec  |  100 usec  |  690 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  27,750,006  | -12,606,063 (-45.4272%)  |  556 usec  |  50 usec   |  702 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  27,750,006  | -12,850,219 (-46.3071%)  |  570 usec  |  100 usec  |  694 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    8    |  27,750,006  | -12,452,735 (-44.8747%)  |  559 usec  |  100 usec  |  698 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    9    |  27,750,006  | -12,848,855 (-46.3022%)  |  570 usec  |  200 usec  |  693 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,500,060  | -127,111,996 (-45.8061%) |  564 usec  |  50 usec   |  702 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      22.0518 Gbps      |   9.5753 Gbps   |       9,250,000 pps       |     7,219,058 pps      |  3,134,648 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      22.0500 Gbps      |   9.5695 Gbps   |       9,250,000 pps       |     7,218,451 pps      |  3,132,746 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      44.1018 Gbps      |  19.1448 Gbps   |      18,500,000 pps       |     14,437,509 pps     |  6,267,394 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14437510). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  21,657,175  | -12,259,671 (-56.6079%)  |  883 usec  |  50 usec   | 1,142 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  21,657,176  | -12,286,523 (-56.7319%)  |  867 usec  |  100 usec  | 1,152 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  21,657,176  | -12,301,994 (-56.8033%)  |  887 usec  |  100 usec  | 1,175 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  21,657,175  | -12,199,631 (-56.3307%)  |  863 usec  |  80 usec   | 1,100 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  21,657,175  | -12,287,714 (-56.7374%)  |  885 usec  |  100 usec  | 1,143 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  21,657,175  | -12,189,692 (-56.2848%)  |  875 usec  |  80 usec   | 1,107 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  21,657,176  | -12,241,829 (-56.5255%)  |  887 usec  |  100 usec  | 1,113 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  21,657,176  | -12,293,817 (-56.7656%)  |  878 usec  |  200 usec  | 1,115 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    8    |  21,657,175  | -12,185,088 (-56.2635%)  |  898 usec  |  100 usec  | 1,148 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    9    |  21,657,175  | -12,286,346 (-56.7311%)  |  888 usec  |  90 usec   | 1,108 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 216,571,754  | -122,532,305 (-56.5782%) |  881 usec  |  50 usec   | 1,175 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  21,655,355  | -12,252,787 (-56.5809%)  |  867 usec  |  400 usec  | 1,237 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  21,655,355  | -12,303,477 (-56.8149%)  |  873 usec  |  300 usec  | 1,122 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  21,655,355  | -12,314,602 (-56.8663%)  |  857 usec  |  400 usec  | 1,128 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  21,655,355  | -12,182,339 (-56.2555%)  |  877 usec  |  300 usec  | 1,120 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  21,655,355  | -12,293,188 (-56.7674%)  |  866 usec  |  300 usec  | 1,116 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  21,655,355  | -12,215,286 (-56.4077%)  |  883 usec  |  300 usec  | 1,136 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  21,655,355  | -12,241,679 (-56.5296%)  |  873 usec  |  300 usec  | 1,127 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  21,655,355  | -12,287,769 (-56.7424%)  |  878 usec  |  300 usec  | 1,135 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    8    |  21,655,355  | -12,176,969 (-56.2308%)  |  881 usec  |  300 usec  | 1,293 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    9    |  21,655,355  | -12,303,052 (-56.8130%)  |  882 usec  |  400 usec  | 1,144 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 216,553,550  | -122,571,148 (-56.6008%) |  874 usec  |  300 usec  | 1,293 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              

