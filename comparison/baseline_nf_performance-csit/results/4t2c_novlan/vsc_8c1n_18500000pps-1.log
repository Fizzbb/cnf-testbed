2018-12-01 17:20:46,493 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-12-01 17:20:46,527 INFO EXT chain with OpenStack mode disabled
2018-12-01 17:20:46,527 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/vsc_8c1n_18500000pps-1.json
2018-12-01 17:20:46,529 INFO Connecting to TRex (127.0.0.1)...
2018-12-01 17:20:46,669 INFO Connected to TRex
2018-12-01 17:20:46,669 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-12-01 17:20:46,670 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-12-01 17:20:46,671 INFO ChainRunner initialized
2018-12-01 17:20:46,671 INFO Starting 8xEXT benchmark...
2018-12-01 17:20:46,776 INFO Polling ARP until successful...
2018-12-01 17:20:46,991 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-12-01 17:20:46,991 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-12-01 17:20:46,991 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-12-01 17:20:46,992 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-12-01 17:20:46,992 INFO    ARP: port=0 chain=4 src IP=172.16.10.104 dst IP=172.16.10.14 -> MAC=52:54:04:00:00:aa
2018-12-01 17:20:46,992 INFO    ARP: port=0 chain=5 src IP=172.16.10.105 dst IP=172.16.10.15 -> MAC=52:54:05:00:00:aa
2018-12-01 17:20:46,992 INFO    ARP: port=0 chain=6 src IP=172.16.10.106 dst IP=172.16.10.16 -> MAC=52:54:06:00:00:aa
2018-12-01 17:20:46,992 INFO    ARP: port=0 chain=7 src IP=172.16.10.107 dst IP=172.16.10.17 -> MAC=52:54:07:00:00:aa
2018-12-01 17:20:46,992 INFO ARP resolved successfully for port 0
2018-12-01 17:20:47,207 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-12-01 17:20:47,207 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-12-01 17:20:47,207 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-12-01 17:20:47,207 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-12-01 17:20:47,207 INFO    ARP: port=1 chain=4 src IP=172.16.20.104 dst IP=172.16.20.14 -> MAC=52:54:04:00:00:bb
2018-12-01 17:20:47,207 INFO    ARP: port=1 chain=5 src IP=172.16.20.105 dst IP=172.16.20.15 -> MAC=52:54:05:00:00:bb
2018-12-01 17:20:47,207 INFO    ARP: port=1 chain=6 src IP=172.16.20.106 dst IP=172.16.20.16 -> MAC=52:54:06:00:00:bb
2018-12-01 17:20:47,207 INFO    ARP: port=1 chain=7 src IP=172.16.20.107 dst IP=172.16.20.17 -> MAC=52:54:07:00:00:bb
2018-12-01 17:20:47,207 INFO ARP resolved successfully for port 1
2018-12-01 17:20:47,309 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa', '52:54:04:00:00:aa', '52:54:05:00:00:aa', '52:54:06:00:00:aa', '52:54:07:00:00:aa']
2018-12-01 17:20:47,309 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb', '52:54:04:00:00:bb', '52:54:05:00:00:bb', '52:54:06:00:00:bb', '52:54:07:00:00:bb']
2018-12-01 17:20:47,309 INFO Starting traffic generator to ensure end-to-end connectivity
2018-12-01 17:20:47,355 INFO Created 8 traffic streams for port 0.
2018-12-01 17:20:47,359 INFO Created 8 traffic streams for port 1.
2018-12-01 17:20:47,473 INFO Captured unique src mac 0/16, capturing return packets (retry 1/100)...
2018-12-01 17:20:49,598 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-12-01 17:20:49,598 INFO Received packet from mac: 52:54:05:00:00:aa (chain=5, port=0)
2018-12-01 17:20:49,598 INFO Received packet from mac: 52:54:04:00:00:bb (chain=4, port=1)
2018-12-01 17:20:49,598 INFO Received packet from mac: 52:54:07:00:00:aa (chain=7, port=0)
2018-12-01 17:20:49,598 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-12-01 17:20:49,598 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-12-01 17:20:49,598 INFO Received packet from mac: 52:54:05:00:00:bb (chain=5, port=1)
2018-12-01 17:20:49,598 INFO Received packet from mac: 52:54:04:00:00:aa (chain=4, port=0)
2018-12-01 17:20:49,598 INFO Received packet from mac: 52:54:07:00:00:bb (chain=7, port=1)
2018-12-01 17:20:49,599 INFO Received packet from mac: 52:54:06:00:00:aa (chain=6, port=0)
2018-12-01 17:20:49,599 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-12-01 17:20:49,599 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-12-01 17:20:49,599 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-12-01 17:20:49,599 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-12-01 17:20:49,599 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-12-01 17:20:49,599 INFO Received packet from mac: 52:54:06:00:00:bb (chain=6, port=1)
2018-12-01 17:20:49,599 INFO End-to-end connectivity established
2018-12-01 17:20:49,620 INFO Cleared all existing streams
2018-12-01 17:20:49,678 INFO Created 16 traffic streams for port 0.
2018-12-01 17:20:49,687 INFO Created 16 traffic streams for port 1.
2018-12-01 17:20:49,687 INFO Starting to generate traffic...
2018-12-01 17:20:49,687 INFO Running traffic generator
2018-12-01 17:20:59,724 INFO TX: 185216168; RX: 23380110; Est. Dropped: 161836058; Est. Drop rate: 87.3769%
2018-12-01 17:21:09,743 INFO TX: 370584816; RX: 46796167; Est. Dropped: 323788649; Est. Drop rate: 87.3723%
2018-12-01 17:21:19,727 INFO TX: 555000096; RX: 70018729; Est. Dropped: 484981367; Est. Drop rate: 87.3840%
2018-12-01 17:21:19,727 INFO ...traffic generating ended.
2018-12-01 17:21:19,757 INFO Cleared all existing streams
2018-12-01 17:21:19,961 INFO Created 32 traffic streams for port 0.
2018-12-01 17:21:19,979 INFO Created 32 traffic streams for port 1.
2018-12-01 17:21:19,979 INFO Starting to generate traffic...
2018-12-01 17:21:19,979 INFO Running traffic generator


2018-12-01 17:21:26 - [local][warning]   - [1mCPU util. is high: 88.1%[22m
2018-12-01 17:21:30,014 INFO TX: 145235765; RX: 18575660; Est. Dropped: 126660105; Est. Drop rate: 87.2100%
2018-12-01 17:21:40,035 INFO TX: 290583534; RX: 37155270; Est. Dropped: 253428264; Est. Drop rate: 87.2136%
2018-12-01 17:21:50,022 INFO TX: 435276144; RX: 55655034; Est. Dropped: 379621110; Est. Drop rate: 87.2139%
2018-12-01 17:21:50,022 INFO ...traffic generating ended.
2018-12-01 17:21:50,033 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14509204). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-12-01 17:21:50,033 INFO Service chain 'EXT' run completed.
2018-12-01 17:21:50,033 INFO Clean up skipped.
2018-12-01 17:21:50,065 INFO Saving results in json file: /tmp/nfvbench/vsc_8c1n_18500000pps-1.json...
2018-12-01 17:21:50,083 INFO 
========== NFVBench Summary ==========
Date: 2018-12-01 17:20:46
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 8
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  87.3840%   |        3,782         |                   40 |        80,410        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  87.2139%   |        2,308         |                   20 |        56,261        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |  784.5323 Mbps  |       9,250,000 pps       |     9,250,001 pps      |  1,167,458 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |  783.8872 Mbps  |       9,250,000 pps       |     9,250,001 pps      |  1,166,498 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   1.5684 Gbps   |      18,500,000 pps       |     18,500,002 pps     |  2,333,956 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+============+============+=============+
              |    0    |  34,687,506  | -30,406,746 (-87.6591%)  | 4,505 usec |  90 usec   | 32,433 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    1    |  34,687,506  | -30,191,315 (-87.0380%)  | 2,255 usec |  80 usec   | 32,410 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    2    |  34,687,506  | -30,429,160 (-87.7237%)  | 6,958 usec |  90 usec   | 32,379 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    3    |  34,687,506  | -30,275,810 (-87.2816%)  | 3,104 usec |  80 usec   | 48,393 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    4    |  34,687,506  | -30,385,142 (-87.5968%)  | 5,941 usec |  80 usec   | 56,442 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    5    |  34,687,506  | -30,152,391 (-86.9258%)  | 1,556 usec |  40 usec   | 32,388 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    6    |  34,687,506  | -30,414,085 (-87.6802%)  | 4,678 usec |  90 usec   | 32,419 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    7    |  34,687,506  | -30,221,123 (-87.1239%)  |  179 usec  |  80 usec   | 40,418 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  total  | 277,500,048  | -242,475,772 (-87.3786%) | 3,647 usec |  40 usec   | 56,442 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+============+============+=============+
              |    0    |  34,687,506  | -30,206,978 (-87.0832%)  |  130 usec  |  80 usec   | 28,433 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    1    |  34,687,506  | -30,393,201 (-87.6200%)  | 5,903 usec |  40 usec   | 32,391 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    2    |  34,687,506  | -30,212,236 (-87.0983%)  |  145 usec  |  80 usec   | 28,431 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    3    |  34,687,506  | -30,451,542 (-87.7882%)  | 8,894 usec |  80 usec   | 80,410 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    4    |  34,687,506  | -30,221,871 (-87.1261%)  | 1,572 usec |  80 usec   | 52,381 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    5    |  34,687,506  | -30,392,714 (-87.6186%)  | 3,958 usec |  80 usec   | 32,429 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    6    |  34,687,506  | -30,223,543 (-87.1309%)  | 3,536 usec |  80 usec   | 32,439 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    7    |  34,687,506  | -30,402,458 (-87.6467%)  | 7,202 usec |  90 usec   | 48,434 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  total  | 277,500,048  | -242,504,543 (-87.3890%) | 3,918 usec |  40 usec   | 80,410 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      22.1610 Gbps      |   2.8333 Gbps   |       9,250,000 pps       |     7,254,811 pps      |   927,519 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      22.1598 Gbps      |   2.8337 Gbps   |       9,250,000 pps       |     7,254,393 pps      |   927,648 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      44.3208 Gbps      |   5.6669 Gbps   |      18,500,000 pps       |     14,509,204 pps     |  1,855,167 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14509204). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+============+============+=============+
              |    0    |  27,205,544  | -23,682,009 (-87.0485%)  | 3,715 usec |  60 usec   | 32,274 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    1    |  27,205,544  | -23,642,215 (-86.9022%)  | 2,246 usec |  70 usec   | 32,219 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    2    |  27,205,544  | -23,669,715 (-87.0033%)  | 2,294 usec |  30 usec   | 32,265 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    3    |  27,205,544  | -24,001,128 (-88.2215%)  | 1,829 usec |  60 usec   | 56,261 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    4    |  27,205,544  | -23,717,651 (-87.1795%)  | 1,538 usec |  90 usec   | 28,603 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    5    |  27,205,544  | -23,730,026 (-87.2250%)  | 2,945 usec |  60 usec   | 48,304 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    6    |  27,205,544  | -23,712,143 (-87.1592%)  | 1,940 usec |  70 usec   | 28,578 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    7    |  27,205,544  | -23,662,867 (-86.9781%)  | 3,023 usec |  70 usec   | 28,487 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  total  | 217,644,352  | -189,817,754 (-87.2146%) | 2,441 usec |  30 usec   | 56,261 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+============+============+=============+
              |    0    |  27,203,974  | -23,628,901 (-86.8583%)  | 1,473 usec |  70 usec   | 28,518 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    1    |  27,203,974  | -23,660,833 (-86.9756%)  | 1,101 usec |  50 usec   | 32,397 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    2    |  27,203,974  | -23,629,949 (-86.8621%)  | 1,094 usec |  60 usec   | 28,495 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    3    |  27,203,974  | -24,046,696 (-88.3941%)  | 2,935 usec |  70 usec   | 52,114 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    4    |  27,203,974  | -23,671,121 (-87.0135%)  | 1,901 usec |  70 usec   | 32,502 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    5    |  27,203,974  | -23,774,689 (-87.3942%)  | 3,505 usec |  20 usec   | 52,292 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    6    |  27,203,974  | -23,686,046 (-87.0683%)  | 2,909 usec |  60 usec   | 28,579 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    7    |  27,203,974  | -23,703,074 (-87.1309%)  | 2,492 usec |  70 usec   | 32,454 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  total  | 217,631,792  | -189,801,309 (-87.2121%) | 2,176 usec |  20 usec   | 52,292 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              

