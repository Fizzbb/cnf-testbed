2018-11-30 11:28:29,710 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-30 11:28:29,743 INFO EXT chain with OpenStack mode disabled
2018-11-30 11:28:29,743 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csc_4c4n_18500000pps-1.json
2018-11-30 11:28:29,745 INFO Connecting to TRex (127.0.0.1)...
2018-11-30 11:28:29,887 INFO Connected to TRex
2018-11-30 11:28:29,887 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-30 11:28:29,887 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-30 11:28:29,888 INFO ChainRunner initialized
2018-11-30 11:28:29,889 INFO Starting 4xEXT benchmark...
2018-11-30 11:28:29,993 INFO Polling ARP until successful...
2018-11-30 11:28:30,204 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-30 11:28:30,204 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-30 11:28:30,204 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-30 11:28:30,204 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-30 11:28:30,204 INFO ARP resolved successfully for port 0
2018-11-30 11:28:30,415 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-30 11:28:30,415 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-30 11:28:30,415 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-30 11:28:30,415 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-30 11:28:30,415 INFO ARP resolved successfully for port 1
2018-11-30 11:28:30,517 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa']
2018-11-30 11:28:30,517 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb']
2018-11-30 11:28:30,517 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-30 11:28:30,541 INFO Created 4 traffic streams for port 0.
2018-11-30 11:28:30,544 INFO Created 4 traffic streams for port 1.
2018-11-30 11:28:30,655 INFO Captured unique src mac 0/8, capturing return packets (retry 1/100)...
2018-11-30 11:28:32,777 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-30 11:28:32,777 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-30 11:28:32,777 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-30 11:28:32,777 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-30 11:28:32,777 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-30 11:28:32,778 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-30 11:28:32,778 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-30 11:28:32,778 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-30 11:28:32,778 INFO End-to-end connectivity established
2018-11-30 11:28:32,796 INFO Cleared all existing streams
2018-11-30 11:28:32,827 INFO Created 8 traffic streams for port 0.
2018-11-30 11:28:32,832 INFO Created 8 traffic streams for port 1.
2018-11-30 11:28:32,832 INFO Starting to generate traffic...
2018-11-30 11:28:32,832 INFO Running traffic generator
2018-11-30 11:28:42,859 INFO TX: 185195760; RX: 38735258; Est. Dropped: 146460502; Est. Drop rate: 79.0842%
2018-11-30 11:28:52,876 INFO TX: 370498220; RX: 77498452; Est. Dropped: 292999768; Est. Drop rate: 79.0826%
2018-11-30 11:29:02,869 INFO TX: 554999224; RX: 116093457; Est. Dropped: 438905767; Est. Drop rate: 79.0822%
2018-11-30 11:29:02,870 INFO ...traffic generating ended.
2018-11-30 11:29:02,893 INFO Cleared all existing streams
2018-11-30 11:29:02,985 INFO Created 16 traffic streams for port 0.
2018-11-30 11:29:02,994 INFO Created 16 traffic streams for port 1.
2018-11-30 11:29:02,994 INFO Starting to generate traffic...
2018-11-30 11:29:02,995 INFO Running traffic generator


2018-11-30 11:29:08 - [local][warning]   - [1mCPU util. is high: 85.3%[22m
2018-11-30 11:29:13,021 INFO TX: 144703608; RX: 19182200; Est. Dropped: 125521408; Est. Drop rate: 86.7438%
2018-11-30 11:29:23,038 INFO TX: 289491548; RX: 38367480; Est. Dropped: 251124068; Est. Drop rate: 86.7466%
2018-11-30 11:29:33,035 INFO TX: 433826310; RX: 57491412; Est. Dropped: 376334898; Est. Drop rate: 86.7478%
2018-11-30 11:29:33,035 INFO ...traffic generating ended.
2018-11-30 11:29:33,042 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14460877). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-30 11:29:33,042 INFO Service chain 'EXT' run completed.
2018-11-30 11:29:33,042 INFO Clean up skipped.
2018-11-30 11:29:33,069 INFO Saving results in json file: /tmp/nfvbench/csc_4c4n_18500000pps-1.json...
2018-11-30 11:29:33,082 INFO 
========== NFVBench Summary ==========
Date: 2018-11-30 11:28:29
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 4
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  79.0822%   |        2,389         |                   30 |        4,986         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  86.7478%   |        4,692         |                  100 |        11,389        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |   1.3055 Gbps   |       9,250,000 pps       |     9,249,987 pps      |  1,942,679 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |   1.2950 Gbps   |       9,250,000 pps       |     9,249,987 pps      |  1,927,102 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   2.6005 Gbps   |      18,500,000 pps       |     18,499,974 pps     |  3,869,781 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  69,374,903  | -54,806,957 (-79.0011%)  | 2,429 usec |  50 usec   | 3,806 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  69,374,903  | -54,806,546 (-79.0005%)  | 2,370 usec |  50 usec   | 3,829 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  69,374,903  | -54,803,095 (-78.9956%)  | 2,415 usec |  40 usec   | 4,567 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  69,374,903  | -54,802,637 (-78.9949%)  | 2,351 usec |  30 usec   | 4,986 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,612  | -219,219,235 (-78.9980%) | 2,391 usec |  30 usec   | 4,986 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  69,374,903  | -54,919,122 (-79.1628%)  | 2,276 usec |  600 usec  | 2,961 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  69,374,903  | -54,919,335 (-79.1631%)  | 2,390 usec |  700 usec  | 3,081 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  69,374,903  | -54,924,057 (-79.1699%)  | 2,423 usec |  300 usec  | 2,978 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  69,374,903  | -54,924,018 (-79.1699%)  | 2,466 usec |  100 usec  | 2,993 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,612  | -219,686,532 (-79.1664%) | 2,389 usec |  100 usec  | 3,081 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      22.0862 Gbps      |   2.9460 Gbps   |       9,250,000 pps       |     7,230,329 pps      |   964,429 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      22.0869 Gbps      |   2.9079 Gbps   |       9,250,000 pps       |     7,230,547 pps      |   951,951 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      44.1732 Gbps      |   5.8539 Gbps   |      18,500,000 pps       |     14,460,876 pps     |  1,916,380 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14460877). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+============+============+=============+
              |    0    |  54,227,472  | -46,995,639 (-86.6639%)  | 4,848 usec |  700 usec  | 11,341 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    1    |  54,227,472  | -46,993,433 (-86.6598%)  | 4,862 usec |  100 usec  | 11,389 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    2    |  54,227,471  | -46,994,481 (-86.6618%)  | 4,936 usec |  800 usec  | 9,164 usec  |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    3    |  54,227,471  | -46,993,457 (-86.6599%)  | 4,734 usec |  100 usec  | 9,335 usec  |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  total  | 216,909,886  | -187,977,010 (-86.6613%) | 4,845 usec |  100 usec  | 11,389 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  54,229,106  | -47,087,495 (-86.8307%)  | 4,286 usec | 2,000 usec | 6,256 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  54,229,106  | -47,085,269 (-86.8266%)  | 4,532 usec | 2,000 usec | 6,172 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  54,229,106  | -47,092,286 (-86.8395%)  | 4,603 usec |  700 usec  | 6,382 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  54,229,106  | -47,092,838 (-86.8405%)  | 4,747 usec |  500 usec  | 6,095 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 216,916,424  | -188,357,888 (-86.8343%) | 4,542 usec |  500 usec  | 6,382 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              

