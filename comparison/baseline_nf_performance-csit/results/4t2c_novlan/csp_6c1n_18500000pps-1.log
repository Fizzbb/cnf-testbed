2018-11-30 13:54:31,542 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-30 13:54:31,575 INFO EXT chain with OpenStack mode disabled
2018-11-30 13:54:31,575 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csp_6c1n_18500000pps-1.json
2018-11-30 13:54:31,577 INFO Connecting to TRex (127.0.0.1)...
2018-11-30 13:54:31,712 INFO Connected to TRex
2018-11-30 13:54:31,712 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-30 13:54:31,712 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-30 13:54:31,713 INFO ChainRunner initialized
2018-11-30 13:54:31,714 INFO Starting 6xEXT benchmark...
2018-11-30 13:54:31,818 INFO Polling ARP until successful...
2018-11-30 13:54:32,031 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-30 13:54:32,031 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-30 13:54:32,031 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-30 13:54:32,031 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-30 13:54:32,031 INFO    ARP: port=0 chain=4 src IP=172.16.10.104 dst IP=172.16.10.14 -> MAC=52:54:04:00:00:aa
2018-11-30 13:54:32,031 INFO    ARP: port=0 chain=5 src IP=172.16.10.105 dst IP=172.16.10.15 -> MAC=52:54:05:00:00:aa
2018-11-30 13:54:32,031 INFO ARP resolved successfully for port 0
2018-11-30 13:54:32,244 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-30 13:54:32,244 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-30 13:54:32,244 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-30 13:54:32,244 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-30 13:54:32,244 INFO    ARP: port=1 chain=4 src IP=172.16.20.104 dst IP=172.16.20.14 -> MAC=52:54:04:00:00:bb
2018-11-30 13:54:32,244 INFO    ARP: port=1 chain=5 src IP=172.16.20.105 dst IP=172.16.20.15 -> MAC=52:54:05:00:00:bb
2018-11-30 13:54:32,244 INFO ARP resolved successfully for port 1
2018-11-30 13:54:32,346 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa', '52:54:04:00:00:aa', '52:54:05:00:00:aa']
2018-11-30 13:54:32,346 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb', '52:54:04:00:00:bb', '52:54:05:00:00:bb']
2018-11-30 13:54:32,347 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-30 13:54:32,382 INFO Created 6 traffic streams for port 0.
2018-11-30 13:54:32,385 INFO Created 6 traffic streams for port 1.
2018-11-30 13:54:32,498 INFO Captured unique src mac 0/12, capturing return packets (retry 1/100)...
2018-11-30 13:54:34,620 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-30 13:54:34,621 INFO Received packet from mac: 52:54:05:00:00:bb (chain=5, port=1)
2018-11-30 13:54:34,621 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-30 13:54:34,621 INFO Received packet from mac: 52:54:04:00:00:bb (chain=4, port=1)
2018-11-30 13:54:34,621 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-30 13:54:34,621 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-30 13:54:34,621 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-30 13:54:34,621 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-30 13:54:34,621 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-30 13:54:34,622 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-30 13:54:34,622 INFO Received packet from mac: 52:54:04:00:00:aa (chain=4, port=0)
2018-11-30 13:54:34,622 INFO Received packet from mac: 52:54:05:00:00:aa (chain=5, port=0)
2018-11-30 13:54:34,622 INFO End-to-end connectivity established
2018-11-30 13:54:34,640 INFO Cleared all existing streams
2018-11-30 13:54:34,684 INFO Created 12 traffic streams for port 0.
2018-11-30 13:54:34,691 INFO Created 12 traffic streams for port 1.
2018-11-30 13:54:34,691 INFO Starting to generate traffic...
2018-11-30 13:54:34,691 INFO Running traffic generator
2018-11-30 13:54:44,723 INFO TX: 185210214; RX: 103971955; Est. Dropped: 81238259; Est. Drop rate: 43.8627%
2018-11-30 13:54:54,741 INFO TX: 370547484; RX: 207903303; Est. Dropped: 162644181; Est. Drop rate: 43.8929%
2018-11-30 13:55:04,733 INFO TX: 555000192; RX: 311222180; Est. Dropped: 243778012; Est. Drop rate: 43.9240%
2018-11-30 13:55:04,734 INFO ...traffic generating ended.
2018-11-30 13:55:04,762 INFO Cleared all existing streams
2018-11-30 13:55:04,903 INFO Created 24 traffic streams for port 0.
2018-11-30 13:55:04,916 INFO Created 24 traffic streams for port 1.
2018-11-30 13:55:04,917 INFO Starting to generate traffic...
2018-11-30 13:55:04,917 INFO Running traffic generator


2018-11-30 13:55:10 - [local][warning]   - [1mCPU util. is high: 85.1%[22m
2018-11-30 13:55:14,949 INFO TX: 144059653; RX: 65246163; Est. Dropped: 78813490; Est. Drop rate: 54.7089%
2018-11-30 13:55:24,970 INFO TX: 288266603; RX: 130561693; Est. Dropped: 157704910; Est. Drop rate: 54.7080%
2018-11-30 13:55:34,961 INFO TX: 431866664; RX: 195688608; Est. Dropped: 236178056; Est. Drop rate: 54.6877%
2018-11-30 13:55:34,961 INFO ...traffic generating ended.
2018-11-30 13:55:34,972 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14395555). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-30 13:55:34,972 INFO Service chain 'EXT' run completed.
2018-11-30 13:55:34,972 INFO Clean up skipped.
2018-11-30 13:55:35,003 INFO Saving results in json file: /tmp/nfvbench/csp_6c1n_18500000pps-1.json...
2018-11-30 13:55:35,018 INFO 
========== NFVBench Summary ==========
Date: 2018-11-30 13:54:31
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 6
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |   Avg Latency (usec) |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  43.9240%   |                  551 |                   10 |         849          |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  54.6877%   |                  858 |                   10 |        1,157         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |   3.4822 Gbps   |       9,250,000 pps       |     9,250,003 pps      |  5,181,784 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |   3.4892 Gbps   |       9,250,000 pps       |     9,250,003 pps      |  5,192,287 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   6.9714 Gbps   |      18,500,000 pps       |     18,500,006 pps     | 10,374,071 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  46,250,016  | -20,437,342 (-44.1888%)  |  558 usec  |  20 usec   |  754 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  46,250,016  | -20,334,591 (-43.9667%)  |  555 usec  |  100 usec  |  697 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  46,250,016  | -20,267,867 (-43.8224%)  |  557 usec  |  20 usec   |  754 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  46,250,016  | -20,367,421 (-44.0377%)  |  543 usec  |  100 usec  |  849 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  46,250,016  | -20,303,638 (-43.8997%)  |  558 usec  |  50 usec   |  697 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  46,250,016  | -20,335,691 (-43.9690%)  |  544 usec  |  100 usec  |  691 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,500,096  | -122,046,550 (-43.9807%) |  553 usec  |  20 usec   |  849 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  46,250,016  | -20,398,187 (-44.1042%)  |  556 usec  |  80 usec   |  704 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  46,250,016  | -20,290,308 (-43.8709%)  |  554 usec  |  50 usec   |  678 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  46,250,016  | -20,191,013 (-43.6562%)  |  548 usec  |  80 usec   |  697 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  46,250,016  | -20,307,970 (-43.9091%)  |  553 usec  |  50 usec   |  705 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  46,250,016  | -20,259,348 (-43.8040%)  |  542 usec  |  10 usec   |  696 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  46,250,016  | -20,284,636 (-43.8587%)  |  555 usec  |  50 usec   |  685 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,500,096  | -121,731,462 (-43.8672%) |  551 usec  |  10 usec   |  705 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      21.9865 Gbps      |   9.9689 Gbps   |       9,250,000 pps       |     7,197,683 pps      |  3,263,487 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      21.9871 Gbps      |   9.9566 Gbps   |       9,250,000 pps       |     7,197,872 pps      |  3,259,466 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      43.9736 Gbps      |  19.9254 Gbps   |      18,500,000 pps       |     14,395,555 pps     |  6,522,953 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14395555). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  35,988,415  | -19,696,573 (-54.7303%)  |  853 usec  |  20 usec   | 1,094 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  35,988,415  | -19,654,779 (-54.6142%)  |  841 usec  |  40 usec   | 1,100 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  35,988,415  | -19,587,609 (-54.4275%)  |  864 usec  |  20 usec   | 1,106 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  35,988,416  | -19,674,411 (-54.6687%)  |  849 usec  |  40 usec   | 1,076 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  35,988,416  | -19,715,596 (-54.7832%)  |  869 usec  |  30 usec   | 1,110 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  35,988,415  | -19,696,912 (-54.7313%)  |  851 usec  |  20 usec   | 1,089 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 215,930,492  | -118,025,880 (-54.6592%) |  855 usec  |  20 usec   | 1,110 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  35,989,362  | -19,691,721 (-54.7154%)  |  865 usec  |  30 usec   | 1,151 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  35,989,362  | -19,723,956 (-54.8050%)  |  858 usec  |  100 usec  | 1,109 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  35,989,362  | -19,635,464 (-54.5591%)  |  854 usec  |  30 usec   | 1,146 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  35,989,362  | -19,726,520 (-54.8121%)  |  869 usec  |  100 usec  | 1,108 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  35,989,362  | -19,653,351 (-54.6088%)  |  860 usec  |  10 usec   | 1,157 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  35,989,362  | -19,721,164 (-54.7972%)  |  873 usec  |  100 usec  | 1,121 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 215,936,172  | -118,152,176 (-54.7163%) |  863 usec  |  10 usec   | 1,157 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              

