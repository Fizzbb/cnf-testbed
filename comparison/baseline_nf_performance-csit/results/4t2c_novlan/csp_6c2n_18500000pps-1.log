2018-11-30 14:10:13,727 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-30 14:10:13,762 INFO EXT chain with OpenStack mode disabled
2018-11-30 14:10:13,762 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csp_6c2n_18500000pps-1.json
2018-11-30 14:10:13,764 INFO Connecting to TRex (127.0.0.1)...
2018-11-30 14:10:13,903 INFO Connected to TRex
2018-11-30 14:10:13,903 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-30 14:10:13,903 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-30 14:10:13,904 INFO ChainRunner initialized
2018-11-30 14:10:13,905 INFO Starting 6xEXT benchmark...
2018-11-30 14:10:14,010 INFO Polling ARP until successful...
2018-11-30 14:10:14,222 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-30 14:10:14,223 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-30 14:10:14,223 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-30 14:10:14,223 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-30 14:10:14,223 INFO    ARP: port=0 chain=4 src IP=172.16.10.104 dst IP=172.16.10.14 -> MAC=52:54:04:00:00:aa
2018-11-30 14:10:14,223 INFO    ARP: port=0 chain=5 src IP=172.16.10.105 dst IP=172.16.10.15 -> MAC=52:54:05:00:00:aa
2018-11-30 14:10:14,223 INFO ARP resolved successfully for port 0
2018-11-30 14:10:14,436 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-30 14:10:14,436 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-30 14:10:14,436 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-30 14:10:14,436 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-30 14:10:14,436 INFO    ARP: port=1 chain=4 src IP=172.16.20.104 dst IP=172.16.20.14 -> MAC=52:54:04:00:00:bb
2018-11-30 14:10:14,436 INFO    ARP: port=1 chain=5 src IP=172.16.20.105 dst IP=172.16.20.15 -> MAC=52:54:05:00:00:bb
2018-11-30 14:10:14,436 INFO ARP resolved successfully for port 1
2018-11-30 14:10:14,538 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa', '52:54:04:00:00:aa', '52:54:05:00:00:aa']
2018-11-30 14:10:14,538 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb', '52:54:04:00:00:bb', '52:54:05:00:00:bb']
2018-11-30 14:10:14,538 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-30 14:10:14,573 INFO Created 6 traffic streams for port 0.
2018-11-30 14:10:14,577 INFO Created 6 traffic streams for port 1.
2018-11-30 14:10:14,689 INFO Captured unique src mac 0/12, capturing return packets (retry 1/100)...
2018-11-30 14:10:16,812 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-30 14:10:16,813 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-30 14:10:16,813 INFO Received packet from mac: 52:54:04:00:00:bb (chain=4, port=1)
2018-11-30 14:10:16,813 INFO Received packet from mac: 52:54:05:00:00:bb (chain=5, port=1)
2018-11-30 14:10:16,813 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-30 14:10:16,813 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-30 14:10:16,813 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-30 14:10:16,813 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-30 14:10:16,813 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-30 14:10:16,813 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-30 14:10:16,813 INFO Received packet from mac: 52:54:04:00:00:aa (chain=4, port=0)
2018-11-30 14:10:16,813 INFO Received packet from mac: 52:54:05:00:00:aa (chain=5, port=0)
2018-11-30 14:10:16,813 INFO End-to-end connectivity established
2018-11-30 14:10:16,833 INFO Cleared all existing streams
2018-11-30 14:10:16,877 INFO Created 12 traffic streams for port 0.
2018-11-30 14:10:16,884 INFO Created 12 traffic streams for port 1.
2018-11-30 14:10:16,884 INFO Starting to generate traffic...
2018-11-30 14:10:16,884 INFO Running traffic generator
2018-11-30 14:10:26,916 INFO TX: 185204771; RX: 103128624; Est. Dropped: 82076147; Est. Drop rate: 44.3164%
2018-11-30 14:10:36,931 INFO TX: 370477286; RX: 206313573; Est. Dropped: 164163713; Est. Drop rate: 44.3114%
2018-11-30 14:10:46,926 INFO TX: 555000192; RX: 309086127; Est. Dropped: 245914065; Est. Drop rate: 44.3088%
2018-11-30 14:10:46,926 INFO ...traffic generating ended.
2018-11-30 14:10:46,953 INFO Cleared all existing streams
2018-11-30 14:10:47,129 INFO Created 24 traffic streams for port 0.
2018-11-30 14:10:47,148 INFO Created 24 traffic streams for port 1.
2018-11-30 14:10:47,148 INFO Starting to generate traffic...
2018-11-30 14:10:47,148 INFO Running traffic generator


2018-11-30 14:10:53 - [local][warning]   - [1mCPU util. is high: 87.9%[22m
2018-11-30 14:10:57,187 INFO TX: 144160099; RX: 61300507; Est. Dropped: 82859592; Est. Drop rate: 57.4775%
2018-11-30 14:11:07,205 INFO TX: 288420256; RX: 122604674; Est. Dropped: 165815582; Est. Drop rate: 57.4910%
2018-11-30 14:11:17,201 INFO TX: 432185358; RX: 183730341; Est. Dropped: 248455017; Est. Drop rate: 57.4881%
2018-11-30 14:11:17,201 INFO ...traffic generating ended.
2018-11-30 14:11:17,209 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14406178). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-30 14:11:17,209 INFO Service chain 'EXT' run completed.
2018-11-30 14:11:17,209 INFO Clean up skipped.
2018-11-30 14:11:17,240 INFO Saving results in json file: /tmp/nfvbench/csp_6c2n_18500000pps-1.json...
2018-11-30 14:11:17,255 INFO 
========== NFVBench Summary ==========
Date: 2018-11-30 14:10:13
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 6
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |   Avg Latency (usec) |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  44.3088%   |                  577 |                   30 |         854          |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  57.4881%   |                  922 |                   20 |        1,220         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |   3.4771 Gbps   |       9,250,000 pps       |     9,250,003 pps      |  5,174,300 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |   3.4464 Gbps   |       9,250,000 pps       |     9,250,003 pps      |  5,128,570 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   6.9235 Gbps   |      18,500,000 pps       |     18,500,006 pps     | 10,302,870 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  46,250,016  | -20,411,696 (-44.1334%)  |  592 usec  |  80 usec   |  790 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  46,250,016  | -20,373,505 (-44.0508%)  |  578 usec  |  100 usec  |  703 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  46,250,016  | -20,335,830 (-43.9693%)  |  588 usec  |  80 usec   |  802 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  46,250,016  | -20,372,345 (-44.0483%)  |  580 usec  |  30 usec   |  708 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  46,250,016  | -20,432,127 (-44.1776%)  |  585 usec  |  300 usec  |  854 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  46,250,016  | -20,345,582 (-43.9904%)  |  577 usec  |  100 usec  |  704 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,500,096  | -122,271,085 (-44.0616%) |  583 usec  |  30 usec   |  854 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  46,250,016  | -20,591,584 (-44.5223%)  |  581 usec  |  60 usec   |  722 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  46,250,016  | -20,640,420 (-44.6279%)  |  561 usec  |  100 usec  |  692 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  46,250,016  | -20,534,963 (-44.3999%)  |  583 usec  |  70 usec   |  703 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  46,250,016  | -20,642,011 (-44.6314%)  |  564 usec  |  100 usec  |  678 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  46,250,016  | -20,627,973 (-44.6010%)  |  579 usec  |  80 usec   |  709 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  46,250,016  | -20,606,029 (-44.5536%)  |  565 usec  |  100 usec  |  695 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,500,096  | -123,642,980 (-44.5560%) |  572 usec  |  60 usec   |  722 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      22.0036 Gbps      |   9.4380 Gbps   |       9,250,000 pps       |     7,203,283 pps      |  3,089,694 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      22.0024 Gbps      |   9.2698 Gbps   |       9,250,000 pps       |     7,202,894 pps      |  3,034,650 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      44.0061 Gbps      |  18.7078 Gbps   |      18,500,000 pps       |     14,406,177 pps     |  6,124,344 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14406178). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  36,016,419  | -20,582,842 (-57.1485%)  |  931 usec  |  30 usec   | 1,213 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  36,016,419  | -20,539,834 (-57.0291%)  |  910 usec  |  20 usec   | 1,220 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  36,016,419  | -20,446,508 (-56.7700%)  |  917 usec  |  30 usec   | 1,213 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  36,016,419  | -20,579,318 (-57.1387%)  |  905 usec  |  20 usec   | 1,195 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  36,016,419  | -20,641,621 (-57.3117%)  |  909 usec  |  30 usec   | 1,194 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  36,016,419  | -20,617,552 (-57.2449%)  |  897 usec  |  20 usec   | 1,198 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 216,098,514  | -123,407,675 (-57.1071%) |  912 usec  |  20 usec   | 1,220 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  36,014,474  | -20,859,519 (-57.9198%)  |  934 usec  |  400 usec  | 1,217 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  36,014,474  | -20,800,785 (-57.7567%)  |  932 usec  |  300 usec  | 1,165 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  36,014,474  | -20,702,223 (-57.4831%)  |  934 usec  |  500 usec  | 1,201 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  36,014,474  | -20,845,153 (-57.8799%)  |  934 usec  |  300 usec  | 1,187 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  36,014,474  | -20,944,607 (-58.1561%)  |  929 usec  |  500 usec  | 1,206 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  36,014,474  | -20,895,055 (-58.0185%)  |  937 usec  |  400 usec  | 1,195 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 216,086,844  | -125,047,342 (-57.8690%) |  933 usec  |  300 usec  | 1,217 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              

