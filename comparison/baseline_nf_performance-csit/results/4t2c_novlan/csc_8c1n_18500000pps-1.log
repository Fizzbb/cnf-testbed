2018-11-30 12:36:09,612 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-30 12:36:09,646 INFO EXT chain with OpenStack mode disabled
2018-11-30 12:36:09,646 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csc_8c1n_18500000pps-1.json
2018-11-30 12:36:09,648 INFO Connecting to TRex (127.0.0.1)...
2018-11-30 12:36:09,788 INFO Connected to TRex
2018-11-30 12:36:09,788 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-30 12:36:09,788 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-30 12:36:09,789 INFO ChainRunner initialized
2018-11-30 12:36:09,790 INFO Starting 8xEXT benchmark...
2018-11-30 12:36:09,895 INFO Polling ARP until successful...
2018-11-30 12:36:10,110 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-30 12:36:10,110 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-30 12:36:10,110 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-30 12:36:10,110 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-30 12:36:10,110 INFO    ARP: port=0 chain=4 src IP=172.16.10.104 dst IP=172.16.10.14 -> MAC=52:54:04:00:00:aa
2018-11-30 12:36:10,110 INFO    ARP: port=0 chain=5 src IP=172.16.10.105 dst IP=172.16.10.15 -> MAC=52:54:05:00:00:aa
2018-11-30 12:36:10,110 INFO    ARP: port=0 chain=6 src IP=172.16.10.106 dst IP=172.16.10.16 -> MAC=52:54:06:00:00:aa
2018-11-30 12:36:10,110 INFO    ARP: port=0 chain=7 src IP=172.16.10.107 dst IP=172.16.10.17 -> MAC=52:54:07:00:00:aa
2018-11-30 12:36:10,110 INFO ARP resolved successfully for port 0
2018-11-30 12:36:10,325 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-30 12:36:10,325 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-30 12:36:10,325 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-30 12:36:10,325 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-30 12:36:10,325 INFO    ARP: port=1 chain=4 src IP=172.16.20.104 dst IP=172.16.20.14 -> MAC=52:54:04:00:00:bb
2018-11-30 12:36:10,325 INFO    ARP: port=1 chain=5 src IP=172.16.20.105 dst IP=172.16.20.15 -> MAC=52:54:05:00:00:bb
2018-11-30 12:36:10,325 INFO    ARP: port=1 chain=6 src IP=172.16.20.106 dst IP=172.16.20.16 -> MAC=52:54:06:00:00:bb
2018-11-30 12:36:10,325 INFO    ARP: port=1 chain=7 src IP=172.16.20.107 dst IP=172.16.20.17 -> MAC=52:54:07:00:00:bb
2018-11-30 12:36:10,325 INFO ARP resolved successfully for port 1
2018-11-30 12:36:10,427 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa', '52:54:04:00:00:aa', '52:54:05:00:00:aa', '52:54:06:00:00:aa', '52:54:07:00:00:aa']
2018-11-30 12:36:10,427 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb', '52:54:04:00:00:bb', '52:54:05:00:00:bb', '52:54:06:00:00:bb', '52:54:07:00:00:bb']
2018-11-30 12:36:10,427 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-30 12:36:10,473 INFO Created 8 traffic streams for port 0.
2018-11-30 12:36:10,478 INFO Created 8 traffic streams for port 1.
2018-11-30 12:36:10,593 INFO Captured unique src mac 0/16, capturing return packets (retry 1/100)...
2018-11-30 12:36:12,717 INFO Received packet from mac: 52:54:06:00:00:bb (chain=6, port=1)
2018-11-30 12:36:12,717 INFO Received packet from mac: 52:54:05:00:00:bb (chain=5, port=1)
2018-11-30 12:36:12,717 INFO Received packet from mac: 52:54:07:00:00:bb (chain=7, port=1)
2018-11-30 12:36:12,717 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-30 12:36:12,717 INFO Received packet from mac: 52:54:04:00:00:bb (chain=4, port=1)
2018-11-30 12:36:12,718 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-30 12:36:12,718 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-30 12:36:12,718 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-30 12:36:12,718 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-30 12:36:12,718 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-30 12:36:12,718 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-30 12:36:12,718 INFO Received packet from mac: 52:54:05:00:00:aa (chain=5, port=0)
2018-11-30 12:36:12,718 INFO Received packet from mac: 52:54:07:00:00:aa (chain=7, port=0)
2018-11-30 12:36:12,718 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-30 12:36:12,718 INFO Received packet from mac: 52:54:04:00:00:aa (chain=4, port=0)
2018-11-30 12:36:12,718 INFO Received packet from mac: 52:54:06:00:00:aa (chain=6, port=0)
2018-11-30 12:36:12,718 INFO End-to-end connectivity established
2018-11-30 12:36:12,739 INFO Cleared all existing streams
2018-11-30 12:36:12,798 INFO Created 16 traffic streams for port 0.
2018-11-30 12:36:12,807 INFO Created 16 traffic streams for port 1.
2018-11-30 12:36:12,808 INFO Starting to generate traffic...
2018-11-30 12:36:12,808 INFO Running traffic generator
2018-11-30 12:36:22,842 INFO TX: 185214120; RX: 102667480; Est. Dropped: 82546640; Est. Drop rate: 44.5682%
2018-11-30 12:36:32,861 INFO TX: 370572914; RX: 205450160; Est. Dropped: 165122754; Est. Drop rate: 44.5588%
2018-11-30 12:36:42,850 INFO TX: 554999424; RX: 307696756; Est. Dropped: 247302668; Est. Drop rate: 44.5591%
2018-11-30 12:36:42,850 INFO ...traffic generating ended.
2018-11-30 12:36:42,879 INFO Cleared all existing streams
2018-11-30 12:36:43,079 INFO Created 32 traffic streams for port 0.
2018-11-30 12:36:43,097 INFO Created 32 traffic streams for port 1.
2018-11-30 12:36:43,097 INFO Starting to generate traffic...
2018-11-30 12:36:43,098 INFO Running traffic generator


2018-11-30 12:36:48 - [local][warning]   - [1mCPU util. is high: 86.7%[22m
2018-11-30 12:36:53,132 INFO TX: 144367224; RX: 64634340; Est. Dropped: 79732884; Est. Drop rate: 55.2292%
2018-11-30 12:37:03,148 INFO TX: 288769850; RX: 129189092; Est. Dropped: 159580758; Est. Drop rate: 55.2623%
2018-11-30 12:37:13,147 INFO TX: 432819568; RX: 193602628; Est. Dropped: 239216940; Est. Drop rate: 55.2694%
2018-11-30 12:37:13,147 INFO ...traffic generating ended.
2018-11-30 12:37:13,157 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14427318). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-30 12:37:13,158 INFO Service chain 'EXT' run completed.
2018-11-30 12:37:13,158 INFO Clean up skipped.
2018-11-30 12:37:13,190 INFO Saving results in json file: /tmp/nfvbench/csc_8c1n_18500000pps-1.json...
2018-11-30 12:37:13,208 INFO 
========== NFVBench Summary ==========
Date: 2018-11-30 12:36:09
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 8
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |   Avg Latency (usec) |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  44.5591%   |                  551 |                   60 |         802          |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  55.2694%   |                  861 |                   30 |        1,138         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |   3.4552 Gbps   |       9,250,000 pps       |     9,249,990 pps      |  5,141,689 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |   3.4372 Gbps   |       9,250,000 pps       |     9,249,990 pps      |  5,114,869 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   6.8924 Gbps   |      18,500,000 pps       |     18,499,980 pps     | 10,256,558 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  34,687,464  | -15,390,764 (-44.3698%)  |  559 usec  |  60 usec   |  725 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  34,687,464  | -15,390,887 (-44.3702%)  |  557 usec  |  100 usec  |  693 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  34,687,464  | -15,390,882 (-44.3702%)  |  559 usec  |  60 usec   |  731 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  34,687,464  | -15,390,894 (-44.3702%)  |  556 usec  |  100 usec  |  802 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  34,687,464  | -15,421,541 (-44.4585%)  |  560 usec  |  100 usec  |  689 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  34,687,464  | -15,421,349 (-44.4580%)  |  549 usec  |  100 usec  |  699 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  34,687,464  | -15,421,126 (-44.4573%)  |  561 usec  |  100 usec  |  689 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  34,687,464  | -15,421,595 (-44.4587%)  |  551 usec  |  100 usec  |  683 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,712  | -123,249,038 (-44.4141%) |  557 usec  |  60 usec   |  802 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  34,687,464  | -15,488,799 (-44.6524%)  |  551 usec  |  200 usec  |  696 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  34,687,464  | -15,489,169 (-44.6535%)  |  553 usec  |  100 usec  |  692 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  34,687,464  | -15,488,791 (-44.6524%)  |  546 usec  |  200 usec  |  698 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  34,687,464  | -15,489,242 (-44.6537%)  |  553 usec  |  100 usec  |  695 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  34,687,464  | -15,524,370 (-44.7550%)  |  541 usec  |  200 usec  |  682 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  34,687,464  | -15,524,518 (-44.7554%)  |  549 usec  |  100 usec  |  695 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  34,687,464  | -15,524,091 (-44.7542%)  |  542 usec  |  200 usec  |  681 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  34,687,464  | -15,524,650 (-44.7558%)  |  551 usec  |  100 usec  |  695 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,712  | -124,053,630 (-44.7041%) |  548 usec  |  100 usec  |  698 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      22.0356 Gbps      |   9.8703 Gbps   |       9,250,000 pps       |     7,213,748 pps      |  3,231,217 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      22.0351 Gbps      |   9.8428 Gbps   |       9,250,000 pps       |     7,213,570 pps      |  3,222,203 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      44.0707 Gbps      |  19.7130 Gbps   |      18,500,000 pps       |     14,427,318 pps     |  6,453,420 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14427318). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  27,051,556  | -14,936,830 (-55.2162%)  |  858 usec  |  50 usec   | 1,101 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  27,051,556  | -14,935,859 (-55.2126%)  |  850 usec  |  90 usec   | 1,138 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  27,051,556  | -14,933,776 (-55.2049%)  |  859 usec  |  30 usec   | 1,122 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  27,051,556  | -14,935,068 (-55.2096%)  |  847 usec  |  90 usec   | 1,090 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  27,051,556  | -14,933,929 (-55.2054%)  |  871 usec  |  100 usec  | 1,110 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  27,051,556  | -14,932,878 (-55.2015%)  |  861 usec  |  200 usec  | 1,083 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  27,051,556  | -14,933,566 (-55.2041%)  |  874 usec  |  100 usec  | 1,090 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  27,051,556  | -14,934,020 (-55.2058%)  |  869 usec  |  100 usec  | 1,137 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 216,412,448  | -119,475,926 (-55.2075%) |  861 usec  |  30 usec   | 1,138 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  27,050,890  | -14,969,840 (-55.3395%)  |  858 usec  |  100 usec  | 1,098 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  27,050,890  | -14,969,045 (-55.3366%)  |  861 usec  |  200 usec  | 1,094 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  27,050,890  | -14,968,651 (-55.3352%)  |  854 usec  |  100 usec  | 1,111 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  27,050,890  | -14,969,060 (-55.3367%)  |  868 usec  |  100 usec  | 1,121 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  27,050,890  | -14,964,451 (-55.3196%)  |  856 usec  |  50 usec   | 1,093 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  27,050,890  | -14,966,211 (-55.3261%)  |  861 usec  |  100 usec  | 1,105 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  27,050,890  | -14,967,499 (-55.3309%)  |  866 usec  |  50 usec   | 1,109 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  27,050,890  | -14,966,257 (-55.3263%)  |  868 usec  |  100 usec  | 1,122 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 216,407,120  | -119,741,014 (-55.3314%) |  862 usec  |  50 usec   | 1,122 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              

