2018-11-30 10:31:44,509 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-30 10:31:44,542 INFO EXT chain with OpenStack mode disabled
2018-11-30 10:31:44,542 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csc_4c1n_18500000pps-1.json
2018-11-30 10:31:44,544 INFO Connecting to TRex (127.0.0.1)...
2018-11-30 10:31:44,681 INFO Connected to TRex
2018-11-30 10:31:44,681 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-30 10:31:44,681 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-30 10:31:44,682 INFO ChainRunner initialized
2018-11-30 10:31:44,683 INFO Starting 4xEXT benchmark...
2018-11-30 10:31:44,787 INFO Polling ARP until successful...
2018-11-30 10:31:44,998 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-30 10:31:44,998 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-30 10:31:44,998 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-30 10:31:44,998 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-30 10:31:44,998 INFO ARP resolved successfully for port 0
2018-11-30 10:31:45,209 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-30 10:31:45,209 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-30 10:31:45,209 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-30 10:31:45,209 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-30 10:31:45,209 INFO ARP resolved successfully for port 1
2018-11-30 10:31:45,311 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa']
2018-11-30 10:31:45,311 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb']
2018-11-30 10:31:45,311 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-30 10:31:45,335 INFO Created 4 traffic streams for port 0.
2018-11-30 10:31:45,337 INFO Created 4 traffic streams for port 1.
2018-11-30 10:31:45,448 INFO Captured unique src mac 0/8, capturing return packets (retry 1/100)...
2018-11-30 10:31:47,570 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-30 10:31:47,570 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-30 10:31:47,570 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-30 10:31:47,570 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-30 10:31:47,571 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-30 10:31:47,571 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-30 10:31:47,571 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-30 10:31:47,571 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-30 10:31:47,571 INFO End-to-end connectivity established
2018-11-30 10:31:47,590 INFO Cleared all existing streams
2018-11-30 10:31:47,620 INFO Created 8 traffic streams for port 0.
2018-11-30 10:31:47,624 INFO Created 8 traffic streams for port 1.
2018-11-30 10:31:47,625 INFO Starting to generate traffic...
2018-11-30 10:31:47,625 INFO Running traffic generator
2018-11-30 10:31:57,652 INFO TX: 185199756; RX: 107061575; Est. Dropped: 78138181; Est. Drop rate: 42.1913%
2018-11-30 10:32:07,666 INFO TX: 370448288; RX: 214199441; Est. Dropped: 156248847; Est. Drop rate: 42.1783%
2018-11-30 10:32:17,659 INFO TX: 554999224; RX: 320950505; Est. Dropped: 234048719; Est. Drop rate: 42.1710%
2018-11-30 10:32:17,659 INFO ...traffic generating ended.
2018-11-30 10:32:17,684 INFO Cleared all existing streams
2018-11-30 10:32:17,776 INFO Created 16 traffic streams for port 0.
2018-11-30 10:32:17,785 INFO Created 16 traffic streams for port 1.
2018-11-30 10:32:17,785 INFO Starting to generate traffic...
2018-11-30 10:32:17,785 INFO Running traffic generator


2018-11-30 10:32:23 - [local][warning]   - [1mCPU util. is high: 87.5%[22m
2018-11-30 10:32:27,814 INFO TX: 143694075; RX: 68146967; Est. Dropped: 75547108; Est. Drop rate: 52.5750%
2018-11-30 10:32:37,827 INFO TX: 287466501; RX: 136261039; Est. Dropped: 151205462; Est. Drop rate: 52.5993%
2018-11-30 10:32:47,826 INFO TX: 430837436; RX: 204145432; Est. Dropped: 226692004; Est. Drop rate: 52.6166%
2018-11-30 10:32:47,826 INFO ...traffic generating ended.
2018-11-30 10:32:47,832 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14361247). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-30 10:32:47,832 INFO Service chain 'EXT' run completed.
2018-11-30 10:32:47,833 INFO Clean up skipped.
2018-11-30 10:32:47,861 INFO Saving results in json file: /tmp/nfvbench/csc_4c1n_18500000pps-1.json...
2018-11-30 10:32:47,874 INFO 
========== NFVBench Summary ==========
Date: 2018-11-30 10:31:44
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 4
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |   Avg Latency (usec) |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  42.1710%   |                  543 |                   10 |         689          |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  52.6166%   |                  840 |                   20 |        1,100         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |   3.5986 Gbps   |       9,250,000 pps       |     9,249,987 pps      |  5,354,998 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |   3.5907 Gbps   |       9,250,000 pps       |     9,249,987 pps      |  5,343,351 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   7.1893 Gbps   |      18,500,000 pps       |     18,499,974 pps     | 10,698,349 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  69,374,903  | -29,252,306 (-42.1655%)  |  542 usec  |  10 usec   |  678 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  69,374,903  | -29,252,615 (-42.1660%)  |  550 usec  |  10 usec   |  689 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  69,374,903  | -29,172,429 (-42.0504%)  |  545 usec  |  10 usec   |  677 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  69,374,903  | -29,172,294 (-42.0502%)  |  539 usec  |  10 usec   |  676 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,612  | -116,849,644 (-42.1080%) |  544 usec  |  10 usec   |  689 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  69,374,903  | -29,341,787 (-42.2945%)  |  553 usec  |  40 usec   |  678 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  69,374,903  | -29,341,600 (-42.2943%)  |  539 usec  |  60 usec   |  667 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  69,374,903  | -29,257,698 (-42.1733%)  |  540 usec  |  20 usec   |  675 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  69,374,903  | -29,257,990 (-42.1737%)  |  545 usec  |  60 usec   |  663 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,612  | -117,199,075 (-42.2340%) |  544 usec  |  20 usec   |  678 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      21.9342 Gbps      |  10.3980 Gbps   |       9,250,000 pps       |     7,180,541 pps      |  3,403,964 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      21.9347 Gbps      |  10.3886 Gbps   |       9,250,000 pps       |     7,180,706 pps      |  3,400,882 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      43.8688 Gbps      |  20.7865 Gbps   |      18,500,000 pps       |     14,361,247 pps     |  6,804,846 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14361247). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  53,854,062  | -28,327,063 (-52.5997%)  |  855 usec  |  20 usec   | 1,087 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  53,854,062  | -28,323,886 (-52.5938%)  |  847 usec  |  50 usec   | 1,064 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  53,854,062  | -28,322,065 (-52.5904%)  |  871 usec  |  70 usec   | 1,070 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  53,854,062  | -28,324,286 (-52.5945%)  |  831 usec  |  100 usec  | 1,067 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 215,416,248  | -113,297,300 (-52.5946%) |  851 usec  |  20 usec   | 1,087 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  53,855,297  | -28,344,145 (-52.6302%)  |  836 usec  |  80 usec   | 1,097 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  53,855,297  | -28,340,223 (-52.6229%)  |  840 usec  |  100 usec  | 1,100 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  53,855,297  | -28,355,784 (-52.6518%)  |  823 usec  |  40 usec   | 1,081 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  53,855,297  | -28,354,552 (-52.6495%)  |  830 usec  |  100 usec  | 1,068 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 215,421,188  | -113,394,704 (-52.6386%) |  832 usec  |  40 usec   | 1,100 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              

