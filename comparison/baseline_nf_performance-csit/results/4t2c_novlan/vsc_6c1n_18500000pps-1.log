2018-12-01 15:59:52,834 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-12-01 15:59:52,868 INFO EXT chain with OpenStack mode disabled
2018-12-01 15:59:52,868 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/vsc_6c1n_18500000pps-1.json
2018-12-01 15:59:52,870 INFO Connecting to TRex (127.0.0.1)...
2018-12-01 15:59:53,011 INFO Connected to TRex
2018-12-01 15:59:53,011 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-12-01 15:59:53,011 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-12-01 15:59:53,012 INFO ChainRunner initialized
2018-12-01 15:59:53,013 INFO Starting 6xEXT benchmark...
2018-12-01 15:59:53,117 INFO Polling ARP until successful...
2018-12-01 15:59:53,330 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-12-01 15:59:53,330 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-12-01 15:59:53,330 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-12-01 15:59:53,330 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-12-01 15:59:53,330 INFO    ARP: port=0 chain=4 src IP=172.16.10.104 dst IP=172.16.10.14 -> MAC=52:54:04:00:00:aa
2018-12-01 15:59:53,330 INFO    ARP: port=0 chain=5 src IP=172.16.10.105 dst IP=172.16.10.15 -> MAC=52:54:05:00:00:aa
2018-12-01 15:59:53,330 INFO ARP resolved successfully for port 0
2018-12-01 15:59:53,543 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-12-01 15:59:53,543 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-12-01 15:59:53,543 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-12-01 15:59:53,543 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-12-01 15:59:53,543 INFO    ARP: port=1 chain=4 src IP=172.16.20.104 dst IP=172.16.20.14 -> MAC=52:54:04:00:00:bb
2018-12-01 15:59:53,543 INFO    ARP: port=1 chain=5 src IP=172.16.20.105 dst IP=172.16.20.15 -> MAC=52:54:05:00:00:bb
2018-12-01 15:59:53,543 INFO ARP resolved successfully for port 1
2018-12-01 15:59:53,645 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa', '52:54:04:00:00:aa', '52:54:05:00:00:aa']
2018-12-01 15:59:53,645 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb', '52:54:04:00:00:bb', '52:54:05:00:00:bb']
2018-12-01 15:59:53,645 INFO Starting traffic generator to ensure end-to-end connectivity
2018-12-01 15:59:53,680 INFO Created 6 traffic streams for port 0.
2018-12-01 15:59:53,684 INFO Created 6 traffic streams for port 1.
2018-12-01 15:59:53,796 INFO Captured unique src mac 0/12, capturing return packets (retry 1/100)...
2018-12-01 15:59:55,919 INFO Received packet from mac: 52:54:05:00:00:bb (chain=5, port=1)
2018-12-01 15:59:55,919 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-12-01 15:59:55,919 INFO Received packet from mac: 52:54:04:00:00:bb (chain=4, port=1)
2018-12-01 15:59:55,919 INFO Received packet from mac: 52:54:04:00:00:aa (chain=4, port=0)
2018-12-01 15:59:55,919 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-12-01 15:59:55,919 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-12-01 15:59:55,919 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-12-01 15:59:55,919 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-12-01 15:59:55,920 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-12-01 15:59:55,920 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-12-01 15:59:55,920 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-12-01 15:59:55,920 INFO Received packet from mac: 52:54:05:00:00:aa (chain=5, port=0)
2018-12-01 15:59:55,920 INFO End-to-end connectivity established
2018-12-01 15:59:55,939 INFO Cleared all existing streams
2018-12-01 15:59:55,983 INFO Created 12 traffic streams for port 0.
2018-12-01 15:59:55,990 INFO Created 12 traffic streams for port 1.
2018-12-01 15:59:55,990 INFO Starting to generate traffic...
2018-12-01 15:59:55,990 INFO Running traffic generator
2018-12-01 16:00:06,020 INFO TX: 185171722; RX: 30210997; Est. Dropped: 154960725; Est. Drop rate: 83.6849%
2018-12-01 16:00:16,037 INFO TX: 370507448; RX: 60480977; Est. Dropped: 310026471; Est. Drop rate: 83.6762%
2018-12-01 16:00:26,031 INFO TX: 555000180; RX: 90577289; Est. Dropped: 464422891; Est. Drop rate: 83.6798%
2018-12-01 16:00:26,031 INFO ...traffic generating ended.
2018-12-01 16:00:26,058 INFO Cleared all existing streams
2018-12-01 16:00:26,195 INFO Created 24 traffic streams for port 0.
2018-12-01 16:00:26,212 INFO Created 24 traffic streams for port 1.
2018-12-01 16:00:26,213 INFO Starting to generate traffic...
2018-12-01 16:00:26,213 INFO Running traffic generator


2018-12-01 16:00:31 - [local][warning]   - [1mCPU util. is high: 86.7%[22m
2018-12-01 16:00:36,244 INFO TX: 144861451; RX: 23624619; Est. Dropped: 121236832; Est. Drop rate: 83.6916%
2018-12-01 16:00:46,261 INFO TX: 289766930; RX: 47254306; Est. Dropped: 242512624; Est. Drop rate: 83.6923%
2018-12-01 16:00:56,256 INFO TX: 434189054; RX: 70772528; Est. Dropped: 363416526; Est. Drop rate: 83.7001%
2018-12-01 16:00:56,256 INFO ...traffic generating ended.
2018-12-01 16:00:56,265 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14472968). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-12-01 16:00:56,265 INFO Service chain 'EXT' run completed.
2018-12-01 16:00:56,265 INFO Clean up skipped.
2018-12-01 16:00:56,297 INFO Saving results in json file: /tmp/nfvbench/vsc_6c1n_18500000pps-1.json...
2018-12-01 16:00:56,312 INFO 
========== NFVBench Summary ==========
Date: 2018-12-01 15:59:53
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 6
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  83.6798%   |        2,743         |                   40 |        60,425        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  83.7001%   |        1,590         |                   50 |        40,641        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |   1.0125 Gbps   |       9,250,000 pps       |     9,250,003 pps      |  1,506,634 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |   1.0165 Gbps   |       9,250,000 pps       |     9,250,003 pps      |  1,512,608 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   2.0289 Gbps   |      18,500,000 pps       |     18,500,006 pps     |  3,019,242 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+============+============+=============+
              |    0    |  46,250,015  | -38,378,510 (-82.9805%)  | 2,242 usec |  40 usec   | 40,444 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    1    |  46,250,015  | -38,968,783 (-84.2568%)  | 5,362 usec |  80 usec   | 28,388 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    2    |  46,250,015  | -38,481,343 (-83.2029%)  | 1,765 usec |  80 usec   | 24,444 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    3    |  46,250,015  | -38,900,022 (-84.1081%)  | 3,379 usec |  80 usec   | 24,412 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    4    |  46,250,015  | -38,493,095 (-83.2283%)  |  211 usec  |  80 usec   | 40,419 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    5    |  46,250,015  | -39,079,295 (-84.4957%)  | 3,270 usec |  90 usec   | 40,418 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  total  | 277,500,090  | -232,301,048 (-83.7121%) | 2,705 usec |  40 usec   | 40,444 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+============+============+=============+
              |    0    |  46,250,015  | -38,956,497 (-84.2302%)  | 3,875 usec |  90 usec   | 28,392 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    1    |  46,250,015  | -38,408,844 (-83.0461%)  | 1,950 usec |  80 usec   | 24,448 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    2    |  46,250,015  | -38,930,649 (-84.1743%)  | 4,353 usec |  90 usec   | 24,444 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    3    |  46,250,015  | -38,421,746 (-83.0740%)  | 2,640 usec |  80 usec   | 40,425 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    4    |  46,250,015  | -38,881,076 (-84.0672%)  | 3,658 usec |  90 usec   | 60,425 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    5    |  46,250,015  | -38,523,031 (-83.2930%)  |  231 usec  |  90 usec   | 40,459 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  total  | 277,500,090  | -232,121,843 (-83.6475%) | 2,785 usec |  80 usec   | 60,425 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      22.1054 Gbps      |   3.6021 Gbps   |       9,250,000 pps       |     7,236,591 pps      |  1,179,217 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      22.1047 Gbps      |   3.6041 Gbps   |       9,250,000 pps       |     7,236,377 pps      |  1,179,866 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      44.2101 Gbps      |   7.2062 Gbps   |      18,500,000 pps       |     14,472,968 pps     |  2,359,083 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14472968). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+============+============+=============+
              |    0    |  36,182,955  | -30,013,863 (-82.9503%)  | 1,986 usec |  90 usec   | 24,597 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    1    |  36,182,955  | -30,551,072 (-84.4350%)  | 2,514 usec |  100 usec  | 28,645 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    2    |  36,182,955  | -30,122,042 (-83.2493%)  | 2,735 usec |  90 usec   | 40,322 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    3    |  36,182,955  | -30,388,090 (-83.9845%)  | 1,383 usec |  100 usec  | 24,509 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    4    |  36,182,956  | -30,165,889 (-83.3704%)  | 1,510 usec |  100 usec  | 40,294 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    5    |  36,182,956  | -30,479,676 (-84.2377%)  |  780 usec  |  50 usec   | 24,571 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  total  | 217,097,732  | -181,720,632 (-83.7045%) | 1,818 usec |  50 usec   | 40,322 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+============+============+=============+
              |    0    |  36,181,887  | -30,525,595 (-84.3671%)  | 1,968 usec |  100 usec  | 40,533 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    1    |  36,181,887  | -30,081,393 (-83.1394%)  | 1,386 usec |  90 usec   | 40,508 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    2    |  36,181,887  | -30,465,035 (-84.1997%)  | 1,518 usec |  90 usec   | 40,634 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    3    |  36,181,887  | -30,059,220 (-83.0781%)  | 1,173 usec |  90 usec   | 24,435 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    4    |  36,181,887  | -30,511,156 (-84.3272%)  |  898 usec  |  80 usec   | 40,641 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    5    |  36,181,887  | -30,052,151 (-83.0586%)  | 1,243 usec |  50 usec   | 40,514 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  total  | 217,091,322  | -181,694,550 (-83.6950%) | 1,364 usec |  50 usec   | 40,641 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              

