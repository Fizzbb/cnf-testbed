2018-11-30 12:15:25,368 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-30 12:15:25,401 INFO EXT chain with OpenStack mode disabled
2018-11-30 12:15:25,402 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csc_6c2n_18500000pps-1.json
2018-11-30 12:15:25,403 INFO Connecting to TRex (127.0.0.1)...
2018-11-30 12:15:25,541 INFO Connected to TRex
2018-11-30 12:15:25,541 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-30 12:15:25,541 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-30 12:15:25,542 INFO ChainRunner initialized
2018-11-30 12:15:25,543 INFO Starting 6xEXT benchmark...
2018-11-30 12:15:25,648 INFO Polling ARP until successful...
2018-11-30 12:15:25,861 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-30 12:15:25,861 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-30 12:15:25,861 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-30 12:15:25,861 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-30 12:15:25,861 INFO    ARP: port=0 chain=4 src IP=172.16.10.104 dst IP=172.16.10.14 -> MAC=52:54:04:00:00:aa
2018-11-30 12:15:25,861 INFO    ARP: port=0 chain=5 src IP=172.16.10.105 dst IP=172.16.10.15 -> MAC=52:54:05:00:00:aa
2018-11-30 12:15:25,861 INFO ARP resolved successfully for port 0
2018-11-30 12:15:26,074 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-30 12:15:26,074 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-30 12:15:26,074 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-30 12:15:26,074 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-30 12:15:26,074 INFO    ARP: port=1 chain=4 src IP=172.16.20.104 dst IP=172.16.20.14 -> MAC=52:54:04:00:00:bb
2018-11-30 12:15:26,074 INFO    ARP: port=1 chain=5 src IP=172.16.20.105 dst IP=172.16.20.15 -> MAC=52:54:05:00:00:bb
2018-11-30 12:15:26,074 INFO ARP resolved successfully for port 1
2018-11-30 12:15:26,176 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa', '52:54:04:00:00:aa', '52:54:05:00:00:aa']
2018-11-30 12:15:26,176 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb', '52:54:04:00:00:bb', '52:54:05:00:00:bb']
2018-11-30 12:15:26,176 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-30 12:15:26,211 INFO Created 6 traffic streams for port 0.
2018-11-30 12:15:26,215 INFO Created 6 traffic streams for port 1.
2018-11-30 12:15:26,327 INFO Captured unique src mac 0/12, capturing return packets (retry 1/100)...
2018-11-30 12:15:28,450 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-30 12:15:28,450 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-30 12:15:28,450 INFO Received packet from mac: 52:54:04:00:00:bb (chain=4, port=1)
2018-11-30 12:15:28,450 INFO Received packet from mac: 52:54:05:00:00:bb (chain=5, port=1)
2018-11-30 12:15:28,450 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-30 12:15:28,450 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-30 12:15:28,450 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-30 12:15:28,450 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-30 12:15:28,450 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-30 12:15:28,451 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-30 12:15:28,451 INFO Received packet from mac: 52:54:04:00:00:aa (chain=4, port=0)
2018-11-30 12:15:28,451 INFO Received packet from mac: 52:54:05:00:00:aa (chain=5, port=0)
2018-11-30 12:15:28,451 INFO End-to-end connectivity established
2018-11-30 12:15:28,469 INFO Cleared all existing streams
2018-11-30 12:15:28,513 INFO Created 12 traffic streams for port 0.
2018-11-30 12:15:28,520 INFO Created 12 traffic streams for port 1.
2018-11-30 12:15:28,520 INFO Starting to generate traffic...
2018-11-30 12:15:28,520 INFO Running traffic generator
2018-11-30 12:15:38,556 INFO TX: 185205476; RX: 65840536; Est. Dropped: 119364940; Est. Drop rate: 64.4500%
2018-11-30 12:15:48,574 INFO TX: 370542624; RX: 131738655; Est. Dropped: 238803969; Est. Drop rate: 64.4471%
2018-11-30 12:15:58,566 INFO TX: 555000192; RX: 197276873; Est. Dropped: 357723319; Est. Drop rate: 64.4546%
2018-11-30 12:15:58,566 INFO ...traffic generating ended.
2018-11-30 12:15:58,593 INFO Cleared all existing streams
2018-11-30 12:15:58,730 INFO Created 24 traffic streams for port 0.
2018-11-30 12:15:58,744 INFO Created 24 traffic streams for port 1.
2018-11-30 12:15:58,744 INFO Starting to generate traffic...
2018-11-30 12:15:58,744 INFO Running traffic generator


2018-11-30 12:16:04 - [local][warning]   - [1mCPU util. is high: 86.2%[22m
2018-11-30 12:16:08,776 INFO TX: 144623648; RX: 36038420; Est. Dropped: 108585228; Est. Drop rate: 75.0812%
2018-11-30 12:16:18,794 INFO TX: 289347938; RX: 72114798; Est. Dropped: 217233140; Est. Drop rate: 75.0768%
2018-11-30 12:16:28,790 INFO TX: 433564446; RX: 108063915; Est. Dropped: 325500531; Est. Drop rate: 75.0755%
2018-11-30 12:16:28,790 INFO ...traffic generating ended.
2018-11-30 12:16:28,798 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14452148). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-30 12:16:28,799 INFO Service chain 'EXT' run completed.
2018-11-30 12:16:28,799 INFO Clean up skipped.
2018-11-30 12:16:28,829 INFO Saving results in json file: /tmp/nfvbench/csc_6c2n_18500000pps-1.json...
2018-11-30 12:16:28,844 INFO 
========== NFVBench Summary ==========
Date: 2018-11-30 12:15:25
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 6
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  64.4546%   |        1,080         |                   10 |        1,963         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  75.0755%   |        1,944         |                  100 |        4,284         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |   2.2221 Gbps   |       9,250,000 pps       |     9,250,003 pps      |  3,306,756 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |   2.1969 Gbps   |       9,250,000 pps       |     9,250,003 pps      |  3,269,138 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   4.4190 Gbps   |      18,500,000 pps       |     18,500,006 pps     |  6,575,894 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  46,250,016  | -29,726,792 (-64.2741%)  | 1,095 usec |  20 usec   | 1,593 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  46,250,016  | -29,720,284 (-64.2601%)  | 1,080 usec |  70 usec   | 1,762 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  46,250,016  | -29,746,911 (-64.3176%)  | 1,084 usec |  20 usec   | 1,772 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  46,250,016  | -29,714,048 (-64.2466%)  | 1,086 usec |  20 usec   | 1,784 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  46,250,016  | -29,692,168 (-64.1993%)  | 1,086 usec |  80 usec   | 1,422 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  46,250,016  | -29,697,187 (-64.2101%)  | 1,088 usec |  10 usec   | 1,806 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,500,096  | -178,297,390 (-64.2513%) | 1,087 usec |  10 usec   | 1,806 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  46,250,016  | -29,908,537 (-64.6671%)  | 1,078 usec |  90 usec   | 1,569 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  46,250,016  | -29,906,002 (-64.6616%)  | 1,070 usec |  90 usec   | 1,952 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  46,250,016  | -29,907,170 (-64.6641%)  | 1,068 usec |  90 usec   | 1,523 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  46,250,016  | -29,909,242 (-64.6686%)  | 1,073 usec |  90 usec   | 1,368 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  46,250,016  | -29,894,609 (-64.6370%)  | 1,077 usec |  40 usec   | 1,385 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  46,250,016  | -29,900,369 (-64.6494%)  | 1,090 usec |  90 usec   | 1,963 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,500,096  | -179,425,929 (-64.6580%) | 1,076 usec |  40 usec   | 1,963 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      22.0736 Gbps      |   5.5106 Gbps   |       9,250,000 pps       |     7,226,179 pps      |  1,804,001 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      22.0729 Gbps      |   5.4927 Gbps   |       9,250,000 pps       |     7,225,968 pps      |  1,798,128 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      44.1465 Gbps      |  11.0033 Gbps   |      18,500,000 pps       |     14,452,147 pps     |  3,602,129 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14452148). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  36,130,897  | -27,120,445 (-75.0616%)  | 1,922 usec |  400 usec  | 3,339 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  36,130,897  | -27,102,666 (-75.0124%)  | 1,935 usec |  400 usec  | 4,166 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  36,130,897  | -27,049,499 (-74.8653%)  | 1,961 usec |  100 usec  | 2,988 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  36,130,897  | -27,115,573 (-75.0482%)  | 1,966 usec |  100 usec  | 4,223 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  36,130,897  | -27,146,178 (-75.1329%)  | 1,970 usec |  100 usec  | 3,041 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  36,130,897  | -27,130,971 (-75.0908%)  | 1,980 usec |  100 usec  | 4,284 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 216,785,382  | -162,665,332 (-75.0352%) | 1,956 usec |  100 usec  | 4,284 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  36,129,844  | -27,157,078 (-75.1652%)  | 1,896 usec |  500 usec  | 3,350 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  36,129,844  | -27,113,665 (-75.0451%)  | 1,882 usec |  500 usec  | 2,915 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  36,129,844  | -27,038,810 (-74.8379%)  | 1,961 usec |  500 usec  | 2,997 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  36,129,844  | -27,138,353 (-75.1134%)  | 1,962 usec |  500 usec  | 3,078 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  36,129,844  | -27,207,700 (-75.3053%)  | 1,945 usec |  600 usec  | 3,101 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  36,129,844  | -27,179,593 (-75.2275%)  | 1,966 usec |  600 usec  | 3,052 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 216,779,064  | -162,835,199 (-75.1157%) | 1,935 usec |  500 usec  | 3,350 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              

