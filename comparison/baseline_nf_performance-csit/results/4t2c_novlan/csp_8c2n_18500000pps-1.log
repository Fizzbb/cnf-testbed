2018-11-30 13:39:08,320 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-30 13:39:08,354 INFO EXT chain with OpenStack mode disabled
2018-11-30 13:39:08,355 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csp_8c2n_18500000pps-1.json
2018-11-30 13:39:08,356 INFO Connecting to TRex (127.0.0.1)...
2018-11-30 13:39:08,496 INFO Connected to TRex
2018-11-30 13:39:08,496 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-30 13:39:08,496 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-30 13:39:08,497 INFO ChainRunner initialized
2018-11-30 13:39:08,498 INFO Starting 8xEXT benchmark...
2018-11-30 13:39:08,603 INFO Polling ARP until successful...
2018-11-30 13:39:08,818 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-30 13:39:08,818 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-30 13:39:08,818 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-30 13:39:08,818 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-30 13:39:08,818 INFO    ARP: port=0 chain=4 src IP=172.16.10.104 dst IP=172.16.10.14 -> MAC=52:54:04:00:00:aa
2018-11-30 13:39:08,818 INFO    ARP: port=0 chain=5 src IP=172.16.10.105 dst IP=172.16.10.15 -> MAC=52:54:05:00:00:aa
2018-11-30 13:39:08,818 INFO    ARP: port=0 chain=6 src IP=172.16.10.106 dst IP=172.16.10.16 -> MAC=52:54:06:00:00:aa
2018-11-30 13:39:08,818 INFO    ARP: port=0 chain=7 src IP=172.16.10.107 dst IP=172.16.10.17 -> MAC=52:54:07:00:00:aa
2018-11-30 13:39:08,818 INFO ARP resolved successfully for port 0
2018-11-30 13:39:09,033 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-30 13:39:09,033 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-30 13:39:09,033 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-30 13:39:09,033 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-30 13:39:09,033 INFO    ARP: port=1 chain=4 src IP=172.16.20.104 dst IP=172.16.20.14 -> MAC=52:54:04:00:00:bb
2018-11-30 13:39:09,033 INFO    ARP: port=1 chain=5 src IP=172.16.20.105 dst IP=172.16.20.15 -> MAC=52:54:05:00:00:bb
2018-11-30 13:39:09,033 INFO    ARP: port=1 chain=6 src IP=172.16.20.106 dst IP=172.16.20.16 -> MAC=52:54:06:00:00:bb
2018-11-30 13:39:09,033 INFO    ARP: port=1 chain=7 src IP=172.16.20.107 dst IP=172.16.20.17 -> MAC=52:54:07:00:00:bb
2018-11-30 13:39:09,033 INFO ARP resolved successfully for port 1
2018-11-30 13:39:09,135 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa', '52:54:04:00:00:aa', '52:54:05:00:00:aa', '52:54:06:00:00:aa', '52:54:07:00:00:aa']
2018-11-30 13:39:09,135 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb', '52:54:04:00:00:bb', '52:54:05:00:00:bb', '52:54:06:00:00:bb', '52:54:07:00:00:bb']
2018-11-30 13:39:09,135 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-30 13:39:09,182 INFO Created 8 traffic streams for port 0.
2018-11-30 13:39:09,187 INFO Created 8 traffic streams for port 1.
2018-11-30 13:39:09,302 INFO Captured unique src mac 0/16, capturing return packets (retry 1/100)...
2018-11-30 13:39:11,427 INFO Received packet from mac: 52:54:05:00:00:bb (chain=5, port=1)
2018-11-30 13:39:11,427 INFO Received packet from mac: 52:54:06:00:00:bb (chain=6, port=1)
2018-11-30 13:39:11,427 INFO Received packet from mac: 52:54:07:00:00:bb (chain=7, port=1)
2018-11-30 13:39:11,427 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-30 13:39:11,427 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-30 13:39:11,427 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-30 13:39:11,427 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-30 13:39:11,427 INFO Received packet from mac: 52:54:04:00:00:bb (chain=4, port=1)
2018-11-30 13:39:11,427 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-30 13:39:11,427 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-30 13:39:11,427 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-30 13:39:11,428 INFO Received packet from mac: 52:54:05:00:00:aa (chain=5, port=0)
2018-11-30 13:39:11,428 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-30 13:39:11,428 INFO Received packet from mac: 52:54:04:00:00:aa (chain=4, port=0)
2018-11-30 13:39:11,428 INFO Received packet from mac: 52:54:06:00:00:aa (chain=6, port=0)
2018-11-30 13:39:11,428 INFO Received packet from mac: 52:54:07:00:00:aa (chain=7, port=0)
2018-11-30 13:39:11,428 INFO End-to-end connectivity established
2018-11-30 13:39:11,449 INFO Cleared all existing streams
2018-11-30 13:39:11,524 INFO Created 16 traffic streams for port 0.
2018-11-30 13:39:11,533 INFO Created 16 traffic streams for port 1.
2018-11-30 13:39:11,533 INFO Starting to generate traffic...
2018-11-30 13:39:11,533 INFO Running traffic generator
2018-11-30 13:39:21,567 INFO TX: 185205984; RX: 100950345; Est. Dropped: 84255639; Est. Drop rate: 45.4929%
2018-11-30 13:39:31,587 INFO TX: 370564176; RX: 201977770; Est. Dropped: 168586406; Est. Drop rate: 45.4945%
2018-11-30 13:39:41,579 INFO TX: 554999424; RX: 302528892; Est. Dropped: 252470532; Est. Drop rate: 45.4902%
2018-11-30 13:39:41,579 INFO ...traffic generating ended.
2018-11-30 13:39:41,610 INFO Cleared all existing streams
2018-11-30 13:39:41,797 INFO Created 32 traffic streams for port 0.
2018-11-30 13:39:41,815 INFO Created 32 traffic streams for port 1.
2018-11-30 13:39:41,816 INFO Starting to generate traffic...
2018-11-30 13:39:41,816 INFO Running traffic generator


2018-11-30 13:39:47 - [local][warning]   - [1mCPU util. is high: 87.0%[22m
2018-11-30 13:39:51,850 INFO TX: 144462133; RX: 59456579; Est. Dropped: 85005554; Est. Drop rate: 58.8428%
2018-11-30 13:40:01,870 INFO TX: 289075247; RX: 118978018; Est. Dropped: 170097229; Est. Drop rate: 58.8419%
2018-11-30 13:40:11,865 INFO TX: 433210672; RX: 178262372; Est. Dropped: 254948300; Est. Drop rate: 58.8509%
2018-11-30 13:40:11,865 INFO ...traffic generating ended.
2018-11-30 13:40:11,875 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14440355). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-30 13:40:11,875 INFO Service chain 'EXT' run completed.
2018-11-30 13:40:11,875 INFO Clean up skipped.
2018-11-30 13:40:11,909 INFO Saving results in json file: /tmp/nfvbench/csp_8c2n_18500000pps-1.json...
2018-11-30 13:40:11,926 INFO 
========== NFVBench Summary ==========
Date: 2018-11-30 13:39:08
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 8
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |   Avg Latency (usec) |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  45.4902%   |                  571 |                   20 |         746          |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  58.8509%   |                  932 |                   50 |        9,709         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |   3.3872 Gbps   |       9,250,000 pps       |     9,249,990 pps      |  5,040,418 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |   3.3895 Gbps   |       9,250,000 pps       |     9,249,990 pps      |  5,043,878 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   6.7766 Gbps   |      18,500,000 pps       |     18,499,980 pps     | 10,084,296 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  34,687,464  | -15,785,168 (-45.5068%)  |  574 usec  |  50 usec   |  696 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  34,687,464  | -15,785,222 (-45.5070%)  |  574 usec  |  300 usec  |  714 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  34,687,464  | -15,784,914 (-45.5061%)  |  574 usec  |  60 usec   |  703 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  34,687,464  | -15,785,068 (-45.5065%)  |  569 usec  |  100 usec  |  719 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  34,687,464  | -15,787,021 (-45.5122%)  |  572 usec  |  100 usec  |  703 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  34,687,464  | -15,786,514 (-45.5107%)  |  564 usec  |  200 usec  |  710 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  34,687,464  | -15,786,506 (-45.5107%)  |  563 usec  |  100 usec  |  703 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  34,687,464  | -15,786,753 (-45.5114%)  |  572 usec  |  60 usec   |  703 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,712  | -126,287,166 (-45.5089%) |  570 usec  |  50 usec   |  719 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  34,687,464  | -15,772,360 (-45.4699%)  |  578 usec  |  100 usec  |  714 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  34,687,464  | -15,772,128 (-45.4692%)  |  578 usec  |  50 usec   |  746 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  34,687,464  | -15,772,758 (-45.4711%)  |  579 usec  |  100 usec  |  722 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  34,687,464  | -15,771,871 (-45.4685%)  |  575 usec  |  50 usec   |  712 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  34,687,464  | -15,773,744 (-45.4739%)  |  577 usec  |  100 usec  |  714 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  34,687,464  | -15,773,698 (-45.4738%)  |  563 usec  |  20 usec   |  717 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  34,687,464  | -15,773,185 (-45.4723%)  |  571 usec  |  60 usec   |  717 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  34,687,464  | -15,773,622 (-45.4736%)  |  577 usec  |  100 usec  |  690 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,712  | -126,183,366 (-45.4715%) |  575 usec  |  20 usec   |  746 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      22.0560 Gbps      |   9.0698 Gbps   |       9,250,000 pps       |     7,220,437 pps      |  2,969,155 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      22.0544 Gbps      |   9.0813 Gbps   |       9,250,000 pps       |     7,219,918 pps      |  2,972,923 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      44.1105 Gbps      |  18.1511 Gbps   |      18,500,000 pps       |     14,440,355 pps     |  5,942,078 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14440355). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  27,076,639  | -15,941,971 (-58.8772%)  |  953 usec  |  50 usec   | 1,316 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  27,076,639  | -15,942,303 (-58.8784%)  |  932 usec  |  70 usec   | 1,222 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  27,076,639  | -15,942,523 (-58.8793%)  |  958 usec  |  60 usec   | 1,231 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  27,076,639  | -15,942,729 (-58.8800%)  |  929 usec  |  80 usec   | 1,219 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  27,076,639  | -15,941,334 (-58.8749%)  |  939 usec  |  60 usec   | 1,200 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  27,076,639  | -15,945,543 (-58.8904%)  |  915 usec  |  100 usec  | 9,190 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  27,076,639  | -15,941,336 (-58.8749%)  |  928 usec  |  100 usec  | 1,170 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  27,076,639  | -15,940,694 (-58.8725%)  |  934 usec  |  60 usec   | 1,208 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 216,613,112  | -127,538,433 (-58.8784%) |  936 usec  |  50 usec   | 9,190 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  27,074,695  | -15,927,796 (-58.8291%)  |  939 usec  |  400 usec  | 1,215 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  27,074,695  | -15,926,655 (-58.8249%)  |  922 usec  |  200 usec  | 1,186 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  27,074,695  | -15,926,383 (-58.8239%)  |  936 usec  |  400 usec  | 1,228 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  27,074,695  | -15,927,589 (-58.8283%)  |  919 usec  |  300 usec  | 1,170 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  27,074,695  | -15,924,985 (-58.8187%)  |  939 usec  |  200 usec  | 1,211 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  27,074,695  | -15,927,267 (-58.8271%)  |  922 usec  |  100 usec  | 9,709 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  27,074,695  | -15,924,440 (-58.8167%)  |  913 usec  |  400 usec  | 1,179 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  27,074,695  | -15,924,752 (-58.8178%)  |  943 usec  |  200 usec  | 1,218 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 216,597,560  | -127,409,867 (-58.8233%) |  929 usec  |  100 usec  | 9,709 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              

