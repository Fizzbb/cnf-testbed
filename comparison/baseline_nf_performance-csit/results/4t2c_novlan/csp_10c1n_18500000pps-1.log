2018-12-09 00:57:03,752 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-12-09 00:57:03,788 INFO EXT chain with OpenStack mode disabled
2018-12-09 00:57:03,789 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csp_10c1n_18500000pps-1.json
2018-12-09 00:57:03,790 INFO Connecting to TRex (127.0.0.1)...
2018-12-09 00:57:03,932 INFO Connected to TRex
2018-12-09 00:57:03,933 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-12-09 00:57:03,933 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-12-09 00:57:03,934 INFO ChainRunner initialized
2018-12-09 00:57:03,935 INFO Starting 10xEXT benchmark...
2018-12-09 00:57:04,039 INFO Polling ARP until successful...
2018-12-09 00:57:04,255 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-12-09 00:57:04,255 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-12-09 00:57:04,256 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-12-09 00:57:04,256 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-12-09 00:57:04,256 INFO    ARP: port=0 chain=4 src IP=172.16.10.104 dst IP=172.16.10.14 -> MAC=52:54:04:00:00:aa
2018-12-09 00:57:04,256 INFO    ARP: port=0 chain=5 src IP=172.16.10.105 dst IP=172.16.10.15 -> MAC=52:54:05:00:00:aa
2018-12-09 00:57:04,256 INFO    ARP: port=0 chain=6 src IP=172.16.10.106 dst IP=172.16.10.16 -> MAC=52:54:06:00:00:aa
2018-12-09 00:57:04,256 INFO    ARP: port=0 chain=7 src IP=172.16.10.107 dst IP=172.16.10.17 -> MAC=52:54:07:00:00:aa
2018-12-09 00:57:04,256 INFO    ARP: port=0 chain=8 src IP=172.16.10.108 dst IP=172.16.10.18 -> MAC=52:54:08:00:00:aa
2018-12-09 00:57:04,256 INFO    ARP: port=0 chain=9 src IP=172.16.10.109 dst IP=172.16.10.19 -> MAC=52:54:09:00:00:aa
2018-12-09 00:57:04,256 INFO ARP resolved successfully for port 0
2018-12-09 00:57:04,473 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-12-09 00:57:04,473 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-12-09 00:57:04,473 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-12-09 00:57:04,473 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-12-09 00:57:04,473 INFO    ARP: port=1 chain=4 src IP=172.16.20.104 dst IP=172.16.20.14 -> MAC=52:54:04:00:00:bb
2018-12-09 00:57:04,473 INFO    ARP: port=1 chain=5 src IP=172.16.20.105 dst IP=172.16.20.15 -> MAC=52:54:05:00:00:bb
2018-12-09 00:57:04,473 INFO    ARP: port=1 chain=6 src IP=172.16.20.106 dst IP=172.16.20.16 -> MAC=52:54:06:00:00:bb
2018-12-09 00:57:04,473 INFO    ARP: port=1 chain=7 src IP=172.16.20.107 dst IP=172.16.20.17 -> MAC=52:54:07:00:00:bb
2018-12-09 00:57:04,473 INFO    ARP: port=1 chain=8 src IP=172.16.20.108 dst IP=172.16.20.18 -> MAC=52:54:08:00:00:bb
2018-12-09 00:57:04,473 INFO    ARP: port=1 chain=9 src IP=172.16.20.109 dst IP=172.16.20.19 -> MAC=52:54:09:00:00:bb
2018-12-09 00:57:04,474 INFO ARP resolved successfully for port 1
2018-12-09 00:57:04,575 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa', '52:54:04:00:00:aa', '52:54:05:00:00:aa', '52:54:06:00:00:aa', '52:54:07:00:00:aa', '52:54:08:00:00:aa', '52:54:09:00:00:aa']
2018-12-09 00:57:04,575 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb', '52:54:04:00:00:bb', '52:54:05:00:00:bb', '52:54:06:00:00:bb', '52:54:07:00:00:bb', '52:54:08:00:00:bb', '52:54:09:00:00:bb']
2018-12-09 00:57:04,575 INFO Starting traffic generator to ensure end-to-end connectivity
2018-12-09 00:57:04,633 INFO Created 10 traffic streams for port 0.
2018-12-09 00:57:04,639 INFO Created 10 traffic streams for port 1.
2018-12-09 00:57:04,754 INFO Captured unique src mac 0/20, capturing return packets (retry 1/100)...
2018-12-09 00:57:06,879 INFO Received packet from mac: 52:54:08:00:00:bb (chain=8, port=1)
2018-12-09 00:57:06,879 INFO Received packet from mac: 52:54:05:00:00:bb (chain=5, port=1)
2018-12-09 00:57:06,879 INFO Received packet from mac: 52:54:09:00:00:bb (chain=9, port=1)
2018-12-09 00:57:06,879 INFO Received packet from mac: 52:54:07:00:00:bb (chain=7, port=1)
2018-12-09 00:57:06,879 INFO Received packet from mac: 52:54:04:00:00:bb (chain=4, port=1)
2018-12-09 00:57:06,879 INFO Received packet from mac: 52:54:06:00:00:bb (chain=6, port=1)
2018-12-09 00:57:06,880 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-12-09 00:57:06,880 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-12-09 00:57:06,880 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-12-09 00:57:06,880 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-12-09 00:57:06,880 INFO Received packet from mac: 52:54:08:00:00:aa (chain=8, port=0)
2018-12-09 00:57:06,880 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-12-09 00:57:06,880 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-12-09 00:57:06,880 INFO Received packet from mac: 52:54:05:00:00:aa (chain=5, port=0)
2018-12-09 00:57:06,880 INFO Received packet from mac: 52:54:09:00:00:aa (chain=9, port=0)
2018-12-09 00:57:06,880 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-12-09 00:57:06,881 INFO Received packet from mac: 52:54:06:00:00:aa (chain=6, port=0)
2018-12-09 00:57:06,881 INFO Received packet from mac: 52:54:07:00:00:aa (chain=7, port=0)
2018-12-09 00:57:06,881 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-12-09 00:57:06,881 INFO Received packet from mac: 52:54:04:00:00:aa (chain=4, port=0)
2018-12-09 00:57:06,881 INFO End-to-end connectivity established
2018-12-09 00:57:06,902 INFO Cleared all existing streams
2018-12-09 00:57:06,976 INFO Created 20 traffic streams for port 0.
2018-12-09 00:57:06,987 INFO Created 20 traffic streams for port 1.
2018-12-09 00:57:06,987 INFO Starting to generate traffic...
2018-12-09 00:57:06,987 INFO Running traffic generator
2018-12-09 00:57:17,025 INFO TX: 185212545; RX: 100378984; Est. Dropped: 84833561; Est. Drop rate: 45.8034%
2018-12-09 00:57:27,047 INFO TX: 370620548; RX: 200869743; Est. Dropped: 169750805; Est. Drop rate: 45.8018%
2018-12-09 00:57:37,035 INFO TX: 555000140; RX: 300748199; Est. Dropped: 254251941; Est. Drop rate: 45.8111%
2018-12-09 00:57:37,035 INFO ...traffic generating ended.
2018-12-09 00:57:37,068 INFO Cleared all existing streams
2018-12-09 00:57:37,296 INFO Created 40 traffic streams for port 0.
2018-12-09 00:57:37,318 INFO Created 40 traffic streams for port 1.
2018-12-09 00:57:37,319 INFO Starting to generate traffic...
2018-12-09 00:57:37,319 INFO Running traffic generator


2018-12-09 00:57:43 - [local][warning]   - [1mCPU util. is high: 86.7%[22m
2018-12-09 00:57:47,358 INFO TX: 144515261; RX: 62677217; Est. Dropped: 81838044; Est. Drop rate: 56.6293%
2018-12-09 00:57:57,380 INFO TX: 289139393; RX: 125434565; Est. Dropped: 163704828; Est. Drop rate: 56.6180%
2018-12-09 00:58:07,372 INFO TX: 433197810; RX: 187944090; Est. Dropped: 245253720; Est. Drop rate: 56.6147%
2018-12-09 00:58:07,372 INFO ...traffic generating ended.
2018-12-09 00:58:07,384 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14439927). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-12-09 00:58:07,384 INFO Service chain 'EXT' run completed.
2018-12-09 00:58:07,384 INFO Clean up skipped.
2018-12-09 00:58:07,420 INFO Saving results in json file: /tmp/nfvbench/csp_10c1n_18500000pps-1.json...
2018-12-09 00:58:07,438 INFO 
========== NFVBench Summary ==========
Date: 2018-12-09 00:57:03
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 10
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |   Avg Latency (usec) |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  45.8111%   |                  570 |                   60 |         839          |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  56.6147%   |                  880 |                   20 |        1,192         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |   3.3707 Gbps   |       9,250,000 pps       |     9,250,002 pps      |  5,015,937 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |   3.3660 Gbps   |       9,250,000 pps       |     9,250,002 pps      |  5,009,002 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   6.7368 Gbps   |      18,500,000 pps       |     18,500,004 pps     | 10,024,939 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  27,750,007  | -12,677,563 (-45.6849%)  |  572 usec  |  200 usec  |  839 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  27,750,007  | -12,876,907 (-46.4033%)  |  577 usec  |  70 usec   |  707 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  27,750,007  | -12,836,898 (-46.2591%)  |  568 usec  |  200 usec  |  702 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  27,750,007  | -12,562,348 (-45.2697%)  |  585 usec  |  90 usec   |  741 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  27,750,007  | -12,739,188 (-45.9070%)  |  568 usec  |  100 usec  |  712 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  27,750,007  | -12,536,080 (-45.1751%)  |  583 usec  |  80 usec   |  733 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  27,750,007  | -12,581,277 (-45.3379%)  |  570 usec  |  200 usec  |  711 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  27,750,007  | -12,866,048 (-46.3641%)  |  582 usec  |  60 usec   |  708 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    8    |  27,750,007  | -12,469,199 (-44.9340%)  |  572 usec  |  100 usec  |  709 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    9    |  27,750,007  | -12,876,434 (-46.4016%)  |  578 usec  |  60 usec   |  698 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,500,070  | -127,021,942 (-45.7737%) |  576 usec  |  60 usec   |  839 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  27,750,007  | -12,679,176 (-45.6907%)  |  570 usec  |  200 usec  |  709 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  27,750,007  | -12,941,135 (-46.6347%)  |  566 usec  |  70 usec   |  713 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  27,750,007  | -13,022,089 (-46.9264%)  |  572 usec  |  100 usec  |  706 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  27,750,007  | -12,497,439 (-45.0358%)  |  569 usec  |  200 usec  |  723 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  27,750,007  | -12,842,740 (-46.2801%)  |  572 usec  |  100 usec  |  715 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  27,750,007  | -12,492,025 (-45.0163%)  |  558 usec  |  200 usec  |  713 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  27,750,007  | -12,574,183 (-45.3124%)  |  572 usec  |  100 usec  |  705 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  27,750,007  | -12,927,365 (-46.5851%)  |  562 usec  |  100 usec  |  691 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    8    |  27,750,007  | -12,315,267 (-44.3793%)  |  572 usec  |  100 usec  |  701 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    9    |  27,750,007  | -12,938,580 (-46.6255%)  |  562 usec  |  100 usec  |  695 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,500,070  | -127,229,999 (-45.8486%) |  568 usec  |  70 usec   |  723 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      22.0557 Gbps      |   9.5842 Gbps   |       9,250,000 pps       |     7,220,343 pps      |  3,137,545 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      22.0534 Gbps      |   9.5527 Gbps   |       9,250,000 pps       |     7,219,583 pps      |  3,127,257 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      44.1092 Gbps      |  19.1369 Gbps   |      18,500,000 pps       |     14,439,926 pps     |  6,264,802 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14439927). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  21,661,030  | -12,244,873 (-56.5295%)  |  870 usec  |  70 usec   | 1,192 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  21,661,030  | -12,294,332 (-56.7578%)  |  875 usec  |  50 usec   | 1,133 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  21,661,030  | -12,307,545 (-56.8188%)  |  866 usec  |  70 usec   | 1,119 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  21,661,030  | -12,171,045 (-56.1887%)  |  880 usec  |  20 usec   | 1,143 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  21,661,030  | -12,287,176 (-56.7248%)  |  877 usec  |  70 usec   | 1,134 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  21,661,030  | -12,199,457 (-56.3198%)  |  884 usec  |  20 usec   | 1,161 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  21,661,030  | -12,233,826 (-56.4785%)  |  887 usec  |  80 usec   | 1,145 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  21,661,030  | -12,282,005 (-56.7009%)  |  882 usec  |  40 usec   | 1,132 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    8    |  21,661,030  | -12,168,359 (-56.1763%)  |  891 usec  |  30 usec   | 1,161 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    9    |  21,661,030  | -12,295,314 (-56.7624%)  |  889 usec  |  30 usec   | 1,192 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 216,610,300  | -122,483,932 (-56.5458%) |  880 usec  |  20 usec   | 1,192 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  21,658,751  | -12,264,503 (-56.6261%)  |  881 usec  |  300 usec  | 1,161 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  21,658,751  | -12,328,593 (-56.9220%)  |  878 usec  |  100 usec  | 1,149 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  21,658,751  | -12,341,483 (-56.9815%)  |  875 usec  |  200 usec  | 1,160 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  21,658,751  | -12,197,360 (-56.3161%)  |  874 usec  |  200 usec  | 1,124 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  21,658,751  | -12,327,397 (-56.9165%)  |  880 usec  |  200 usec  | 1,145 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  21,658,751  | -12,206,013 (-56.3560%)  |  864 usec  |  200 usec  | 1,132 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  21,658,751  | -12,267,560 (-56.6402%)  |  883 usec  |  200 usec  | 1,134 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  21,658,751  | -12,322,080 (-56.8919%)  |  893 usec  |  100 usec  | 1,118 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    8    |  21,658,751  | -12,186,468 (-56.2658%)  |  892 usec  |  200 usec  | 1,152 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    9    |  21,658,751  | -12,328,331 (-56.9208%)  |  893 usec  |  100 usec  | 1,137 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 216,587,510  | -122,769,788 (-56.6837%) |  881 usec  |  100 usec  | 1,161 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              

