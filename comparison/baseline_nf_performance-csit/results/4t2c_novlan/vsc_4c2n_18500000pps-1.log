2018-12-01 14:56:50,089 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-12-01 14:56:50,123 INFO EXT chain with OpenStack mode disabled
2018-12-01 14:56:50,123 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/vsc_4c2n_18500000pps-1.json
2018-12-01 14:56:50,124 INFO Connecting to TRex (127.0.0.1)...
2018-12-01 14:56:50,267 INFO Connected to TRex
2018-12-01 14:56:50,267 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-12-01 14:56:50,267 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-12-01 14:56:50,268 INFO ChainRunner initialized
2018-12-01 14:56:50,269 INFO Starting 4xEXT benchmark...
2018-12-01 14:56:50,375 INFO Polling ARP until successful...
2018-12-01 14:56:50,585 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-12-01 14:56:50,586 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-12-01 14:56:50,586 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-12-01 14:56:50,586 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-12-01 14:56:50,586 INFO ARP resolved successfully for port 0
2018-12-01 14:56:50,796 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-12-01 14:56:50,796 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-12-01 14:56:50,796 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-12-01 14:56:50,796 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-12-01 14:56:50,797 INFO ARP resolved successfully for port 1
2018-12-01 14:56:50,898 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa']
2018-12-01 14:56:50,898 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb']
2018-12-01 14:56:50,898 INFO Starting traffic generator to ensure end-to-end connectivity
2018-12-01 14:56:50,922 INFO Created 4 traffic streams for port 0.
2018-12-01 14:56:50,925 INFO Created 4 traffic streams for port 1.
2018-12-01 14:56:51,037 INFO Captured unique src mac 0/8, capturing return packets (retry 1/100)...
2018-12-01 14:56:53,210 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-12-01 14:56:53,214 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-12-01 14:56:53,324 INFO Captured unique src mac 2/8, capturing return packets (retry 2/100)...
2018-12-01 14:56:55,498 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-12-01 14:56:55,501 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-12-01 14:56:55,611 INFO Captured unique src mac 4/8, capturing return packets (retry 3/100)...
2018-12-01 14:56:57,898 INFO Captured unique src mac 4/8, capturing return packets (retry 4/100)...
2018-12-01 14:57:00,186 INFO Captured unique src mac 4/8, capturing return packets (retry 5/100)...
2018-12-01 14:57:02,362 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-12-01 14:57:02,364 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-12-01 14:57:02,366 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-12-01 14:57:02,480 INFO Captured unique src mac 7/8, capturing return packets (retry 6/100)...
2018-12-01 14:57:04,773 INFO Captured unique src mac 7/8, capturing return packets (retry 7/100)...
2018-12-01 14:57:07,062 INFO Captured unique src mac 7/8, capturing return packets (retry 8/100)...
2018-12-01 14:57:09,351 INFO Captured unique src mac 7/8, capturing return packets (retry 9/100)...
2018-12-01 14:57:11,641 INFO Captured unique src mac 7/8, capturing return packets (retry 10/100)...
2018-12-01 14:57:13,930 INFO Captured unique src mac 7/8, capturing return packets (retry 11/100)...
2018-12-01 14:57:16,219 INFO Captured unique src mac 7/8, capturing return packets (retry 12/100)...
2018-12-01 14:57:18,509 INFO Captured unique src mac 7/8, capturing return packets (retry 13/100)...
2018-12-01 14:57:20,802 INFO Captured unique src mac 7/8, capturing return packets (retry 14/100)...
2018-12-01 14:57:23,097 INFO Captured unique src mac 7/8, capturing return packets (retry 15/100)...
2018-12-01 14:57:25,385 INFO Captured unique src mac 7/8, capturing return packets (retry 16/100)...
2018-12-01 14:57:27,674 INFO Captured unique src mac 7/8, capturing return packets (retry 17/100)...
2018-12-01 14:57:29,962 INFO Captured unique src mac 7/8, capturing return packets (retry 18/100)...
2018-12-01 14:57:32,251 INFO Captured unique src mac 7/8, capturing return packets (retry 19/100)...
2018-12-01 14:57:34,540 INFO Captured unique src mac 7/8, capturing return packets (retry 20/100)...
2018-12-01 14:57:36,829 INFO Captured unique src mac 7/8, capturing return packets (retry 21/100)...
2018-12-01 14:57:39,117 INFO Captured unique src mac 7/8, capturing return packets (retry 22/100)...
2018-12-01 14:57:41,412 INFO Captured unique src mac 7/8, capturing return packets (retry 23/100)...
2018-12-01 14:57:43,706 INFO Captured unique src mac 7/8, capturing return packets (retry 24/100)...
2018-12-01 14:57:45,995 INFO Captured unique src mac 7/8, capturing return packets (retry 25/100)...
2018-12-01 14:57:48,172 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-12-01 14:57:48,172 INFO End-to-end connectivity established
2018-12-01 14:57:48,191 INFO Cleared all existing streams
2018-12-01 14:57:48,222 INFO Created 8 traffic streams for port 0.
2018-12-01 14:57:48,226 INFO Created 8 traffic streams for port 1.
2018-12-01 14:57:48,227 INFO Starting to generate traffic...
2018-12-01 14:57:48,227 INFO Running traffic generator
2018-12-01 14:57:58,252 INFO TX: 185191928; RX: 10685137; Est. Dropped: 174506791; Est. Drop rate: 94.2302%
2018-12-01 14:58:08,266 INFO TX: 370437864; RX: 21244025; Est. Dropped: 349193839; Est. Drop rate: 94.2652%
2018-12-01 14:58:18,257 INFO TX: 554999888; RX: 30066989; Est. Dropped: 524932899; Est. Drop rate: 94.5825%
2018-12-01 14:58:18,257 INFO ...traffic generating ended.
2018-12-01 14:58:18,281 INFO Cleared all existing streams
2018-12-01 14:58:18,374 INFO Created 16 traffic streams for port 0.
2018-12-01 14:58:18,383 INFO Created 16 traffic streams for port 1.
2018-12-01 14:58:18,384 INFO Starting to generate traffic...
2018-12-01 14:58:18,384 INFO Running traffic generator


2018-12-01 14:58:24 - [local][warning]   - [1mCPU util. is high: 87.0%[22m
2018-12-01 14:58:28,411 INFO TX: 144944201; RX: 6878119; Est. Dropped: 138066082; Est. Drop rate: 95.2546%
2018-12-01 14:58:38,426 INFO TX: 289912229; RX: 15679571; Est. Dropped: 274232658; Est. Drop rate: 94.5916%
2018-12-01 14:58:48,414 INFO TX: 434381339; RX: 23099735; Est. Dropped: 411281604; Est. Drop rate: 94.6822%
2018-12-01 14:58:48,414 INFO ...traffic generating ended.
2018-12-01 14:58:48,421 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14479377). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-12-01 14:58:48,422 INFO Service chain 'EXT' run completed.
2018-12-01 14:58:48,422 INFO Clean up skipped.
2018-12-01 14:58:48,450 INFO Saving results in json file: /tmp/nfvbench/vsc_4c2n_18500000pps-1.json...
2018-12-01 14:58:48,463 INFO 
========== NFVBench Summary ==========
Date: 2018-12-01 14:56:50
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 4
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  94.5825%   |        2,389         |                   50 |       225,240        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  94.6822%   |        6,964         |                   60 |       125,748        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |  479.8473 Mbps  |       9,250,000 pps       |     9,249,998 pps      |   714,058 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |  193.6532 Mbps  |       9,250,000 pps       |     9,249,998 pps      |   288,174 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |  673.5006 Mbps  |      18,500,000 pps       |     18,499,996 pps     |  1,002,232 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+--------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |   Max lat.   |
              +=========+==============+==========================+============+============+==============+
              |    0    |  69,374,986  | -63,418,734 (-91.4144%)  | 2,198 usec |  600 usec  | 225,240 usec |
              +---------+--------------+--------------------------+------------+------------+--------------+
              |    1    |  69,374,986  | -65,945,722 (-95.0569%)  | 2,457 usec |  200 usec  | 57,613 usec  |
              +---------+--------------+--------------------------+------------+------------+--------------+
              |    2    |  69,374,986  | -63,436,282 (-91.4397%)  | 3,253 usec |  50 usec   | 89,629 usec  |
              +---------+--------------+--------------------------+------------+------------+--------------+
              |    3    |  69,374,986  | -63,277,129 (-91.2103%)  | 3,429 usec |  600 usec  | 58,645 usec  |
              +---------+--------------+--------------------------+------------+------------+--------------+
              |  total  | 277,499,944  | -256,077,867 (-92.2803%) | 2,834 usec |  50 usec   | 225,240 usec |
              +---------+--------------+--------------------------+------------+------------+--------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+============+============+=============+
              |    0    |  69,374,986  | -65,907,111 (-95.0013%)  |  773 usec  |  100 usec  | 48,540 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    1    |  69,374,986  | -67,674,755 (-97.5492%)  | 6,215 usec |  200 usec  | 28,557 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    2    |  69,374,986  | -67,269,248 (-96.9647%)  |  554 usec  |  200 usec  | 28,552 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    3    |  69,374,986  | -68,003,597 (-98.0232%)  | 1,299 usec |  200 usec  | 32,547 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  total  | 277,499,944  | -268,854,711 (-96.8846%) | 2,210 usec |  100 usec  | 48,540 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      22.1153 Gbps      |   1.4069 Gbps   |       9,250,000 pps       |     7,239,831 pps      |   460,585 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      22.1144 Gbps      |  945.1326 Mbps  |       9,250,000 pps       |     7,239,546 pps      |   309,406 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      44.2297 Gbps      |   2.3521 Gbps   |      18,500,000 pps       |     14,479,377 pps     |   769,991 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14479377). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+-------------+------------+--------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.   |  Min lat.  |   Max lat.   |
              +=========+==============+==========================+=============+============+==============+
              |    0    |  54,298,739  | -50,030,569 (-92.1395%)  | 12,448 usec |  60 usec   | 91,565 usec  |
              +---------+--------------+--------------------------+-------------+------------+--------------+
              |    1    |  54,298,740  | -52,612,653 (-96.8948%)  | 4,660 usec  |  200 usec  | 26,253 usec  |
              +---------+--------------+--------------------------+-------------+------------+--------------+
              |    2    |  54,298,740  | -50,435,800 (-92.8858%)  | 5,381 usec  |  900 usec  | 74,920 usec  |
              +---------+--------------+--------------------------+-------------+------------+--------------+
              |    3    |  54,298,740  | -50,298,066 (-92.6321%)  | 3,244 usec  |  900 usec  | 125,748 usec |
              +---------+--------------+--------------------------+-------------+------------+--------------+
              |  total  | 217,194,959  | -203,377,088 (-93.6380%) | 6,433 usec  |  60 usec   | 125,748 usec |
              +---------+--------------+--------------------------+-------------+------------+--------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.   |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+=============+============+=============+
              |    0    |  54,296,595  | -52,144,791 (-96.0369%)  | 18,943 usec |  200 usec  | 48,641 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |    1    |  54,296,595  | -51,670,479 (-95.1634%)  | 2,073 usec  |  200 usec  | 48,593 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |    2    |  54,296,595  | -52,205,629 (-96.1490%)  | 1,331 usec  |  200 usec  | 88,731 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |    3    |  54,296,595  | -51,883,297 (-95.5553%)  | 6,941 usec  |  200 usec  | 48,618 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |  total  | 217,186,380  | -207,904,196 (-95.7262%) | 7,322 usec  |  200 usec  | 88,731 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              

