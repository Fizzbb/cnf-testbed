2018-11-30 11:44:48,036 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-30 11:44:48,069 INFO EXT chain with OpenStack mode disabled
2018-11-30 11:44:48,070 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csc_6c1n_18500000pps-1.json
2018-11-30 11:44:48,071 INFO Connecting to TRex (127.0.0.1)...
2018-11-30 11:44:48,211 INFO Connected to TRex
2018-11-30 11:44:48,211 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-30 11:44:48,211 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-30 11:44:48,212 INFO ChainRunner initialized
2018-11-30 11:44:48,213 INFO Starting 6xEXT benchmark...
2018-11-30 11:44:48,317 INFO Polling ARP until successful...
2018-11-30 11:44:48,530 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-30 11:44:48,530 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-30 11:44:48,530 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-30 11:44:48,530 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-30 11:44:48,530 INFO    ARP: port=0 chain=4 src IP=172.16.10.104 dst IP=172.16.10.14 -> MAC=52:54:04:00:00:aa
2018-11-30 11:44:48,530 INFO    ARP: port=0 chain=5 src IP=172.16.10.105 dst IP=172.16.10.15 -> MAC=52:54:05:00:00:aa
2018-11-30 11:44:48,530 INFO ARP resolved successfully for port 0
2018-11-30 11:44:48,743 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-30 11:44:48,743 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-30 11:44:48,743 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-30 11:44:48,743 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-30 11:44:48,743 INFO    ARP: port=1 chain=4 src IP=172.16.20.104 dst IP=172.16.20.14 -> MAC=52:54:04:00:00:bb
2018-11-30 11:44:48,743 INFO    ARP: port=1 chain=5 src IP=172.16.20.105 dst IP=172.16.20.15 -> MAC=52:54:05:00:00:bb
2018-11-30 11:44:48,743 INFO ARP resolved successfully for port 1
2018-11-30 11:44:48,845 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa', '52:54:04:00:00:aa', '52:54:05:00:00:aa']
2018-11-30 11:44:48,845 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb', '52:54:04:00:00:bb', '52:54:05:00:00:bb']
2018-11-30 11:44:48,845 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-30 11:44:48,880 INFO Created 6 traffic streams for port 0.
2018-11-30 11:44:48,884 INFO Created 6 traffic streams for port 1.
2018-11-30 11:44:48,997 INFO Captured unique src mac 0/12, capturing return packets (retry 1/100)...
2018-11-30 11:44:51,119 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-30 11:44:51,119 INFO Received packet from mac: 52:54:04:00:00:bb (chain=4, port=1)
2018-11-30 11:44:51,119 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-30 11:44:51,119 INFO Received packet from mac: 52:54:05:00:00:bb (chain=5, port=1)
2018-11-30 11:44:51,120 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-30 11:44:51,120 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-30 11:44:51,120 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-30 11:44:51,120 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-30 11:44:51,120 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-30 11:44:51,120 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-30 11:44:51,120 INFO Received packet from mac: 52:54:04:00:00:aa (chain=4, port=0)
2018-11-30 11:44:51,120 INFO Received packet from mac: 52:54:05:00:00:aa (chain=5, port=0)
2018-11-30 11:44:51,120 INFO End-to-end connectivity established
2018-11-30 11:44:51,139 INFO Cleared all existing streams
2018-11-30 11:44:51,183 INFO Created 12 traffic streams for port 0.
2018-11-30 11:44:51,190 INFO Created 12 traffic streams for port 1.
2018-11-30 11:44:51,190 INFO Starting to generate traffic...
2018-11-30 11:44:51,190 INFO Running traffic generator
2018-11-30 11:45:01,221 INFO TX: 185202225; RX: 104669955; Est. Dropped: 80532270; Est. Drop rate: 43.4834%
2018-11-30 11:45:11,239 INFO TX: 370535388; RX: 209265580; Est. Dropped: 161269808; Est. Drop rate: 43.5235%
2018-11-30 11:45:21,231 INFO TX: 555000192; RX: 313403023; Est. Dropped: 241597169; Est. Drop rate: 43.5310%
2018-11-30 11:45:21,231 INFO ...traffic generating ended.
2018-11-30 11:45:21,257 INFO Cleared all existing streams
2018-11-30 11:45:21,394 INFO Created 24 traffic streams for port 0.
2018-11-30 11:45:21,408 INFO Created 24 traffic streams for port 1.
2018-11-30 11:45:21,408 INFO Starting to generate traffic...
2018-11-30 11:45:21,408 INFO Running traffic generator


2018-11-30 11:45:27 - [local][warning]   - [1mCPU util. is high: 86.8%[22m
2018-11-30 11:45:31,440 INFO TX: 144064772; RX: 65433267; Est. Dropped: 78631505; Est. Drop rate: 54.5807%
2018-11-30 11:45:41,458 INFO TX: 288217541; RX: 130795221; Est. Dropped: 157422320; Est. Drop rate: 54.6193%
2018-11-30 11:45:51,454 INFO TX: 431864272; RX: 196108964; Est. Dropped: 235755308; Est. Drop rate: 54.5901%
2018-11-30 11:45:51,454 INFO ...traffic generating ended.
2018-11-30 11:45:51,462 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14395475). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-30 11:45:51,462 INFO Service chain 'EXT' run completed.
2018-11-30 11:45:51,462 INFO Clean up skipped.
2018-11-30 11:45:51,493 INFO Saving results in json file: /tmp/nfvbench/csc_6c1n_18500000pps-1.json...
2018-11-30 11:45:51,507 INFO 
========== NFVBench Summary ==========
Date: 2018-11-30 11:44:48
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 6
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |   Avg Latency (usec) |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  43.5310%   |                  546 |                   20 |         757          |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  54.5901%   |                  843 |                   30 |        1,199         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |   3.5091 Gbps   |       9,250,000 pps       |     9,250,003 pps      |  5,221,837 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |   3.5112 Gbps   |       9,250,000 pps       |     9,250,003 pps      |  5,224,930 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   7.0202 Gbps   |      18,500,000 pps       |     18,500,006 pps     | 10,446,767 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  46,250,016  | -20,138,004 (-43.5416%)  |  550 usec  |  100 usec  |  712 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  46,250,016  | -20,130,970 (-43.5264%)  |  545 usec  |  300 usec  |  748 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  46,250,016  | -20,100,493 (-43.4605%)  |  548 usec  |  100 usec  |  719 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  46,250,016  | -20,142,396 (-43.5511%)  |  541 usec  |  200 usec  |  757 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  46,250,016  | -20,179,650 (-43.6317%)  |  552 usec  |  100 usec  |  687 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  46,250,016  | -20,153,466 (-43.5750%)  |  536 usec  |  200 usec  |  691 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,500,096  | -120,844,979 (-43.5477%) |  545 usec  |  100 usec  |  757 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  46,250,016  | -20,124,401 (-43.5122%)  |  552 usec  |  80 usec   |  686 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  46,250,016  | -20,123,676 (-43.5106%)  |  550 usec  |  60 usec   |  669 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  46,250,016  | -20,092,889 (-43.4441%)  |  548 usec  |  80 usec   |  687 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  46,250,016  | -20,127,108 (-43.5181%)  |  553 usec  |  60 usec   |  677 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  46,250,016  | -20,149,179 (-43.5658%)  |  542 usec  |  20 usec   |  692 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  46,250,016  | -20,134,937 (-43.5350%)  |  554 usec  |  60 usec   |  688 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,500,096  | -120,752,190 (-43.5143%) |  550 usec  |  20 usec   |  692 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      21.9871 Gbps      |   9.9778 Gbps   |       9,250,000 pps       |     7,197,870 pps      |  3,266,407 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      21.9863 Gbps      |   9.9905 Gbps   |       9,250,000 pps       |     7,197,605 pps      |  3,270,557 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      43.9734 Gbps      |  19.9683 Gbps   |      18,500,000 pps       |     14,395,475 pps     |  6,536,964 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14395475). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  35,989,353  | -19,672,023 (-54.6607%)  |  841 usec  |  30 usec   | 1,118 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  35,989,353  | -19,636,125 (-54.5609%)  |  843 usec  |  60 usec   | 1,095 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  35,989,353  | -19,558,122 (-54.3442%)  |  859 usec  |  40 usec   | 1,136 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  35,989,352  | -19,670,702 (-54.6570%)  |  845 usec  |  60 usec   | 1,199 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  35,989,353  | -19,712,152 (-54.7722%)  |  856 usec  |  40 usec   | 1,114 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  35,989,352  | -19,694,765 (-54.7239%)  |  848 usec  |  70 usec   | 1,091 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 215,936,116  | -117,943,889 (-54.6198%) |  849 usec  |  30 usec   | 1,199 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  35,988,026  | -19,637,485 (-54.5667%)  |  837 usec  |  100 usec  | 1,111 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  35,988,026  | -19,669,541 (-54.6558%)  |  830 usec  |  100 usec  | 1,095 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  35,988,026  | -19,600,500 (-54.4639%)  |  835 usec  |  80 usec   | 1,069 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  35,988,026  | -19,674,599 (-54.6698%)  |  845 usec  |  200 usec  | 1,143 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  35,988,026  | -19,574,418 (-54.3915%)  |  842 usec  |  80 usec   | 1,113 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  35,988,026  | -19,654,876 (-54.6150%)  |  844 usec  |  100 usec  | 1,122 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 215,928,156  | -117,811,419 (-54.5605%) |  839 usec  |  80 usec   | 1,143 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              

