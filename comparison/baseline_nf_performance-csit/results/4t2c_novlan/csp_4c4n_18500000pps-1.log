2018-11-30 22:25:44,656 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-30 22:25:44,690 INFO EXT chain with OpenStack mode disabled
2018-11-30 22:25:44,690 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csp_4c4n_18500000pps-1.json
2018-11-30 22:25:44,692 INFO Connecting to TRex (127.0.0.1)...
2018-11-30 22:25:44,832 INFO Connected to TRex
2018-11-30 22:25:44,832 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-30 22:25:44,832 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-30 22:25:44,833 INFO ChainRunner initialized
2018-11-30 22:25:44,834 INFO Starting 4xEXT benchmark...
2018-11-30 22:25:44,939 INFO Polling ARP until successful...
2018-11-30 22:25:45,150 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-30 22:25:45,150 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-30 22:25:45,150 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-30 22:25:45,150 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-30 22:25:45,150 INFO ARP resolved successfully for port 0
2018-11-30 22:25:45,361 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-30 22:25:45,361 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-30 22:25:45,361 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-30 22:25:45,361 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-30 22:25:45,361 INFO ARP resolved successfully for port 1
2018-11-30 22:25:45,463 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa']
2018-11-30 22:25:45,463 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb']
2018-11-30 22:25:45,463 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-30 22:25:45,487 INFO Created 4 traffic streams for port 0.
2018-11-30 22:25:45,489 INFO Created 4 traffic streams for port 1.
2018-11-30 22:25:45,601 INFO Captured unique src mac 0/8, capturing return packets (retry 1/100)...
2018-11-30 22:25:47,723 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-30 22:25:47,723 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-30 22:25:47,723 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-30 22:25:47,723 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-30 22:25:47,723 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-30 22:25:47,723 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-30 22:25:47,724 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-30 22:25:47,724 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-30 22:25:47,724 INFO End-to-end connectivity established
2018-11-30 22:25:47,741 INFO Cleared all existing streams
2018-11-30 22:25:47,772 INFO Created 8 traffic streams for port 0.
2018-11-30 22:25:47,777 INFO Created 8 traffic streams for port 1.
2018-11-30 22:25:47,777 INFO Starting to generate traffic...
2018-11-30 22:25:47,777 INFO Running traffic generator
2018-11-30 22:25:57,803 INFO TX: 185200065; RX: 104817435; Est. Dropped: 80382630; Est. Drop rate: 43.4031%
2018-11-30 22:26:07,819 INFO TX: 370498328; RX: 209748697; Est. Dropped: 160749631; Est. Drop rate: 43.3874%
2018-11-30 22:26:17,815 INFO TX: 554999224; RX: 314260503; Est. Dropped: 240738721; Est. Drop rate: 43.3764%
2018-11-30 22:26:17,815 INFO ...traffic generating ended.
2018-11-30 22:26:17,839 INFO Cleared all existing streams
2018-11-30 22:26:17,966 INFO Created 16 traffic streams for port 0.
2018-11-30 22:26:17,976 INFO Created 16 traffic streams for port 1.
2018-11-30 22:26:17,976 INFO Starting to generate traffic...
2018-11-30 22:26:17,976 INFO Running traffic generator


2018-11-30 22:26:23 - [local][warning]   - [1mCPU util. is high: 86.6%[22m
2018-11-30 22:26:28,002 INFO TX: 144023212; RX: 58881245; Est. Dropped: 85141967; Est. Drop rate: 59.1168%
2018-11-30 22:26:38,018 INFO TX: 288115664; RX: 117759362; Est. Dropped: 170356302; Est. Drop rate: 59.1277%
2018-11-30 22:26:48,011 INFO TX: 431709816; RX: 176393094; Est. Dropped: 255316722; Est. Drop rate: 59.1408%
2018-11-30 22:26:48,011 INFO ...traffic generating ended.
2018-11-30 22:26:48,017 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14390327). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-30 22:26:48,017 INFO Service chain 'EXT' run completed.
2018-11-30 22:26:48,017 INFO Clean up skipped.
2018-11-30 22:26:48,043 INFO Saving results in json file: /tmp/nfvbench/csp_4c4n_18500000pps-1.json...
2018-11-30 22:26:48,057 INFO 
========== NFVBench Summary ==========
Date: 2018-11-30 22:25:44
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 4
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  43.3764%   |         598          |                   20 |         723          |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  59.1408%   |        1,023         |                   60 |        1,283         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |   3.5099 Gbps   |       9,250,000 pps       |     9,249,987 pps      |  5,223,113 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |   3.5295 Gbps   |       9,250,000 pps       |     9,249,987 pps      |  5,252,237 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   7.0394 Gbps   |      18,500,000 pps       |     18,499,974 pps     | 10,475,350 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  69,374,903  | -30,206,171 (-43.5405%)  |  609 usec  |  100 usec  |  715 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  69,374,903  | -30,206,120 (-43.5404%)  |  605 usec  |  20 usec   |  723 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  69,374,903  | -30,197,126 (-43.5274%)  |  608 usec  |  100 usec  |  717 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  69,374,903  | -30,196,804 (-43.5270%)  |  603 usec  |  20 usec   |  717 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,612  | -120,806,221 (-43.5338%) |  606 usec  |  20 usec   |  723 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  69,374,903  | -29,967,634 (-43.1966%)  |  591 usec  |  100 usec  |  709 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  69,374,903  | -29,967,536 (-43.1965%)  |  590 usec  |  100 usec  |  699 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  69,374,903  | -29,998,878 (-43.2417%)  |  589 usec  |  100 usec  |  695 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  69,374,903  | -29,998,452 (-43.2411%)  |  594 usec  |  200 usec  |  700 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,612  | -119,932,500 (-43.2190%) |  591 usec  |  100 usec  |  709 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      21.9789 Gbps      |   8.9714 Gbps   |       9,250,000 pps       |     7,195,179 pps      |  2,936,945 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      21.9788 Gbps      |   8.9893 Gbps   |       9,250,000 pps       |     7,195,147 pps      |  2,942,823 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      43.9577 Gbps      |  17.9607 Gbps   |      18,500,000 pps       |     14,390,326 pps     |  5,879,768 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14390327). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  53,963,846  | -31,937,243 (-59.1827%)  | 1,023 usec |  100 usec  | 1,251 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  53,963,846  | -31,933,079 (-59.1750%)  | 1,031 usec |  80 usec   | 1,283 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  53,963,846  | -31,938,486 (-59.1850%)  | 1,023 usec |  100 usec  | 1,242 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  53,963,846  | -31,938,200 (-59.1844%)  | 1,009 usec |  60 usec   | 1,240 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 215,855,384  | -127,747,008 (-59.1818%) | 1,022 usec |  60 usec   | 1,283 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  53,963,608  | -31,896,964 (-59.1083%)  | 1,017 usec |  200 usec  | 1,244 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  53,963,608  | -31,897,233 (-59.1088%)  | 1,032 usec |  200 usec  | 1,268 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  53,963,608  | -31,889,740 (-59.0949%)  | 1,035 usec |  200 usec  | 1,237 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  53,963,608  | -31,885,777 (-59.0876%)  | 1,022 usec |  100 usec  | 1,247 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 215,854,432  | -127,569,714 (-59.0999%) | 1,027 usec |  100 usec  | 1,268 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              

