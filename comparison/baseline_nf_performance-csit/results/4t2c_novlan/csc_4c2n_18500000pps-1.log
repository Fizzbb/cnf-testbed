2018-11-30 10:55:02,189 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-30 10:55:02,222 INFO EXT chain with OpenStack mode disabled
2018-11-30 10:55:02,222 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csc_4c2n_18500000pps-1.json
2018-11-30 10:55:02,224 INFO Connecting to TRex (127.0.0.1)...
2018-11-30 10:55:02,365 INFO Connected to TRex
2018-11-30 10:55:02,365 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-30 10:55:02,365 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-30 10:55:02,366 INFO ChainRunner initialized
2018-11-30 10:55:02,367 INFO Starting 4xEXT benchmark...
2018-11-30 10:55:02,472 INFO Polling ARP until successful...
2018-11-30 10:55:02,683 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-30 10:55:02,683 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-30 10:55:02,683 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-30 10:55:02,683 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-30 10:55:02,683 INFO ARP resolved successfully for port 0
2018-11-30 10:55:02,893 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-30 10:55:02,893 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-30 10:55:02,894 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-30 10:55:02,894 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-30 10:55:02,894 INFO ARP resolved successfully for port 1
2018-11-30 10:55:02,995 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa']
2018-11-30 10:55:02,995 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb']
2018-11-30 10:55:02,995 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-30 10:55:03,019 INFO Created 4 traffic streams for port 0.
2018-11-30 10:55:03,022 INFO Created 4 traffic streams for port 1.
2018-11-30 10:55:03,133 INFO Captured unique src mac 0/8, capturing return packets (retry 1/100)...
2018-11-30 10:55:05,255 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-30 10:55:05,255 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-30 10:55:05,255 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-30 10:55:05,255 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-30 10:55:05,255 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-30 10:55:05,255 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-30 10:55:05,255 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-30 10:55:05,255 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-30 10:55:05,255 INFO End-to-end connectivity established
2018-11-30 10:55:05,274 INFO Cleared all existing streams
2018-11-30 10:55:05,305 INFO Created 8 traffic streams for port 0.
2018-11-30 10:55:05,309 INFO Created 8 traffic streams for port 1.
2018-11-30 10:55:05,309 INFO Starting to generate traffic...
2018-11-30 10:55:05,310 INFO Running traffic generator
2018-11-30 10:55:15,342 INFO TX: 185243251; RX: 67842016; Est. Dropped: 117401235; Est. Drop rate: 63.3768%
2018-11-30 10:55:25,357 INFO TX: 370551567; RX: 135737741; Est. Dropped: 234813826; Est. Drop rate: 63.3687%
2018-11-30 10:55:35,352 INFO TX: 554999224; RX: 203267666; Est. Dropped: 351731558; Est. Drop rate: 63.3751%
2018-11-30 10:55:35,352 INFO ...traffic generating ended.
2018-11-30 10:55:35,377 INFO Cleared all existing streams
2018-11-30 10:55:35,469 INFO Created 16 traffic streams for port 0.
2018-11-30 10:55:35,479 INFO Created 16 traffic streams for port 1.
2018-11-30 10:55:35,479 INFO Starting to generate traffic...
2018-11-30 10:55:35,479 INFO Running traffic generator


2018-11-30 10:55:41 - [local][warning]   - [1mCPU util. is high: 87.7%[22m
2018-11-30 10:55:45,506 INFO TX: 144336652; RX: 36916236; Est. Dropped: 107420416; Est. Drop rate: 74.4235%
2018-11-30 10:55:55,520 INFO TX: 288736771; RX: 73855862; Est. Dropped: 214880909; Est. Drop rate: 74.4210%
2018-11-30 10:56:05,512 INFO TX: 432654112; RX: 110659183; Est. Dropped: 321994929; Est. Drop rate: 74.4232%
2018-11-30 10:56:05,512 INFO ...traffic generating ended.
2018-11-30 10:56:05,518 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14421803). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-30 10:56:05,518 INFO Service chain 'EXT' run completed.
2018-11-30 10:56:05,518 INFO Clean up skipped.
2018-11-30 10:56:05,545 INFO Saving results in json file: /tmp/nfvbench/csc_4c2n_18500000pps-1.json...
2018-11-30 10:56:05,558 INFO 
========== NFVBench Summary ==========
Date: 2018-11-30 10:55:02
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 4
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  63.3751%   |        1,089         |                   20 |        2,311         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  74.4232%   |        1,964         |                   90 |        3,269         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |   2.2874 Gbps   |       9,250,000 pps       |     9,249,987 pps      |  3,403,827 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |   2.2658 Gbps   |       9,250,000 pps       |     9,249,987 pps      |  3,371,761 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   4.5532 Gbps   |      18,500,000 pps       |     18,499,974 pps     |  6,775,588 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  69,374,903  | -43,847,793 (-63.2041%)  | 1,114 usec |  20 usec   | 1,576 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  69,374,903  | -43,847,742 (-63.2040%)  | 1,097 usec |  20 usec   | 1,589 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  69,374,903  | -43,844,611 (-63.1995%)  | 1,081 usec |  20 usec   | 1,689 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  69,374,903  | -43,844,633 (-63.1996%)  | 1,092 usec |  20 usec   | 1,696 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,612  | -175,384,779 (-63.2018%) | 1,096 usec |  20 usec   | 1,696 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  69,374,903  | -44,091,838 (-63.5559%)  | 1,081 usec |  500 usec  | 1,534 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  69,374,903  | -44,091,659 (-63.5556%)  | 1,064 usec |  500 usec  | 1,525 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  69,374,903  | -44,081,441 (-63.5409%)  | 1,091 usec |  80 usec   | 2,299 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  69,374,903  | -44,081,841 (-63.5415%)  | 1,104 usec |  80 usec   | 2,311 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,612  | -176,346,779 (-63.5485%) | 1,085 usec |  80 usec   | 2,311 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      22.0267 Gbps      |   5.6506 Gbps   |       9,250,000 pps       |     7,210,849 pps      |  1,849,822 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      22.0271 Gbps      |   5.6170 Gbps   |       9,250,000 pps       |     7,210,954 pps      |  1,838,816 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      44.0538 Gbps      |  11.2676 Gbps   |      18,500,000 pps       |     14,421,803 pps     |  3,688,638 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14421803). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  54,081,373  | -40,213,477 (-74.3574%)  | 1,966 usec |  90 usec   | 3,192 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  54,081,373  | -40,212,453 (-74.3555%)  | 1,964 usec |  90 usec   | 3,068 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  54,081,373  | -40,202,250 (-74.3366%)  | 1,966 usec |  100 usec  | 3,060 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  54,081,373  | -40,202,627 (-74.3373%)  | 1,990 usec |  100 usec  | 3,078 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 216,325,492  | -160,830,807 (-74.3467%) | 1,972 usec |  90 usec   | 3,192 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  54,082,155  | -40,284,743 (-74.4881%)  | 1,945 usec |  200 usec  | 3,204 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  54,082,155  | -40,287,165 (-74.4925%)  | 1,932 usec |  200 usec  | 3,269 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  54,082,155  | -40,295,595 (-74.5081%)  | 1,966 usec |  200 usec  | 2,990 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  54,082,155  | -40,296,619 (-74.5100%)  | 1,994 usec |  200 usec  | 3,007 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 216,328,620  | -161,164,122 (-74.4997%) | 1,959 usec |  200 usec  | 3,269 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              

