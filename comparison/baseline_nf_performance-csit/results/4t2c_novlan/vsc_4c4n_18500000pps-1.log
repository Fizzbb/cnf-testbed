2018-12-01 15:29:00,048 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-12-01 15:29:00,081 INFO EXT chain with OpenStack mode disabled
2018-12-01 15:29:00,081 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/vsc_4c4n_18500000pps-1.json
2018-12-01 15:29:00,083 INFO Connecting to TRex (127.0.0.1)...
2018-12-01 15:29:00,221 INFO Connected to TRex
2018-12-01 15:29:00,221 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-12-01 15:29:00,221 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-12-01 15:29:00,222 INFO ChainRunner initialized
2018-12-01 15:29:00,223 INFO Starting 4xEXT benchmark...
2018-12-01 15:29:00,333 INFO Polling ARP until successful...
2018-12-01 15:29:00,543 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-12-01 15:29:00,543 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-12-01 15:29:00,543 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-12-01 15:29:00,544 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-12-01 15:29:00,544 INFO ARP resolved successfully for port 0
2018-12-01 15:29:00,754 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-12-01 15:29:00,754 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-12-01 15:29:00,754 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-12-01 15:29:00,754 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-12-01 15:29:00,754 INFO ARP resolved successfully for port 1
2018-12-01 15:29:00,856 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa']
2018-12-01 15:29:00,856 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb']
2018-12-01 15:29:00,856 INFO Starting traffic generator to ensure end-to-end connectivity
2018-12-01 15:29:00,879 INFO Created 4 traffic streams for port 0.
2018-12-01 15:29:00,882 INFO Created 4 traffic streams for port 1.
2018-12-01 15:29:00,994 INFO Captured unique src mac 0/8, capturing return packets (retry 1/100)...
2018-12-01 15:29:03,173 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-12-01 15:29:03,177 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-12-01 15:29:03,287 INFO Captured unique src mac 2/8, capturing return packets (retry 2/100)...
2018-12-01 15:29:05,576 INFO Captured unique src mac 2/8, capturing return packets (retry 3/100)...
2018-12-01 15:29:07,750 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-12-01 15:29:07,864 INFO Captured unique src mac 3/8, capturing return packets (retry 4/100)...
2018-12-01 15:29:10,038 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-12-01 15:29:10,039 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-12-01 15:29:10,041 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-12-01 15:29:10,153 INFO Captured unique src mac 6/8, capturing return packets (retry 5/100)...
2018-12-01 15:29:12,440 INFO Captured unique src mac 6/8, capturing return packets (retry 6/100)...
2018-12-01 15:29:14,727 INFO Captured unique src mac 6/8, capturing return packets (retry 7/100)...
2018-12-01 15:29:17,015 INFO Captured unique src mac 6/8, capturing return packets (retry 8/100)...
2018-12-01 15:29:19,304 INFO Captured unique src mac 6/8, capturing return packets (retry 9/100)...
2018-12-01 15:29:21,597 INFO Captured unique src mac 6/8, capturing return packets (retry 10/100)...
2018-12-01 15:29:23,889 INFO Captured unique src mac 6/8, capturing return packets (retry 11/100)...
2018-12-01 15:29:26,177 INFO Captured unique src mac 6/8, capturing return packets (retry 12/100)...
2018-12-01 15:29:28,464 INFO Captured unique src mac 6/8, capturing return packets (retry 13/100)...
2018-12-01 15:29:30,752 INFO Captured unique src mac 6/8, capturing return packets (retry 14/100)...
2018-12-01 15:29:32,928 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-12-01 15:29:33,040 INFO Captured unique src mac 7/8, capturing return packets (retry 15/100)...
2018-12-01 15:29:35,328 INFO Captured unique src mac 7/8, capturing return packets (retry 16/100)...
2018-12-01 15:29:37,615 INFO Captured unique src mac 7/8, capturing return packets (retry 17/100)...
2018-12-01 15:29:39,911 INFO Captured unique src mac 7/8, capturing return packets (retry 18/100)...
2018-12-01 15:29:42,203 INFO Captured unique src mac 7/8, capturing return packets (retry 19/100)...
2018-12-01 15:29:44,494 INFO Captured unique src mac 7/8, capturing return packets (retry 20/100)...
2018-12-01 15:29:46,782 INFO Captured unique src mac 7/8, capturing return packets (retry 21/100)...
2018-12-01 15:29:49,069 INFO Captured unique src mac 7/8, capturing return packets (retry 22/100)...
2018-12-01 15:29:51,358 INFO Captured unique src mac 7/8, capturing return packets (retry 23/100)...
2018-12-01 15:29:53,647 INFO Captured unique src mac 7/8, capturing return packets (retry 24/100)...
2018-12-01 15:29:55,936 INFO Captured unique src mac 7/8, capturing return packets (retry 25/100)...
2018-12-01 15:29:58,225 INFO Captured unique src mac 7/8, capturing return packets (retry 26/100)...
2018-12-01 15:30:00,532 INFO Captured unique src mac 7/8, capturing return packets (retry 27/100)...
2018-12-01 15:30:02,825 INFO Captured unique src mac 7/8, capturing return packets (retry 28/100)...
2018-12-01 15:30:05,113 INFO Captured unique src mac 7/8, capturing return packets (retry 29/100)...
2018-12-01 15:30:07,402 INFO Captured unique src mac 7/8, capturing return packets (retry 30/100)...
2018-12-01 15:30:09,691 INFO Captured unique src mac 7/8, capturing return packets (retry 31/100)...
2018-12-01 15:30:11,981 INFO Captured unique src mac 7/8, capturing return packets (retry 32/100)...
2018-12-01 15:30:14,269 INFO Captured unique src mac 7/8, capturing return packets (retry 33/100)...
2018-12-01 15:30:16,557 INFO Captured unique src mac 7/8, capturing return packets (retry 34/100)...
2018-12-01 15:30:18,850 INFO Captured unique src mac 7/8, capturing return packets (retry 35/100)...
2018-12-01 15:30:21,149 INFO Captured unique src mac 7/8, capturing return packets (retry 36/100)...
2018-12-01 15:30:23,439 INFO Captured unique src mac 7/8, capturing return packets (retry 37/100)...
2018-12-01 15:30:25,732 INFO Captured unique src mac 7/8, capturing return packets (retry 38/100)...
2018-12-01 15:30:28,021 INFO Captured unique src mac 7/8, capturing return packets (retry 39/100)...
2018-12-01 15:30:30,310 INFO Captured unique src mac 7/8, capturing return packets (retry 40/100)...
2018-12-01 15:30:32,597 INFO Captured unique src mac 7/8, capturing return packets (retry 41/100)...
2018-12-01 15:30:34,883 INFO Captured unique src mac 7/8, capturing return packets (retry 42/100)...
2018-12-01 15:30:37,169 INFO Captured unique src mac 7/8, capturing return packets (retry 43/100)...
2018-12-01 15:30:39,462 INFO Captured unique src mac 7/8, capturing return packets (retry 44/100)...
2018-12-01 15:30:41,755 INFO Captured unique src mac 7/8, capturing return packets (retry 45/100)...
2018-12-01 15:30:43,932 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-12-01 15:30:43,932 INFO End-to-end connectivity established
2018-12-01 15:30:43,950 INFO Cleared all existing streams
2018-12-01 15:30:43,980 INFO Created 8 traffic streams for port 0.
2018-12-01 15:30:43,984 INFO Created 8 traffic streams for port 1.
2018-12-01 15:30:43,984 INFO Starting to generate traffic...
2018-12-01 15:30:43,985 INFO Running traffic generator
2018-12-01 15:30:54,011 INFO TX: 185203495; RX: 1459185; Est. Dropped: 183744310; Est. Drop rate: 99.2121%
2018-12-01 15:31:04,025 INFO TX: 370454621; RX: 2889048; Est. Dropped: 367565573; Est. Drop rate: 99.2201%
2018-12-01 15:31:14,018 INFO TX: 554999888; RX: 4712598; Est. Dropped: 550287290; Est. Drop rate: 99.1509%
2018-12-01 15:31:14,018 INFO ...traffic generating ended.
2018-12-01 15:31:14,044 INFO Cleared all existing streams
2018-12-01 15:31:14,135 INFO Created 16 traffic streams for port 0.
2018-12-01 15:31:14,145 INFO Created 16 traffic streams for port 1.
2018-12-01 15:31:14,145 INFO Starting to generate traffic...
2018-12-01 15:31:14,145 INFO Running traffic generator


2018-12-01 15:31:19 - [local][warning]   - [1mCPU util. is high: 87.3%[22m
2018-12-01 15:31:24,171 INFO TX: 145088393; RX: 1609842; Est. Dropped: 143478551; Est. Drop rate: 98.8904%
2018-12-01 15:31:34,185 INFO TX: 290219400; RX: 3096394; Est. Dropped: 287123006; Est. Drop rate: 98.9331%
2018-12-01 15:31:44,180 INFO TX: 434903052; RX: 4541480; Est. Dropped: 430361572; Est. Drop rate: 98.9557%
2018-12-01 15:31:44,180 INFO ...traffic generating ended.
2018-12-01 15:31:44,186 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14496768). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-12-01 15:31:44,186 INFO Service chain 'EXT' run completed.
2018-12-01 15:31:44,187 INFO Clean up skipped.
2018-12-01 15:31:44,215 INFO Saving results in json file: /tmp/nfvbench/vsc_4c4n_18500000pps-1.json...
2018-12-01 15:31:44,229 INFO 
========== NFVBench Summary ==========
Date: 2018-12-01 15:29:00
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 4
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  99.1509%   |        14,277        |                  700 |        95,112        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  98.9557%   |        42,307        |                  800 |       178,404        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |  85.0332 Mbps   |       9,250,000 pps       |     9,249,998 pps      |   126,537 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |  20.5290 Mbps   |       9,250,000 pps       |     9,249,998 pps      |   30,549 pps    |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |  105.5622 Mbps  |      18,500,000 pps       |     18,499,996 pps     |   157,086 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.   |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+=============+============+=============+
              |    0    |  69,374,986  | -68,416,160 (-98.6179%)  | 9,471 usec  | 2,000 usec | 95,112 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |    1    |  69,374,986  | -68,157,070 (-98.2444%)  | 11,379 usec | 1,000 usec | 93,157 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |    2    |  69,374,986  | -68,083,854 (-98.1389%)  | 11,505 usec | 1,000 usec | 63,102 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |    3    |  69,374,986  | -69,046,921 (-99.5271%)  | 1,109 usec  |  700 usec  | 29,291 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |  total  | 277,499,944  | -273,704,005 (-98.6321%) | 8,366 usec  |  700 usec  | 95,112 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+-------------+-------------+-------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.   |  Min lat.   |  Max lat.   |
              +=========+==============+==========================+=============+=============+=============+
              |    0    |  69,374,986  | -69,084,773 (-99.5817%)  | 12,015 usec |  700 usec   | 49,120 usec |
              +---------+--------------+--------------------------+-------------+-------------+-------------+
              |    1    |  69,374,986  | -69,133,737 (-99.6523%)  | 10,741 usec |  800 usec   | 48,112 usec |
              +---------+--------------+--------------------------+-------------+-------------+-------------+
              |    2    |  69,374,986  | -69,255,970 (-99.8284%)  | 29,992 usec | 20,000 usec | 49,105 usec |
              +---------+--------------+--------------------------+-------------+-------------+-------------+
              |    3    |  69,374,986  | -69,110,514 (-99.6188%)  | 10,073 usec |  800 usec   | 30,136 usec |
              +---------+--------------+--------------------------+-------------+-------------+-------------+
              |  total  | 277,499,944  | -276,584,994 (-99.6703%) | 15,705 usec |  700 usec   | 49,120 usec |
              +---------+--------------+--------------------------+-------------+-------------+-------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      22.1414 Gbps      |  349.3184 Mbps  |       9,250,000 pps       |     7,248,385 pps      |   114,355 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      22.1414 Gbps      |  113.1051 Mbps  |       9,250,000 pps       |     7,248,382 pps      |   37,027 pps    |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      44.2828 Gbps      |  462.4236 Mbps  |      18,500,000 pps       |     14,496,767 pps     |   151,382 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14496768). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+-------------+------------+--------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.   |  Min lat.  |   Max lat.   |
              +=========+==============+==========================+=============+============+==============+
              |    0    |  54,362,892  | -53,138,072 (-97.7470%)  | 15,279 usec | 2,000 usec | 178,404 usec |
              +---------+--------------+--------------------------+-------------+------------+--------------+
              |    1    |  54,362,892  | -53,412,102 (-98.2510%)  | 40,216 usec | 2,000 usec | 144,411 usec |
              +---------+--------------+--------------------------+-------------+------------+--------------+
              |    2    |  54,362,892  | -53,389,690 (-98.2098%)  | 51,304 usec | 2,000 usec | 104,427 usec |
              +---------+--------------+--------------------------+-------------+------------+--------------+
              |    3    |  54,362,892  | -54,080,464 (-99.4805%)  | 11,118 usec | 1,000 usec | 64,652 usec  |
              +---------+--------------+--------------------------+-------------+------------+--------------+
              |  total  | 217,451,568  | -214,020,328 (-98.4221%) | 29,479 usec | 1,000 usec | 178,404 usec |
              +---------+--------------+--------------------------+-------------+------------+--------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.   |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+=============+============+=============+
              |    0    |  54,362,871  | -54,133,927 (-99.5789%)  | 59,223 usec | 1,000 usec | 80,778 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |    1    |  54,362,871  | -54,176,334 (-99.6569%)  | 46,798 usec |  800 usec  | 88,757 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |    2    |  54,362,871  | -53,882,407 (-99.1162%)  | 65,209 usec | 1,000 usec | 76,751 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |    3    |  54,362,871  | -54,148,591 (-99.6058%)  | 14,616 usec | 1,000 usec | 76,721 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |  total  | 217,451,484  | -216,341,259 (-99.4894%) | 46,462 usec |  800 usec  | 88,757 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              

