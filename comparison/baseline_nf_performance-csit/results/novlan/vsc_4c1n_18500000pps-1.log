2018-11-28 13:32:04,452 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-28 13:32:04,486 INFO EXT chain with OpenStack mode disabled
2018-11-28 13:32:04,486 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/vsc_4c1n_18500000pps-1.json
2018-11-28 13:32:04,487 INFO Connecting to TRex (127.0.0.1)...
2018-11-28 13:32:04,622 INFO Connected to TRex
2018-11-28 13:32:04,622 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-28 13:32:04,622 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-28 13:32:04,623 INFO ChainRunner initialized
2018-11-28 13:32:04,624 INFO Starting 4xEXT benchmark...
2018-11-28 13:32:04,728 INFO Polling ARP until successful...
2018-11-28 13:32:04,939 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-28 13:32:04,939 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-28 13:32:04,939 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-28 13:32:04,939 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-28 13:32:04,939 INFO ARP resolved successfully for port 0
2018-11-28 13:32:05,150 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-28 13:32:05,150 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-28 13:32:05,150 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-28 13:32:05,150 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-28 13:32:05,150 INFO ARP resolved successfully for port 1
2018-11-28 13:32:05,257 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa']
2018-11-28 13:32:05,257 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb']
2018-11-28 13:32:05,257 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-28 13:32:05,281 INFO Created 4 traffic streams for port 0.
2018-11-28 13:32:05,284 INFO Created 4 traffic streams for port 1.
2018-11-28 13:32:05,395 INFO Captured unique src mac 0/8, capturing return packets (retry 1/100)...
2018-11-28 13:32:07,517 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-28 13:32:07,517 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-28 13:32:07,518 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-28 13:32:07,518 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-28 13:32:07,518 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-28 13:32:07,518 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-28 13:32:07,518 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-28 13:32:07,518 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-28 13:32:07,518 INFO End-to-end connectivity established
2018-11-28 13:32:07,536 INFO Cleared all existing streams
2018-11-28 13:32:07,566 INFO Created 8 traffic streams for port 0.
2018-11-28 13:32:07,571 INFO Created 8 traffic streams for port 1.
2018-11-28 13:32:07,571 INFO Starting to generate traffic...
2018-11-28 13:32:07,571 INFO Running traffic generator
2018-11-28 13:32:17,598 INFO TX: 185198232; RX: 23882722; Est. Dropped: 161315510; Est. Drop rate: 87.1042%
2018-11-28 13:32:27,614 INFO TX: 370469051; RX: 47776639; Est. Dropped: 322692412; Est. Drop rate: 87.1037%
2018-11-28 13:32:37,608 INFO TX: 554999888; RX: 71520737; Est. Dropped: 483479151; Est. Drop rate: 87.1134%
2018-11-28 13:32:37,608 INFO ...traffic generating ended.
2018-11-28 13:32:37,633 INFO Cleared all existing streams
2018-11-28 13:32:37,724 INFO Created 16 traffic streams for port 0.
2018-11-28 13:32:37,734 INFO Created 16 traffic streams for port 1.
2018-11-28 13:32:37,734 INFO Starting to generate traffic...
2018-11-28 13:32:37,734 INFO Running traffic generator


2018-11-28 13:32:43 - [local][warning]   - [1mCPU util. is high: 87.4%[22m
2018-11-28 13:32:47,762 INFO TX: 144765731; RX: 19057677; Est. Dropped: 125708054; Est. Drop rate: 86.8355%
2018-11-28 13:32:57,778 INFO TX: 289583440; RX: 38133674; Est. Dropped: 251449766; Est. Drop rate: 86.8315%
2018-11-28 13:33:07,778 INFO TX: 433951720; RX: 57168100; Est. Dropped: 376783620; Est. Drop rate: 86.8262%
2018-11-28 13:33:07,778 INFO ...traffic generating ended.
2018-11-28 13:33:07,785 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14465057). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-28 13:33:07,785 INFO Service chain 'EXT' run completed.
2018-11-28 13:33:07,785 INFO Clean up skipped.
2018-11-28 13:33:07,814 INFO Saving results in json file: /tmp/nfvbench/vsc_4c1n_18500000pps-1.json...
2018-11-28 13:33:07,827 INFO 
========== NFVBench Summary ==========
Date: 2018-11-28 13:32:04
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 4
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  87.1134%   |        2,970         |                   20 |        28,433        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  86.8262%   |        2,564         |                   70 |        32,499        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |  801.1244 Mbps  |       9,250,000 pps       |     9,249,998 pps      |  1,192,149 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |  800.9401 Mbps  |       9,250,000 pps       |     9,249,998 pps      |  1,191,875 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   1.6021 Gbps   |      18,500,000 pps       |     18,499,996 pps     |  2,384,024 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+============+============+=============+
              |    0    |  69,374,986  | -60,447,931 (-87.1322%)  | 2,653 usec |  300 usec  | 28,373 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    1    |  69,374,986  | -60,440,778 (-87.1219%)  | 2,059 usec |  300 usec  | 28,378 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    2    |  69,374,986  | -60,399,606 (-87.0625%)  | 2,556 usec |  300 usec  | 28,387 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    3    |  69,374,986  | -60,447,148 (-87.1310%)  | 4,109 usec |  80 usec   | 28,408 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  total  | 277,499,944  | -241,735,463 (-87.1119%) | 2,844 usec |  80 usec   | 28,408 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+============+============+=============+
              |    0    |  69,374,986  | -60,442,195 (-87.1239%)  | 2,912 usec |  300 usec  | 28,401 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    1    |  69,374,986  | -60,439,441 (-87.1199%)  | 3,110 usec |  20 usec   | 28,408 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    2    |  69,374,986  | -60,429,040 (-87.1049%)  | 2,772 usec |  300 usec  | 24,446 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    3    |  69,374,986  | -60,433,012 (-87.1107%)  | 3,595 usec |  300 usec  | 28,433 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  total  | 277,499,944  | -241,743,688 (-87.1149%) | 3,097 usec |  20 usec   | 28,433 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      22.0930 Gbps      |   2.9100 Gbps   |       9,250,000 pps       |     7,232,539 pps      |   952,644 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      22.0929 Gbps      |   2.9110 Gbps   |       9,250,000 pps       |     7,232,518 pps      |   952,958 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      44.1859 Gbps      |   5.8210 Gbps   |      18,500,000 pps       |     14,465,057 pps     |  1,905,602 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14465057). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+============+============+=============+
              |    0    |  54,244,043  | -47,055,924 (-86.7486%)  | 1,390 usec |  300 usec  | 28,511 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    1    |  54,244,043  | -47,033,121 (-86.7065%)  |  819 usec  |  100 usec  | 28,433 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    2    |  54,244,043  | -47,140,531 (-86.9045%)  |  840 usec  |  300 usec  | 24,661 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    3    |  54,244,043  | -47,166,928 (-86.9532%)  |  922 usec  |  300 usec  | 28,573 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  total  | 216,976,172  | -188,396,504 (-86.8282%) |  993 usec  |  100 usec  | 28,573 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.   |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+=============+============+=============+
              |    0    |  54,243,887  | -47,027,188 (-86.6958%)  | 12,692 usec |  300 usec  | 28,384 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |    1    |  54,243,887  | -47,036,301 (-86.7126%)  | 1,609 usec  |  300 usec  | 32,499 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |    2    |  54,243,887  | -47,173,780 (-86.9661%)  | 1,345 usec  |  300 usec  | 28,391 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |    3    |  54,243,887  | -47,149,271 (-86.9209%)  |  908 usec   |  70 usec   | 24,651 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |  total  | 216,975,548  | -188,386,540 (-86.8239%) | 4,139 usec  |  70 usec   | 32,499 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              

