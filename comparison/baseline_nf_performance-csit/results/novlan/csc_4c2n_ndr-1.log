2018-11-28 08:46:54,950 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-28 08:46:54,982 INFO EXT chain with OpenStack mode disabled
2018-11-28 08:46:54,982 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate ndr --flow-count 1024 --duration 30 --json /tmp/nfvbench/csc_4c2n_ndr-1.json
2018-11-28 08:46:54,983 INFO Connecting to TRex (127.0.0.1)...
2018-11-28 08:46:55,119 INFO Connected to TRex
2018-11-28 08:46:55,119 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-28 08:46:55,119 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-28 08:46:55,120 INFO ChainRunner initialized
2018-11-28 08:46:55,120 INFO Starting 4xEXT benchmark...
2018-11-28 08:46:55,226 INFO Polling ARP until successful...
2018-11-28 08:46:55,437 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-28 08:46:55,437 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-28 08:46:55,437 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-28 08:46:55,437 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-28 08:46:55,437 INFO ARP resolved successfully for port 0
2018-11-28 08:46:55,648 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-28 08:46:55,648 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-28 08:46:55,648 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-28 08:46:55,648 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-28 08:46:55,648 INFO ARP resolved successfully for port 1
2018-11-28 08:46:55,755 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa']
2018-11-28 08:46:55,755 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb']
2018-11-28 08:46:55,755 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-28 08:46:55,779 INFO Created 4 traffic streams for port 0.
2018-11-28 08:46:55,782 INFO Created 4 traffic streams for port 1.
2018-11-28 08:46:55,893 INFO Captured unique src mac 0/8, capturing return packets (retry 1/100)...
2018-11-28 08:46:58,018 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-28 08:46:58,018 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-28 08:46:58,019 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-28 08:46:58,019 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-28 08:46:58,019 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-28 08:46:58,019 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-28 08:46:58,019 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-28 08:46:58,019 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-28 08:46:58,019 INFO End-to-end connectivity established
2018-11-28 08:46:58,038 INFO Cleared all existing streams
2018-11-28 08:46:58,070 INFO Created 8 traffic streams for port 0.
2018-11-28 08:46:58,074 INFO Created 8 traffic streams for port 1.
2018-11-28 08:46:58,075 INFO *** Searching NDR for 64 (Bidirectional)...
2018-11-28 08:46:58,075 INFO Range search [0.0 .. 200.0] targets: {'ndr': 0.001}
2018-11-28 08:46:58,075 INFO Modified traffic stream for port 0, new rate=100.0%.
2018-11-28 08:46:58,075 INFO Modified traffic stream for port 1, new rate=100.0%.
2018-11-28 08:46:58,075 INFO Running traffic generator


2018-11-28 08:47:05 - [local][warning]   - [1mCPU util. is high: 88.6%[22m
2018-11-28 08:47:08,100 INFO TX: 397286915; RX: 32050034; Est. Dropped: 365236881; Est. Drop rate: 91.9328%
2018-11-28 08:47:18,115 INFO TX: 796520771; RX: 64122994; Est. Dropped: 732397777; Est. Drop rate: 91.9496%
2018-11-28 08:47:28,113 INFO TX: 1194639921; RX: 96107493; Est. Dropped: 1098532428; Est. Drop rate: 91.9551%
2018-11-28 08:47:30,121 INFO WARNING: There is a significant difference between requested TX rate (74404760) and actual TX rate (39821330). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-28 08:47:30,121 INFO Average drop rate: 91.955108
2018-11-28 08:47:30,121 INFO Range search [0.0 .. 100.0] targets: {'ndr': 0.001}
2018-11-28 08:47:30,121 INFO Modified traffic stream for port 0, new rate=50.0%.
2018-11-28 08:47:30,122 INFO Modified traffic stream for port 1, new rate=50.0%.
2018-11-28 08:47:30,122 INFO Running traffic generator
2018-11-28 08:47:40,154 INFO TX: 372373497; RX: 32077331; Est. Dropped: 340296166; Est. Drop rate: 91.3857%
2018-11-28 08:47:50,170 INFO TX: 744999885; RX: 64179481; Est. Dropped: 680820404; Est. Drop rate: 91.3853%
2018-11-28 08:48:00,165 INFO TX: 1116074696; RX: 96156909; Est. Dropped: 1019917787; Est. Drop rate: 91.3844%
2018-11-28 08:48:02,173 INFO Average drop rate: 91.384366
2018-11-28 08:48:02,173 INFO Range search [0.0 .. 50.0] targets: {'ndr': 0.001}
2018-11-28 08:48:02,173 INFO Modified traffic stream for port 0, new rate=25.0%.
2018-11-28 08:48:02,173 INFO Modified traffic stream for port 1, new rate=25.0%.
2018-11-28 08:48:02,173 INFO Running traffic generator
2018-11-28 08:48:12,204 INFO TX: 186199356; RX: 32103382; Est. Dropped: 154095974; Est. Drop rate: 82.7586%
2018-11-28 08:48:22,220 INFO TX: 372513525; RX: 64225238; Est. Dropped: 308288287; Est. Drop rate: 82.7590%
2018-11-28 08:48:32,208 INFO TX: 558027968; RX: 96210680; Est. Dropped: 461817288; Est. Drop rate: 82.7588%
2018-11-28 08:48:34,216 INFO Average drop rate: 82.758807
2018-11-28 08:48:34,216 INFO Range search [0.0 .. 25.0] targets: {'ndr': 0.001}
2018-11-28 08:48:34,216 INFO Modified traffic stream for port 0, new rate=12.5%.
2018-11-28 08:48:34,216 INFO Modified traffic stream for port 1, new rate=12.5%.
2018-11-28 08:48:34,217 INFO Running traffic generator
2018-11-28 08:48:44,247 INFO TX: 93098116; RX: 32100374; Est. Dropped: 60997742; Est. Drop rate: 65.5198%
2018-11-28 08:48:54,263 INFO TX: 186257205; RX: 64223004; Est. Dropped: 122034201; Est. Drop rate: 65.5192%
2018-11-28 08:49:04,257 INFO TX: 279015456; RX: 96216216; Est. Dropped: 182799240; Est. Drop rate: 65.5158%
2018-11-28 08:49:06,265 INFO Average drop rate: 65.515811
2018-11-28 08:49:06,265 INFO Range search [0.0 .. 12.5] targets: {'ndr': 0.001}
2018-11-28 08:49:06,265 INFO Modified traffic stream for port 0, new rate=6.25%.
2018-11-28 08:49:06,265 INFO Modified traffic stream for port 1, new rate=6.25%.
2018-11-28 08:49:06,266 INFO Running traffic generator
2018-11-28 08:49:16,299 INFO TX: 46549736; RX: 32177008; Est. Dropped: 14372728; Est. Drop rate: 30.8761%
2018-11-28 08:49:26,315 INFO TX: 93132132; RX: 64373638; Est. Dropped: 28758494; Est. Drop rate: 30.8792%
2018-11-28 08:49:36,308 INFO TX: 139509352; RX: 96436748; Est. Dropped: 43072604; Est. Drop rate: 30.8743%
2018-11-28 08:49:38,317 INFO Average drop rate: 30.874349
2018-11-28 08:49:38,317 INFO Range search [0.0 .. 6.25] targets: {'ndr': 0.001}
2018-11-28 08:49:38,317 INFO Modified traffic stream for port 0, new rate=3.125%.
2018-11-28 08:49:38,317 INFO Modified traffic stream for port 1, new rate=3.125%.
2018-11-28 08:49:38,317 INFO Running traffic generator
2018-11-28 08:49:48,349 INFO TX: 23274308; RX: 23274206; Est. Dropped: 102; Est. Drop rate: 0.0004%
2018-11-28 08:49:58,363 INFO TX: 46559560; RX: 46559450; Est. Dropped: 110; Est. Drop rate: 0.0002%
2018-11-28 08:50:08,360 INFO TX: 69754592; RX: 69754592; Est. Dropped: 0; Est. Drop rate: 0.0000%
2018-11-28 08:50:10,368 INFO Average drop rate: 0.000000
2018-11-28 08:50:10,368 INFO Range search [3.125 .. 6.25] targets: {'ndr': 0.001}
2018-11-28 08:50:10,368 INFO Modified traffic stream for port 0, new rate=4.6875%.
2018-11-28 08:50:10,368 INFO Modified traffic stream for port 1, new rate=4.6875%.
2018-11-28 08:50:10,368 INFO Running traffic generator
2018-11-28 08:50:20,399 INFO TX: 34912924; RX: 34549602; Est. Dropped: 363322; Est. Drop rate: 1.0407%
2018-11-28 08:50:30,416 INFO TX: 69848672; RX: 69076594; Est. Dropped: 772078; Est. Drop rate: 1.1054%
2018-11-28 08:50:40,409 INFO TX: 104631568; RX: 103474416; Est. Dropped: 1157152; Est. Drop rate: 1.1059%
2018-11-28 08:50:42,418 INFO Average drop rate: 1.105930
2018-11-28 08:50:42,418 INFO Range search [3.125 .. 4.6875] targets: {'ndr': 0.001}
2018-11-28 08:50:42,418 INFO Modified traffic stream for port 0, new rate=3.90625%.
2018-11-28 08:50:42,418 INFO Modified traffic stream for port 1, new rate=3.90625%.
2018-11-28 08:50:42,418 INFO Running traffic generator
2018-11-28 08:50:52,449 INFO TX: 29090804; RX: 29090469; Est. Dropped: 335; Est. Drop rate: 0.0012%
2018-11-28 08:51:02,466 INFO TX: 58205072; RX: 58204803; Est. Dropped: 269; Est. Drop rate: 0.0005%
2018-11-28 08:51:12,459 INFO TX: 87193136; RX: 87193136; Est. Dropped: 0; Est. Drop rate: 0.0000%
2018-11-28 08:51:14,468 INFO Average drop rate: 0.000000
2018-11-28 08:51:14,468 INFO Range search [3.90625 .. 4.6875] targets: {'ndr': 0.001}
2018-11-28 08:51:14,468 INFO Modified traffic stream for port 0, new rate=4.296875%.
2018-11-28 08:51:14,468 INFO Modified traffic stream for port 1, new rate=4.296875%.
2018-11-28 08:51:14,468 INFO Running traffic generator
2018-11-28 08:51:24,499 INFO TX: 32002876; RX: 32002038; Est. Dropped: 838; Est. Drop rate: 0.0026%
2018-11-28 08:51:34,516 INFO TX: 64028868; RX: 64027996; Est. Dropped: 872; Est. Drop rate: 0.0014%
2018-11-28 08:51:44,509 INFO TX: 95912144; RX: 95912144; Est. Dropped: 0; Est. Drop rate: 0.0000%
2018-11-28 08:51:46,518 INFO Average drop rate: 0.000000
2018-11-28 08:51:46,518 INFO Range search [4.296875 .. 4.6875] targets: {'ndr': 0.001}
2018-11-28 08:51:46,518 INFO Modified traffic stream for port 0, new rate=4.4921875%.
2018-11-28 08:51:46,518 INFO Modified traffic stream for port 1, new rate=4.4921875%.
2018-11-28 08:51:46,518 INFO Running traffic generator
2018-11-28 08:51:56,550 INFO TX: 33454644; RX: 33453206; Est. Dropped: 1438; Est. Drop rate: 0.0043%
2018-11-28 08:52:06,567 INFO TX: 66939168; RX: 66938010; Est. Dropped: 1158; Est. Drop rate: 0.0017%
2018-11-28 08:52:16,559 INFO TX: 100271824; RX: 100271824; Est. Dropped: 0; Est. Drop rate: 0.0000%
2018-11-28 08:52:18,568 INFO Average drop rate: 0.000000
2018-11-28 08:52:18,568 INFO Range search [4.4921875 .. 4.6875] targets: {'ndr': 0.001}
2018-11-28 08:52:18,568 INFO Modified traffic stream for port 0, new rate=4.58984375%.
2018-11-28 08:52:18,569 INFO Modified traffic stream for port 1, new rate=4.58984375%.
2018-11-28 08:52:18,569 INFO Running traffic generator
2018-11-28 08:52:28,601 INFO TX: 34183924; RX: 34042626; Est. Dropped: 141298; Est. Drop rate: 0.4133%
2018-11-28 08:52:38,618 INFO TX: 68394224; RX: 68126060; Est. Dropped: 268164; Est. Drop rate: 0.3921%
2018-11-28 08:52:48,611 INFO TX: 102451880; RX: 102056368; Est. Dropped: 395512; Est. Drop rate: 0.3860%
2018-11-28 08:52:50,619 INFO Average drop rate: 0.386047
2018-11-28 08:52:50,619 INFO Range search [4.4921875 .. 4.58984375] targets: {'ndr': 0.001}
2018-11-28 08:52:50,620 INFO Found ndr (0.001) load: 4.4921875
2018-11-28 08:52:50,620 INFO NDR load: 8.984375
2018-11-28 08:52:50,620 INFO Service chain 'EXT' run completed.
2018-11-28 08:52:50,620 INFO Clean up skipped.
2018-11-28 08:52:50,649 INFO Saving results in json file: /tmp/nfvbench/csc_4c2n_ndr-1.json...
2018-11-28 08:52:50,652 INFO 
========== NFVBench Summary ==========
Date: 2018-11-28 08:46:55
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Measurement Parameters:
      NDR: 0.001
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_64B
          Bidirectional: True
          Flow count: 1024
          Service chains count: 4
          Compute nodes: []
            
            Run Summary:
            
              +-----+-----------------+------------------+------------------+-----------------+----------------------+----------------------+----------------------+
              |  -  |   L2 Frame Size |  Rate (fwd+rev)  |  Rate (fwd+rev)  |  Avg Drop Rate  |   Avg Latency (usec) |   Min Latency (usec) |   Max Latency (usec) |
              +=====+=================+==================+==================+=================+======================+======================+======================+
              | NDR |              64 |   2.2461 Gbps    |  3,342,400 pps   |     0.0000%     |                  412 |                   10 |                  644 |
              +-----+-----------------+------------------+------------------+-----------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            NDR search duration: 353 seconds
            

