2018-11-28 14:28:45,927 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-28 14:28:45,961 INFO EXT chain with OpenStack mode disabled
2018-11-28 14:28:45,961 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/vsc_4c4n_18500000pps-1.json
2018-11-28 14:28:45,962 INFO Connecting to TRex (127.0.0.1)...
2018-11-28 14:28:46,101 INFO Connected to TRex
2018-11-28 14:28:46,101 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-28 14:28:46,102 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-28 14:28:46,102 INFO ChainRunner initialized
2018-11-28 14:28:46,103 INFO Starting 4xEXT benchmark...
2018-11-28 14:28:46,208 INFO Polling ARP until successful...
2018-11-28 14:28:46,419 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-28 14:28:46,419 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-28 14:28:46,419 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-28 14:28:46,419 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-28 14:28:46,419 INFO ARP resolved successfully for port 0
2018-11-28 14:28:46,630 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-28 14:28:46,630 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-28 14:28:46,630 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-28 14:28:46,630 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-28 14:28:46,630 INFO ARP resolved successfully for port 1
2018-11-28 14:28:46,732 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa']
2018-11-28 14:28:46,732 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb']
2018-11-28 14:28:46,732 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-28 14:28:46,755 INFO Created 4 traffic streams for port 0.
2018-11-28 14:28:46,758 INFO Created 4 traffic streams for port 1.
2018-11-28 14:28:46,869 INFO Captured unique src mac 0/8, capturing return packets (retry 1/100)...
2018-11-28 14:28:49,043 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-28 14:28:49,044 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-28 14:28:49,046 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-28 14:28:49,158 INFO Captured unique src mac 3/8, capturing return packets (retry 2/100)...
2018-11-28 14:28:51,454 INFO Captured unique src mac 3/8, capturing return packets (retry 3/100)...
2018-11-28 14:28:53,638 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-28 14:28:53,748 INFO Captured unique src mac 4/8, capturing return packets (retry 4/100)...
2018-11-28 14:28:55,924 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-28 14:28:56,037 INFO Captured unique src mac 5/8, capturing return packets (retry 5/100)...
2018-11-28 14:28:58,326 INFO Captured unique src mac 5/8, capturing return packets (retry 6/100)...
2018-11-28 14:29:00,513 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-28 14:29:00,515 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-28 14:29:00,625 INFO Captured unique src mac 7/8, capturing return packets (retry 7/100)...
2018-11-28 14:29:02,914 INFO Captured unique src mac 7/8, capturing return packets (retry 8/100)...
2018-11-28 14:29:05,204 INFO Captured unique src mac 7/8, capturing return packets (retry 9/100)...
2018-11-28 14:29:07,493 INFO Captured unique src mac 7/8, capturing return packets (retry 10/100)...
2018-11-28 14:29:09,787 INFO Captured unique src mac 7/8, capturing return packets (retry 11/100)...
2018-11-28 14:29:12,081 INFO Captured unique src mac 7/8, capturing return packets (retry 12/100)...
2018-11-28 14:29:14,370 INFO Captured unique src mac 7/8, capturing return packets (retry 13/100)...
2018-11-28 14:29:16,659 INFO Captured unique src mac 7/8, capturing return packets (retry 14/100)...
2018-11-28 14:29:18,948 INFO Captured unique src mac 7/8, capturing return packets (retry 15/100)...
2018-11-28 14:29:21,240 INFO Captured unique src mac 7/8, capturing return packets (retry 16/100)...
2018-11-28 14:29:23,530 INFO Captured unique src mac 7/8, capturing return packets (retry 17/100)...
2018-11-28 14:29:25,818 INFO Captured unique src mac 7/8, capturing return packets (retry 18/100)...
2018-11-28 14:29:28,108 INFO Captured unique src mac 7/8, capturing return packets (retry 19/100)...
2018-11-28 14:29:30,402 INFO Captured unique src mac 7/8, capturing return packets (retry 20/100)...
2018-11-28 14:29:32,693 INFO Captured unique src mac 7/8, capturing return packets (retry 21/100)...
2018-11-28 14:29:34,982 INFO Captured unique src mac 7/8, capturing return packets (retry 22/100)...
2018-11-28 14:29:37,272 INFO Captured unique src mac 7/8, capturing return packets (retry 23/100)...
2018-11-28 14:29:39,561 INFO Captured unique src mac 7/8, capturing return packets (retry 24/100)...
2018-11-28 14:29:41,850 INFO Captured unique src mac 7/8, capturing return packets (retry 25/100)...
2018-11-28 14:29:44,140 INFO Captured unique src mac 7/8, capturing return packets (retry 26/100)...
2018-11-28 14:29:46,429 INFO Captured unique src mac 7/8, capturing return packets (retry 27/100)...
2018-11-28 14:29:48,610 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-28 14:29:48,610 INFO End-to-end connectivity established
2018-11-28 14:29:48,633 INFO Cleared all existing streams
2018-11-28 14:29:48,663 INFO Created 8 traffic streams for port 0.
2018-11-28 14:29:48,668 INFO Created 8 traffic streams for port 1.
2018-11-28 14:29:48,668 INFO Starting to generate traffic...
2018-11-28 14:29:48,668 INFO Running traffic generator
2018-11-28 14:29:58,696 INFO TX: 185203564; RX: 1323116; Est. Dropped: 183880448; Est. Drop rate: 99.2856%
2018-11-28 14:30:08,711 INFO TX: 370470493; RX: 2829954; Est. Dropped: 367640539; Est. Drop rate: 99.2361%
2018-11-28 14:30:18,704 INFO TX: 554999888; RX: 4152056; Est. Dropped: 550847832; Est. Drop rate: 99.2519%
2018-11-28 14:30:18,704 INFO ...traffic generating ended.
2018-11-28 14:30:18,729 INFO Cleared all existing streams
2018-11-28 14:30:18,820 INFO Created 16 traffic streams for port 0.
2018-11-28 14:30:18,830 INFO Created 16 traffic streams for port 1.
2018-11-28 14:30:18,830 INFO Starting to generate traffic...
2018-11-28 14:30:18,830 INFO Running traffic generator


2018-11-28 14:30:24 - [local][warning]   - [1mCPU util. is high: 87.4%[22m
2018-11-28 14:30:28,857 INFO TX: 145155363; RX: 1314534; Est. Dropped: 143840829; Est. Drop rate: 99.0944%
2018-11-28 14:30:38,870 INFO TX: 290313045; RX: 2837757; Est. Dropped: 287475288; Est. Drop rate: 99.0225%
2018-11-28 14:30:48,870 INFO TX: 435067324; RX: 4254769; Est. Dropped: 430812555; Est. Drop rate: 99.0220%
2018-11-28 14:30:48,870 INFO ...traffic generating ended.
2018-11-28 14:30:48,882 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14502244). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-28 14:30:48,882 INFO Service chain 'EXT' run completed.
2018-11-28 14:30:48,882 INFO Clean up skipped.
2018-11-28 14:30:48,909 INFO Saving results in json file: /tmp/nfvbench/vsc_4c4n_18500000pps-1.json...
2018-11-28 14:30:48,922 INFO 
========== NFVBench Summary ==========
Date: 2018-11-28 14:28:46
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 4
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  99.2519%   |        44,333        |                  700 |      1,005,032       |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  99.0220%   |        47,831        |                  900 |       205,161        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |  75.8460 Mbps   |       9,250,000 pps       |     9,249,998 pps      |   112,866 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |  17.1600 Mbps   |       9,250,000 pps       |     9,249,998 pps      |   25,535 pps    |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |  93.0061 Mbps   |      18,500,000 pps       |     18,499,996 pps     |   138,401 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+-------------+------------+----------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.   |  Min lat.  |    Max lat.    |
              +=========+==============+==========================+=============+============+================+
              |    0    |  69,374,986  | -68,219,785 (-98.3348%)  | 78,692 usec | 1,000 usec | 1,005,032 usec |
              +---------+--------------+--------------------------+-------------+------------+----------------+
              |    1    |  69,374,986  | -68,282,311 (-98.4250%)  | 57,673 usec | 1,000 usec |  796,778 usec  |
              +---------+--------------+--------------------------+-------------+------------+----------------+
              |    2    |  69,374,986  | -68,511,369 (-98.7551%)  | 44,355 usec | 1,000 usec |  853,100 usec  |
              +---------+--------------+--------------------------+-------------+------------+----------------+
              |    3    |  69,374,986  | -69,099,292 (-99.6026%)  | 41,346 usec |  800 usec  |  92,777 usec   |
              +---------+--------------+--------------------------+-------------+------------+----------------+
              |  total  | 277,499,944  | -274,112,757 (-98.7794%) | 55,517 usec |  800 usec  | 1,005,032 usec |
              +---------+--------------+--------------------------+-------------+------------+----------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+-------------+-------------+-------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.   |  Min lat.   |  Max lat.   |
              +=========+==============+==========================+=============+=============+=============+
              |    0    |  69,374,986  | -69,162,898 (-99.6943%)  | 41,672 usec | 1,000 usec  | 80,536 usec |
              +---------+--------------+--------------------------+-------------+-------------+-------------+
              |    1    |  69,374,986  | -69,164,411 (-99.6965%)  | 35,078 usec |  700 usec   | 88,597 usec |
              +---------+--------------+--------------------------+-------------+-------------+-------------+
              |    2    |  69,374,986  | -69,251,422 (-99.8219%)  | 35,092 usec | 10,000 usec | 92,527 usec |
              +---------+--------------+--------------------------+-------------+-------------+-------------+
              |    3    |  69,374,986  | -69,155,431 (-99.6835%)  | 55,372 usec |  900 usec   | 88,597 usec |
              +---------+--------------+--------------------------+-------------+-------------+-------------+
              |  total  | 277,499,944  | -276,734,162 (-99.7240%) | 41,804 usec |  700 usec   | 92,527 usec |
              +---------+--------------+--------------------------+-------------+-------------+-------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      22.1493 Gbps      |  320.7305 Mbps  |       9,250,000 pps       |     7,250,957 pps      |   104,996 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      22.1503 Gbps      |  112.4995 Mbps  |       9,250,000 pps       |     7,251,287 pps      |   36,828 pps    |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      44.2995 Gbps      |  433.2300 Mbps  |      18,500,000 pps       |     14,502,244 pps     |   141,824 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14502244). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+-------------+------------+--------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.   |  Min lat.  |   Max lat.   |
              +=========+==============+==========================+=============+============+==============+
              |    0    |  54,382,178  | -53,289,005 (-97.9898%)  | 60,666 usec | 2,000 usec | 205,161 usec |
              +---------+--------------+--------------------------+-------------+------------+--------------+
              |    1    |  54,382,178  | -53,433,521 (-98.2556%)  | 50,401 usec | 3,000 usec | 165,100 usec |
              +---------+--------------+--------------------------+-------------+------------+--------------+
              |    2    |  54,382,178  | -53,443,197 (-98.2734%)  | 43,282 usec | 2,000 usec | 113,217 usec |
              +---------+--------------+--------------------------+-------------+------------+--------------+
              |    3    |  54,382,178  | -54,211,806 (-99.6867%)  | 59,324 usec | 1,000 usec | 85,220 usec  |
              +---------+--------------+--------------------------+-------------+------------+--------------+
              |  total  | 217,528,712  | -214,377,529 (-98.5514%) | 53,418 usec | 1,000 usec | 205,161 usec |
              +---------+--------------+--------------------------+-------------+------------+--------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.   |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+=============+============+=============+
              |    0    |  54,384,653  | -54,116,148 (-99.5063%)  | 46,958 usec |  900 usec  | 76,518 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |    1    |  54,384,653  | -54,190,901 (-99.6437%)  | 40,667 usec | 1,000 usec | 80,666 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |    2    |  54,384,653  | -54,021,619 (-99.3325%)  | 38,481 usec | 1,000 usec | 76,927 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |    3    |  54,384,653  | -54,104,826 (-99.4855%)  | 57,387 usec | 1,000 usec | 84,842 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              |  total  | 217,538,612  | -216,433,494 (-99.4920%) | 45,873 usec |  900 usec  | 84,842 usec |
              +---------+--------------+--------------------------+-------------+------------+-------------+
              

