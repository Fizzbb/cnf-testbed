2018-11-27 11:57:54,686 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-27 11:57:54,717 INFO EXT chain with OpenStack mode disabled
2018-11-27 11:57:54,718 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate ndr --flow-count 1024 --duration 30 --json /tmp/nfvbench/vsc_2c4n_ndr-1.json
2018-11-27 11:57:54,719 INFO Connecting to TRex (127.0.0.1)...
2018-11-27 11:57:54,854 INFO Connected to TRex
2018-11-27 11:57:54,854 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-27 11:57:54,854 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-27 11:57:54,855 INFO ChainRunner initialized
2018-11-27 11:57:54,856 INFO Starting 2xEXT benchmark...
2018-11-27 11:57:54,961 INFO Polling ARP until successful...
2018-11-27 11:57:55,170 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-27 11:57:55,170 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-27 11:57:55,170 INFO ARP resolved successfully for port 0
2018-11-27 11:57:55,378 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-27 11:57:55,379 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-27 11:57:55,379 INFO ARP resolved successfully for port 1
2018-11-27 11:57:55,480 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa']
2018-11-27 11:57:55,480 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb']
2018-11-27 11:57:55,480 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-27 11:57:55,493 INFO Created 2 traffic streams for port 0.
2018-11-27 11:57:55,495 INFO Created 2 traffic streams for port 1.
2018-11-27 11:57:55,604 INFO Captured unique src mac 0/4, capturing return packets (retry 1/100)...
2018-11-27 11:57:57,778 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-27 11:57:57,778 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-27 11:57:57,779 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-27 11:57:57,779 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-27 11:57:57,779 INFO End-to-end connectivity established
2018-11-27 11:57:57,797 INFO Cleared all existing streams
2018-11-27 11:57:57,812 INFO Created 4 traffic streams for port 0.
2018-11-27 11:57:57,815 INFO Created 4 traffic streams for port 1.
2018-11-27 11:57:57,815 INFO *** Searching NDR for 64 (Bidirectional)...
2018-11-27 11:57:57,815 INFO Range search [0.0 .. 200.0] targets: {'ndr': 0.001}
2018-11-27 11:57:57,815 INFO Modified traffic stream for port 0, new rate=100.0%.
2018-11-27 11:57:57,815 INFO Modified traffic stream for port 1, new rate=100.0%.
2018-11-27 11:57:57,815 INFO Running traffic generator


2018-11-27 11:58:04 - [local][warning]   - [1mCPU util. is high: 85.8%[22m
2018-11-27 11:58:07,840 INFO TX: 415018060; RX: 3496692; Est. Dropped: 411521368; Est. Drop rate: 99.1575%
2018-11-27 11:58:17,852 INFO TX: 834090553; RX: 6334494; Est. Dropped: 827756059; Est. Drop rate: 99.2406%
2018-11-27 11:58:27,852 INFO TX: 1252110460; RX: 9710767; Est. Dropped: 1242399693; Est. Drop rate: 99.2244%
2018-11-27 11:58:29,857 INFO WARNING: There is a significant difference between requested TX rate (74404760) and actual TX rate (41737015). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-27 11:58:29,857 INFO Average drop rate: 99.221933
2018-11-27 11:58:29,857 INFO Range search [0.0 .. 100.0] targets: {'ndr': 0.001}
2018-11-27 11:58:29,857 INFO Modified traffic stream for port 0, new rate=50.0%.
2018-11-27 11:58:29,857 INFO Modified traffic stream for port 1, new rate=50.0%.
2018-11-27 11:58:29,858 INFO Running traffic generator


2018-11-27 11:58:38 - [local][warning]   - [1mCPU util. is high: 86.2%[22m
2018-11-27 11:58:39,882 INFO TX: 372386090; RX: 3301089; Est. Dropped: 369085001; Est. Drop rate: 99.1135%
2018-11-27 11:58:49,895 INFO TX: 744872969; RX: 6332578; Est. Dropped: 738540391; Est. Drop rate: 99.1498%
2018-11-27 11:58:59,886 INFO TX: 1116040988; RX: 9385031; Est. Dropped: 1106655957; Est. Drop rate: 99.1591%
2018-11-27 11:59:01,892 INFO Average drop rate: 99.156234
2018-11-27 11:59:01,892 INFO Range search [0.0 .. 50.0] targets: {'ndr': 0.001}
2018-11-27 11:59:01,892 INFO Modified traffic stream for port 0, new rate=25.0%.
2018-11-27 11:59:01,892 INFO Modified traffic stream for port 1, new rate=25.0%.
2018-11-27 11:59:01,892 INFO Running traffic generator
2018-11-27 11:59:11,916 INFO TX: 186193304; RX: 3230767; Est. Dropped: 182962537; Est. Drop rate: 98.2648%
2018-11-27 11:59:21,929 INFO TX: 372457113; RX: 6194178; Est. Dropped: 366262935; Est. Drop rate: 98.3369%
2018-11-27 11:59:31,922 INFO TX: 558037352; RX: 9581722; Est. Dropped: 548455630; Est. Drop rate: 98.2830%
2018-11-27 11:59:33,928 INFO Average drop rate: 98.277318
2018-11-27 11:59:33,928 INFO Range search [0.0 .. 25.0] targets: {'ndr': 0.001}
2018-11-27 11:59:33,929 INFO Modified traffic stream for port 0, new rate=12.5%.
2018-11-27 11:59:33,929 INFO Modified traffic stream for port 1, new rate=12.5%.
2018-11-27 11:59:33,929 INFO Running traffic generator
2018-11-27 11:59:43,949 INFO TX: 93070502; RX: 3048923; Est. Dropped: 90021579; Est. Drop rate: 96.7241%
2018-11-27 11:59:53,964 INFO TX: 186209262; RX: 6117457; Est. Dropped: 180091805; Est. Drop rate: 96.7147%
2018-11-27 12:00:03,961 INFO TX: 279019376; RX: 9025359; Est. Dropped: 269994017; Est. Drop rate: 96.7653%
2018-11-27 12:00:05,967 INFO Average drop rate: 96.765054
2018-11-27 12:00:05,967 INFO Range search [0.0 .. 12.5] targets: {'ndr': 0.001}
2018-11-27 12:00:05,967 INFO Modified traffic stream for port 0, new rate=6.25%.
2018-11-27 12:00:05,967 INFO Modified traffic stream for port 1, new rate=6.25%.
2018-11-27 12:00:05,967 INFO Running traffic generator
2018-11-27 12:00:15,991 INFO TX: 46546254; RX: 3340439; Est. Dropped: 43205815; Est. Drop rate: 92.8234%
2018-11-27 12:00:26,005 INFO TX: 93110982; RX: 6222759; Est. Dropped: 86888223; Est. Drop rate: 93.3168%
2018-11-27 12:00:35,995 INFO TX: 139509080; RX: 9559592; Est. Dropped: 129949488; Est. Drop rate: 93.1477%
2018-11-27 12:00:38,001 INFO Average drop rate: 93.124938
2018-11-27 12:00:38,001 INFO Range search [0.0 .. 6.25] targets: {'ndr': 0.001}
2018-11-27 12:00:38,001 INFO Modified traffic stream for port 0, new rate=3.125%.
2018-11-27 12:00:38,001 INFO Modified traffic stream for port 1, new rate=3.125%.
2018-11-27 12:00:38,001 INFO Running traffic generator
2018-11-27 12:00:48,025 INFO TX: 23272800; RX: 3461969; Est. Dropped: 19810831; Est. Drop rate: 85.1244%
2018-11-27 12:00:58,041 INFO TX: 46557686; RX: 6394027; Est. Dropped: 40163659; Est. Drop rate: 86.2664%
2018-11-27 12:01:08,034 INFO TX: 69754344; RX: 9163802; Est. Dropped: 60590542; Est. Drop rate: 86.8628%
2018-11-27 12:01:10,040 INFO Average drop rate: 86.819420
2018-11-27 12:01:10,040 INFO Range search [0.0 .. 3.125] targets: {'ndr': 0.001}
2018-11-27 12:01:10,040 INFO Modified traffic stream for port 0, new rate=1.5625%.
2018-11-27 12:01:10,040 INFO Modified traffic stream for port 1, new rate=1.5625%.
2018-11-27 12:01:10,040 INFO Running traffic generator
2018-11-27 12:01:20,067 INFO TX: 11631366; RX: 2072975; Est. Dropped: 9558391; Est. Drop rate: 82.1777%
2018-11-27 12:01:30,081 INFO TX: 23272428; RX: 4466426; Est. Dropped: 18806002; Est. Drop rate: 80.8081%
2018-11-27 12:01:40,078 INFO TX: 34877216; RX: 7053523; Est. Dropped: 27823693; Est. Drop rate: 79.7761%
2018-11-27 12:01:42,084 INFO Average drop rate: 79.692252
2018-11-27 12:01:42,084 INFO Range search [0.0 .. 1.5625] targets: {'ndr': 0.001}
2018-11-27 12:01:42,084 INFO Modified traffic stream for port 0, new rate=0.78125%.
2018-11-27 12:01:42,084 INFO Modified traffic stream for port 1, new rate=0.78125%.
2018-11-27 12:01:42,084 INFO Running traffic generator
2018-11-27 12:01:52,110 INFO TX: 5818386; RX: 1820019; Est. Dropped: 3998367; Est. Drop rate: 68.7195%
2018-11-27 12:02:02,124 INFO TX: 11638880; RX: 3436292; Est. Dropped: 8202588; Est. Drop rate: 70.4758%
2018-11-27 12:02:12,118 INFO TX: 17438632; RX: 5411394; Est. Dropped: 12027238; Est. Drop rate: 68.9689%
2018-11-27 12:02:14,124 INFO Average drop rate: 68.829470
2018-11-27 12:02:14,124 INFO Range search [0.0 .. 0.78125] targets: {'ndr': 0.001}
2018-11-27 12:02:14,124 INFO Modified traffic stream for port 0, new rate=0.390625%.
2018-11-27 12:02:14,124 INFO Modified traffic stream for port 1, new rate=0.390625%.
2018-11-27 12:02:14,124 INFO Running traffic generator
2018-11-27 12:02:24,142 INFO TX: 2907830; RX: 1398689; Est. Dropped: 1509141; Est. Drop rate: 51.8992%
2018-11-27 12:02:34,155 INFO TX: 5817922; RX: 2641357; Est. Dropped: 3176565; Est. Drop rate: 54.5996%
2018-11-27 12:02:44,155 INFO TX: 8719312; RX: 4074777; Est. Dropped: 4644535; Est. Drop rate: 53.2672%
2018-11-27 12:02:46,160 INFO Average drop rate: 53.148689
2018-11-27 12:02:46,161 INFO Range search [0.0 .. 0.390625] targets: {'ndr': 0.001}
2018-11-27 12:02:46,161 INFO Modified traffic stream for port 0, new rate=0.1953125%.
2018-11-27 12:02:46,161 INFO Modified traffic stream for port 1, new rate=0.1953125%.
2018-11-27 12:02:46,161 INFO Running traffic generator
2018-11-27 12:02:56,188 INFO TX: 1454262; RX: 1133332; Est. Dropped: 320930; Est. Drop rate: 22.0682%
2018-11-27 12:03:06,202 INFO TX: 2909370; RX: 2177327; Est. Dropped: 732043; Est. Drop rate: 25.1616%
2018-11-27 12:03:16,204 INFO TX: 4359660; RX: 3263925; Est. Dropped: 1095735; Est. Drop rate: 25.1335%
2018-11-27 12:03:18,210 INFO Average drop rate: 24.847580
2018-11-27 12:03:18,210 INFO Range search [0.0 .. 0.1953125] targets: {'ndr': 0.001}
2018-11-27 12:03:18,211 INFO Modified traffic stream for port 0, new rate=0.09765625%.
2018-11-27 12:03:18,211 INFO Modified traffic stream for port 1, new rate=0.09765625%.
2018-11-27 12:03:18,211 INFO Running traffic generator
2018-11-27 12:03:28,235 INFO TX: 727202; RX: 851314; Est. Dropped: -124112; Est. Drop rate: -17.0671%
2018-11-27 12:03:38,251 INFO TX: 1454960; RX: 1878529; Est. Dropped: -423569; Est. Drop rate: -29.1121%
2018-11-27 12:03:48,247 INFO TX: 2179832; RX: 2879025; Est. Dropped: -699193; Est. Drop rate: -32.0755%
2018-11-27 12:03:50,254 INFO Average drop rate: -33.054199
2018-11-27 12:03:50,255 INFO Range search [0.09765625 .. 0.1953125] targets: {'ndr': 0.001}
2018-11-27 12:03:50,255 INFO Found ndr (0.001) load: 0.09765625
2018-11-27 12:03:50,255 INFO NDR load: 0.1953125
2018-11-27 12:03:50,255 INFO Service chain 'EXT' run completed.
2018-11-27 12:03:50,255 INFO Clean up skipped.
2018-11-27 12:03:50,293 INFO Saving results in json file: /tmp/nfvbench/vsc_2c4n_ndr-1.json...
2018-11-27 12:03:50,296 INFO 
========== NFVBench Summary ==========
Date: 2018-11-27 11:57:54
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Measurement Parameters:
      NDR: 0.001
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_64B
          Bidirectional: True
          Flow count: 1024
          Service chains count: 2
          Compute nodes: []
            
            Run Summary:
            
              +-----+-----------------+------------------+------------------+-----------------+----------------------+----------------------+----------------------+
              |  -  |   L2 Frame Size |  Rate (fwd+rev)  |  Rate (fwd+rev)  |  Avg Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=====+=================+==================+==================+=================+======================+======================+======================+
              | NDR |              64 |   48.8281 Mbps   |    72,660 pps    |    -33.0542%    |        26,531        |                   20 |       359,929        |
              +-----+-----------------+------------------+------------------+-----------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            NDR search duration: 352 seconds
            

