2018-11-29 08:55:44,018 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-29 08:55:44,052 INFO EXT chain with OpenStack mode disabled
2018-11-29 08:55:44,052 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/vsc_8c1n_18500000pps-1.json
2018-11-29 08:55:44,054 INFO Connecting to TRex (127.0.0.1)...
2018-11-29 08:55:44,191 INFO Connected to TRex
2018-11-29 08:55:44,191 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-29 08:55:44,191 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-29 08:55:44,193 INFO ChainRunner initialized
2018-11-29 08:55:44,194 INFO Starting 8xEXT benchmark...
2018-11-29 08:55:44,299 INFO Polling ARP until successful...
2018-11-29 08:55:44,514 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-29 08:55:44,514 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-29 08:55:44,514 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-29 08:55:44,514 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-29 08:55:44,514 INFO    ARP: port=0 chain=4 src IP=172.16.10.104 dst IP=172.16.10.14 -> MAC=52:54:04:00:00:aa
2018-11-29 08:55:44,514 INFO    ARP: port=0 chain=5 src IP=172.16.10.105 dst IP=172.16.10.15 -> MAC=52:54:05:00:00:aa
2018-11-29 08:55:44,514 INFO    ARP: port=0 chain=6 src IP=172.16.10.106 dst IP=172.16.10.16 -> MAC=52:54:06:00:00:aa
2018-11-29 08:55:44,514 INFO    ARP: port=0 chain=7 src IP=172.16.10.107 dst IP=172.16.10.17 -> MAC=52:54:07:00:00:aa
2018-11-29 08:55:44,514 INFO ARP resolved successfully for port 0
2018-11-29 08:55:44,729 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-29 08:55:44,729 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-29 08:55:44,729 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-29 08:55:44,729 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-29 08:55:44,730 INFO    ARP: port=1 chain=4 src IP=172.16.20.104 dst IP=172.16.20.14 -> MAC=52:54:04:00:00:bb
2018-11-29 08:55:44,730 INFO    ARP: port=1 chain=5 src IP=172.16.20.105 dst IP=172.16.20.15 -> MAC=52:54:05:00:00:bb
2018-11-29 08:55:44,730 INFO    ARP: port=1 chain=6 src IP=172.16.20.106 dst IP=172.16.20.16 -> MAC=52:54:06:00:00:bb
2018-11-29 08:55:44,730 INFO    ARP: port=1 chain=7 src IP=172.16.20.107 dst IP=172.16.20.17 -> MAC=52:54:07:00:00:bb
2018-11-29 08:55:44,730 INFO ARP resolved successfully for port 1
2018-11-29 08:55:44,836 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa', '52:54:04:00:00:aa', '52:54:05:00:00:aa', '52:54:06:00:00:aa', '52:54:07:00:00:aa']
2018-11-29 08:55:44,837 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb', '52:54:04:00:00:bb', '52:54:05:00:00:bb', '52:54:06:00:00:bb', '52:54:07:00:00:bb']
2018-11-29 08:55:44,837 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-29 08:55:44,883 INFO Created 8 traffic streams for port 0.
2018-11-29 08:55:44,888 INFO Created 8 traffic streams for port 1.
2018-11-29 08:55:45,002 INFO Captured unique src mac 0/16, capturing return packets (retry 1/100)...
2018-11-29 08:55:47,125 INFO Received packet from mac: 52:54:07:00:00:bb (chain=7, port=1)
2018-11-29 08:55:47,126 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-29 08:55:47,126 INFO Received packet from mac: 52:54:06:00:00:aa (chain=6, port=0)
2018-11-29 08:55:47,126 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-29 08:55:47,126 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-29 08:55:47,126 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-29 08:55:47,126 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-29 08:55:47,126 INFO Received packet from mac: 52:54:05:00:00:bb (chain=5, port=1)
2018-11-29 08:55:47,126 INFO Received packet from mac: 52:54:07:00:00:aa (chain=7, port=0)
2018-11-29 08:55:47,126 INFO Received packet from mac: 52:54:05:00:00:aa (chain=5, port=0)
2018-11-29 08:55:47,126 INFO Received packet from mac: 52:54:04:00:00:bb (chain=4, port=1)
2018-11-29 08:55:47,126 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-29 08:55:47,126 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-29 08:55:47,126 INFO Received packet from mac: 52:54:06:00:00:bb (chain=6, port=1)
2018-11-29 08:55:47,126 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-29 08:55:47,126 INFO Received packet from mac: 52:54:04:00:00:aa (chain=4, port=0)
2018-11-29 08:55:47,126 INFO End-to-end connectivity established
2018-11-29 08:55:47,146 INFO Cleared all existing streams
2018-11-29 08:55:47,204 INFO Created 16 traffic streams for port 0.
2018-11-29 08:55:47,213 INFO Created 16 traffic streams for port 1.
2018-11-29 08:55:47,213 INFO Starting to generate traffic...
2018-11-29 08:55:47,213 INFO Running traffic generator
2018-11-29 08:55:57,249 INFO TX: 185204962; RX: 13612757; Est. Dropped: 171592205; Est. Drop rate: 92.6499%
2018-11-29 08:56:07,268 INFO TX: 370566616; RX: 27249068; Est. Dropped: 343317548; Est. Drop rate: 92.6466%
2018-11-29 08:56:17,258 INFO TX: 554999408; RX: 40806694; Est. Dropped: 514192714; Est. Drop rate: 92.6474%
2018-11-29 08:56:17,258 INFO ...traffic generating ended.
2018-11-29 08:56:17,285 INFO Cleared all existing streams
2018-11-29 08:56:17,465 INFO Created 32 traffic streams for port 0.
2018-11-29 08:56:17,484 INFO Created 32 traffic streams for port 1.
2018-11-29 08:56:17,485 INFO Starting to generate traffic...
2018-11-29 08:56:17,485 INFO Running traffic generator


2018-11-29 08:56:22 - [local][warning]   - [1mCPU util. is high: 85.3%[22m
2018-11-29 08:56:27,518 INFO TX: 145354716; RX: 11485365; Est. Dropped: 133869351; Est. Drop rate: 92.0984%
2018-11-29 08:56:37,537 INFO TX: 290800501; RX: 22975639; Est. Dropped: 267824862; Est. Drop rate: 92.0992%
2018-11-29 08:56:47,533 INFO TX: 435740440; RX: 34427486; Est. Dropped: 401312954; Est. Drop rate: 92.0991%
2018-11-29 08:56:47,533 INFO ...traffic generating ended.
2018-11-29 08:56:47,543 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14524681). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-29 08:56:47,543 INFO Service chain 'EXT' run completed.
2018-11-29 08:56:47,544 INFO Clean up skipped.
2018-11-29 08:56:47,575 INFO Saving results in json file: /tmp/nfvbench/vsc_8c1n_18500000pps-1.json...
2018-11-29 08:56:47,592 INFO 
========== NFVBench Summary ==========
Date: 2018-11-29 08:55:44
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 8
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  92.6474%   |         311          |                  100 |        26,578        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  92.0991%   |        3,357         |                   60 |        44,219        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |  456.9842 Mbps  |       9,250,000 pps       |     9,249,990 pps      |   680,035 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |  457.0858 Mbps  |       9,250,000 pps       |     9,249,990 pps      |   680,187 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |  914.0699 Mbps  |      18,500,000 pps       |     18,499,980 pps     |  1,360,222 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+============+============+=============+
              |    0    |  34,687,463  | -32,139,489 (-92.6545%)  |  313 usec  |  200 usec  | 17,637 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    1    |  34,687,463  | -32,136,739 (-92.6466%)  |  311 usec  |  200 usec  | 21,678 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    2    |  34,687,463  | -32,134,468 (-92.6400%)  |  312 usec  |  200 usec  | 5,621 usec  |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    3    |  34,687,463  | -32,143,665 (-92.6665%)  |  318 usec  |  100 usec  |  367 usec   |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    4    |  34,687,463  | -32,126,818 (-92.6180%)  |  314 usec  |  200 usec  | 13,664 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    5    |  34,687,463  | -32,123,427 (-92.6082%)  |  301 usec  |  200 usec  | 9,630 usec  |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    6    |  34,687,463  | -32,142,291 (-92.6626%)  |  305 usec  |  200 usec  | 25,645 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    7    |  34,687,463  | -32,151,472 (-92.6890%)  |  310 usec  |  200 usec  | 1,621 usec  |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  total  | 277,499,704  | -257,098,369 (-92.6482%) |  311 usec  |  100 usec  | 25,645 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+============+============+=============+
              |    0    |  34,687,463  | -32,127,184 (-92.6190%)  |  317 usec  |  200 usec  | 2,514 usec  |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    1    |  34,687,463  | -32,132,588 (-92.6346%)  |  317 usec  |  200 usec  | 10,548 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    2    |  34,687,463  | -32,128,183 (-92.6219%)  |  310 usec  |  100 usec  |  368 usec   |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    3    |  34,687,463  | -32,142,604 (-92.6635%)  |  313 usec  |  200 usec  | 18,585 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    4    |  34,687,463  | -32,143,470 (-92.6660%)  |  315 usec  |  200 usec  | 26,578 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    5    |  34,687,463  | -32,136,189 (-92.6450%)  |  307 usec  |  200 usec  | 14,527 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    6    |  34,687,463  | -32,138,081 (-92.6504%)  |  311 usec  |  200 usec  | 22,581 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    7    |  34,687,463  | -32,145,278 (-92.6712%)  |  314 usec  |  200 usec  | 6,521 usec  |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  total  | 277,499,704  | -257,093,577 (-92.6464%) |  313 usec  |  100 usec  | 26,578 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      22.1838 Gbps      |   1.7537 Gbps   |       9,250,000 pps       |     7,262,252 pps      |   574,090 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      22.1843 Gbps      |   1.7518 Gbps   |       9,250,000 pps       |     7,262,428 pps      |   573,492 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      44.3681 Gbps      |   3.5055 Gbps   |      18,500,000 pps       |     14,524,680 pps     |  1,147,582 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14524681). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+============+============+=============+
              |    0    |  27,233,448  | -25,064,630 (-92.0362%)  | 1,871 usec |  200 usec  | 36,310 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    1    |  27,233,448  | -25,108,963 (-92.1990%)  | 5,539 usec |  200 usec  | 32,376 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    2    |  27,233,448  | -25,055,957 (-92.0044%)  | 4,180 usec |  200 usec  | 32,317 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    3    |  27,233,448  | -25,101,903 (-92.1731%)  | 3,603 usec |  200 usec  | 32,559 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    4    |  27,233,448  | -25,094,734 (-92.1467%)  | 1,993 usec |  200 usec  | 32,433 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    5    |  27,233,448  | -25,048,625 (-91.9774%)  | 3,652 usec |  200 usec  | 28,558 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    6    |  27,233,448  | -25,107,008 (-92.1918%)  | 3,462 usec |  200 usec  | 32,455 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    7    |  27,233,448  | -25,062,291 (-92.0276%)  | 3,232 usec |  60 usec   | 32,553 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  total  | 217,867,584  | -200,644,111 (-92.0945%) | 3,442 usec |  60 usec   | 36,310 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+============+============+=============+
              |    0    |  27,234,107  | -25,059,594 (-92.0155%)  | 2,865 usec |  200 usec  | 36,529 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    1    |  27,234,107  | -25,111,645 (-92.2066%)  | 2,022 usec |  200 usec  | 44,219 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    2    |  27,234,107  | -25,053,398 (-91.9927%)  | 4,376 usec |  200 usec  | 28,590 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    3    |  27,234,107  | -25,106,936 (-92.1893%)  | 2,925 usec |  200 usec  | 32,580 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    4    |  27,234,107  | -25,112,356 (-92.2092%)  | 3,373 usec |  100 usec  | 32,369 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    5    |  27,234,107  | -25,058,012 (-92.0097%)  | 3,100 usec |  200 usec  | 32,240 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    6    |  27,234,107  | -25,108,624 (-92.1955%)  | 3,224 usec |  200 usec  | 32,375 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    7    |  27,234,107  | -25,056,709 (-92.0049%)  | 4,308 usec |  200 usec  | 32,509 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  total  | 217,872,856  | -200,667,274 (-92.1029%) | 3,274 usec |  100 usec  | 44,219 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              

