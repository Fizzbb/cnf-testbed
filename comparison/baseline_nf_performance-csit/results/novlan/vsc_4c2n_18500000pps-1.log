2018-11-28 13:56:48,648 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-28 13:56:48,682 INFO EXT chain with OpenStack mode disabled
2018-11-28 13:56:48,682 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/vsc_4c2n_18500000pps-1.json
2018-11-28 13:56:48,684 INFO Connecting to TRex (127.0.0.1)...
2018-11-28 13:56:48,819 INFO Connected to TRex
2018-11-28 13:56:48,819 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-28 13:56:48,819 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-28 13:56:48,820 INFO ChainRunner initialized
2018-11-28 13:56:48,821 INFO Starting 4xEXT benchmark...
2018-11-28 13:56:48,926 INFO Polling ARP until successful...
2018-11-28 13:56:49,137 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-28 13:56:49,137 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-28 13:56:49,137 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-28 13:56:49,137 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-28 13:56:49,137 INFO ARP resolved successfully for port 0
2018-11-28 13:56:49,348 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-28 13:56:49,348 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-28 13:56:49,348 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-28 13:56:49,348 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-28 13:56:49,348 INFO ARP resolved successfully for port 1
2018-11-28 13:56:49,450 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa']
2018-11-28 13:56:49,450 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb']
2018-11-28 13:56:49,450 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-28 13:56:49,474 INFO Created 4 traffic streams for port 0.
2018-11-28 13:56:49,477 INFO Created 4 traffic streams for port 1.
2018-11-28 13:56:49,587 INFO Captured unique src mac 0/8, capturing return packets (retry 1/100)...
2018-11-28 13:56:51,762 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-28 13:56:51,764 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-28 13:56:51,765 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-28 13:56:51,876 INFO Captured unique src mac 3/8, capturing return packets (retry 2/100)...
2018-11-28 13:56:54,051 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-28 13:56:54,166 INFO Captured unique src mac 4/8, capturing return packets (retry 3/100)...
2018-11-28 13:56:56,455 INFO Captured unique src mac 4/8, capturing return packets (retry 4/100)...
2018-11-28 13:56:58,744 INFO Captured unique src mac 4/8, capturing return packets (retry 5/100)...
2018-11-28 13:57:01,033 INFO Captured unique src mac 4/8, capturing return packets (retry 6/100)...
2018-11-28 13:57:03,328 INFO Captured unique src mac 4/8, capturing return packets (retry 7/100)...
2018-11-28 13:57:05,622 INFO Captured unique src mac 4/8, capturing return packets (retry 8/100)...
2018-11-28 13:57:07,911 INFO Captured unique src mac 4/8, capturing return packets (retry 9/100)...
2018-11-28 13:57:10,087 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-28 13:57:10,089 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-28 13:57:10,091 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-28 13:57:10,201 INFO Captured unique src mac 7/8, capturing return packets (retry 10/100)...
2018-11-28 13:57:12,491 INFO Captured unique src mac 7/8, capturing return packets (retry 11/100)...
2018-11-28 13:57:14,669 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-28 13:57:14,669 INFO End-to-end connectivity established
2018-11-28 13:57:14,687 INFO Cleared all existing streams
2018-11-28 13:57:14,717 INFO Created 8 traffic streams for port 0.
2018-11-28 13:57:14,722 INFO Created 8 traffic streams for port 1.
2018-11-28 13:57:14,722 INFO Starting to generate traffic...
2018-11-28 13:57:14,722 INFO Running traffic generator
2018-11-28 13:57:24,742 INFO TX: 185083385; RX: 7714764; Est. Dropped: 177368621; Est. Drop rate: 95.8317%
2018-11-28 13:57:34,756 INFO TX: 370337620; RX: 14776919; Est. Dropped: 355560701; Est. Drop rate: 96.0099%
2018-11-28 13:57:44,755 INFO TX: 554999888; RX: 21506852; Est. Dropped: 533493036; Est. Drop rate: 96.1249%
2018-11-28 13:57:44,755 INFO ...traffic generating ended.
2018-11-28 13:57:44,780 INFO Cleared all existing streams
2018-11-28 13:57:44,872 INFO Created 16 traffic streams for port 0.
2018-11-28 13:57:44,881 INFO Created 16 traffic streams for port 1.
2018-11-28 13:57:44,882 INFO Starting to generate traffic...
2018-11-28 13:57:44,882 INFO Running traffic generator


2018-11-28 13:57:50 - [local][warning]   - [1mCPU util. is high: 88.2%[22m
2018-11-28 13:57:54,905 INFO TX: 144999261; RX: 5643794; Est. Dropped: 139355467; Est. Drop rate: 96.1077%
2018-11-28 13:58:04,919 INFO TX: 290105804; RX: 10201570; Est. Dropped: 279904234; Est. Drop rate: 96.4835%
2018-11-28 13:58:14,913 INFO TX: 434670535; RX: 15417215; Est. Dropped: 419253320; Est. Drop rate: 96.4531%
2018-11-28 13:58:14,913 INFO ...traffic generating ended.
2018-11-28 13:58:14,920 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14489017). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-28 13:58:14,920 INFO Service chain 'EXT' run completed.
2018-11-28 13:58:14,920 INFO Clean up skipped.
2018-11-28 13:58:14,949 INFO Saving results in json file: /tmp/nfvbench/vsc_4c2n_18500000pps-1.json...
2018-11-28 13:58:14,962 INFO 
========== NFVBench Summary ==========
Date: 2018-11-28 13:56:48
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 4
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  96.1249%   |        4,975         |                  100 |       346,295        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  96.4531%   |        4,659         |                  200 |       126,746        |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |  321.1040 Mbps  |       9,250,000 pps       |     9,249,998 pps      |   477,833 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |  160.6495 Mbps  |       9,250,000 pps       |     9,249,998 pps      |   239,061 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |  481.7535 Mbps  |      18,500,000 pps       |     18,499,996 pps     |   716,894 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+-------------+------------+--------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.   |  Min lat.  |   Max lat.   |
              +=========+==============+==========================+=============+============+==============+
              |    0    |  69,374,986  | -65,370,675 (-94.2280%)  | 9,143 usec  |  100 usec  | 97,323 usec  |
              +---------+--------------+--------------------------+-------------+------------+--------------+
              |    1    |  69,374,986  | -67,396,414 (-97.1480%)  | 8,761 usec  |  400 usec  | 78,175 usec  |
              +---------+--------------+--------------------------+-------------+------------+--------------+
              |    2    |  69,374,986  | -65,155,766 (-93.9182%)  | 12,167 usec |  800 usec  | 346,295 usec |
              +---------+--------------+--------------------------+-------------+------------+--------------+
              |    3    |  69,374,986  | -65,242,334 (-94.0430%)  | 6,815 usec  |  800 usec  | 97,567 usec  |
              +---------+--------------+--------------------------+-------------+------------+--------------+
              |  total  | 277,499,944  | -263,165,189 (-94.8343%) | 9,222 usec  |  100 usec  | 346,295 usec |
              +---------+--------------+--------------------------+-------------+------------+--------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+============+============+=============+
              |    0    |  69,374,986  | -67,444,741 (-97.2177%)  | 3,646 usec |  400 usec  | 56,562 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    1    |  69,374,986  | -67,761,241 (-97.6739%)  | 3,181 usec |  400 usec  | 60,513 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    2    |  69,374,986  | -68,002,020 (-98.0209%)  | 1,127 usec |  400 usec  | 56,631 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    3    |  69,374,986  | -67,120,252 (-96.7499%)  | 3,458 usec |  400 usec  | 56,566 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  total  | 277,499,944  | -270,328,254 (-97.4156%) | 2,853 usec |  400 usec  | 60,513 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      22.1300 Gbps      |   1.0431 Gbps   |       9,250,000 pps       |     7,244,660 pps      |   341,479 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      22.1291 Gbps      |  526.7098 Mbps  |       9,250,000 pps       |     7,244,357 pps      |   172,427 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      44.2591 Gbps      |   1.5698 Gbps   |      18,500,000 pps       |     14,489,017 pps     |   513,906 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14489017). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+-------------+------------+--------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.   |  Min lat.  |   Max lat.   |
              +=========+==============+==========================+=============+============+==============+
              |    0    |  54,334,950  | -51,492,164 (-94.7680%)  | 16,727 usec | 1,000 usec | 77,546 usec  |
              +---------+--------------+--------------------------+-------------+------------+--------------+
              |    1    |  54,334,951  | -53,002,504 (-97.5477%)  | 3,763 usec  |  500 usec  | 49,485 usec  |
              +---------+--------------+--------------------------+-------------+------------+--------------+
              |    2    |  54,334,951  | -51,244,393 (-94.3120%)  | 11,208 usec | 1,000 usec | 126,746 usec |
              +---------+--------------+--------------------------+-------------+------------+--------------+
              |    3    |  54,334,951  | -51,356,365 (-94.5181%)  | 7,857 usec  |  300 usec  | 93,903 usec  |
              +---------+--------------+--------------------------+-------------+------------+--------------+
              |  total  | 217,339,803  | -207,095,426 (-95.2865%) | 9,889 usec  |  300 usec  | 126,746 usec |
              +---------+--------------+--------------------------+-------------+------------+--------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.   |
              +=========+==============+==========================+============+============+=============+
              |    0    |  54,332,683  | -53,325,621 (-98.1465%)  | 2,180 usec |  500 usec  | 48,703 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    1    |  54,332,683  | -52,866,231 (-97.3010%)  | 1,576 usec |  500 usec  | 64,754 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    2    |  54,332,683  | -52,822,290 (-97.2201%)  | 1,816 usec |  500 usec  | 48,661 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |    3    |  54,332,683  | -53,143,753 (-97.8118%)  | 2,509 usec |  200 usec  | 48,695 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              |  total  | 217,330,732  | -212,157,895 (-97.6198%) | 2,020 usec |  200 usec  | 64,754 usec |
              +---------+--------------+--------------------------+------------+------------+-------------+
              

