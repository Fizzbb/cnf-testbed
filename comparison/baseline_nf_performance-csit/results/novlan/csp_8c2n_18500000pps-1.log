2018-11-28 11:15:28,687 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-28 11:15:28,721 INFO EXT chain with OpenStack mode disabled
2018-11-28 11:15:28,721 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csp_8c2n_18500000pps-1.json
2018-11-28 11:15:28,723 INFO Connecting to TRex (127.0.0.1)...
2018-11-28 11:15:28,863 INFO Connected to TRex
2018-11-28 11:15:28,863 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-28 11:15:28,863 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-28 11:15:28,864 INFO ChainRunner initialized
2018-11-28 11:15:28,865 INFO Starting 8xEXT benchmark...
2018-11-28 11:15:28,970 INFO Polling ARP until successful...
2018-11-28 11:15:29,119 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-28 11:15:29,119 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-28 11:15:29,119 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-28 11:15:29,119 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-28 11:15:29,119 INFO    ARP: port=0 chain=4 src IP=172.16.10.104 dst IP=172.16.10.14 -> MAC=52:54:04:00:00:aa
2018-11-28 11:15:29,120 INFO    ARP: port=0 chain=5 src IP=172.16.10.105 dst IP=172.16.10.15 -> MAC=52:54:05:00:00:aa
2018-11-28 11:15:29,120 INFO    ARP: port=0 chain=6 src IP=172.16.10.106 dst IP=172.16.10.16 -> MAC=52:54:06:00:00:aa
2018-11-28 11:15:29,120 INFO    ARP: port=0 chain=7 src IP=172.16.10.107 dst IP=172.16.10.17 -> MAC=52:54:07:00:00:aa
2018-11-28 11:15:29,120 INFO ARP resolved successfully for port 0
2018-11-28 11:15:29,268 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-28 11:15:29,268 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-28 11:15:29,268 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-28 11:15:29,268 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-28 11:15:29,268 INFO    ARP: port=1 chain=4 src IP=172.16.20.104 dst IP=172.16.20.14 -> MAC=52:54:04:00:00:bb
2018-11-28 11:15:29,268 INFO    ARP: port=1 chain=5 src IP=172.16.20.105 dst IP=172.16.20.15 -> MAC=52:54:05:00:00:bb
2018-11-28 11:15:29,268 INFO    ARP: port=1 chain=6 src IP=172.16.20.106 dst IP=172.16.20.16 -> MAC=52:54:06:00:00:bb
2018-11-28 11:15:29,268 INFO    ARP: port=1 chain=7 src IP=172.16.20.107 dst IP=172.16.20.17 -> MAC=52:54:07:00:00:bb
2018-11-28 11:15:29,268 INFO ARP resolved successfully for port 1
2018-11-28 11:15:29,370 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa', '52:54:04:00:00:aa', '52:54:05:00:00:aa', '52:54:06:00:00:aa', '52:54:07:00:00:aa']
2018-11-28 11:15:29,370 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb', '52:54:04:00:00:bb', '52:54:05:00:00:bb', '52:54:06:00:00:bb', '52:54:07:00:00:bb']
2018-11-28 11:15:29,370 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-28 11:15:29,423 INFO Created 8 traffic streams for port 0.
2018-11-28 11:15:29,428 INFO Created 8 traffic streams for port 1.
2018-11-28 11:15:29,543 INFO Captured unique src mac 0/16, capturing return packets (retry 1/100)...
2018-11-28 11:15:31,666 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-28 11:15:31,667 INFO Received packet from mac: 52:54:05:00:00:bb (chain=5, port=1)
2018-11-28 11:15:31,667 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-28 11:15:31,667 INFO Received packet from mac: 52:54:04:00:00:bb (chain=4, port=1)
2018-11-28 11:15:31,667 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-28 11:15:31,667 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-28 11:15:31,667 INFO Received packet from mac: 52:54:06:00:00:bb (chain=6, port=1)
2018-11-28 11:15:31,667 INFO Received packet from mac: 52:54:07:00:00:bb (chain=7, port=1)
2018-11-28 11:15:31,667 INFO Received packet from mac: 52:54:04:00:00:aa (chain=4, port=0)
2018-11-28 11:15:31,667 INFO Received packet from mac: 52:54:05:00:00:aa (chain=5, port=0)
2018-11-28 11:15:31,668 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-28 11:15:31,668 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-28 11:15:31,668 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-28 11:15:31,668 INFO Received packet from mac: 52:54:06:00:00:aa (chain=6, port=0)
2018-11-28 11:15:31,668 INFO Received packet from mac: 52:54:07:00:00:aa (chain=7, port=0)
2018-11-28 11:15:31,668 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-28 11:15:31,668 INFO End-to-end connectivity established
2018-11-28 11:15:31,687 INFO Cleared all existing streams
2018-11-28 11:15:31,746 INFO Created 16 traffic streams for port 0.
2018-11-28 11:15:31,755 INFO Created 16 traffic streams for port 1.
2018-11-28 11:15:31,755 INFO Starting to generate traffic...
2018-11-28 11:15:31,755 INFO Running traffic generator
2018-11-28 11:15:41,789 INFO TX: 185206528; RX: 51906616; Est. Dropped: 133299912; Est. Drop rate: 71.9737%
2018-11-28 11:15:51,809 INFO TX: 370567800; RX: 103859163; Est. Dropped: 266708637; Est. Drop rate: 71.9730%
2018-11-28 11:16:01,799 INFO TX: 554999984; RX: 155564670; Est. Dropped: 399435314; Est. Drop rate: 71.9703%
2018-11-28 11:16:01,800 INFO ...traffic generating ended.
2018-11-28 11:16:01,828 INFO Cleared all existing streams
2018-11-28 11:16:02,007 INFO Created 32 traffic streams for port 0.
2018-11-28 11:16:02,025 INFO Created 32 traffic streams for port 1.
2018-11-28 11:16:02,025 INFO Starting to generate traffic...
2018-11-28 11:16:02,026 INFO Running traffic generator


2018-11-28 11:16:07 - [local][warning]   - [1mCPU util. is high: 85.8%[22m
2018-11-28 11:16:12,060 INFO TX: 145044088; RX: 32261610; Est. Dropped: 112782478; Est. Drop rate: 77.7574%
2018-11-28 11:16:22,080 INFO TX: 290203493; RX: 64514650; Est. Dropped: 225688843; Est. Drop rate: 77.7692%
2018-11-28 11:16:32,073 INFO TX: 434832840; RX: 96633712; Est. Dropped: 338199128; Est. Drop rate: 77.7768%
2018-11-28 11:16:32,073 INFO ...traffic generating ended.
2018-11-28 11:16:32,083 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14494428). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-28 11:16:32,083 INFO Service chain 'EXT' run completed.
2018-11-28 11:16:32,083 INFO Clean up skipped.
2018-11-28 11:16:32,113 INFO Saving results in json file: /tmp/nfvbench/csp_8c2n_18500000pps-1.json...
2018-11-28 11:16:32,131 INFO
========== NFVBench Summary ==========
Date: 2018-11-28 11:15:28
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch:
  Encapsulation:
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 8
          Compute nodes: []

            Run Summary:

              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |   Avg Latency (usec) |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  71.9703%   |                  569 |                  100 |         705          |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  77.7768%   |                  895 |                   20 |        1,158         |
              +-----------------+-------------+----------------------+----------------------+----------------------+


            L2 frame size: 64

            Run Config:

              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.5120 Gbps        |      6.5120 Gbps       |   1.8239 Gbps   |       9,250,000 pps       |     9,249,999 pps      |  2,590,777 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.5120 Gbps        |      6.5120 Gbps       |   1.8267 Gbps   |       9,250,000 pps       |     9,249,999 pps      |  2,594,711 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       13.0240 Gbps        |      13.0240 Gbps      |   3.6506 Gbps   |      18,500,000 pps       |     18,499,998 pps     |  5,185,488 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+

            Forward Chain Packet Counters and Latency:

              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  34,687,499  | -24,972,101 (-71.9916%)  |  571 usec  |  100 usec  |  677 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  34,687,499  | -24,972,198 (-71.9919%)  |  571 usec  |  100 usec  |  677 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  34,687,499  | -24,971,919 (-71.9911%)  |  569 usec  |  100 usec  |  675 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  34,687,499  | -24,972,171 (-71.9918%)  |  571 usec  |  100 usec  |  682 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  34,687,499  | -24,971,659 (-71.9904%)  |  577 usec  |  100 usec  |  682 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  34,687,499  | -24,972,276 (-71.9921%)  |  557 usec  |  200 usec  |  705 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  34,687,499  | -24,972,466 (-71.9927%)  |  575 usec  |  100 usec  |  683 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  34,687,499  | -24,971,883 (-71.9910%)  |  579 usec  |  100 usec  |  672 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,992  | -199,776,673 (-71.9916%) |  571 usec  |  100 usec  |  705 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+

            Reverse Chain Packet Counters and Latency:

              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  34,687,499  | -24,957,047 (-71.9482%)  |  569 usec  |  100 usec  |  686 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  34,687,499  | -24,957,554 (-71.9497%)  |  572 usec  |  100 usec  |  680 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  34,687,499  | -24,957,313 (-71.9490%)  |  571 usec  |  100 usec  |  690 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  34,687,499  | -24,957,421 (-71.9493%)  |  573 usec  |  100 usec  |  692 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  34,687,499  | -24,957,361 (-71.9492%)  |  577 usec  |  100 usec  |  695 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  34,687,499  | -24,957,387 (-71.9492%)  |  541 usec  |  200 usec  |  693 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  34,687,499  | -24,957,388 (-71.9492%)  |  571 usec  |  100 usec  |  695 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  34,687,499  | -24,957,170 (-71.9486%)  |  577 usec  |  100 usec  |  691 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,992  | -199,658,641 (-71.9491%) |  569 usec  |  100 usec  |  695 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+


            L2 frame size: IMIX

            Run Config:

              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      22.1384 Gbps      |   4.7408 Gbps   |       9,250,000 pps       |     7,247,394 pps      |  1,551,978 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      22.1373 Gbps      |   5.0987 Gbps   |       9,250,000 pps       |     7,247,033 pps      |  1,669,145 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      44.2756 Gbps      |   9.8395 Gbps   |      18,500,000 pps       |     14,494,427 pps     |  3,221,123 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+

              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14494428). The traffic generator may not have sufficient CPU to achieve the requested TX rate.

            Forward Chain Packet Counters and Latency:

              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  27,177,729  | -21,357,861 (-78.5859%)  |  909 usec  |  70 usec   | 1,132 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  27,177,729  | -21,357,741 (-78.5855%)  |  910 usec  |  60 usec   | 1,129 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  27,177,729  | -21,357,893 (-78.5860%)  |  916 usec  |  20 usec   | 1,136 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  27,177,729  | -21,357,449 (-78.5844%)  |  912 usec  |  20 usec   | 1,147 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  27,177,729  | -21,358,867 (-78.5896%)  |  920 usec  |  20 usec   | 1,158 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  27,177,729  | -21,357,302 (-78.5838%)  |  858 usec  |  30 usec   | 1,122 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  27,177,729  | -21,357,637 (-78.5851%)  |  916 usec  |  60 usec   | 1,131 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  27,177,729  | -21,357,738 (-78.5854%)  |  919 usec  |  20 usec   | 1,131 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 217,421,832  | -170,862,488 (-78.5857%) |  908 usec  |  20 usec   | 1,158 usec |
              +---------+--------------+--------------------------+------------+------------+------------+

            Reverse Chain Packet Counters and Latency:

              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  27,176,376  | -20,917,665 (-76.9700%)  |  897 usec  |  400 usec  | 1,130 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  27,176,376  | -20,914,889 (-76.9598%)  |  892 usec  |  400 usec  | 1,106 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  27,176,376  | -20,915,009 (-76.9603%)  |  898 usec  |  400 usec  | 1,136 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  27,176,376  | -20,919,113 (-76.9754%)  |  899 usec  |  400 usec  | 1,105 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  27,176,376  | -20,917,571 (-76.9697%)  |  894 usec  |  400 usec  | 1,116 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  27,176,376  | -20,918,568 (-76.9734%)  |  813 usec  |  300 usec  | 1,073 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  27,176,376  | -20,917,497 (-76.9694%)  |  889 usec  |  400 usec  | 1,113 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  27,176,376  | -20,916,328 (-76.9651%)  |  896 usec  |  400 usec  | 1,115 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 217,411,008  | -167,336,640 (-76.9679%) |  885 usec  |  300 usec  | 1,136 usec |
              +---------+--------------+--------------------------+------------+------------+------------+


