2018-11-16 11:04:48,034 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-16 11:04:48,065 INFO EXT chain with OpenStack mode disabled
2018-11-16 11:04:48,065 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate ndr --flow-count 1024 --duration 30 --json /tmp/nfvbench/1csp_1_ndr-1.log
2018-11-16 11:04:48,066 INFO Connecting to TRex (127.0.0.1)...
2018-11-16 11:04:48,201 INFO Connected to TRex
2018-11-16 11:04:48,201 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-16 11:04:48,201 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-16 11:04:48,202 INFO Port 0: VLANs [1070]
2018-11-16 11:04:48,202 INFO Port 1: VLANs [1064]
2018-11-16 11:04:48,202 INFO ChainRunner initialized
2018-11-16 11:04:48,203 INFO Starting 1xEXT benchmark...
2018-11-16 11:04:48,307 INFO Polling ARP until successful...
2018-11-16 11:04:48,418 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-16 11:04:48,419 INFO ARP resolved successfully for port 0
2018-11-16 11:04:48,529 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-16 11:04:48,529 INFO ARP resolved successfully for port 1
2018-11-16 11:04:48,631 INFO Port 0: dst MAC ['52:54:00:00:00:aa']
2018-11-16 11:04:48,631 INFO Port 1: dst MAC ['52:54:00:00:00:bb']
2018-11-16 11:04:48,631 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-16 11:04:48,639 INFO Created 1 traffic streams for port 0.
2018-11-16 11:04:48,640 INFO Created 1 traffic streams for port 1.
2018-11-16 11:04:48,749 INFO Captured unique src mac 0/2, capturing return packets (retry 1/100)...
2018-11-16 11:04:50,870 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-16 11:04:50,870 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-16 11:04:50,870 INFO End-to-end connectivity established
2018-11-16 11:04:50,887 INFO Cleared all existing streams
2018-11-16 11:04:50,902 INFO Created 2 traffic streams for port 0.
2018-11-16 11:04:50,903 INFO Created 2 traffic streams for port 1.
2018-11-16 11:04:50,903 INFO *** Searching NDR for 64 (Bidirectional)...
2018-11-16 11:04:50,903 INFO Range search [0.0 .. 200.0] targets: {'ndr': 0.001}
2018-11-16 11:04:50,903 INFO Modified traffic stream for port 0, new rate=100.0%.
2018-11-16 11:04:50,904 INFO Modified traffic stream for port 1, new rate=100.0%.
2018-11-16 11:04:50,904 INFO Running traffic generator


2018-11-16 11:04:57 - [local][warning]   - [1mCPU util. is high: 88.1%[22m
2018-11-16 11:05:00,930 INFO TX: 412470592; RX: 52694676; Est. Dropped: 359775916; Est. Drop rate: 87.2246%
2018-11-16 11:05:10,938 INFO TX: 824421226; RX: 104476744; Est. Dropped: 719944482; Est. Drop rate: 87.3273%
2018-11-16 11:05:20,938 INFO TX: 1235797714; RX: 156144166; Est. Dropped: 1079653548; Est. Drop rate: 87.3649%
2018-11-16 11:05:22,944 INFO WARNING: There is a significant difference between requested TX rate (74404760) and actual TX rate (41193257). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-16 11:05:22,944 INFO Average drop rate: 87.364909
2018-11-16 11:05:22,944 INFO Range search [0.0 .. 100.0] targets: {'ndr': 0.001}
2018-11-16 11:05:22,944 INFO Modified traffic stream for port 0, new rate=50.0%.
2018-11-16 11:05:22,944 INFO Modified traffic stream for port 1, new rate=50.0%.
2018-11-16 11:05:22,944 INFO Running traffic generator
2018-11-16 11:05:32,966 INFO TX: 372385116; RX: 51438240; Est. Dropped: 320946876; Est. Drop rate: 86.1868%
2018-11-16 11:05:42,980 INFO TX: 744911298; RX: 102876458; Est. Dropped: 642034840; Est. Drop rate: 86.1894%
2018-11-16 11:05:52,976 INFO TX: 1116068628; RX: 154137561; Est. Dropped: 961931067; Est. Drop rate: 86.1892%
2018-11-16 11:05:54,982 INFO Average drop rate: 86.189240
2018-11-16 11:05:54,982 INFO Range search [0.0 .. 50.0] targets: {'ndr': 0.001}
2018-11-16 11:05:54,982 INFO Modified traffic stream for port 0, new rate=25.0%.
2018-11-16 11:05:54,982 INFO Modified traffic stream for port 1, new rate=25.0%.
2018-11-16 11:05:54,982 INFO Running traffic generator
2018-11-16 11:06:05,015 INFO TX: 186188183; RX: 53503530; Est. Dropped: 132684653; Est. Drop rate: 71.2637%
2018-11-16 11:06:15,028 INFO TX: 372452018; RX: 104832466; Est. Dropped: 267619552; Est. Drop rate: 71.8534%
2018-11-16 11:06:25,029 INFO TX: 558032964; RX: 155974531; Est. Dropped: 402058433; Est. Drop rate: 72.0492%
2018-11-16 11:06:27,034 INFO Average drop rate: 72.049226
2018-11-16 11:06:27,034 INFO Range search [0.0 .. 25.0] targets: {'ndr': 0.001}
2018-11-16 11:06:27,034 INFO Modified traffic stream for port 0, new rate=12.5%.
2018-11-16 11:06:27,035 INFO Modified traffic stream for port 1, new rate=12.5%.
2018-11-16 11:06:27,035 INFO Running traffic generator
2018-11-16 11:06:37,055 INFO TX: 93096334; RX: 53838718; Est. Dropped: 39257616; Est. Drop rate: 42.1688%
2018-11-16 11:06:47,069 INFO TX: 186228200; RX: 107753086; Est. Dropped: 78475114; Est. Drop rate: 42.1392%
2018-11-16 11:06:57,066 INFO TX: 279014968; RX: 160515082; Est. Dropped: 118499886; Est. Drop rate: 42.4708%
2018-11-16 11:06:59,072 INFO Average drop rate: 42.470799
2018-11-16 11:06:59,072 INFO Range search [0.0 .. 12.5] targets: {'ndr': 0.001}
2018-11-16 11:06:59,072 INFO Modified traffic stream for port 0, new rate=6.25%.
2018-11-16 11:06:59,072 INFO Modified traffic stream for port 1, new rate=6.25%.
2018-11-16 11:06:59,072 INFO Running traffic generator
2018-11-16 11:07:09,094 INFO TX: 46546315; RX: 46545946; Est. Dropped: 369; Est. Drop rate: 0.0008%
2018-11-16 11:07:19,108 INFO TX: 93112528; RX: 93112205; Est. Dropped: 323; Est. Drop rate: 0.0003%
2018-11-16 11:07:29,104 INFO TX: 139506064; RX: 139506064; Est. Dropped: 0; Est. Drop rate: 0.0000%
2018-11-16 11:07:31,110 INFO Average drop rate: 0.000000
2018-11-16 11:07:31,110 INFO Range search [6.25 .. 12.5] targets: {'ndr': 0.001}
2018-11-16 11:07:31,110 INFO Modified traffic stream for port 0, new rate=9.375%.
2018-11-16 11:07:31,110 INFO Modified traffic stream for port 1, new rate=9.375%.
2018-11-16 11:07:31,110 INFO Running traffic generator
2018-11-16 11:07:41,134 INFO TX: 69824149; RX: 53945174; Est. Dropped: 15878975; Est. Drop rate: 22.7414%
2018-11-16 11:07:51,146 INFO TX: 139671728; RX: 107913500; Est. Dropped: 31758228; Est. Drop rate: 22.7378%
2018-11-16 11:08:01,144 INFO TX: 209260524; RX: 161691160; Est. Dropped: 47569364; Est. Drop rate: 22.7321%
2018-11-16 11:08:03,150 INFO Average drop rate: 22.732125
2018-11-16 11:08:03,150 INFO Range search [6.25 .. 9.375] targets: {'ndr': 0.001}
2018-11-16 11:08:03,150 INFO Modified traffic stream for port 0, new rate=7.8125%.
2018-11-16 11:08:03,150 INFO Modified traffic stream for port 1, new rate=7.8125%.
2018-11-16 11:08:03,150 INFO Running traffic generator
2018-11-16 11:08:13,172 INFO TX: 58186179; RX: 54028380; Est. Dropped: 4157799; Est. Drop rate: 7.1457%
2018-11-16 11:08:23,186 INFO TX: 116394314; RX: 108105820; Est. Dropped: 8288494; Est. Drop rate: 7.1210%
2018-11-16 11:08:33,182 INFO TX: 174383300; RX: 161980876; Est. Dropped: 12402424; Est. Drop rate: 7.1122%
2018-11-16 11:08:35,188 INFO Average drop rate: 7.112163
2018-11-16 11:08:35,188 INFO Range search [6.25 .. 7.8125] targets: {'ndr': 0.001}
2018-11-16 11:08:35,188 INFO Modified traffic stream for port 0, new rate=7.03125%.
2018-11-16 11:08:35,188 INFO Modified traffic stream for port 1, new rate=7.03125%.
2018-11-16 11:08:35,188 INFO Running traffic generator
2018-11-16 11:08:45,210 INFO TX: 52366774; RX: 51148888; Est. Dropped: 1217886; Est. Drop rate: 2.3257%
2018-11-16 11:08:55,222 INFO TX: 104742210; RX: 102295384; Est. Dropped: 2446826; Est. Drop rate: 2.3360%
2018-11-16 11:09:05,221 INFO TX: 156944696; RX: 153279359; Est. Dropped: 3665337; Est. Drop rate: 2.3354%
2018-11-16 11:09:07,226 INFO Average drop rate: 2.335432
2018-11-16 11:09:07,226 INFO Range search [6.25 .. 7.03125] targets: {'ndr': 0.001}
2018-11-16 11:09:07,227 INFO Modified traffic stream for port 0, new rate=6.640625%.
2018-11-16 11:09:07,227 INFO Modified traffic stream for port 1, new rate=6.640625%.
2018-11-16 11:09:07,227 INFO Running traffic generator
2018-11-16 11:09:17,249 INFO TX: 49459878; RX: 49459363; Est. Dropped: 515; Est. Drop rate: 0.0010%
2018-11-16 11:09:27,263 INFO TX: 98937509; RX: 98936985; Est. Dropped: 524; Est. Drop rate: 0.0005%
2018-11-16 11:09:37,262 INFO TX: 148225378; RX: 148225378; Est. Dropped: 0; Est. Drop rate: 0.0000%
2018-11-16 11:09:39,267 INFO Average drop rate: 0.000000
2018-11-16 11:09:39,268 INFO Range search [6.640625 .. 7.03125] targets: {'ndr': 0.001}
2018-11-16 11:09:39,268 INFO Modified traffic stream for port 0, new rate=6.8359375%.
2018-11-16 11:09:39,268 INFO Modified traffic stream for port 1, new rate=6.8359375%.
2018-11-16 11:09:39,268 INFO Running traffic generator
2018-11-16 11:09:49,290 INFO TX: 50913806; RX: 50913262; Est. Dropped: 544; Est. Drop rate: 0.0011%
2018-11-16 11:09:59,303 INFO TX: 101837903; RX: 101837270; Est. Dropped: 633; Est. Drop rate: 0.0006%
2018-11-16 11:10:09,301 INFO TX: 152585042; RX: 152585042; Est. Dropped: 0; Est. Drop rate: 0.0000%
2018-11-16 11:10:11,307 INFO Average drop rate: 0.000000
2018-11-16 11:10:11,307 INFO Range search [6.8359375 .. 7.03125] targets: {'ndr': 0.001}
2018-11-16 11:10:11,307 INFO Modified traffic stream for port 0, new rate=6.93359375%.
2018-11-16 11:10:11,307 INFO Modified traffic stream for port 1, new rate=6.93359375%.
2018-11-16 11:10:11,307 INFO Running traffic generator
2018-11-16 11:10:21,329 INFO TX: 51640624; RX: 51381961; Est. Dropped: 258663; Est. Drop rate: 0.5009%
2018-11-16 11:10:31,343 INFO TX: 103300012; RX: 102611221; Est. Dropped: 688791; Est. Drop rate: 0.6668%
2018-11-16 11:10:41,340 INFO TX: 154764870; RX: 153643803; Est. Dropped: 1121067; Est. Drop rate: 0.7244%
2018-11-16 11:10:43,345 INFO Average drop rate: 0.724368
2018-11-16 11:10:43,345 INFO Range search [6.8359375 .. 6.93359375] targets: {'ndr': 0.001}
2018-11-16 11:10:43,346 INFO Found ndr (0.001) load: 6.8359375
2018-11-16 11:10:43,346 INFO NDR load: 13.671875
2018-11-16 11:10:43,346 INFO Service chain 'EXT' run completed.
2018-11-16 11:10:43,346 INFO Clean up skipped.
2018-11-16 11:10:43,373 INFO Saving results in json file: /tmp/nfvbench/1csp_1_ndr-1.log...
2018-11-16 11:10:43,376 INFO 
========== NFVBench Summary ==========
Date: 2018-11-16 11:04:48
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Measurement Parameters:
      NDR: 0.001
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_64B
          Bidirectional: True
          Flow count: 1024
          Service chains count: 1
          Compute nodes: []
            
            Run Summary:
            
              +-----+-----------------+------------------+------------------+-----------------+----------------------+----------------------+----------------------+
              |  -  |   L2 Frame Size |  Rate (fwd+rev)  |  Rate (fwd+rev)  |  Avg Drop Rate  |   Avg Latency (usec) |   Min Latency (usec) |   Max Latency (usec) |
              +=====+=================+==================+==================+=================+======================+======================+======================+
              | NDR |              64 |   3.4180 Gbps    |  5,086,262 pps   |     0.0000%     |                  207 |                   10 |                  365 |
              +-----+-----------------+------------------+------------------+-----------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            NDR search duration: 352 seconds
            

