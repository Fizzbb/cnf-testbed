2018-11-16 11:39:55,157 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-16 11:39:55,188 INFO EXT chain with OpenStack mode disabled
2018-11-16 11:39:55,188 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate ndr --flow-count 1024 --duration 30 --json /tmp/nfvbench/1csp_4_ndr-1.log
2018-11-16 11:39:55,190 INFO Connecting to TRex (127.0.0.1)...
2018-11-16 11:39:55,223 INFO Connected to TRex
2018-11-16 11:39:55,223 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-16 11:39:55,223 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-16 11:39:55,224 INFO Port 0: VLANs [1070]
2018-11-16 11:39:55,224 INFO Port 1: VLANs [1064]
2018-11-16 11:39:55,224 INFO ChainRunner initialized
2018-11-16 11:39:55,225 INFO Starting 1xEXT benchmark...
2018-11-16 11:39:55,331 INFO Polling ARP until successful...
2018-11-16 11:39:55,442 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-16 11:39:55,442 INFO ARP resolved successfully for port 0
2018-11-16 11:39:55,553 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-16 11:39:55,553 INFO ARP resolved successfully for port 1
2018-11-16 11:39:55,654 INFO Port 0: dst MAC ['52:54:00:00:00:aa']
2018-11-16 11:39:55,655 INFO Port 1: dst MAC ['52:54:00:00:00:bb']
2018-11-16 11:39:55,655 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-16 11:39:55,662 INFO Created 1 traffic streams for port 0.
2018-11-16 11:39:55,663 INFO Created 1 traffic streams for port 1.
2018-11-16 11:39:55,772 INFO Captured unique src mac 0/2, capturing return packets (retry 1/100)...
2018-11-16 11:39:57,894 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-16 11:39:57,894 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-16 11:39:57,894 INFO End-to-end connectivity established
2018-11-16 11:39:57,911 INFO Cleared all existing streams
2018-11-16 11:39:57,925 INFO Created 2 traffic streams for port 0.
2018-11-16 11:39:57,927 INFO Created 2 traffic streams for port 1.
2018-11-16 11:39:57,927 INFO *** Searching NDR for 64 (Bidirectional)...
2018-11-16 11:39:57,927 INFO Range search [0.0 .. 200.0] targets: {'ndr': 0.001}
2018-11-16 11:39:57,927 INFO Modified traffic stream for port 0, new rate=100.0%.
2018-11-16 11:39:57,927 INFO Modified traffic stream for port 1, new rate=100.0%.
2018-11-16 11:39:57,927 INFO Running traffic generator


2018-11-16 11:40:04 - [local][warning]   - [1mCPU util. is high: 88.0%[22m
2018-11-16 11:40:07,948 INFO TX: 412253346; RX: 52056466; Est. Dropped: 360196880; Est. Drop rate: 87.3727%
2018-11-16 11:40:17,954 INFO TX: 824283510; RX: 104098722; Est. Dropped: 720184788; Est. Drop rate: 87.3710%
2018-11-16 11:40:27,962 INFO TX: 1235921588; RX: 155919203; Est. Dropped: 1080002385; Est. Drop rate: 87.3844%
2018-11-16 11:40:29,967 INFO WARNING: There is a significant difference between requested TX rate (74404760) and actual TX rate (41197386). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-16 11:40:29,968 INFO Average drop rate: 87.384377
2018-11-16 11:40:29,968 INFO Range search [0.0 .. 100.0] targets: {'ndr': 0.001}
2018-11-16 11:40:29,968 INFO Modified traffic stream for port 0, new rate=50.0%.
2018-11-16 11:40:29,968 INFO Modified traffic stream for port 1, new rate=50.0%.
2018-11-16 11:40:29,968 INFO Running traffic generator
2018-11-16 11:40:39,990 INFO TX: 372379666; RX: 52370791; Est. Dropped: 320008875; Est. Drop rate: 85.9362%
2018-11-16 11:40:50,002 INFO TX: 744853390; RX: 104756628; Est. Dropped: 640096762; Est. Drop rate: 85.9359%
2018-11-16 11:41:00,000 INFO TX: 1116067280; RX: 156964393; Est. Dropped: 959102887; Est. Drop rate: 85.9359%
2018-11-16 11:41:02,005 INFO Average drop rate: 85.935938
2018-11-16 11:41:02,005 INFO Range search [0.0 .. 50.0] targets: {'ndr': 0.001}
2018-11-16 11:41:02,006 INFO Modified traffic stream for port 0, new rate=25.0%.
2018-11-16 11:41:02,006 INFO Modified traffic stream for port 1, new rate=25.0%.
2018-11-16 11:41:02,006 INFO Running traffic generator
2018-11-16 11:41:12,027 INFO TX: 186188316; RX: 53116546; Est. Dropped: 133071770; Est. Drop rate: 71.4716%
2018-11-16 11:41:22,041 INFO TX: 372451509; RX: 106233940; Est. Dropped: 266217569; Est. Drop rate: 71.4771%
2018-11-16 11:41:32,039 INFO TX: 558032626; RX: 159115862; Est. Dropped: 398916764; Est. Drop rate: 71.4863%
2018-11-16 11:41:34,045 INFO Average drop rate: 71.486280
2018-11-16 11:41:34,045 INFO Range search [0.0 .. 25.0] targets: {'ndr': 0.001}
2018-11-16 11:41:34,045 INFO Modified traffic stream for port 0, new rate=12.5%.
2018-11-16 11:41:34,045 INFO Modified traffic stream for port 1, new rate=12.5%.
2018-11-16 11:41:34,045 INFO Running traffic generator
2018-11-16 11:41:44,066 INFO TX: 93096274; RX: 51705772; Est. Dropped: 41390502; Est. Drop rate: 44.4599%
2018-11-16 11:41:54,079 INFO TX: 186228732; RX: 103411884; Est. Dropped: 82816848; Est. Drop rate: 44.4705%
2018-11-16 11:42:04,076 INFO TX: 279014968; RX: 154926017; Est. Dropped: 124088951; Est. Drop rate: 44.4739%
2018-11-16 11:42:06,082 INFO Average drop rate: 44.473941
2018-11-16 11:42:06,082 INFO Range search [0.0 .. 12.5] targets: {'ndr': 0.001}
2018-11-16 11:42:06,082 INFO Modified traffic stream for port 0, new rate=6.25%.
2018-11-16 11:42:06,083 INFO Modified traffic stream for port 1, new rate=6.25%.
2018-11-16 11:42:06,083 INFO Running traffic generator
2018-11-16 11:42:16,104 INFO TX: 46546735; RX: 46546127; Est. Dropped: 608; Est. Drop rate: 0.0013%
2018-11-16 11:42:26,117 INFO TX: 93107586; RX: 93107047; Est. Dropped: 539; Est. Drop rate: 0.0006%
2018-11-16 11:42:36,114 INFO TX: 139506064; RX: 139506064; Est. Dropped: 0; Est. Drop rate: 0.0000%
2018-11-16 11:42:38,120 INFO Average drop rate: 0.000000
2018-11-16 11:42:38,120 INFO Range search [6.25 .. 12.5] targets: {'ndr': 0.001}
2018-11-16 11:42:38,120 INFO Modified traffic stream for port 0, new rate=9.375%.
2018-11-16 11:42:38,120 INFO Modified traffic stream for port 1, new rate=9.375%.
2018-11-16 11:42:38,121 INFO Running traffic generator
2018-11-16 11:42:48,143 INFO TX: 69824712; RX: 51012451; Est. Dropped: 18812261; Est. Drop rate: 26.9421%
2018-11-16 11:42:58,157 INFO TX: 139673945; RX: 102022243; Est. Dropped: 37651702; Est. Drop rate: 26.9569%
2018-11-16 11:43:08,156 INFO TX: 209260524; RX: 153339429; Est. Dropped: 55921095; Est. Drop rate: 26.7232%
2018-11-16 11:43:10,161 INFO Average drop rate: 26.723194
2018-11-16 11:43:10,161 INFO Range search [6.25 .. 9.375] targets: {'ndr': 0.001}
2018-11-16 11:43:10,161 INFO Modified traffic stream for port 0, new rate=7.8125%.
2018-11-16 11:43:10,161 INFO Modified traffic stream for port 1, new rate=7.8125%.
2018-11-16 11:43:10,161 INFO Running traffic generator
2018-11-16 11:43:20,188 INFO TX: 58185148; RX: 51357754; Est. Dropped: 6827394; Est. Drop rate: 11.7339%
2018-11-16 11:43:30,202 INFO TX: 116393028; RX: 102691604; Est. Dropped: 13701424; Est. Drop rate: 11.7717%
2018-11-16 11:43:40,199 INFO TX: 174383334; RX: 153844940; Est. Dropped: 20538394; Est. Drop rate: 11.7777%
2018-11-16 11:43:42,204 INFO Average drop rate: 11.777728
2018-11-16 11:43:42,204 INFO Range search [6.25 .. 7.8125] targets: {'ndr': 0.001}
2018-11-16 11:43:42,204 INFO Modified traffic stream for port 0, new rate=7.03125%.
2018-11-16 11:43:42,205 INFO Modified traffic stream for port 1, new rate=7.03125%.
2018-11-16 11:43:42,205 INFO Running traffic generator
2018-11-16 11:43:52,227 INFO TX: 52368062; RX: 51164990; Est. Dropped: 1203072; Est. Drop rate: 2.2973%
2018-11-16 11:44:02,241 INFO TX: 104754837; RX: 102349374; Est. Dropped: 2405463; Est. Drop rate: 2.2963%
2018-11-16 11:44:12,238 INFO TX: 156944668; RX: 153347481; Est. Dropped: 3597187; Est. Drop rate: 2.2920%
2018-11-16 11:44:14,243 INFO Average drop rate: 2.292010
2018-11-16 11:44:14,243 INFO Range search [6.25 .. 7.03125] targets: {'ndr': 0.001}
2018-11-16 11:44:14,244 INFO Modified traffic stream for port 0, new rate=6.640625%.
2018-11-16 11:44:14,244 INFO Modified traffic stream for port 1, new rate=6.640625%.
2018-11-16 11:44:14,244 INFO Running traffic generator
2018-11-16 11:44:24,265 INFO TX: 49458465; RX: 49457407; Est. Dropped: 1058; Est. Drop rate: 0.0021%
2018-11-16 11:44:34,279 INFO TX: 98929261; RX: 98928235; Est. Dropped: 1026; Est. Drop rate: 0.0010%
2018-11-16 11:44:44,276 INFO TX: 148225378; RX: 148225378; Est. Dropped: 0; Est. Drop rate: 0.0000%
2018-11-16 11:44:46,282 INFO Average drop rate: 0.000000
2018-11-16 11:44:46,282 INFO Range search [6.640625 .. 7.03125] targets: {'ndr': 0.001}
2018-11-16 11:44:46,282 INFO Modified traffic stream for port 0, new rate=6.8359375%.
2018-11-16 11:44:46,282 INFO Modified traffic stream for port 1, new rate=6.8359375%.
2018-11-16 11:44:46,282 INFO Running traffic generator
2018-11-16 11:44:56,294 INFO TX: 50864915; RX: 50863409; Est. Dropped: 1506; Est. Drop rate: 0.0030%
2018-11-16 11:45:06,308 INFO TX: 101798281; RX: 101796967; Est. Dropped: 1314; Est. Drop rate: 0.0013%
2018-11-16 11:45:16,314 INFO TX: 152585042; RX: 152585042; Est. Dropped: 0; Est. Drop rate: 0.0000%
2018-11-16 11:45:18,319 INFO Average drop rate: 0.000000
2018-11-16 11:45:18,319 INFO Range search [6.8359375 .. 7.03125] targets: {'ndr': 0.001}
2018-11-16 11:45:18,319 INFO Modified traffic stream for port 0, new rate=6.93359375%.
2018-11-16 11:45:18,319 INFO Modified traffic stream for port 1, new rate=6.93359375%.
2018-11-16 11:45:18,319 INFO Running traffic generator
2018-11-16 11:45:28,342 INFO TX: 51640981; RX: 51639377; Est. Dropped: 1604; Est. Drop rate: 0.0031%
2018-11-16 11:45:38,356 INFO TX: 103300716; RX: 103299143; Est. Dropped: 1573; Est. Drop rate: 0.0015%
2018-11-16 11:45:48,353 INFO TX: 154764844; RX: 154633013; Est. Dropped: 131831; Est. Drop rate: 0.0852%
2018-11-16 11:45:50,358 INFO Average drop rate: 0.085181
2018-11-16 11:45:50,358 INFO Range search [6.8359375 .. 6.93359375] targets: {'ndr': 0.001}
2018-11-16 11:45:50,359 INFO Found ndr (0.001) load: 6.8359375
2018-11-16 11:45:50,359 INFO NDR load: 13.671875
2018-11-16 11:45:50,359 INFO Service chain 'EXT' run completed.
2018-11-16 11:45:50,359 INFO Clean up skipped.
2018-11-16 11:45:50,384 INFO Saving results in json file: /tmp/nfvbench/1csp_4_ndr-1.log...
2018-11-16 11:45:50,387 INFO 
========== NFVBench Summary ==========
Date: 2018-11-16 11:39:55
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Measurement Parameters:
      NDR: 0.001
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_64B
          Bidirectional: True
          Flow count: 1024
          Service chains count: 1
          Compute nodes: []
            
            Run Summary:
            
              +-----+-----------------+------------------+------------------+-----------------+----------------------+----------------------+----------------------+
              |  -  |   L2 Frame Size |  Rate (fwd+rev)  |  Rate (fwd+rev)  |  Avg Drop Rate  |   Avg Latency (usec) |   Min Latency (usec) |   Max Latency (usec) |
              +=====+=================+==================+==================+=================+======================+======================+======================+
              | NDR |              64 |   3.4180 Gbps    |  5,086,262 pps   |     0.0000%     |                  323 |                   20 |                  461 |
              +-----+-----------------+------------------+------------------+-----------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            NDR search duration: 352 seconds
            

