2018-11-28 12:45:16,853 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-28 12:45:16,887 INFO EXT chain with OpenStack mode disabled
2018-11-28 12:45:16,887 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csp_4c2n_18500000pps-1.json
2018-11-28 12:45:16,888 INFO Connecting to TRex (127.0.0.1)...
2018-11-28 12:45:17,030 INFO Connected to TRex
2018-11-28 12:45:17,030 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-28 12:45:17,031 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-28 12:45:17,031 INFO ChainRunner initialized
2018-11-28 12:45:17,032 INFO Starting 4xEXT benchmark...
2018-11-28 12:45:17,137 INFO Polling ARP until successful...
2018-11-28 12:45:17,348 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-28 12:45:17,348 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-28 12:45:17,348 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-28 12:45:17,348 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-28 12:45:17,348 INFO ARP resolved successfully for port 0
2018-11-28 12:45:17,559 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-28 12:45:17,559 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-28 12:45:17,559 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-28 12:45:17,559 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-28 12:45:17,559 INFO ARP resolved successfully for port 1
2018-11-28 12:45:17,661 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa']
2018-11-28 12:45:17,661 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb']
2018-11-28 12:45:17,661 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-28 12:45:17,684 INFO Created 4 traffic streams for port 0.
2018-11-28 12:45:17,687 INFO Created 4 traffic streams for port 1.
2018-11-28 12:45:17,798 INFO Captured unique src mac 0/8, capturing return packets (retry 1/100)...
2018-11-28 12:45:19,920 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-28 12:45:19,920 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-28 12:45:19,920 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-28 12:45:19,920 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-28 12:45:19,921 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-28 12:45:19,921 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-28 12:45:19,921 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-28 12:45:19,921 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-28 12:45:19,921 INFO End-to-end connectivity established
2018-11-28 12:45:19,941 INFO Cleared all existing streams
2018-11-28 12:45:19,972 INFO Created 8 traffic streams for port 0.
2018-11-28 12:45:19,977 INFO Created 8 traffic streams for port 1.
2018-11-28 12:45:19,977 INFO Starting to generate traffic...
2018-11-28 12:45:19,977 INFO Running traffic generator
2018-11-28 12:45:30,004 INFO TX: 185195431; RX: 55320769; Est. Dropped: 129874662; Est. Drop rate: 70.1284%
2018-11-28 12:45:40,020 INFO TX: 370486844; RX: 110650751; Est. Dropped: 259836093; Est. Drop rate: 70.1337%
2018-11-28 12:45:50,009 INFO TX: 554999888; RX: 165630546; Est. Dropped: 389369342; Est. Drop rate: 70.1567%
2018-11-28 12:45:50,009 INFO ...traffic generating ended.
2018-11-28 12:45:50,034 INFO Cleared all existing streams
2018-11-28 12:45:50,136 INFO Created 16 traffic streams for port 0.
2018-11-28 12:45:50,146 INFO Created 16 traffic streams for port 1.
2018-11-28 12:45:50,146 INFO Starting to generate traffic...
2018-11-28 12:45:50,146 INFO Running traffic generator


2018-11-28 12:45:55 - [local][warning]   - [1mCPU util. is high: 86.9%[22m
2018-11-28 12:46:00,172 INFO TX: 144425402; RX: 35012918; Est. Dropped: 109412484; Est. Drop rate: 75.7571%
2018-11-28 12:46:10,183 INFO TX: 288842135; RX: 69887862; Est. Dropped: 218954273; Est. Drop rate: 75.8041%
2018-11-28 12:46:20,185 INFO TX: 433001708; RX: 104390699; Est. Dropped: 328611009; Est. Drop rate: 75.8914%
2018-11-28 12:46:20,185 INFO ...traffic generating ended.
2018-11-28 12:46:20,192 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14433390). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-28 12:46:20,192 INFO Service chain 'EXT' run completed.
2018-11-28 12:46:20,192 INFO Clean up skipped.
2018-11-28 12:46:20,222 INFO Saving results in json file: /tmp/nfvbench/csp_4c2n_18500000pps-1.json...
2018-11-28 12:46:20,236 INFO 
========== NFVBench Summary ==========
Date: 2018-11-28 12:45:17
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 4
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |   Avg Latency (usec) |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  70.1567%   |                  547 |                  100 |         677          |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  75.8914%   |                  923 |                   20 |        1,237         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |   1.8129 Gbps   |       9,250,000 pps       |     9,249,998 pps      |  2,697,774 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |   1.8972 Gbps   |       9,250,000 pps       |     9,249,998 pps      |  2,823,243 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   3.7101 Gbps   |      18,500,000 pps       |     18,499,996 pps     |  5,521,017 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  69,374,986  | -49,141,417 (-70.8345%)  |  547 usec  |  100 usec  |  677 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  69,374,986  | -49,141,550 (-70.8347%)  |  547 usec  |  100 usec  |  663 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  69,374,986  | -49,141,729 (-70.8349%)  |  549 usec  |  100 usec  |  659 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  69,374,986  | -49,142,009 (-70.8353%)  |  551 usec  |  100 usec  |  661 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,944  | -196,566,705 (-70.8349%) |  549 usec  |  100 usec  |  677 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  69,374,986  | -48,200,672 (-69.4785%)  |  542 usec  |  100 usec  |  647 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  69,374,986  | -48,200,677 (-69.4785%)  |  546 usec  |  100 usec  |  647 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  69,374,986  | -48,200,746 (-69.4786%)  |  547 usec  |  100 usec  |  646 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  69,374,986  | -48,200,542 (-69.4783%)  |  550 usec  |  100 usec  |  653 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,944  | -192,802,637 (-69.4784%) |  546 usec  |  100 usec  |  653 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      22.0445 Gbps      |   5.1661 Gbps   |       9,250,000 pps       |     7,216,675 pps      |  1,691,223 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      22.0447 Gbps      |   5.4632 Gbps   |       9,250,000 pps       |     7,216,714 pps      |  1,788,466 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      44.0892 Gbps      |  10.6293 Gbps   |      18,500,000 pps       |     14,433,389 pps     |  3,479,689 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14433390). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  54,125,069  | -41,444,479 (-76.5717%)  | 1,044 usec |  40 usec   | 1,223 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  54,125,069  | -41,440,445 (-76.5642%)  | 1,044 usec |  40 usec   | 1,227 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  54,125,069  | -41,440,442 (-76.5642%)  | 1,039 usec |  40 usec   | 1,230 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  54,125,069  | -41,438,198 (-76.5601%)  | 1,057 usec |  20 usec   | 1,237 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 216,500,276  | -165,763,564 (-76.5651%) | 1,046 usec |  20 usec   | 1,237 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  54,125,358  | -40,708,493 (-75.2115%)  |  817 usec  |  90 usec   | 1,149 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  54,125,358  | -40,712,166 (-75.2183%)  |  793 usec  |  90 usec   | 1,119 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  54,125,358  | -40,715,397 (-75.2243%)  |  787 usec  |  90 usec   | 1,092 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  54,125,358  | -40,711,389 (-75.2168%)  |  777 usec  |  90 usec   | 1,097 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 216,501,432  | -162,847,445 (-75.2177%) |  794 usec  |  90 usec   | 1,149 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              

