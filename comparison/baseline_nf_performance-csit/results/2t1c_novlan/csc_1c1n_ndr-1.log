2018-11-21 09:01:57,150 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-21 09:01:57,181 INFO EXT chain with OpenStack mode disabled
2018-11-21 09:01:57,181 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate ndr --flow-count 1024 --duration 30 --json /tmp/nfvbench/csc_1c1n_ndr-1.json
2018-11-21 09:01:57,183 INFO Connecting to TRex (127.0.0.1)...
2018-11-21 09:01:57,212 INFO Connected to TRex
2018-11-21 09:01:57,212 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-21 09:01:57,212 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-21 09:01:57,213 INFO ChainRunner initialized
2018-11-21 09:01:57,213 INFO Starting 1xEXT benchmark...
2018-11-21 09:01:57,318 INFO Polling ARP until successful...
2018-11-21 09:01:57,444 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-21 09:01:57,444 INFO ARP resolved successfully for port 0
2018-11-21 09:01:57,570 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-21 09:01:57,570 INFO ARP resolved successfully for port 1
2018-11-21 09:01:57,672 INFO Port 0: dst MAC ['52:54:00:00:00:aa']
2018-11-21 09:01:57,672 INFO Port 1: dst MAC ['52:54:00:00:00:bb']
2018-11-21 09:01:57,672 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-21 09:01:57,679 INFO Created 1 traffic streams for port 0.
2018-11-21 09:01:57,680 INFO Created 1 traffic streams for port 1.
2018-11-21 09:01:57,789 INFO Captured unique src mac 0/2, capturing return packets (retry 1/100)...
2018-11-21 09:01:59,911 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-21 09:01:59,911 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-21 09:01:59,911 INFO End-to-end connectivity established
2018-11-21 09:01:59,928 INFO Cleared all existing streams
2018-11-21 09:01:59,937 INFO Created 2 traffic streams for port 0.
2018-11-21 09:01:59,938 INFO Created 2 traffic streams for port 1.
2018-11-21 09:01:59,938 INFO *** Searching NDR for 64 (Bidirectional)...
2018-11-21 09:01:59,938 INFO Range search [0.0 .. 200.0] targets: {'ndr': 0.001}
2018-11-21 09:01:59,939 INFO Modified traffic stream for port 0, new rate=100.0%.
2018-11-21 09:01:59,939 INFO Modified traffic stream for port 1, new rate=100.0%.
2018-11-21 09:01:59,939 INFO Running traffic generator


2018-11-21 09:02:06 - [local][warning]   - [1mCPU util. is high: 86.6%[22m
2018-11-21 09:02:09,960 INFO TX: 412454357; RX: 66425132; Est. Dropped: 346029225; Est. Drop rate: 83.8952%
2018-11-21 09:02:19,974 INFO TX: 824775222; RX: 132876537; Est. Dropped: 691898685; Est. Drop rate: 83.8894%
2018-11-21 09:02:29,975 INFO TX: 1236201084; RX: 196777221; Est. Dropped: 1039423863; Est. Drop rate: 84.0821%
2018-11-21 09:02:31,979 INFO WARNING: There is a significant difference between requested TX rate (74404760) and actual TX rate (41206702). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-21 09:02:31,980 INFO Average drop rate: 84.082103
2018-11-21 09:02:31,980 INFO Range search [0.0 .. 100.0] targets: {'ndr': 0.001}
2018-11-21 09:02:31,980 INFO Modified traffic stream for port 0, new rate=50.0%.
2018-11-21 09:02:31,980 INFO Modified traffic stream for port 1, new rate=50.0%.
2018-11-21 09:02:31,980 INFO Running traffic generator


2018-11-21 09:02:39 - [local][warning]   - [1mCPU util. is high: 85.3%[22m
2018-11-21 09:02:42,003 INFO TX: 372397423; RX: 63204928; Est. Dropped: 309192495; Est. Drop rate: 83.0276%
2018-11-21 09:02:52,017 INFO TX: 744932376; RX: 126477888; Est. Dropped: 618454488; Est. Drop rate: 83.0216%
2018-11-21 09:03:02,009 INFO TX: 1116071410; RX: 189522799; Est. Dropped: 926548611; Est. Drop rate: 83.0188%
2018-11-21 09:03:04,014 INFO Average drop rate: 83.018757
2018-11-21 09:03:04,014 INFO Range search [0.0 .. 50.0] targets: {'ndr': 0.001}
2018-11-21 09:03:04,015 INFO Modified traffic stream for port 0, new rate=25.0%.
2018-11-21 09:03:04,015 INFO Modified traffic stream for port 1, new rate=25.0%.
2018-11-21 09:03:04,015 INFO Running traffic generator
2018-11-21 09:03:14,038 INFO TX: 186197289; RX: 63358961; Est. Dropped: 122838328; Est. Drop rate: 65.9721%
2018-11-21 09:03:24,052 INFO TX: 372464936; RX: 126751985; Est. Dropped: 245712951; Est. Drop rate: 65.9694%
2018-11-21 09:03:34,049 INFO TX: 558035714; RX: 189920486; Est. Dropped: 368115228; Est. Drop rate: 65.9662%
2018-11-21 09:03:36,054 INFO Average drop rate: 65.966249
2018-11-21 09:03:36,055 INFO Range search [0.0 .. 25.0] targets: {'ndr': 0.001}
2018-11-21 09:03:36,055 INFO Modified traffic stream for port 0, new rate=12.5%.
2018-11-21 09:03:36,055 INFO Modified traffic stream for port 1, new rate=12.5%.
2018-11-21 09:03:36,055 INFO Running traffic generator
2018-11-21 09:03:46,085 INFO TX: 93097859; RX: 63380663; Est. Dropped: 29717196; Est. Drop rate: 31.9204%
2018-11-21 09:03:56,100 INFO TX: 186231986; RX: 126773195; Est. Dropped: 59458791; Est. Drop rate: 31.9273%
2018-11-21 09:04:06,092 INFO TX: 279017858; RX: 189939471; Est. Dropped: 89078387; Est. Drop rate: 31.9257%
2018-11-21 09:04:08,098 INFO Average drop rate: 31.925694
2018-11-21 09:04:08,098 INFO Range search [0.0 .. 12.5] targets: {'ndr': 0.001}
2018-11-21 09:04:08,098 INFO Modified traffic stream for port 0, new rate=6.25%.
2018-11-21 09:04:08,098 INFO Modified traffic stream for port 1, new rate=6.25%.
2018-11-21 09:04:08,099 INFO Running traffic generator
2018-11-21 09:04:18,122 INFO TX: 46548573; RX: 46548570; Est. Dropped: 3; Est. Drop rate: 0.0000%
2018-11-21 09:04:28,136 INFO TX: 93115944; RX: 93115909; Est. Dropped: 35; Est. Drop rate: 0.0000%
2018-11-21 09:04:38,133 INFO TX: 139508930; RX: 139508930; Est. Dropped: 0; Est. Drop rate: 0.0000%
2018-11-21 09:04:40,139 INFO Average drop rate: 0.000000
2018-11-21 09:04:40,139 INFO Range search [6.25 .. 12.5] targets: {'ndr': 0.001}
2018-11-21 09:04:40,139 INFO Modified traffic stream for port 0, new rate=9.375%.
2018-11-21 09:04:40,139 INFO Modified traffic stream for port 1, new rate=9.375%.
2018-11-21 09:04:40,139 INFO Running traffic generator
2018-11-21 09:04:50,163 INFO TX: 69824283; RX: 66537258; Est. Dropped: 3287025; Est. Drop rate: 4.7076%
2018-11-21 09:05:00,177 INFO TX: 139675149; RX: 133098282; Est. Dropped: 6576867; Est. Drop rate: 4.7087%
2018-11-21 09:05:10,173 INFO TX: 209263394; RX: 196834651; Est. Dropped: 12428743; Est. Drop rate: 5.9393%
2018-11-21 09:05:12,179 INFO Average drop rate: 5.939282
2018-11-21 09:05:12,179 INFO Range search [6.25 .. 9.375] targets: {'ndr': 0.001}
2018-11-21 09:05:12,179 INFO Modified traffic stream for port 0, new rate=7.8125%.
2018-11-21 09:05:12,179 INFO Modified traffic stream for port 1, new rate=7.8125%.
2018-11-21 09:05:12,179 INFO Running traffic generator
2018-11-21 09:05:22,203 INFO TX: 58187423; RX: 58187110; Est. Dropped: 313; Est. Drop rate: 0.0005%
2018-11-21 09:05:32,210 INFO TX: 116355929; RX: 116355413; Est. Dropped: 516; Est. Drop rate: 0.0004%
2018-11-21 09:05:42,214 INFO TX: 174386164; RX: 174386164; Est. Dropped: 0; Est. Drop rate: 0.0000%
2018-11-21 09:05:44,219 INFO Average drop rate: 0.000000
2018-11-21 09:05:44,220 INFO Range search [7.8125 .. 9.375] targets: {'ndr': 0.001}
2018-11-21 09:05:44,220 INFO Modified traffic stream for port 0, new rate=8.59375%.
2018-11-21 09:05:44,220 INFO Modified traffic stream for port 1, new rate=8.59375%.
2018-11-21 09:05:44,220 INFO Running traffic generator
2018-11-21 09:05:54,244 INFO TX: 64002092; RX: 62875795; Est. Dropped: 1126297; Est. Drop rate: 1.7598%
2018-11-21 09:06:04,258 INFO TX: 128032263; RX: 125776019; Est. Dropped: 2256244; Est. Drop rate: 1.7622%
2018-11-21 09:06:14,254 INFO TX: 191824780; RX: 188458710; Est. Dropped: 3366070; Est. Drop rate: 1.7548%
2018-11-21 09:06:16,260 INFO Average drop rate: 1.754763
2018-11-21 09:06:16,260 INFO Range search [7.8125 .. 8.59375] targets: {'ndr': 0.001}
2018-11-21 09:06:16,260 INFO Modified traffic stream for port 0, new rate=8.203125%.
2018-11-21 09:06:16,260 INFO Modified traffic stream for port 1, new rate=8.203125%.
2018-11-21 09:06:16,260 INFO Running traffic generator
2018-11-21 09:06:26,284 INFO TX: 61097693; RX: 61097377; Est. Dropped: 316; Est. Drop rate: 0.0005%
2018-11-21 09:06:36,298 INFO TX: 122217392; RX: 122216969; Est. Dropped: 423; Est. Drop rate: 0.0003%
2018-11-21 09:06:46,295 INFO TX: 183105470; RX: 183105470; Est. Dropped: 0; Est. Drop rate: 0.0000%
2018-11-21 09:06:48,300 INFO Average drop rate: 0.000000
2018-11-21 09:06:48,300 INFO Range search [8.203125 .. 8.59375] targets: {'ndr': 0.001}
2018-11-21 09:06:48,301 INFO Modified traffic stream for port 0, new rate=8.3984375%.
2018-11-21 09:06:48,301 INFO Modified traffic stream for port 1, new rate=8.3984375%.
2018-11-21 09:06:48,301 INFO Running traffic generator
2018-11-21 09:06:58,325 INFO TX: 62546721; RX: 62545987; Est. Dropped: 734; Est. Drop rate: 0.0012%
2018-11-21 09:07:08,339 INFO TX: 125121040; RX: 125120317; Est. Dropped: 723; Est. Drop rate: 0.0006%
2018-11-21 09:07:18,335 INFO TX: 187465126; RX: 187465126; Est. Dropped: 0; Est. Drop rate: 0.0000%
2018-11-21 09:07:20,341 INFO Average drop rate: 0.000000
2018-11-21 09:07:20,341 INFO Range search [8.3984375 .. 8.59375] targets: {'ndr': 0.001}
2018-11-21 09:07:20,341 INFO Modified traffic stream for port 0, new rate=8.49609375%.
2018-11-21 09:07:20,341 INFO Modified traffic stream for port 1, new rate=8.49609375%.
2018-11-21 09:07:20,341 INFO Running traffic generator
2018-11-21 09:07:30,366 INFO TX: 63271818; RX: 62812890; Est. Dropped: 458928; Est. Drop rate: 0.7253%
2018-11-21 09:07:40,380 INFO TX: 126573728; RX: 125553201; Est. Dropped: 1020527; Est. Drop rate: 0.8063%
2018-11-21 09:07:50,377 INFO TX: 189644952; RX: 188070349; Est. Dropped: 1574603; Est. Drop rate: 0.8303%
2018-11-21 09:07:52,383 INFO Average drop rate: 0.830290
2018-11-21 09:07:52,383 INFO Range search [8.3984375 .. 8.49609375] targets: {'ndr': 0.001}
2018-11-21 09:07:52,383 INFO Found ndr (0.001) load: 8.3984375
2018-11-21 09:07:52,383 INFO NDR load: 16.796875
2018-11-21 09:07:52,383 INFO Service chain 'EXT' run completed.
2018-11-21 09:07:52,383 INFO Clean up skipped.
2018-11-21 09:07:52,411 INFO Saving results in json file: /tmp/nfvbench/csc_1c1n_ndr-1.json...
2018-11-21 09:07:52,414 INFO
========== NFVBench Summary ==========
Date: 2018-11-21 09:01:57
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch:
  Encapsulation:
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Measurement Parameters:
      NDR: 0.001
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_64B
          Bidirectional: True
          Flow count: 1024
          Service chains count: 1
          Compute nodes: []

            Run Summary:

              +-----+-----------------+------------------+------------------+-----------------+----------------------+----------------------+----------------------+
              |  -  |   L2 Frame Size |  Rate (fwd+rev)  |  Rate (fwd+rev)  |  Avg Drop Rate  |   Avg Latency (usec) |   Min Latency (usec) |   Max Latency (usec) |
              +=====+=================+==================+==================+=================+======================+======================+======================+
              | NDR |              64 |   4.1992 Gbps    |  6,248,836 pps   |     0.0000%     |                  160 |                    2 |                  240 |
              +-----+-----------------+------------------+------------------+-----------------+----------------------+----------------------+----------------------+


            L2 frame size: 64
            NDR search duration: 352 seconds


