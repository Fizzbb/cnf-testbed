2018-12-07 07:01:45,284 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-12-07 07:01:45,317 INFO EXT chain with OpenStack mode disabled
2018-12-07 07:01:45,318 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate ndr --flow-count 1024 --duration 30 --json /tmp/nfvbench/csc_4c4n_ndr-imix.json
2018-12-07 07:01:45,319 INFO Connecting to TRex (127.0.0.1)...


2018-12-07 07:01:45 - [local][warning]   - [1mCPU util. is high: 92.9%[22m
2018-12-07 07:01:45,349 INFO Connected to TRex
2018-12-07 07:01:45,349 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-12-07 07:01:45,349 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-12-07 07:01:45,350 INFO ChainRunner initialized
2018-12-07 07:01:45,351 INFO Starting 4xEXT benchmark...
2018-12-07 07:01:45,461 INFO Polling ARP until successful...
2018-12-07 07:01:45,591 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-12-07 07:01:45,591 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-12-07 07:01:45,591 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-12-07 07:01:45,591 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-12-07 07:01:45,592 INFO ARP resolved successfully for port 0
2018-12-07 07:01:45,722 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-12-07 07:01:45,722 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-12-07 07:01:45,722 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-12-07 07:01:45,722 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-12-07 07:01:45,722 INFO ARP resolved successfully for port 1
2018-12-07 07:01:45,827 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa']
2018-12-07 07:01:45,827 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb']
2018-12-07 07:01:45,827 INFO Starting traffic generator to ensure end-to-end connectivity
2018-12-07 07:01:45,850 INFO Created 4 traffic streams for port 0.
2018-12-07 07:01:45,853 INFO Created 4 traffic streams for port 1.
2018-12-07 07:01:45,965 INFO Captured unique src mac 0/8, capturing return packets (retry 1/100)...
2018-12-07 07:01:48,086 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-12-07 07:01:48,087 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-12-07 07:01:48,087 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-12-07 07:01:48,087 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-12-07 07:01:48,087 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-12-07 07:01:48,087 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-12-07 07:01:48,087 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-12-07 07:01:48,087 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-12-07 07:01:48,087 INFO End-to-end connectivity established
2018-12-07 07:01:48,106 INFO Cleared all existing streams
2018-12-07 07:01:48,198 INFO Created 16 traffic streams for port 0.
2018-12-07 07:01:48,207 INFO Created 16 traffic streams for port 1.
2018-12-07 07:01:48,208 INFO *** Searching NDR for IMIX (Bidirectional)...
2018-12-07 07:01:48,208 INFO Range search [0.0 .. 200.0] targets: {'ndr': 0.001}
2018-12-07 07:01:48,208 INFO Modified traffic stream for port 0, new rate=100.0%.
2018-12-07 07:01:48,208 INFO Modified traffic stream for port 1, new rate=100.0%.
2018-12-07 07:01:48,208 INFO Running traffic generator


2018-12-07 07:01:54 - [local][warning]   - [1mCPU util. is high: 87.4%[22m
2018-12-07 07:01:58,232 INFO TX: 144925802; RX: 8791419; Est. Dropped: 136134383; Est. Drop rate: 93.9338%
2018-12-07 07:02:08,249 INFO TX: 289935519; RX: 17581892; Est. Dropped: 272353627; Est. Drop rate: 93.9359%
2018-12-07 07:02:18,248 INFO TX: 434537892; RX: 26349649; Est. Dropped: 408188243; Est. Drop rate: 93.9362%
2018-12-07 07:02:20,257 INFO WARNING: There is a significant difference between requested TX rate (16368398) and actual TX rate (14484596). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-12-07 07:02:20,257 INFO Average drop rate: 93.936168
2018-12-07 07:02:20,257 INFO Range search [0.0 .. 100.0] targets: {'ndr': 0.001}
2018-12-07 07:02:20,257 INFO Modified traffic stream for port 0, new rate=50.0%.
2018-12-07 07:02:20,257 INFO Modified traffic stream for port 1, new rate=50.0%.
2018-12-07 07:02:20,257 INFO Running traffic generator
2018-12-07 07:02:30,291 INFO TX: 81922132; RX: 8599916; Est. Dropped: 73322216; Est. Drop rate: 89.5023%
2018-12-07 07:02:40,308 INFO TX: 163914720; RX: 17215788; Est. Dropped: 146698932; Est. Drop rate: 89.4971%
2018-12-07 07:02:50,299 INFO TX: 245526504; RX: 25795146; Est. Dropped: 219731358; Est. Drop rate: 89.4939%
2018-12-07 07:02:52,308 INFO Average drop rate: 89.493946
2018-12-07 07:02:52,308 INFO Range search [0.0 .. 50.0] targets: {'ndr': 0.001}
2018-12-07 07:02:52,308 INFO Modified traffic stream for port 0, new rate=25.0%.
2018-12-07 07:02:52,308 INFO Modified traffic stream for port 1, new rate=25.0%.
2018-12-07 07:02:52,308 INFO Running traffic generator
2018-12-07 07:03:02,340 INFO TX: 40962019; RX: 8834203; Est. Dropped: 32127816; Est. Drop rate: 78.4332%
2018-12-07 07:03:12,356 INFO TX: 81951920; RX: 17679003; Est. Dropped: 64272917; Est. Drop rate: 78.4276%
2018-12-07 07:03:22,350 INFO TX: 122763528; RX: 26494758; Est. Dropped: 96268770; Est. Drop rate: 78.4181%
2018-12-07 07:03:24,358 INFO Average drop rate: 78.418054
2018-12-07 07:03:24,358 INFO Range search [0.0 .. 25.0] targets: {'ndr': 0.001}
2018-12-07 07:03:24,359 INFO Modified traffic stream for port 0, new rate=12.5%.
2018-12-07 07:03:24,359 INFO Modified traffic stream for port 1, new rate=12.5%.
2018-12-07 07:03:24,359 INFO Running traffic generator
2018-12-07 07:03:34,391 INFO TX: 20481605; RX: 9432276; Est. Dropped: 11049329; Est. Drop rate: 53.9476%
2018-12-07 07:03:44,408 INFO TX: 40976927; RX: 18874243; Est. Dropped: 22102684; Est. Drop rate: 53.9393%
2018-12-07 07:03:54,401 INFO TX: 61382040; RX: 28282340; Est. Dropped: 33099700; Est. Drop rate: 53.9241%
2018-12-07 07:03:56,410 INFO Average drop rate: 53.924079
2018-12-07 07:03:56,410 INFO Range search [0.0 .. 12.5] targets: {'ndr': 0.001}
2018-12-07 07:03:56,410 INFO Modified traffic stream for port 0, new rate=6.25%.
2018-12-07 07:03:56,410 INFO Modified traffic stream for port 1, new rate=6.25%.
2018-12-07 07:03:56,410 INFO Running traffic generator
2018-12-07 07:04:06,441 INFO TX: 10239880; RX: 10239684; Est. Dropped: 196; Est. Drop rate: 0.0019%
2018-12-07 07:04:16,459 INFO TX: 20487540; RX: 20487267; Est. Dropped: 273; Est. Drop rate: 0.0013%
2018-12-07 07:04:26,452 INFO TX: 30691280; RX: 30691280; Est. Dropped: 0; Est. Drop rate: 0.0000%
2018-12-07 07:04:28,461 INFO Average drop rate: 0.000000
2018-12-07 07:04:28,461 INFO Range search [6.25 .. 12.5] targets: {'ndr': 0.001}
2018-12-07 07:04:28,461 INFO Modified traffic stream for port 0, new rate=9.375%.
2018-12-07 07:04:28,461 INFO Modified traffic stream for port 1, new rate=9.375%.
2018-12-07 07:04:28,461 INFO Running traffic generator
2018-12-07 07:04:38,494 INFO TX: 15360692; RX: 9328301; Est. Dropped: 6032391; Est. Drop rate: 39.2716%
2018-12-07 07:04:48,511 INFO TX: 30733092; RX: 18666157; Est. Dropped: 12066935; Est. Drop rate: 39.2637%
2018-12-07 07:04:58,506 INFO TX: 46036656; RX: 27971805; Est. Dropped: 18064851; Est. Drop rate: 39.2401%
2018-12-07 07:05:00,515 INFO Average drop rate: 39.240146
2018-12-07 07:05:00,515 INFO Range search [6.25 .. 9.375] targets: {'ndr': 0.001}
2018-12-07 07:05:00,516 INFO Modified traffic stream for port 0, new rate=7.8125%.
2018-12-07 07:05:00,516 INFO Modified traffic stream for port 1, new rate=7.8125%.
2018-12-07 07:05:00,516 INFO Running traffic generator
2018-12-07 07:05:10,547 INFO TX: 12800132; RX: 10091336; Est. Dropped: 2708796; Est. Drop rate: 21.1623%
2018-12-07 07:05:20,564 INFO TX: 25610664; RX: 20199120; Est. Dropped: 5411544; Est. Drop rate: 21.1300%
2018-12-07 07:05:30,557 INFO TX: 38363968; RX: 30262144; Est. Dropped: 8101824; Est. Drop rate: 21.1183%
2018-12-07 07:05:32,566 INFO Average drop rate: 21.118316
2018-12-07 07:05:32,566 INFO Range search [6.25 .. 7.8125] targets: {'ndr': 0.001}
2018-12-07 07:05:32,566 INFO Modified traffic stream for port 0, new rate=7.03125%.
2018-12-07 07:05:32,566 INFO Modified traffic stream for port 1, new rate=7.03125%.
2018-12-07 07:05:32,566 INFO Running traffic generator
2018-12-07 07:05:42,598 INFO TX: 11519580; RX: 10625997; Est. Dropped: 893583; Est. Drop rate: 7.7571%
2018-12-07 07:05:52,615 INFO TX: 23048944; RX: 21264984; Est. Dropped: 1783960; Est. Drop rate: 7.7399%
2018-12-07 07:06:02,608 INFO TX: 34527624; RX: 31859268; Est. Dropped: 2668356; Est. Drop rate: 7.7282%
2018-12-07 07:06:04,617 INFO Average drop rate: 7.728177
2018-12-07 07:06:04,617 INFO Range search [6.25 .. 7.03125] targets: {'ndr': 0.001}
2018-12-07 07:06:04,618 INFO Modified traffic stream for port 0, new rate=6.640625%.
2018-12-07 07:06:04,618 INFO Modified traffic stream for port 1, new rate=6.640625%.
2018-12-07 07:06:04,618 INFO Running traffic generator
2018-12-07 07:06:14,649 INFO TX: 10880896; RX: 10878370; Est. Dropped: 2526; Est. Drop rate: 0.0232%
2018-12-07 07:06:24,666 INFO TX: 21769348; RX: 21765749; Est. Dropped: 3599; Est. Drop rate: 0.0165%
2018-12-07 07:06:34,659 INFO TX: 32609448; RX: 32606232; Est. Dropped: 3216; Est. Drop rate: 0.0099%
2018-12-07 07:06:36,668 INFO Average drop rate: 0.009862
2018-12-07 07:06:36,668 INFO Range search [6.25 .. 6.640625] targets: {'ndr': 0.001}
2018-12-07 07:06:36,668 INFO Modified traffic stream for port 0, new rate=6.4453125%.
2018-12-07 07:06:36,668 INFO Modified traffic stream for port 1, new rate=6.4453125%.
2018-12-07 07:06:36,668 INFO Running traffic generator
2018-12-07 07:06:46,699 INFO TX: 10559744; RX: 10559275; Est. Dropped: 469; Est. Drop rate: 0.0044%
2018-12-07 07:06:56,716 INFO TX: 21128548; RX: 21128190; Est. Dropped: 358; Est. Drop rate: 0.0017%
2018-12-07 07:07:06,708 INFO TX: 31650368; RX: 31650368; Est. Dropped: 0; Est. Drop rate: 0.0000%
2018-12-07 07:07:08,716 INFO Average drop rate: 0.000000
2018-12-07 07:07:08,717 INFO Range search [6.4453125 .. 6.640625] targets: {'ndr': 0.001}
2018-12-07 07:07:08,717 INFO Modified traffic stream for port 0, new rate=6.54296875%.
2018-12-07 07:07:08,717 INFO Modified traffic stream for port 1, new rate=6.54296875%.
2018-12-07 07:07:08,717 INFO Running traffic generator
2018-12-07 07:07:18,748 INFO TX: 10719948; RX: 10718599; Est. Dropped: 1349; Est. Drop rate: 0.0126%
2018-12-07 07:07:28,765 INFO TX: 21448516; RX: 21447302; Est. Dropped: 1214; Est. Drop rate: 0.0057%
2018-12-07 07:07:38,758 INFO TX: 32129912; RX: 32129912; Est. Dropped: 0; Est. Drop rate: 0.0000%
2018-12-07 07:07:40,767 INFO Average drop rate: 0.000000
2018-12-07 07:07:40,767 INFO Range search [6.54296875 .. 6.640625] targets: {'ndr': 0.001}
2018-12-07 07:07:40,768 INFO Found ndr (0.001) load: 6.54296875
2018-12-07 07:07:40,768 INFO NDR load: 13.0859375
2018-12-07 07:07:40,768 INFO Service chain 'EXT' run completed.
2018-12-07 07:07:40,768 INFO Clean up skipped.
2018-12-07 07:07:40,797 INFO Saving results in json file: /tmp/nfvbench/csc_4c4n_ndr-imix.json...
2018-12-07 07:07:40,800 INFO 
========== NFVBench Summary ==========
Date: 2018-12-07 07:01:45
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Measurement Parameters:
      NDR: 0.001
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_IMIX
          Bidirectional: True
          Flow count: 1024
          Service chains count: 4
          Compute nodes: []
            
            Run Summary:
            
              +-----+-----------------+------------------+------------------+-----------------+----------------------+----------------------+----------------------+
              |  -  |  L2 Frame Size  |  Rate (fwd+rev)  |  Rate (fwd+rev)  |  Avg Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=====+=================+==================+==================+=================+======================+======================+======================+
              | NDR |      IMIX       |   3.2715 Gbps    |  1,070,978 pps   |     0.0000%     |        1,372         |                   20 |        2,186         |
              +-----+-----------------+------------------+------------------+-----------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: IMIX
            NDR search duration: 353 seconds
            

