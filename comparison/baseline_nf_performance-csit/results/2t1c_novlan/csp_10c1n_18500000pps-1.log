2018-12-08 04:43:16,811 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-12-08 04:43:16,847 INFO EXT chain with OpenStack mode disabled
2018-12-08 04:43:16,848 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csp_10c1n_18500000pps-1.json
2018-12-08 04:43:16,849 INFO Connecting to TRex (127.0.0.1)...
2018-12-08 04:43:16,986 INFO Connected to TRex
2018-12-08 04:43:16,986 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-12-08 04:43:16,986 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-12-08 04:43:16,987 INFO ChainRunner initialized
2018-12-08 04:43:16,988 INFO Starting 10xEXT benchmark...
2018-12-08 04:43:17,092 INFO Polling ARP until successful...
2018-12-08 04:43:17,309 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-12-08 04:43:17,309 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-12-08 04:43:17,310 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-12-08 04:43:17,310 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-12-08 04:43:17,310 INFO    ARP: port=0 chain=4 src IP=172.16.10.104 dst IP=172.16.10.14 -> MAC=52:54:04:00:00:aa
2018-12-08 04:43:17,310 INFO    ARP: port=0 chain=5 src IP=172.16.10.105 dst IP=172.16.10.15 -> MAC=52:54:05:00:00:aa
2018-12-08 04:43:17,310 INFO    ARP: port=0 chain=6 src IP=172.16.10.106 dst IP=172.16.10.16 -> MAC=52:54:06:00:00:aa
2018-12-08 04:43:17,310 INFO    ARP: port=0 chain=7 src IP=172.16.10.107 dst IP=172.16.10.17 -> MAC=52:54:07:00:00:aa
2018-12-08 04:43:17,310 INFO    ARP: port=0 chain=8 src IP=172.16.10.108 dst IP=172.16.10.18 -> MAC=52:54:08:00:00:aa
2018-12-08 04:43:17,310 INFO    ARP: port=0 chain=9 src IP=172.16.10.109 dst IP=172.16.10.19 -> MAC=52:54:09:00:00:aa
2018-12-08 04:43:17,310 INFO ARP resolved successfully for port 0
2018-12-08 04:43:17,527 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-12-08 04:43:17,527 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-12-08 04:43:17,527 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-12-08 04:43:17,527 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-12-08 04:43:17,527 INFO    ARP: port=1 chain=4 src IP=172.16.20.104 dst IP=172.16.20.14 -> MAC=52:54:04:00:00:bb
2018-12-08 04:43:17,527 INFO    ARP: port=1 chain=5 src IP=172.16.20.105 dst IP=172.16.20.15 -> MAC=52:54:05:00:00:bb
2018-12-08 04:43:17,527 INFO    ARP: port=1 chain=6 src IP=172.16.20.106 dst IP=172.16.20.16 -> MAC=52:54:06:00:00:bb
2018-12-08 04:43:17,527 INFO    ARP: port=1 chain=7 src IP=172.16.20.107 dst IP=172.16.20.17 -> MAC=52:54:07:00:00:bb
2018-12-08 04:43:17,527 INFO    ARP: port=1 chain=8 src IP=172.16.20.108 dst IP=172.16.20.18 -> MAC=52:54:08:00:00:bb
2018-12-08 04:43:17,528 INFO    ARP: port=1 chain=9 src IP=172.16.20.109 dst IP=172.16.20.19 -> MAC=52:54:09:00:00:bb
2018-12-08 04:43:17,528 INFO ARP resolved successfully for port 1
2018-12-08 04:43:17,629 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa', '52:54:04:00:00:aa', '52:54:05:00:00:aa', '52:54:06:00:00:aa', '52:54:07:00:00:aa', '52:54:08:00:00:aa', '52:54:09:00:00:aa']
2018-12-08 04:43:17,629 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb', '52:54:04:00:00:bb', '52:54:05:00:00:bb', '52:54:06:00:00:bb', '52:54:07:00:00:bb', '52:54:08:00:00:bb', '52:54:09:00:00:bb']
2018-12-08 04:43:17,629 INFO Starting traffic generator to ensure end-to-end connectivity
2018-12-08 04:43:17,687 INFO Created 10 traffic streams for port 0.
2018-12-08 04:43:17,693 INFO Created 10 traffic streams for port 1.
2018-12-08 04:43:17,808 INFO Captured unique src mac 0/20, capturing return packets (retry 1/100)...
2018-12-08 04:43:19,933 INFO Received packet from mac: 52:54:05:00:00:bb (chain=5, port=1)
2018-12-08 04:43:19,933 INFO Received packet from mac: 52:54:08:00:00:bb (chain=8, port=1)
2018-12-08 04:43:19,933 INFO Received packet from mac: 52:54:09:00:00:bb (chain=9, port=1)
2018-12-08 04:43:19,933 INFO Received packet from mac: 52:54:04:00:00:bb (chain=4, port=1)
2018-12-08 04:43:19,933 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-12-08 04:43:19,934 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-12-08 04:43:19,934 INFO Received packet from mac: 52:54:06:00:00:bb (chain=6, port=1)
2018-12-08 04:43:19,934 INFO Received packet from mac: 52:54:07:00:00:bb (chain=7, port=1)
2018-12-08 04:43:19,934 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-12-08 04:43:19,934 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-12-08 04:43:19,934 INFO Received packet from mac: 52:54:09:00:00:aa (chain=9, port=0)
2018-12-08 04:43:19,934 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-12-08 04:43:19,934 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-12-08 04:43:19,934 INFO Received packet from mac: 52:54:08:00:00:aa (chain=8, port=0)
2018-12-08 04:43:19,934 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-12-08 04:43:19,934 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-12-08 04:43:19,935 INFO Received packet from mac: 52:54:06:00:00:aa (chain=6, port=0)
2018-12-08 04:43:19,935 INFO Received packet from mac: 52:54:07:00:00:aa (chain=7, port=0)
2018-12-08 04:43:19,935 INFO Received packet from mac: 52:54:04:00:00:aa (chain=4, port=0)
2018-12-08 04:43:19,935 INFO Received packet from mac: 52:54:05:00:00:aa (chain=5, port=0)
2018-12-08 04:43:19,935 INFO End-to-end connectivity established
2018-12-08 04:43:19,955 INFO Cleared all existing streams
2018-12-08 04:43:20,028 INFO Created 20 traffic streams for port 0.
2018-12-08 04:43:20,039 INFO Created 20 traffic streams for port 1.
2018-12-08 04:43:20,039 INFO Starting to generate traffic...
2018-12-08 04:43:20,039 INFO Running traffic generator
2018-12-08 04:43:30,077 INFO TX: 185206075; RX: 52821864; Est. Dropped: 132384211; Est. Drop rate: 71.4794%
2018-12-08 04:43:40,099 INFO TX: 370612718; RX: 105678184; Est. Dropped: 264934534; Est. Drop rate: 71.4855%
2018-12-08 04:43:50,087 INFO TX: 555000120; RX: 158150410; Est. Dropped: 396849710; Est. Drop rate: 71.5044%
2018-12-08 04:43:50,087 INFO ...traffic generating ended.
2018-12-08 04:43:50,119 INFO Cleared all existing streams
2018-12-08 04:43:50,347 INFO Created 40 traffic streams for port 0.
2018-12-08 04:43:50,369 INFO Created 40 traffic streams for port 1.
2018-12-08 04:43:50,370 INFO Starting to generate traffic...
2018-12-08 04:43:50,370 INFO Running traffic generator


2018-12-08 04:43:56 - [local][warning]   - [1mCPU util. is high: 87.1%[22m
2018-12-08 04:44:00,410 INFO TX: 144954355; RX: 33654390; Est. Dropped: 111299965; Est. Drop rate: 76.7828%
2018-12-08 04:44:10,431 INFO TX: 290038641; RX: 67330893; Est. Dropped: 222707748; Est. Drop rate: 76.7855%
2018-12-08 04:44:20,423 INFO TX: 434557488; RX: 100907532; Est. Dropped: 333649956; Est. Drop rate: 76.7792%
2018-12-08 04:44:20,423 INFO ...traffic generating ended.
2018-12-08 04:44:20,434 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14485249). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-12-08 04:44:20,434 INFO Service chain 'EXT' run completed.
2018-12-08 04:44:20,434 INFO Clean up skipped.
2018-12-08 04:44:20,474 INFO Saving results in json file: /tmp/nfvbench/csp_10c1n_18500000pps-1.json...
2018-12-08 04:44:20,493 INFO 
========== NFVBench Summary ==========
Date: 2018-12-08 04:43:16
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 10
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |   Avg Latency (usec) |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  71.5044%   |                  568 |                   10 |         693          |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  76.7792%   |                  882 |                   20 |        1,141         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |   1.7715 Gbps   |       9,250,000 pps       |     9,250,002 pps      |  2,636,186 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |   1.7711 Gbps   |       9,250,000 pps       |     9,250,002 pps      |  2,635,493 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   3.5426 Gbps   |      18,500,000 pps       |     18,500,004 pps     |  5,271,679 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  27,750,006  | -19,843,468 (-71.5080%)  |  579 usec  |  20 usec   |  676 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  27,750,006  | -19,841,047 (-71.4993%)  |  580 usec  |  20 usec   |  662 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  27,750,006  | -19,842,685 (-71.5052%)  |  582 usec  |  30 usec   |  611 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  27,750,006  | -19,841,270 (-71.5001%)  |  583 usec  |  30 usec   |  666 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  27,750,006  | -19,838,321 (-71.4894%)  |  582 usec  |  20 usec   |  670 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  27,750,006  | -19,836,272 (-71.4820%)  |  585 usec  |  20 usec   |  672 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  27,750,006  | -19,840,378 (-71.4968%)  |  586 usec  |  20 usec   |  673 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  27,750,006  | -19,845,007 (-71.5135%)  |  587 usec  |  20 usec   |  663 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    8    |  27,750,006  | -19,846,934 (-71.5205%)  |  588 usec  |  10 usec   |  665 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    9    |  27,750,006  | -19,839,083 (-71.4922%)  |  589 usec  |  10 usec   |  668 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,500,060  | -198,414,465 (-71.5007%) |  584 usec  |  10 usec   |  676 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  27,750,006  | -19,841,429 (-71.5006%)  |  548 usec  |  90 usec   |  683 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  27,750,006  | -19,833,572 (-71.4723%)  |  550 usec  |  90 usec   |  684 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  27,750,006  | -19,845,266 (-71.5145%)  |  551 usec  |  90 usec   |  686 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  27,750,006  | -19,851,869 (-71.5383%)  |  553 usec  |  90 usec   |  687 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  27,750,006  | -19,841,852 (-71.5022%)  |  553 usec  |  90 usec   |  686 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  27,750,006  | -19,844,848 (-71.5130%)  |  556 usec  |  90 usec   |  687 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  27,750,006  | -19,840,204 (-71.4962%)  |  557 usec  |  90 usec   |  691 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  27,750,006  | -19,842,788 (-71.5055%)  |  558 usec  |  90 usec   |  691 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    8    |  27,750,006  | -19,844,870 (-71.5130%)  |  559 usec  |  90 usec   |  693 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    9    |  27,750,006  | -19,848,547 (-71.5263%)  |  560 usec  |  90 usec   |  693 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,500,060  | -198,435,245 (-71.5082%) |  555 usec  |  90 usec   |  693 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      22.1240 Gbps      |   5.9877 Gbps   |       9,250,000 pps       |     7,242,686 pps      |  1,960,190 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      22.1236 Gbps      |   4.2869 Gbps   |       9,250,000 pps       |     7,242,563 pps      |  1,403,393 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      44.2476 Gbps      |  10.2746 Gbps   |      18,500,000 pps       |     14,485,249 pps     |  3,363,583 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14485249). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  21,728,059  | -15,842,207 (-72.9113%)  |  808 usec  |  20 usec   | 1,028 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  21,728,059  | -15,849,099 (-72.9430%)  |  807 usec  |  30 usec   |  986 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  21,728,059  | -15,847,201 (-72.9343%)  |  804 usec  |  20 usec   |  998 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  21,728,059  | -15,847,868 (-72.9373%)  |  804 usec  |  20 usec   |  986 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  21,728,059  | -15,848,812 (-72.9417%)  |  801 usec  |  30 usec   |  998 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  21,728,059  | -15,847,878 (-72.9374%)  |  800 usec  |  30 usec   | 1,003 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  21,728,058  | -15,846,338 (-72.9303%)  |  802 usec  |  30 usec   | 1,002 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  21,728,059  | -15,848,313 (-72.9394%)  |  802 usec  |  20 usec   | 1,000 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    8    |  21,728,058  | -15,849,162 (-72.9433%)  |  794 usec  |  20 usec   |  993 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    9    |  21,728,059  | -15,847,982 (-72.9379%)  |  794 usec  |  20 usec   |  988 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 217,280,588  | -158,474,860 (-72.9356%) |  802 usec  |  20 usec   | 1,028 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  21,727,690  | -17,517,666 (-80.6237%)  |  932 usec  |  100 usec  | 1,110 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  21,727,690  | -17,517,322 (-80.6221%)  |  934 usec  |  100 usec  | 1,131 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  21,727,690  | -17,517,681 (-80.6238%)  |  938 usec  |  100 usec  | 1,113 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  21,727,690  | -17,519,114 (-80.6304%)  |  939 usec  |  100 usec  | 1,116 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  21,727,690  | -17,516,655 (-80.6190%)  |  934 usec  |  100 usec  | 1,137 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  21,727,690  | -17,516,266 (-80.6172%)  |  944 usec  |  100 usec  | 1,121 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  21,727,690  | -17,518,040 (-80.6254%)  |  944 usec  |  100 usec  | 1,124 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  21,727,690  | -17,516,592 (-80.6187%)  |  949 usec  |  100 usec  | 1,130 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    8    |  21,727,690  | -17,518,312 (-80.6267%)  |  947 usec  |  100 usec  | 1,141 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    9    |  21,727,690  | -17,517,448 (-80.6227%)  |  951 usec  |  100 usec  | 1,136 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 217,276,900  | -175,175,096 (-80.6230%) |  941 usec  |  100 usec  | 1,141 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              

