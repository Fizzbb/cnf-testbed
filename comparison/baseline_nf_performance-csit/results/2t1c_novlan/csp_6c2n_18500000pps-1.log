2018-11-28 11:56:21,031 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-28 11:56:21,065 INFO EXT chain with OpenStack mode disabled
2018-11-28 11:56:21,065 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csp_6c2n_18500000pps-1.json
2018-11-28 11:56:21,067 INFO Connecting to TRex (127.0.0.1)...
2018-11-28 11:56:21,211 INFO Connected to TRex
2018-11-28 11:56:21,211 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-28 11:56:21,212 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-28 11:56:21,212 INFO ChainRunner initialized
2018-11-28 11:56:21,213 INFO Starting 6xEXT benchmark...
2018-11-28 11:56:21,318 INFO Polling ARP until successful...
2018-11-28 11:56:21,531 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-28 11:56:21,531 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-28 11:56:21,531 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-28 11:56:21,531 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-28 11:56:21,531 INFO    ARP: port=0 chain=4 src IP=172.16.10.104 dst IP=172.16.10.14 -> MAC=52:54:04:00:00:aa
2018-11-28 11:56:21,531 INFO    ARP: port=0 chain=5 src IP=172.16.10.105 dst IP=172.16.10.15 -> MAC=52:54:05:00:00:aa
2018-11-28 11:56:21,531 INFO ARP resolved successfully for port 0
2018-11-28 11:56:21,744 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-28 11:56:21,744 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-28 11:56:21,744 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-28 11:56:21,744 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-28 11:56:21,744 INFO    ARP: port=1 chain=4 src IP=172.16.20.104 dst IP=172.16.20.14 -> MAC=52:54:04:00:00:bb
2018-11-28 11:56:21,744 INFO    ARP: port=1 chain=5 src IP=172.16.20.105 dst IP=172.16.20.15 -> MAC=52:54:05:00:00:bb
2018-11-28 11:56:21,744 INFO ARP resolved successfully for port 1
2018-11-28 11:56:21,846 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa', '52:54:04:00:00:aa', '52:54:05:00:00:aa']
2018-11-28 11:56:21,846 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb', '52:54:04:00:00:bb', '52:54:05:00:00:bb']
2018-11-28 11:56:21,846 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-28 11:56:21,881 INFO Created 6 traffic streams for port 0.
2018-11-28 11:56:21,884 INFO Created 6 traffic streams for port 1.
2018-11-28 11:56:21,997 INFO Captured unique src mac 0/12, capturing return packets (retry 1/100)...
2018-11-28 11:56:24,120 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-28 11:56:24,120 INFO Received packet from mac: 52:54:04:00:00:bb (chain=4, port=1)
2018-11-28 11:56:24,120 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-28 11:56:24,120 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-28 11:56:24,120 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-28 11:56:24,120 INFO Received packet from mac: 52:54:05:00:00:bb (chain=5, port=1)
2018-11-28 11:56:24,120 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-28 11:56:24,120 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-28 11:56:24,120 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-28 11:56:24,120 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-28 11:56:24,120 INFO Received packet from mac: 52:54:04:00:00:aa (chain=4, port=0)
2018-11-28 11:56:24,120 INFO Received packet from mac: 52:54:05:00:00:aa (chain=5, port=0)
2018-11-28 11:56:24,120 INFO End-to-end connectivity established
2018-11-28 11:56:24,140 INFO Cleared all existing streams
2018-11-28 11:56:24,184 INFO Created 12 traffic streams for port 0.
2018-11-28 11:56:24,190 INFO Created 12 traffic streams for port 1.
2018-11-28 11:56:24,190 INFO Starting to generate traffic...
2018-11-28 11:56:24,191 INFO Running traffic generator
2018-11-28 11:56:34,222 INFO TX: 185204476; RX: 52625287; Est. Dropped: 132579189; Est. Drop rate: 71.5853%
2018-11-28 11:56:44,240 INFO TX: 370537714; RX: 105295826; Est. Dropped: 265241888; Est. Drop rate: 71.5830%
2018-11-28 11:56:54,232 INFO TX: 554999952; RX: 157637989; Est. Dropped: 397361963; Est. Drop rate: 71.5968%
2018-11-28 11:56:54,232 INFO ...traffic generating ended.
2018-11-28 11:56:54,259 INFO Cleared all existing streams
2018-11-28 11:56:54,396 INFO Created 24 traffic streams for port 0.
2018-11-28 11:56:54,410 INFO Created 24 traffic streams for port 1.
2018-11-28 11:56:54,410 INFO Starting to generate traffic...
2018-11-28 11:56:54,410 INFO Running traffic generator


2018-11-28 11:57:00 - [local][warning]   - [1mCPU util. is high: 87.3%[22m
2018-11-28 11:57:04,442 INFO TX: 144685685; RX: 33288186; Est. Dropped: 111397499; Est. Drop rate: 76.9928%
2018-11-28 11:57:14,460 INFO TX: 289488928; RX: 66592505; Est. Dropped: 222896423; Est. Drop rate: 76.9965%
2018-11-28 11:57:24,455 INFO TX: 433780187; RX: 99789633; Est. Dropped: 333990554; Est. Drop rate: 76.9953%
2018-11-28 11:57:24,455 INFO ...traffic generating ended.
2018-11-28 11:57:24,463 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14459339). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-28 11:57:24,463 INFO Service chain 'EXT' run completed.
2018-11-28 11:57:24,463 INFO Clean up skipped.
2018-11-28 11:57:24,493 INFO Saving results in json file: /tmp/nfvbench/csp_6c2n_18500000pps-1.json...
2018-11-28 11:57:24,508 INFO
========== NFVBench Summary ==========
Date: 2018-11-28 11:56:21
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch:
  Encapsulation:
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 6
          Compute nodes: []

            Run Summary:

              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |   Avg Latency (usec) |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  71.5968%   |                  564 |                  100 |         734          |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  76.9953%   |                  879 |                  200 |        1,165         |
              +-----------------+-------------+----------------------+----------------------+----------------------+


            L2 frame size: 64

            Run Config:

              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.5120 Gbps        |      6.5120 Gbps       |   1.8452 Gbps   |       9,250,000 pps       |     9,249,999 pps      |  2,621,013 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.5120 Gbps        |      6.5120 Gbps       |   1.8540 Gbps   |       9,250,000 pps       |     9,249,999 pps      |  2,633,586 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       13.0240 Gbps        |      13.0240 Gbps      |   3.6992 Gbps   |      18,500,000 pps       |     18,499,998 pps     |  5,254,599 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+

            Forward Chain Packet Counters and Latency:

              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  46,249,996  | -33,143,813 (-71.6623%)  |  563 usec  |  100 usec  |  661 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  46,249,996  | -33,144,391 (-71.6636%)  |  565 usec  |  100 usec  |  656 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  46,249,996  | -33,152,232 (-71.6805%)  |  567 usec  |  100 usec  |  666 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  46,249,996  | -33,144,778 (-71.6644%)  |  569 usec  |  100 usec  |  662 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  46,249,996  | -33,140,935 (-71.6561%)  |  570 usec  |  100 usec  |  653 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  46,249,996  | -33,143,436 (-71.6615%)  |  561 usec  |  200 usec  |  687 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,976  | -198,869,585 (-71.6647%) |  566 usec  |  100 usec  |  687 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+

            Reverse Chain Packet Counters and Latency:

              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  46,249,996  | -33,080,497 (-71.5254%)  |  594 usec  |  300 usec  |  734 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  46,249,996  | -33,090,209 (-71.5464%)  |  555 usec  |  200 usec  |  669 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  46,249,996  | -33,081,545 (-71.5277%)  |  561 usec  |  200 usec  |  668 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  46,249,996  | -33,076,514 (-71.5168%)  |  558 usec  |  200 usec  |  668 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  46,249,996  | -33,081,464 (-71.5275%)  |  560 usec  |  200 usec  |  674 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  46,249,996  | -33,082,149 (-71.5290%)  |  562 usec  |  200 usec  |  669 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,976  | -198,492,378 (-71.5288%) |  565 usec  |  200 usec  |  734 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+


            L2 frame size: IMIX

            Run Config:

              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      22.0847 Gbps      |   5.0611 Gbps   |       9,250,000 pps       |     7,229,825 pps      |  1,656,846 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      22.0838 Gbps      |   5.0997 Gbps   |       9,250,000 pps       |     7,229,514 pps      |  1,669,474 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      44.1685 Gbps      |  10.1608 Gbps   |      18,500,000 pps       |     14,459,339 pps     |  3,326,320 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+

              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14459339). The traffic generator may not have sufficient CPU to achieve the requested TX rate.

            Forward Chain Packet Counters and Latency:

              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  36,149,128  | -27,865,126 (-77.0838%)  |  884 usec  |  600 usec  | 1,094 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  36,149,127  | -27,865,210 (-77.0840%)  |  889 usec  |  600 usec  | 1,074 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  36,149,128  | -27,864,168 (-77.0812%)  |  891 usec  |  600 usec  | 1,071 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  36,149,128  | -27,864,924 (-77.0833%)  |  894 usec  |  600 usec  | 1,068 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  36,149,128  | -27,865,500 (-77.0848%)  |  898 usec  |  600 usec  | 1,078 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  36,149,128  | -27,864,435 (-77.0819%)  |  818 usec  |  600 usec  | 1,062 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 216,894,767  | -167,189,363 (-77.0832%) |  879 usec  |  600 usec  | 1,094 usec |
              +---------+--------------+--------------------------+------------+------------+------------+

            Reverse Chain Packet Counters and Latency:

              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  36,147,570  | -27,800,554 (-76.9085%)  |  881 usec  |  200 usec  | 1,165 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  36,147,570  | -27,800,418 (-76.9081%)  |  879 usec  |  200 usec  | 1,108 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  36,147,570  | -27,798,850 (-76.9038%)  |  879 usec  |  200 usec  | 1,091 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  36,147,570  | -27,801,135 (-76.9101%)  |  880 usec  |  200 usec  | 1,099 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  36,147,570  | -27,799,887 (-76.9067%)  |  885 usec  |  200 usec  | 1,103 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  36,147,570  | -27,800,347 (-76.9079%)  |  884 usec  |  200 usec  | 1,110 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 216,885,420  | -166,801,191 (-76.9075%) |  881 usec  |  200 usec  | 1,165 usec |
              +---------+--------------+--------------------------+------------+------------+------------+


