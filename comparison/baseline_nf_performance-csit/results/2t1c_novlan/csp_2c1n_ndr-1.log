2018-11-27 10:28:37,473 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-27 10:28:37,505 INFO EXT chain with OpenStack mode disabled
2018-11-27 10:28:37,505 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate ndr --flow-count 1024 --duration 30 --json /tmp/nfvbench/csp_2c1n_ndr-1.json
2018-11-27 10:28:37,506 INFO Connecting to TRex (127.0.0.1)...
2018-11-27 10:28:37,640 INFO Connected to TRex
2018-11-27 10:28:37,641 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-27 10:28:37,641 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-27 10:28:37,641 INFO ChainRunner initialized
2018-11-27 10:28:37,642 INFO Starting 2xEXT benchmark...
2018-11-27 10:28:37,746 INFO Polling ARP until successful...
2018-11-27 10:28:37,858 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-27 10:28:37,858 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-27 10:28:37,858 INFO ARP resolved successfully for port 0
2018-11-27 10:28:38,067 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-27 10:28:38,067 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-27 10:28:38,067 INFO ARP resolved successfully for port 1
2018-11-27 10:28:38,169 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa']
2018-11-27 10:28:38,169 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb']
2018-11-27 10:28:38,169 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-27 10:28:38,182 INFO Created 2 traffic streams for port 0.
2018-11-27 10:28:38,183 INFO Created 2 traffic streams for port 1.
2018-11-27 10:28:38,294 INFO Captured unique src mac 0/4, capturing return packets (retry 1/100)...
2018-11-27 10:28:40,415 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-27 10:28:40,415 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-27 10:28:40,415 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-27 10:28:40,415 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-27 10:28:40,415 INFO End-to-end connectivity established
2018-11-27 10:28:40,432 INFO Cleared all existing streams
2018-11-27 10:28:40,448 INFO Created 4 traffic streams for port 0.
2018-11-27 10:28:40,450 INFO Created 4 traffic streams for port 1.
2018-11-27 10:28:40,451 INFO *** Searching NDR for 64 (Bidirectional)...
2018-11-27 10:28:40,451 INFO Range search [0.0 .. 200.0] targets: {'ndr': 0.001}
2018-11-27 10:28:40,451 INFO Modified traffic stream for port 0, new rate=100.0%.
2018-11-27 10:28:40,451 INFO Modified traffic stream for port 1, new rate=100.0%.
2018-11-27 10:28:40,451 INFO Running traffic generator


2018-11-27 10:28:47 - [local][warning]   - [1mCPU util. is high: 87.0%[22m
2018-11-27 10:28:50,479 INFO TX: 415997612; RX: 57680702; Est. Dropped: 358316910; Est. Drop rate: 86.1344%
2018-11-27 10:29:00,493 INFO TX: 836620028; RX: 115071294; Est. Dropped: 721548734; Est. Drop rate: 86.2457%
2018-11-27 10:29:10,492 INFO TX: 1256305918; RX: 172206854; Est. Dropped: 1084099064; Est. Drop rate: 86.2926%
2018-11-27 10:29:12,498 INFO WARNING: There is a significant difference between requested TX rate (74404760) and actual TX rate (41876863). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-27 10:29:12,498 INFO Average drop rate: 86.292602
2018-11-27 10:29:12,498 INFO Range search [0.0 .. 100.0] targets: {'ndr': 0.001}
2018-11-27 10:29:12,498 INFO Modified traffic stream for port 0, new rate=50.0%.
2018-11-27 10:29:12,498 INFO Modified traffic stream for port 1, new rate=50.0%.
2018-11-27 10:29:12,498 INFO Running traffic generator
2018-11-27 10:29:22,521 INFO TX: 372392074; RX: 57576648; Est. Dropped: 314815426; Est. Drop rate: 84.5387%


2018-11-27 10:29:23 - [local][warning]   - [1mCPU util. is high: 85.3%[22m
2018-11-27 10:29:32,536 INFO TX: 744943527; RX: 115179720; Est. Dropped: 629763807; Est. Drop rate: 84.5385%
2018-11-27 10:29:42,531 INFO TX: 1116040988; RX: 172609430; Est. Dropped: 943431558; Est. Drop rate: 84.5338%
2018-11-27 10:29:44,537 INFO Average drop rate: 84.533773
2018-11-27 10:29:44,538 INFO Range search [0.0 .. 50.0] targets: {'ndr': 0.001}
2018-11-27 10:29:44,538 INFO Modified traffic stream for port 0, new rate=25.0%.
2018-11-27 10:29:44,538 INFO Modified traffic stream for port 1, new rate=25.0%.
2018-11-27 10:29:44,538 INFO Running traffic generator
2018-11-27 10:29:54,560 INFO TX: 186198255; RX: 57607386; Est. Dropped: 128590869; Est. Drop rate: 69.0613%
2018-11-27 10:30:04,575 INFO TX: 372480510; RX: 115264218; Est. Dropped: 257216292; Est. Drop rate: 69.0550%
2018-11-27 10:30:14,569 INFO TX: 558037352; RX: 172659858; Est. Dropped: 385377494; Est. Drop rate: 69.0594%
2018-11-27 10:30:16,576 INFO Average drop rate: 69.059444
2018-11-27 10:30:16,576 INFO Range search [0.0 .. 25.0] targets: {'ndr': 0.001}
2018-11-27 10:30:16,576 INFO Modified traffic stream for port 0, new rate=12.5%.
2018-11-27 10:30:16,576 INFO Modified traffic stream for port 1, new rate=12.5%.
2018-11-27 10:30:16,576 INFO Running traffic generator
2018-11-27 10:30:26,599 INFO TX: 93095438; RX: 57566424; Est. Dropped: 35529014; Est. Drop rate: 38.1641%
2018-11-27 10:30:36,615 INFO TX: 186237080; RX: 115149001; Est. Dropped: 71088079; Est. Drop rate: 38.1707%
2018-11-27 10:30:46,610 INFO TX: 279019376; RX: 172505652; Est. Dropped: 106513724; Est. Drop rate: 38.1743%
2018-11-27 10:30:48,617 INFO Average drop rate: 38.174311
2018-11-27 10:30:48,617 INFO Range search [0.0 .. 12.5] targets: {'ndr': 0.001}
2018-11-27 10:30:48,617 INFO Modified traffic stream for port 0, new rate=6.25%.
2018-11-27 10:30:48,617 INFO Modified traffic stream for port 1, new rate=6.25%.
2018-11-27 10:30:48,617 INFO Running traffic generator
2018-11-27 10:30:58,650 INFO TX: 46550120; RX: 46549949; Est. Dropped: 171; Est. Drop rate: 0.0004%
2018-11-27 10:31:08,665 INFO TX: 93120494; RX: 93120446; Est. Dropped: 48; Est. Drop rate: 0.0001%
2018-11-27 10:31:18,663 INFO TX: 139509080; RX: 139509080; Est. Dropped: 0; Est. Drop rate: 0.0000%
2018-11-27 10:31:20,670 INFO Average drop rate: 0.000000
2018-11-27 10:31:20,670 INFO Range search [6.25 .. 12.5] targets: {'ndr': 0.001}
2018-11-27 10:31:20,670 INFO Modified traffic stream for port 0, new rate=9.375%.
2018-11-27 10:31:20,670 INFO Modified traffic stream for port 1, new rate=9.375%.
2018-11-27 10:31:20,671 INFO Running traffic generator
2018-11-27 10:31:30,695 INFO TX: 69822120; RX: 57488956; Est. Dropped: 12333164; Est. Drop rate: 17.6637%
2018-11-27 10:31:40,710 INFO TX: 139680612; RX: 114947036; Est. Dropped: 24733576; Est. Drop rate: 17.7072%
2018-11-27 10:31:50,706 INFO TX: 209263208; RX: 172178994; Est. Dropped: 37084214; Est. Drop rate: 17.7213%
2018-11-27 10:31:52,713 INFO Average drop rate: 17.721325
2018-11-27 10:31:52,713 INFO Range search [6.25 .. 9.375] targets: {'ndr': 0.001}
2018-11-27 10:31:52,713 INFO Modified traffic stream for port 0, new rate=7.8125%.
2018-11-27 10:31:52,713 INFO Modified traffic stream for port 1, new rate=7.8125%.
2018-11-27 10:31:52,713 INFO Running traffic generator
2018-11-27 10:32:02,745 INFO TX: 58185680; RX: 57452210; Est. Dropped: 733470; Est. Drop rate: 1.2606%
2018-11-27 10:32:12,759 INFO TX: 116393666; RX: 114928958; Est. Dropped: 1464708; Est. Drop rate: 1.2584%
2018-11-27 10:32:22,755 INFO TX: 174385384; RX: 172236840; Est. Dropped: 2148544; Est. Drop rate: 1.2321%
2018-11-27 10:32:24,762 INFO Average drop rate: 1.232067
2018-11-27 10:32:24,762 INFO Range search [6.25 .. 7.8125] targets: {'ndr': 0.001}
2018-11-27 10:32:24,763 INFO Modified traffic stream for port 0, new rate=7.03125%.
2018-11-27 10:32:24,763 INFO Modified traffic stream for port 1, new rate=7.03125%.
2018-11-27 10:32:24,763 INFO Running traffic generator
2018-11-27 10:32:34,787 INFO TX: 52368350; RX: 52368026; Est. Dropped: 324; Est. Drop rate: 0.0006%
2018-11-27 10:32:44,803 INFO TX: 104763332; RX: 104763030; Est. Dropped: 302; Est. Drop rate: 0.0003%
2018-11-27 10:32:54,798 INFO TX: 156947292; RX: 156947292; Est. Dropped: 0; Est. Drop rate: 0.0000%
2018-11-27 10:32:56,805 INFO Average drop rate: 0.000000
2018-11-27 10:32:56,805 INFO Range search [7.03125 .. 7.8125] targets: {'ndr': 0.001}
2018-11-27 10:32:56,805 INFO Modified traffic stream for port 0, new rate=7.421875%.
2018-11-27 10:32:56,805 INFO Modified traffic stream for port 1, new rate=7.421875%.
2018-11-27 10:32:56,805 INFO Running traffic generator
2018-11-27 10:33:06,838 INFO TX: 55278188; RX: 55276967; Est. Dropped: 1221; Est. Drop rate: 0.0022%
2018-11-27 10:33:16,853 INFO TX: 110586528; RX: 110585390; Est. Dropped: 1138; Est. Drop rate: 0.0010%
2018-11-27 10:33:26,848 INFO TX: 165667316; RX: 165667092; Est. Dropped: 224; Est. Drop rate: 0.0001%
2018-11-27 10:33:28,854 INFO Average drop rate: 0.000135
2018-11-27 10:33:28,855 INFO Range search [7.421875 .. 7.8125] targets: {'ndr': 0.001}
2018-11-27 10:33:28,855 INFO Modified traffic stream for port 0, new rate=7.6171875%.
2018-11-27 10:33:28,855 INFO Modified traffic stream for port 1, new rate=7.6171875%.
2018-11-27 10:33:28,855 INFO Running traffic generator
2018-11-27 10:33:38,887 INFO TX: 56732228; RX: 56731130; Est. Dropped: 1098; Est. Drop rate: 0.0019%
2018-11-27 10:33:48,902 INFO TX: 113493000; RX: 113491486; Est. Dropped: 1514; Est. Drop rate: 0.0013%
2018-11-27 10:33:58,897 INFO TX: 170027464; RX: 170027183; Est. Dropped: 281; Est. Drop rate: 0.0002%
2018-11-27 10:34:00,904 INFO Average drop rate: 0.000165
2018-11-27 10:34:00,904 INFO Range search [7.6171875 .. 7.8125] targets: {'ndr': 0.001}
2018-11-27 10:34:00,904 INFO Modified traffic stream for port 0, new rate=7.71484375%.
2018-11-27 10:34:00,905 INFO Modified traffic stream for port 1, new rate=7.71484375%.
2018-11-27 10:34:00,905 INFO Running traffic generator
2018-11-27 10:34:10,933 INFO TX: 57457882; RX: 57448547; Est. Dropped: 9335; Est. Drop rate: 0.0162%
2018-11-27 10:34:20,949 INFO TX: 114945370; RX: 114932318; Est. Dropped: 13052; Est. Drop rate: 0.0114%
2018-11-27 10:34:30,944 INFO TX: 172205508; RX: 172192471; Est. Dropped: 13037; Est. Drop rate: 0.0076%
2018-11-27 10:34:32,951 INFO Average drop rate: 0.007571
2018-11-27 10:34:32,951 INFO Range search [7.6171875 .. 7.71484375] targets: {'ndr': 0.001}
2018-11-27 10:34:32,951 INFO Found ndr (0.001) load: 7.6171875
2018-11-27 10:34:32,951 INFO NDR load: 15.234375
2018-11-27 10:34:32,952 INFO Service chain 'EXT' run completed.
2018-11-27 10:34:32,952 INFO Clean up skipped.
2018-11-27 10:34:32,985 INFO Saving results in json file: /tmp/nfvbench/csp_2c1n_ndr-1.json...
2018-11-27 10:34:32,988 INFO 
========== NFVBench Summary ==========
Date: 2018-11-27 10:28:37
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Measurement Parameters:
      NDR: 0.001
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_64B
          Bidirectional: True
          Flow count: 1024
          Service chains count: 2
          Compute nodes: []
            
            Run Summary:
            
              +-----+-----------------+------------------+------------------+-----------------+----------------------+----------------------+----------------------+
              |  -  |   L2 Frame Size |  Rate (fwd+rev)  |  Rate (fwd+rev)  |  Avg Drop Rate  |   Avg Latency (usec) |   Min Latency (usec) |   Max Latency (usec) |
              +=====+=================+==================+==================+=================+======================+======================+======================+
              | NDR |              64 |   3.8086 Gbps    |  5,667,550 pps   |     0.0002%     |                  268 |                   10 |                  534 |
              +-----+-----------------+------------------+------------------+-----------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            NDR search duration: 353 seconds
            

