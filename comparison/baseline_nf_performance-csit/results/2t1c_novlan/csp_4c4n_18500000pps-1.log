2018-11-28 13:05:25,816 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-28 13:05:25,850 INFO EXT chain with OpenStack mode disabled
2018-11-28 13:05:25,850 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csp_4c4n_18500000pps-1.json
2018-11-28 13:05:25,852 INFO Connecting to TRex (127.0.0.1)...
2018-11-28 13:05:25,993 INFO Connected to TRex
2018-11-28 13:05:25,993 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-28 13:05:25,993 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-28 13:05:25,994 INFO ChainRunner initialized
2018-11-28 13:05:25,995 INFO Starting 4xEXT benchmark...
2018-11-28 13:05:26,100 INFO Polling ARP until successful...
2018-11-28 13:05:26,311 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-28 13:05:26,311 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-28 13:05:26,311 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-28 13:05:26,311 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-28 13:05:26,311 INFO ARP resolved successfully for port 0
2018-11-28 13:05:26,521 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-28 13:05:26,522 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-28 13:05:26,522 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-28 13:05:26,522 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-28 13:05:26,522 INFO ARP resolved successfully for port 1
2018-11-28 13:05:26,623 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa']
2018-11-28 13:05:26,623 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb']
2018-11-28 13:05:26,623 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-28 13:05:26,647 INFO Created 4 traffic streams for port 0.
2018-11-28 13:05:26,649 INFO Created 4 traffic streams for port 1.
2018-11-28 13:05:26,760 INFO Captured unique src mac 0/8, capturing return packets (retry 1/100)...
2018-11-28 13:05:28,882 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-28 13:05:28,883 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-28 13:05:28,883 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-28 13:05:28,883 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-28 13:05:28,883 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-28 13:05:28,883 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-28 13:05:28,883 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-28 13:05:28,883 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-28 13:05:28,883 INFO End-to-end connectivity established
2018-11-28 13:05:28,902 INFO Cleared all existing streams
2018-11-28 13:05:28,932 INFO Created 8 traffic streams for port 0.
2018-11-28 13:05:28,937 INFO Created 8 traffic streams for port 1.
2018-11-28 13:05:28,937 INFO Starting to generate traffic...
2018-11-28 13:05:28,937 INFO Running traffic generator
2018-11-28 13:05:38,967 INFO TX: 185262464; RX: 53291038; Est. Dropped: 131971426; Est. Drop rate: 71.2348%
2018-11-28 13:05:48,982 INFO TX: 370553155; RX: 106504456; Est. Dropped: 264048699; Est. Drop rate: 71.2580%
2018-11-28 13:05:58,970 INFO TX: 554999888; RX: 159404506; Est. Dropped: 395595382; Est. Drop rate: 71.2785%
2018-11-28 13:05:58,970 INFO ...traffic generating ended.
2018-11-28 13:05:58,998 INFO Cleared all existing streams
2018-11-28 13:05:59,092 INFO Created 16 traffic streams for port 0.
2018-11-28 13:05:59,101 INFO Created 16 traffic streams for port 1.
2018-11-28 13:05:59,101 INFO Starting to generate traffic...
2018-11-28 13:05:59,101 INFO Running traffic generator


2018-11-28 13:06:04 - [local][warning]   - [1mCPU util. is high: 85.1%[22m
2018-11-28 13:06:09,127 INFO TX: 144503748; RX: 32683894; Est. Dropped: 111819854; Est. Drop rate: 77.3820%
2018-11-28 13:06:19,143 INFO TX: 289167647; RX: 65389905; Est. Dropped: 223777742; Est. Drop rate: 77.3869%
2018-11-28 13:06:29,143 INFO TX: 433326976; RX: 97983300; Est. Dropped: 335343676; Est. Drop rate: 77.3881%
2018-11-28 13:06:29,143 INFO ...traffic generating ended.
2018-11-28 13:06:29,149 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14444232). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-28 13:06:29,149 INFO Service chain 'EXT' run completed.
2018-11-28 13:06:29,150 INFO Clean up skipped.
2018-11-28 13:06:29,177 INFO Saving results in json file: /tmp/nfvbench/csp_4c4n_18500000pps-1.json...
2018-11-28 13:06:29,190 INFO 
========== NFVBench Summary ==========
Date: 2018-11-28 13:05:25
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 4
          Compute nodes: []
            
            Run Summary:
            
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |   Avg Latency (usec) |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  71.2785%   |                  612 |                  100 |         700          |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  77.3881%   |                  965 |                   60 |        1,148         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.2160 Gbps        |      6.2160 Gbps       |   1.7854 Gbps   |       9,250,000 pps       |     9,249,998 pps      |  2,656,771 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.2160 Gbps        |      6.2160 Gbps       |   1.7853 Gbps   |       9,250,000 pps       |     9,249,998 pps      |  2,656,712 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       12.4320 Gbps        |      12.4320 Gbps      |   3.5707 Gbps   |      18,500,000 pps       |     18,499,996 pps     |  5,313,483 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  69,374,986  | -49,449,076 (-71.2780%)  |  607 usec  |  100 usec  |  700 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  69,374,986  | -49,449,325 (-71.2783%)  |  613 usec  |  100 usec  |  658 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  69,374,986  | -49,449,514 (-71.2786%)  |  608 usec  |  100 usec  |  672 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  69,374,986  | -49,448,890 (-71.2777%)  |  614 usec  |  100 usec  |  675 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,944  | -197,796,805 (-71.2781%) |  611 usec  |  100 usec  |  700 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  69,374,986  | -49,449,555 (-71.2787%)  |  612 usec  |  200 usec  |  680 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  69,374,986  | -49,449,907 (-71.2792%)  |  612 usec  |  200 usec  |  652 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  69,374,986  | -49,449,837 (-71.2791%)  |  618 usec  |  200 usec  |  657 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  69,374,986  | -49,449,278 (-71.2783%)  |  617 usec  |  200 usec  |  682 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,944  | -197,798,577 (-71.2788%) |  615 usec  |  200 usec  |  682 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            
            L2 frame size: IMIX
            
            Run Config:
            
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      22.0608 Gbps      |   4.9904 Gbps   |       9,250,000 pps       |     7,222,014 pps      |  1,633,695 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      22.0615 Gbps      |   4.9865 Gbps   |       9,250,000 pps       |     7,222,217 pps      |  1,632,414 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      44.1223 Gbps      |   9.9769 Gbps   |      18,500,000 pps       |     14,444,231 pps     |  3,266,109 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              
              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14444232). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
              
            Forward Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  54,165,111  | -41,912,533 (-77.3792%)  |  971 usec  |  60 usec   | 1,124 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  54,165,111  | -41,915,510 (-77.3847%)  |  975 usec  |  70 usec   | 1,130 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  54,165,111  | -41,910,496 (-77.3754%)  |  980 usec  |  100 usec  | 1,140 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  54,165,111  | -41,911,029 (-77.3764%)  |  975 usec  |  100 usec  | 1,148 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 216,660,444  | -167,649,568 (-77.3789%) |  975 usec  |  60 usec   | 1,148 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              
            Reverse Chain Packet Counters and Latency:
            
              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  54,166,633  | -41,924,549 (-77.3992%)  |  963 usec  |  60 usec   | 1,131 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  54,166,633  | -41,921,973 (-77.3945%)  |  958 usec  |  100 usec  | 1,113 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  54,166,633  | -41,924,423 (-77.3990%)  |  961 usec  |  100 usec  | 1,116 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  54,166,633  | -41,923,163 (-77.3967%)  |  943 usec  |  60 usec   | 1,132 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 216,666,532  | -167,694,108 (-77.3973%) |  956 usec  |  60 usec   | 1,132 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              

