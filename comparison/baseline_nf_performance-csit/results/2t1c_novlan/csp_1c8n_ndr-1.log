2018-11-21 13:29:12,923 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-21 13:29:12,955 INFO EXT chain with OpenStack mode disabled
2018-11-21 13:29:12,955 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate ndr --flow-count 1024 --duration 30 --json /tmp/nfvbench/csp_1c8n_ndr-1.json
2018-11-21 13:29:12,957 INFO Connecting to TRex (127.0.0.1)...
2018-11-21 13:29:13,091 INFO Connected to TRex
2018-11-21 13:29:13,092 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-21 13:29:13,092 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-21 13:29:13,092 INFO ChainRunner initialized
2018-11-21 13:29:13,093 INFO Starting 1xEXT benchmark...
2018-11-21 13:29:13,198 INFO Polling ARP until successful...
2018-11-21 13:29:13,309 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-21 13:29:13,309 INFO ARP resolved successfully for port 0
2018-11-21 13:29:13,420 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-21 13:29:13,420 INFO ARP resolved successfully for port 1
2018-11-21 13:29:13,522 INFO Port 0: dst MAC ['52:54:00:00:00:aa']
2018-11-21 13:29:13,522 INFO Port 1: dst MAC ['52:54:00:00:00:bb']
2018-11-21 13:29:13,522 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-21 13:29:13,529 INFO Created 1 traffic streams for port 0.
2018-11-21 13:29:13,530 INFO Created 1 traffic streams for port 1.
2018-11-21 13:29:13,639 INFO Captured unique src mac 0/2, capturing return packets (retry 1/100)...
2018-11-21 13:29:15,760 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-21 13:29:15,760 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-21 13:29:15,760 INFO End-to-end connectivity established
2018-11-21 13:29:15,778 INFO Cleared all existing streams
2018-11-21 13:29:15,786 INFO Created 2 traffic streams for port 0.
2018-11-21 13:29:15,788 INFO Created 2 traffic streams for port 1.
2018-11-21 13:29:15,788 INFO *** Searching NDR for 64 (Bidirectional)...
2018-11-21 13:29:15,788 INFO Range search [0.0 .. 200.0] targets: {'ndr': 0.001}
2018-11-21 13:29:15,788 INFO Modified traffic stream for port 0, new rate=100.0%.
2018-11-21 13:29:15,788 INFO Modified traffic stream for port 1, new rate=100.0%.
2018-11-21 13:29:15,788 INFO Running traffic generator


2018-11-21 13:29:22 - [local][warning]   - [1mCPU util. is high: 86.7%[22m
2018-11-21 13:29:25,810 INFO TX: 411710376; RX: 63647034; Est. Dropped: 348063342; Est. Drop rate: 84.5408%
2018-11-21 13:29:35,824 INFO TX: 823943588; RX: 127218490; Est. Dropped: 696725098; Est. Drop rate: 84.5598%
2018-11-21 13:29:45,823 INFO TX: 1234996997; RX: 190527442; Est. Dropped: 1044469555; Est. Drop rate: 84.5726%
2018-11-21 13:29:47,829 INFO WARNING: There is a significant difference between requested TX rate (74404760) and actual TX rate (41166566). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-21 13:29:47,829 INFO Average drop rate: 84.572639
2018-11-21 13:29:47,829 INFO Range search [0.0 .. 100.0] targets: {'ndr': 0.001}
2018-11-21 13:29:47,829 INFO Modified traffic stream for port 0, new rate=50.0%.
2018-11-21 13:29:47,829 INFO Modified traffic stream for port 1, new rate=50.0%.
2018-11-21 13:29:47,829 INFO Running traffic generator


2018-11-21 13:29:55 - [local][warning]   - [1mCPU util. is high: 85.3%[22m
2018-11-21 13:29:57,854 INFO TX: 372401898; RX: 63448856; Est. Dropped: 308953042; Est. Drop rate: 82.9623%
2018-11-21 13:30:07,868 INFO TX: 744943551; RX: 126922127; Est. Dropped: 618021424; Est. Drop rate: 82.9622%
2018-11-21 13:30:17,857 INFO TX: 1116072674; RX: 190171069; Est. Dropped: 925901605; Est. Drop rate: 82.9607%
2018-11-21 13:30:19,862 INFO Average drop rate: 82.960691
2018-11-21 13:30:19,862 INFO Range search [0.0 .. 50.0] targets: {'ndr': 0.001}
2018-11-21 13:30:19,862 INFO Modified traffic stream for port 0, new rate=25.0%.
2018-11-21 13:30:19,862 INFO Modified traffic stream for port 1, new rate=25.0%.
2018-11-21 13:30:19,862 INFO Running traffic generator
2018-11-21 13:30:29,888 INFO TX: 186195648; RX: 63605149; Est. Dropped: 122590499; Est. Drop rate: 65.8396%
2018-11-21 13:30:39,901 INFO TX: 372447511; RX: 127211655; Est. Dropped: 245235856; Est. Drop rate: 65.8444%
2018-11-21 13:30:49,900 INFO TX: 558035322; RX: 190621021; Est. Dropped: 367414301; Est. Drop rate: 65.8407%
2018-11-21 13:30:51,904 INFO Average drop rate: 65.840689
2018-11-21 13:30:51,904 INFO Range search [0.0 .. 25.0] targets: {'ndr': 0.001}
2018-11-21 13:30:51,904 INFO Modified traffic stream for port 0, new rate=12.5%.
2018-11-21 13:30:51,904 INFO Modified traffic stream for port 1, new rate=12.5%.
2018-11-21 13:30:51,905 INFO Running traffic generator
2018-11-21 13:31:01,930 INFO TX: 93096417; RX: 64447648; Est. Dropped: 28648769; Est. Drop rate: 30.7732%
2018-11-21 13:31:11,944 INFO TX: 186218213; RX: 128850592; Est. Dropped: 57367621; Est. Drop rate: 30.8067%
2018-11-21 13:31:21,940 INFO TX: 279018000; RX: 193047717; Est. Dropped: 85970283; Est. Drop rate: 30.8117%
2018-11-21 13:31:23,945 INFO Average drop rate: 30.811734
2018-11-21 13:31:23,945 INFO Range search [0.0 .. 12.5] targets: {'ndr': 0.001}
2018-11-21 13:31:23,945 INFO Modified traffic stream for port 0, new rate=6.25%.
2018-11-21 13:31:23,945 INFO Modified traffic stream for port 1, new rate=6.25%.
2018-11-21 13:31:23,945 INFO Running traffic generator
2018-11-21 13:31:33,974 INFO TX: 46545958; RX: 46544893; Est. Dropped: 1065; Est. Drop rate: 0.0023%
2018-11-21 13:31:43,986 INFO TX: 93104340; RX: 93103533; Est. Dropped: 807; Est. Drop rate: 0.0009%
2018-11-21 13:31:53,985 INFO TX: 139508928; RX: 139508928; Est. Dropped: 0; Est. Drop rate: 0.0000%
2018-11-21 13:31:55,990 INFO Average drop rate: 0.000000
2018-11-21 13:31:55,990 INFO Range search [6.25 .. 12.5] targets: {'ndr': 0.001}
2018-11-21 13:31:55,990 INFO Modified traffic stream for port 0, new rate=9.375%.
2018-11-21 13:31:55,990 INFO Modified traffic stream for port 1, new rate=9.375%.
2018-11-21 13:31:55,990 INFO Running traffic generator
2018-11-21 13:32:06,013 INFO TX: 69823767; RX: 62471705; Est. Dropped: 7352062; Est. Drop rate: 10.5295%
2018-11-21 13:32:16,026 INFO TX: 139660597; RX: 124958479; Est. Dropped: 14702118; Est. Drop rate: 10.5270%
2018-11-21 13:32:26,019 INFO TX: 209263462; RX: 187242712; Est. Dropped: 22020750; Est. Drop rate: 10.5230%
2018-11-21 13:32:28,024 INFO Average drop rate: 10.522979
2018-11-21 13:32:28,024 INFO Range search [6.25 .. 9.375] targets: {'ndr': 0.001}
2018-11-21 13:32:28,024 INFO Modified traffic stream for port 0, new rate=7.8125%.
2018-11-21 13:32:28,024 INFO Modified traffic stream for port 1, new rate=7.8125%.
2018-11-21 13:32:28,024 INFO Running traffic generator
2018-11-21 13:32:38,049 INFO TX: 58188664; RX: 58186869; Est. Dropped: 1795; Est. Drop rate: 0.0031%
2018-11-21 13:32:48,058 INFO TX: 116370714; RX: 116368451; Est. Dropped: 2263; Est. Drop rate: 0.0019%
2018-11-21 13:32:58,055 INFO TX: 174386162; RX: 174386162; Est. Dropped: 0; Est. Drop rate: 0.0000%
2018-11-21 13:33:00,060 INFO Average drop rate: 0.000000
2018-11-21 13:33:00,060 INFO Range search [7.8125 .. 9.375] targets: {'ndr': 0.001}
2018-11-21 13:33:00,060 INFO Modified traffic stream for port 0, new rate=8.59375%.
2018-11-21 13:33:00,061 INFO Modified traffic stream for port 1, new rate=8.59375%.
2018-11-21 13:33:00,061 INFO Running traffic generator
2018-11-21 13:33:10,084 INFO TX: 64003128; RX: 62617567; Est. Dropped: 1385561; Est. Drop rate: 2.1648%
2018-11-21 13:33:20,098 INFO TX: 128023752; RX: 125528116; Est. Dropped: 2495636; Est. Drop rate: 1.9494%
2018-11-21 13:33:30,093 INFO TX: 191824772; RX: 188252524; Est. Dropped: 3572248; Est. Drop rate: 1.8622%
2018-11-21 13:33:32,098 INFO Average drop rate: 1.862245
2018-11-21 13:33:32,098 INFO Range search [7.8125 .. 8.59375] targets: {'ndr': 0.001}
2018-11-21 13:33:32,099 INFO Modified traffic stream for port 0, new rate=8.203125%.
2018-11-21 13:33:32,099 INFO Modified traffic stream for port 1, new rate=8.203125%.
2018-11-21 13:33:32,099 INFO Running traffic generator
2018-11-21 13:33:42,123 INFO TX: 61092770; RX: 61090233; Est. Dropped: 2537; Est. Drop rate: 0.0042%
2018-11-21 13:33:52,136 INFO TX: 122203611; RX: 122201193; Est. Dropped: 2418; Est. Drop rate: 0.0020%
2018-11-21 13:34:02,126 INFO TX: 183105504; RX: 183105504; Est. Dropped: 0; Est. Drop rate: 0.0000%
2018-11-21 13:34:04,131 INFO Average drop rate: 0.000000
2018-11-21 13:34:04,131 INFO Range search [8.203125 .. 8.59375] targets: {'ndr': 0.001}
2018-11-21 13:34:04,131 INFO Modified traffic stream for port 0, new rate=8.3984375%.
2018-11-21 13:34:04,131 INFO Modified traffic stream for port 1, new rate=8.3984375%.
2018-11-21 13:34:04,131 INFO Running traffic generator
2018-11-21 13:34:14,165 INFO TX: 62544099; RX: 62541217; Est. Dropped: 2882; Est. Drop rate: 0.0046%
2018-11-21 13:34:24,178 INFO TX: 125110685; RX: 125108327; Est. Dropped: 2358; Est. Drop rate: 0.0019%
2018-11-21 13:34:34,175 INFO TX: 187465196; RX: 187465196; Est. Dropped: 0; Est. Drop rate: 0.0000%
2018-11-21 13:34:36,180 INFO Average drop rate: 0.000000
2018-11-21 13:34:36,180 INFO Range search [8.3984375 .. 8.59375] targets: {'ndr': 0.001}
2018-11-21 13:34:36,180 INFO Modified traffic stream for port 0, new rate=8.49609375%.
2018-11-21 13:34:36,180 INFO Modified traffic stream for port 1, new rate=8.49609375%.
2018-11-21 13:34:36,180 INFO Running traffic generator
2018-11-21 13:34:46,205 INFO TX: 63275813; RX: 63272779; Est. Dropped: 3034; Est. Drop rate: 0.0048%
2018-11-21 13:34:56,218 INFO TX: 126568012; RX: 126565481; Est. Dropped: 2531; Est. Drop rate: 0.0020%
2018-11-21 13:35:06,214 INFO TX: 189644980; RX: 189644980; Est. Dropped: 0; Est. Drop rate: 0.0000%
2018-11-21 13:35:08,219 INFO Average drop rate: 0.000000
2018-11-21 13:35:08,219 INFO Range search [8.49609375 .. 8.59375] targets: {'ndr': 0.001}
2018-11-21 13:35:08,219 INFO Found ndr (0.001) load: 8.49609375
2018-11-21 13:35:08,220 INFO NDR load: 16.9921875
2018-11-21 13:35:08,220 INFO Service chain 'EXT' run completed.
2018-11-21 13:35:08,220 INFO Clean up skipped.
2018-11-21 13:35:08,247 INFO Saving results in json file: /tmp/nfvbench/csp_1c8n_ndr-1.json...
2018-11-21 13:35:08,251 INFO 
========== NFVBench Summary ==========
Date: 2018-11-21 13:29:13
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch: 
  Encapsulation: 
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Measurement Parameters:
      NDR: 0.001
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_64B
          Bidirectional: True
          Flow count: 1024
          Service chains count: 1
          Compute nodes: []
            
            Run Summary:
            
              +-----+-----------------+------------------+------------------+-----------------+----------------------+----------------------+----------------------+
              |  -  |   L2 Frame Size |  Rate (fwd+rev)  |  Rate (fwd+rev)  |  Avg Drop Rate  |   Avg Latency (usec) |   Min Latency (usec) |   Max Latency (usec) |
              +=====+=================+==================+==================+=================+======================+======================+======================+
              | NDR |              64 |   4.2480 Gbps    |  6,321,498 pps   |     0.0000%     |                  494 |                   30 |                  633 |
              +-----+-----------------+------------------+------------------+-----------------+----------------------+----------------------+----------------------+
              
            
            L2 frame size: 64
            NDR search duration: 352 seconds
            

