2018-11-28 10:33:11,301 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-28 10:33:11,336 INFO EXT chain with OpenStack mode disabled
2018-11-28 10:33:11,336 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csc_8c2n_18500000pps-1.json
2018-11-28 10:33:11,338 INFO Connecting to TRex (127.0.0.1)...
2018-11-28 10:33:11,481 INFO Connected to TRex
2018-11-28 10:33:11,481 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-28 10:33:11,481 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-28 10:33:11,482 INFO ChainRunner initialized
2018-11-28 10:33:11,483 INFO Starting 8xEXT benchmark...
2018-11-28 10:33:11,587 INFO Polling ARP until successful...
2018-11-28 10:33:11,802 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-28 10:33:11,802 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-28 10:33:11,802 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-28 10:33:11,802 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-28 10:33:11,802 INFO    ARP: port=0 chain=4 src IP=172.16.10.104 dst IP=172.16.10.14 -> MAC=52:54:04:00:00:aa
2018-11-28 10:33:11,802 INFO    ARP: port=0 chain=5 src IP=172.16.10.105 dst IP=172.16.10.15 -> MAC=52:54:05:00:00:aa
2018-11-28 10:33:11,802 INFO    ARP: port=0 chain=6 src IP=172.16.10.106 dst IP=172.16.10.16 -> MAC=52:54:06:00:00:aa
2018-11-28 10:33:11,802 INFO    ARP: port=0 chain=7 src IP=172.16.10.107 dst IP=172.16.10.17 -> MAC=52:54:07:00:00:aa
2018-11-28 10:33:11,802 INFO ARP resolved successfully for port 0
2018-11-28 10:33:12,021 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-28 10:33:12,021 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-28 10:33:12,021 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-28 10:33:12,021 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-28 10:33:12,021 INFO    ARP: port=1 chain=4 src IP=172.16.20.104 dst IP=172.16.20.14 -> MAC=52:54:04:00:00:bb
2018-11-28 10:33:12,021 INFO    ARP: port=1 chain=5 src IP=172.16.20.105 dst IP=172.16.20.15 -> MAC=52:54:05:00:00:bb
2018-11-28 10:33:12,021 INFO    ARP: port=1 chain=6 src IP=172.16.20.106 dst IP=172.16.20.16 -> MAC=52:54:06:00:00:bb
2018-11-28 10:33:12,021 INFO    ARP: port=1 chain=7 src IP=172.16.20.107 dst IP=172.16.20.17 -> MAC=52:54:07:00:00:bb
2018-11-28 10:33:12,021 INFO ARP resolved successfully for port 1
2018-11-28 10:33:12,123 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa', '52:54:04:00:00:aa', '52:54:05:00:00:aa', '52:54:06:00:00:aa', '52:54:07:00:00:aa']
2018-11-28 10:33:12,123 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb', '52:54:04:00:00:bb', '52:54:05:00:00:bb', '52:54:06:00:00:bb', '52:54:07:00:00:bb']
2018-11-28 10:33:12,123 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-28 10:33:12,170 INFO Created 8 traffic streams for port 0.
2018-11-28 10:33:12,175 INFO Created 8 traffic streams for port 1.
2018-11-28 10:33:12,289 INFO Captured unique src mac 0/16, capturing return packets (retry 1/100)...
2018-11-28 10:33:14,414 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-28 10:33:14,414 INFO Received packet from mac: 52:54:06:00:00:bb (chain=6, port=1)
2018-11-28 10:33:14,414 INFO Received packet from mac: 52:54:07:00:00:bb (chain=7, port=1)
2018-11-28 10:33:14,414 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-28 10:33:14,414 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-28 10:33:14,414 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-28 10:33:14,414 INFO Received packet from mac: 52:54:04:00:00:bb (chain=4, port=1)
2018-11-28 10:33:14,415 INFO Received packet from mac: 52:54:05:00:00:bb (chain=5, port=1)
2018-11-28 10:33:14,415 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-28 10:33:14,415 INFO Received packet from mac: 52:54:04:00:00:aa (chain=4, port=0)
2018-11-28 10:33:14,415 INFO Received packet from mac: 52:54:05:00:00:aa (chain=5, port=0)
2018-11-28 10:33:14,415 INFO Received packet from mac: 52:54:07:00:00:aa (chain=7, port=0)
2018-11-28 10:33:14,415 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-28 10:33:14,415 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-28 10:33:14,415 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-28 10:33:14,415 INFO Received packet from mac: 52:54:06:00:00:aa (chain=6, port=0)
2018-11-28 10:33:14,415 INFO End-to-end connectivity established
2018-11-28 10:33:14,436 INFO Cleared all existing streams
2018-11-28 10:33:14,494 INFO Created 16 traffic streams for port 0.
2018-11-28 10:33:14,503 INFO Created 16 traffic streams for port 1.
2018-11-28 10:33:14,503 INFO Starting to generate traffic...
2018-11-28 10:33:14,503 INFO Running traffic generator
2018-11-28 10:33:24,538 INFO TX: 185211645; RX: 33545237; Est. Dropped: 151666408; Est. Drop rate: 81.8882%
2018-11-28 10:33:34,552 INFO TX: 370499888; RX: 67113392; Est. Dropped: 303386496; Est. Drop rate: 81.8857%
2018-11-28 10:33:44,547 INFO TX: 555000032; RX: 100509270; Est. Dropped: 454490762; Est. Drop rate: 81.8902%
2018-11-28 10:33:44,547 INFO ...traffic generating ended.
2018-11-28 10:33:44,576 INFO Cleared all existing streams
2018-11-28 10:33:44,766 INFO Created 32 traffic streams for port 0.
2018-11-28 10:33:44,784 INFO Created 32 traffic streams for port 1.
2018-11-28 10:33:44,784 INFO Starting to generate traffic...
2018-11-28 10:33:44,784 INFO Running traffic generator


2018-11-28 10:33:50 - [local][warning]   - [1mCPU util. is high: 86.4%[22m
2018-11-28 10:33:54,819 INFO TX: 145156946; RX: 18958845; Est. Dropped: 126198101; Est. Drop rate: 86.9391%
2018-11-28 10:34:04,839 INFO TX: 290459138; RX: 37971722; Est. Dropped: 252487416; Est. Drop rate: 86.9270%
2018-11-28 10:34:14,833 INFO TX: 435230760; RX: 56895056; Est. Dropped: 378335704; Est. Drop rate: 86.9276%
2018-11-28 10:34:14,833 INFO ...traffic generating ended.
2018-11-28 10:34:14,843 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14507692). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-28 10:34:14,843 INFO Service chain 'EXT' run completed.
2018-11-28 10:34:14,843 INFO Clean up skipped.
2018-11-28 10:34:14,877 INFO Saving results in json file: /tmp/nfvbench/csc_8c2n_18500000pps-1.json...
2018-11-28 10:34:14,894 INFO
========== NFVBench Summary ==========
Date: 2018-11-28 10:33:11
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch:
  Encapsulation:
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 8
          Compute nodes: []

            Run Summary:

              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |  Avg Latency (usec)  |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  81.8902%   |        3,252         |                  100 |        5,151         |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  86.9276%   |        5,994         |                  100 |        9,229         |
              +-----------------+-------------+----------------------+----------------------+----------------------+


            L2 frame size: 64

            Run Config:

              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.5120 Gbps        |      6.5120 Gbps       |   2.0963 Gbps   |       9,250,000 pps       |     9,250,000 pps      |  2,977,688 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.5120 Gbps        |      6.5120 Gbps       |  262.3246 Mbps  |       9,250,000 pps       |     9,250,000 pps      |   372,620 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       13.0240 Gbps        |      13.0240 Gbps      |   2.3586 Gbps   |      18,500,000 pps       |     18,500,000 pps     |  3,350,308 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+

            Forward Chain Packet Counters and Latency:

              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  34,687,502  | -23,521,412 (-67.8095%)  |  583 usec  |  300 usec  |  704 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  34,687,502  | -23,521,147 (-67.8087%)  | 1,932 usec |  100 usec  | 2,420 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  34,687,502  | -23,521,235 (-67.8090%)  | 1,937 usec |  100 usec  | 2,447 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  34,687,502  | -23,521,004 (-67.8083%)  | 1,914 usec |  200 usec  | 2,354 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  34,687,502  | -23,521,212 (-67.8089%)  | 1,933 usec |  100 usec  | 2,341 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  34,687,502  | -23,520,970 (-67.8082%)  | 1,956 usec |  200 usec  | 2,388 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  34,687,502  | -23,521,187 (-67.8088%)  | 1,989 usec |  100 usec  | 2,439 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  34,687,502  | -23,521,186 (-67.8088%)  | 2,015 usec |  200 usec  | 2,451 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,500,016  | -188,169,353 (-67.8088%) | 1,782 usec |  100 usec  | 2,451 usec |
              +---------+--------------+--------------------------+------------+------------+------------+

            Reverse Chain Packet Counters and Latency:

              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  34,687,502  | -33,290,185 (-95.9717%)  | 4,362 usec |  300 usec  | 5,151 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  34,687,502  | -33,290,190 (-95.9717%)  | 3,291 usec |  600 usec  | 3,767 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  34,687,502  | -33,290,162 (-95.9716%)  | 3,328 usec |  600 usec  | 3,770 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  34,687,502  | -33,290,308 (-95.9721%)  | 3,282 usec |  600 usec  | 3,769 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  34,687,502  | -33,290,134 (-95.9716%)  | 3,281 usec |  600 usec  | 3,772 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  34,687,502  | -33,290,062 (-95.9713%)  | 3,318 usec |  600 usec  | 3,774 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  34,687,502  | -33,290,166 (-95.9716%)  | 3,323 usec |  600 usec  | 3,556 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  34,687,502  | -33,290,202 (-95.9717%)  | 3,318 usec |  600 usec  | 3,776 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,500,016  | -266,321,409 (-95.9717%) | 3,438 usec |  300 usec  | 5,151 usec |
              +---------+--------------+--------------------------+------------+------------+------------+


            L2 frame size: IMIX

            Run Config:

              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      22.1583 Gbps      |   5.1573 Gbps   |       9,250,000 pps       |     7,253,932 pps      |  1,688,332 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      22.1578 Gbps      |  635.8879 Mbps  |       9,250,000 pps       |     7,253,759 pps      |   208,169 pps   |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      44.3162 Gbps      |   5.7932 Gbps   |      18,500,000 pps       |     14,507,691 pps     |  1,896,501 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+

              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14507692). The traffic generator may not have sufficient CPU to achieve the requested TX rate.

            Forward Chain Packet Counters and Latency:

              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  27,202,246  | -20,266,750 (-74.5040%)  |  883 usec  |  200 usec  | 1,890 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  27,202,246  | -20,957,274 (-77.0424%)  | 6,973 usec |  100 usec  | 7,725 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  27,202,246  | -20,957,281 (-77.0425%)  | 6,958 usec |  100 usec  | 7,829 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  27,202,246  | -20,957,290 (-77.0425%)  | 7,013 usec |  100 usec  | 7,883 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  27,202,246  | -20,957,334 (-77.0427%)  | 7,035 usec |  100 usec  | 7,819 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  27,202,246  | -20,957,321 (-77.0426%)  | 6,998 usec |  100 usec  | 7,841 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  27,202,246  | -20,957,289 (-77.0425%)  | 7,031 usec |  100 usec  | 7,912 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  27,202,246  | -20,957,453 (-77.0431%)  | 7,043 usec |  100 usec  | 7,851 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 217,617,968  | -166,967,992 (-76.7253%) | 6,242 usec |  100 usec  | 7,912 usec |
              +---------+--------------+--------------------------+------------+------------+------------+

            Reverse Chain Packet Counters and Latency:

              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  27,201,599  | -26,420,755 (-97.1294%)  | 7,499 usec | 6,000 usec | 9,229 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  27,201,599  | -26,420,681 (-97.1291%)  | 5,727 usec | 4,000 usec | 6,365 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  27,201,599  | -26,420,469 (-97.1284%)  | 5,712 usec | 4,000 usec | 6,366 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  27,201,599  | -26,421,393 (-97.1318%)  | 5,773 usec | 4,000 usec | 6,370 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  27,201,599  | -26,421,131 (-97.1308%)  | 5,779 usec | 4,000 usec | 6,376 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  27,201,599  | -26,421,442 (-97.1319%)  | 5,712 usec | 4,000 usec | 6,379 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  27,201,599  | -26,420,899 (-97.1299%)  | 5,792 usec | 4,000 usec | 6,383 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  27,201,599  | -26,420,942 (-97.1301%)  | 5,724 usec | 4,000 usec | 6,388 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 217,612,792  | -211,367,712 (-97.1302%) | 5,965 usec | 4,000 usec | 9,229 usec |
              +---------+--------------+--------------------------+------------+------------+------------+


