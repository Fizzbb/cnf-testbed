2018-11-28 10:53:56,878 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-28 10:53:56,913 INFO EXT chain with OpenStack mode disabled
2018-11-28 10:53:56,913 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csp_8c1n_18500000pps-1.json
2018-11-28 10:53:56,914 INFO Connecting to TRex (127.0.0.1)...
2018-11-28 10:53:57,058 INFO Connected to TRex
2018-11-28 10:53:57,058 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-28 10:53:57,058 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-28 10:53:57,059 INFO ChainRunner initialized
2018-11-28 10:53:57,060 INFO Starting 8xEXT benchmark...
2018-11-28 10:53:57,165 INFO Polling ARP until successful...
2018-11-28 10:53:57,380 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-28 10:53:57,380 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-28 10:53:57,380 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-28 10:53:57,380 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-28 10:53:57,380 INFO    ARP: port=0 chain=4 src IP=172.16.10.104 dst IP=172.16.10.14 -> MAC=52:54:04:00:00:aa
2018-11-28 10:53:57,380 INFO    ARP: port=0 chain=5 src IP=172.16.10.105 dst IP=172.16.10.15 -> MAC=52:54:05:00:00:aa
2018-11-28 10:53:57,380 INFO    ARP: port=0 chain=6 src IP=172.16.10.106 dst IP=172.16.10.16 -> MAC=52:54:06:00:00:aa
2018-11-28 10:53:57,380 INFO    ARP: port=0 chain=7 src IP=172.16.10.107 dst IP=172.16.10.17 -> MAC=52:54:07:00:00:aa
2018-11-28 10:53:57,380 INFO ARP resolved successfully for port 0
2018-11-28 10:53:57,595 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-28 10:53:57,595 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-28 10:53:57,595 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-28 10:53:57,595 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-28 10:53:57,595 INFO    ARP: port=1 chain=4 src IP=172.16.20.104 dst IP=172.16.20.14 -> MAC=52:54:04:00:00:bb
2018-11-28 10:53:57,596 INFO    ARP: port=1 chain=5 src IP=172.16.20.105 dst IP=172.16.20.15 -> MAC=52:54:05:00:00:bb
2018-11-28 10:53:57,596 INFO    ARP: port=1 chain=6 src IP=172.16.20.106 dst IP=172.16.20.16 -> MAC=52:54:06:00:00:bb
2018-11-28 10:53:57,596 INFO    ARP: port=1 chain=7 src IP=172.16.20.107 dst IP=172.16.20.17 -> MAC=52:54:07:00:00:bb
2018-11-28 10:53:57,596 INFO ARP resolved successfully for port 1
2018-11-28 10:53:57,697 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa', '52:54:04:00:00:aa', '52:54:05:00:00:aa', '52:54:06:00:00:aa', '52:54:07:00:00:aa']
2018-11-28 10:53:57,698 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb', '52:54:04:00:00:bb', '52:54:05:00:00:bb', '52:54:06:00:00:bb', '52:54:07:00:00:bb']
2018-11-28 10:53:57,698 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-28 10:53:57,744 INFO Created 8 traffic streams for port 0.
2018-11-28 10:53:57,748 INFO Created 8 traffic streams for port 1.
2018-11-28 10:53:57,863 INFO Captured unique src mac 0/16, capturing return packets (retry 1/100)...
2018-11-28 10:53:59,988 INFO Received packet from mac: 52:54:05:00:00:bb (chain=5, port=1)
2018-11-28 10:53:59,988 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-28 10:53:59,988 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-28 10:53:59,988 INFO Received packet from mac: 52:54:07:00:00:bb (chain=7, port=1)
2018-11-28 10:53:59,988 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-28 10:53:59,988 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-28 10:53:59,988 INFO Received packet from mac: 52:54:04:00:00:bb (chain=4, port=1)
2018-11-28 10:53:59,988 INFO Received packet from mac: 52:54:06:00:00:bb (chain=6, port=1)
2018-11-28 10:53:59,988 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-28 10:53:59,988 INFO Received packet from mac: 52:54:04:00:00:aa (chain=4, port=0)
2018-11-28 10:53:59,988 INFO Received packet from mac: 52:54:05:00:00:aa (chain=5, port=0)
2018-11-28 10:53:59,988 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-28 10:53:59,988 INFO Received packet from mac: 52:54:07:00:00:aa (chain=7, port=0)
2018-11-28 10:53:59,989 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-28 10:53:59,989 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-28 10:53:59,989 INFO Received packet from mac: 52:54:06:00:00:aa (chain=6, port=0)
2018-11-28 10:53:59,989 INFO End-to-end connectivity established
2018-11-28 10:54:00,009 INFO Cleared all existing streams
2018-11-28 10:54:00,070 INFO Created 16 traffic streams for port 0.
2018-11-28 10:54:00,079 INFO Created 16 traffic streams for port 1.
2018-11-28 10:54:00,079 INFO Starting to generate traffic...
2018-11-28 10:54:00,079 INFO Running traffic generator
2018-11-28 10:54:10,114 INFO TX: 185210963; RX: 53761303; Est. Dropped: 131449660; Est. Drop rate: 70.9729%
2018-11-28 10:54:20,134 INFO TX: 370578584; RX: 107579496; Est. Dropped: 262999088; Est. Drop rate: 70.9699%
2018-11-28 10:54:30,124 INFO TX: 554999984; RX: 161056174; Est. Dropped: 393943810; Est. Drop rate: 70.9809%
2018-11-28 10:54:30,124 INFO ...traffic generating ended.
2018-11-28 10:54:30,154 INFO Cleared all existing streams
2018-11-28 10:54:30,337 INFO Created 32 traffic streams for port 0.
2018-11-28 10:54:30,355 INFO Created 32 traffic streams for port 1.
2018-11-28 10:54:30,355 INFO Starting to generate traffic...
2018-11-28 10:54:30,355 INFO Running traffic generator


2018-11-28 10:54:35 - [local][warning]   - [1mCPU util. is high: 85.6%[22m
2018-11-28 10:54:40,391 INFO TX: 145013948; RX: 34673617; Est. Dropped: 110340331; Est. Drop rate: 76.0895%
2018-11-28 10:54:50,411 INFO TX: 290169578; RX: 69334420; Est. Dropped: 220835158; Est. Drop rate: 76.1056%
2018-11-28 10:55:00,405 INFO TX: 434783829; RX: 103859304; Est. Dropped: 330924525; Est. Drop rate: 76.1124%
2018-11-28 10:55:00,405 INFO ...traffic generating ended.
2018-11-28 10:55:00,416 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14492794). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-28 10:55:00,416 INFO Service chain 'EXT' run completed.
2018-11-28 10:55:00,416 INFO Clean up skipped.
2018-11-28 10:55:00,449 INFO Saving results in json file: /tmp/nfvbench/csp_8c1n_18500000pps-1.json...
2018-11-28 10:55:00,466 INFO
========== NFVBench Summary ==========
Date: 2018-11-28 10:53:57
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch:
  Encapsulation:
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 8
          Compute nodes: []

            Run Summary:

              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |   Avg Latency (usec) |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  70.9809%   |                  557 |                   10 |         716          |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  76.1124%   |                  855 |                   40 |        1,242         |
              +-----------------+-------------+----------------------+----------------------+----------------------+


            L2 frame size: 64

            Run Config:

              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.5120 Gbps        |      6.5120 Gbps       |   1.8897 Gbps   |       9,250,000 pps       |     9,249,999 pps      |  2,684,295 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.5120 Gbps        |      6.5120 Gbps       |   1.8897 Gbps   |       9,250,000 pps       |     9,249,999 pps      |  2,684,243 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       13.0240 Gbps        |      13.0240 Gbps      |   3.7795 Gbps   |      18,500,000 pps       |     18,499,998 pps     |  5,368,538 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+

            Forward Chain Packet Counters and Latency:

              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  34,687,499  | -24,621,307 (-70.9803%)  |  555 usec  |  100 usec  |  706 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  34,687,499  | -24,621,450 (-70.9808%)  |  558 usec  |  100 usec  |  606 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  34,687,499  | -24,621,128 (-70.9798%)  |  558 usec  |  50 usec   |  607 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  34,687,499  | -24,621,125 (-70.9798%)  |  560 usec  |  30 usec   |  612 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  34,687,499  | -24,621,391 (-70.9806%)  |  562 usec  |  100 usec  |  713 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  34,687,499  | -24,621,403 (-70.9806%)  |  565 usec  |  100 usec  |  714 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  34,687,499  | -24,621,734 (-70.9816%)  |  563 usec  |  100 usec  |  715 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  34,687,499  | -24,621,599 (-70.9812%)  |  564 usec  |  10 usec   |  716 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,992  | -196,971,137 (-70.9806%) |  561 usec  |  10 usec   |  716 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+

            Reverse Chain Packet Counters and Latency:

              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  34,687,499  | -24,621,325 (-70.9804%)  |  551 usec  |  100 usec  |  624 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  34,687,499  | -24,621,205 (-70.9801%)  |  555 usec  |  100 usec  |  667 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  34,687,499  | -24,621,749 (-70.9816%)  |  555 usec  |  100 usec  |  627 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  34,687,499  | -24,621,760 (-70.9817%)  |  556 usec  |  100 usec  |  629 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  34,687,499  | -24,621,813 (-70.9818%)  |  557 usec  |  100 usec  |  630 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  34,687,499  | -24,621,604 (-70.9812%)  |  558 usec  |  100 usec  |  632 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  34,687,499  | -24,622,030 (-70.9824%)  |  560 usec  |  100 usec  |  676 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  34,687,499  | -24,621,187 (-70.9800%)  |  561 usec  |  100 usec  |  634 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,992  | -196,972,673 (-70.9811%) |  557 usec  |  100 usec  |  676 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+


            L2 frame size: IMIX

            Run Config:

              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      22.1355 Gbps      |   4.3941 Gbps   |       9,250,000 pps       |     7,246,455 pps      |  1,438,475 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      22.1351 Gbps      |   6.1811 Gbps   |       9,250,000 pps       |     7,246,338 pps      |  2,023,501 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      44.2707 Gbps      |  10.5752 Gbps   |      18,500,000 pps       |     14,492,793 pps     |  3,461,976 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+

              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14492794). The traffic generator may not have sufficient CPU to achieve the requested TX rate.

            Forward Chain Packet Counters and Latency:

              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  27,174,209  | -21,778,458 (-80.1439%)  |  924 usec  |  60 usec   | 1,214 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  27,174,209  | -21,780,679 (-80.1520%)  |  913 usec  |  50 usec   | 1,220 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  27,174,209  | -21,778,833 (-80.1452%)  |  934 usec  |  70 usec   | 1,221 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  27,174,208  | -21,780,328 (-80.1507%)  |  944 usec  |  70 usec   | 1,227 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  27,174,209  | -21,780,937 (-80.1530%)  |  938 usec  |  70 usec   | 1,226 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  27,174,208  | -21,779,952 (-80.1494%)  |  951 usec  |  60 usec   | 1,231 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  27,174,209  | -21,779,731 (-80.1485%)  |  941 usec  |  50 usec   | 1,242 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  27,174,208  | -21,780,495 (-80.1514%)  |  941 usec  |  40 usec   | 1,236 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 217,393,669  | -174,239,413 (-80.1493%) |  936 usec  |  40 usec   | 1,242 usec |
              +---------+--------------+--------------------------+------------+------------+------------+

            Reverse Chain Packet Counters and Latency:

              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  27,173,770  | -19,586,367 (-72.0782%)  |  745 usec  |  200 usec  |  952 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  27,173,770  | -19,587,296 (-72.0816%)  |  741 usec  |  200 usec  |  951 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  27,173,770  | -19,583,419 (-72.0674%)  |  752 usec  |  200 usec  |  959 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  27,173,770  | -19,586,108 (-72.0773%)  |  743 usec  |  200 usec  |  962 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  27,173,770  | -19,585,313 (-72.0743%)  |  744 usec  |  200 usec  |  973 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  27,173,770  | -19,585,657 (-72.0756%)  |  745 usec  |  200 usec  |  954 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    6    |  27,173,770  | -19,585,132 (-72.0737%)  |  746 usec  |  200 usec  |  954 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    7    |  27,173,770  | -19,585,820 (-72.0762%)  |  745 usec  |  300 usec  |  968 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 217,390,160  | -156,685,112 (-72.0755%) |  745 usec  |  200 usec  |  973 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+


