2018-11-28 11:37:58,854 INFO Loading configuration file: /tmp/nfvbench/nfvbench_config.cfg
2018-11-28 11:37:58,887 INFO EXT chain with OpenStack mode disabled
2018-11-28 11:37:58,887 INFO -c /tmp/nfvbench/nfvbench_config.cfg --rate 18500000pps --flow-count 1024 --duration 30 --json /tmp/nfvbench/csp_6c1n_18500000pps-1.json
2018-11-28 11:37:58,889 INFO Connecting to TRex (127.0.0.1)...
2018-11-28 11:37:59,027 INFO Connected to TRex
2018-11-28 11:37:59,027 INFO    Port 0: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:60 pci=0000:3b:00.0 driver=net_i40e
2018-11-28 11:37:59,027 INFO    Port 1: Device 158b speed=25Gbps mac=3c:fd:fe:bd:f8:61 pci=0000:3b:00.1 driver=net_i40e
2018-11-28 11:37:59,028 INFO ChainRunner initialized
2018-11-28 11:37:59,029 INFO Starting 6xEXT benchmark...
2018-11-28 11:37:59,133 INFO Polling ARP until successful...
2018-11-28 11:37:59,346 INFO    ARP: port=0 chain=0 src IP=172.16.10.100 dst IP=172.16.10.10 -> MAC=52:54:00:00:00:aa
2018-11-28 11:37:59,346 INFO    ARP: port=0 chain=1 src IP=172.16.10.101 dst IP=172.16.10.11 -> MAC=52:54:01:00:00:aa
2018-11-28 11:37:59,346 INFO    ARP: port=0 chain=2 src IP=172.16.10.102 dst IP=172.16.10.12 -> MAC=52:54:02:00:00:aa
2018-11-28 11:37:59,346 INFO    ARP: port=0 chain=3 src IP=172.16.10.103 dst IP=172.16.10.13 -> MAC=52:54:03:00:00:aa
2018-11-28 11:37:59,346 INFO    ARP: port=0 chain=4 src IP=172.16.10.104 dst IP=172.16.10.14 -> MAC=52:54:04:00:00:aa
2018-11-28 11:37:59,346 INFO    ARP: port=0 chain=5 src IP=172.16.10.105 dst IP=172.16.10.15 -> MAC=52:54:05:00:00:aa
2018-11-28 11:37:59,347 INFO ARP resolved successfully for port 0
2018-11-28 11:37:59,559 INFO    ARP: port=1 chain=0 src IP=172.16.20.100 dst IP=172.16.20.10 -> MAC=52:54:00:00:00:bb
2018-11-28 11:37:59,560 INFO    ARP: port=1 chain=1 src IP=172.16.20.101 dst IP=172.16.20.11 -> MAC=52:54:01:00:00:bb
2018-11-28 11:37:59,560 INFO    ARP: port=1 chain=2 src IP=172.16.20.102 dst IP=172.16.20.12 -> MAC=52:54:02:00:00:bb
2018-11-28 11:37:59,560 INFO    ARP: port=1 chain=3 src IP=172.16.20.103 dst IP=172.16.20.13 -> MAC=52:54:03:00:00:bb
2018-11-28 11:37:59,560 INFO    ARP: port=1 chain=4 src IP=172.16.20.104 dst IP=172.16.20.14 -> MAC=52:54:04:00:00:bb
2018-11-28 11:37:59,560 INFO    ARP: port=1 chain=5 src IP=172.16.20.105 dst IP=172.16.20.15 -> MAC=52:54:05:00:00:bb
2018-11-28 11:37:59,560 INFO ARP resolved successfully for port 1
2018-11-28 11:37:59,662 INFO Port 0: dst MAC ['52:54:00:00:00:aa', '52:54:01:00:00:aa', '52:54:02:00:00:aa', '52:54:03:00:00:aa', '52:54:04:00:00:aa', '52:54:05:00:00:aa']
2018-11-28 11:37:59,662 INFO Port 1: dst MAC ['52:54:00:00:00:bb', '52:54:01:00:00:bb', '52:54:02:00:00:bb', '52:54:03:00:00:bb', '52:54:04:00:00:bb', '52:54:05:00:00:bb']
2018-11-28 11:37:59,662 INFO Starting traffic generator to ensure end-to-end connectivity
2018-11-28 11:37:59,697 INFO Created 6 traffic streams for port 0.
2018-11-28 11:37:59,701 INFO Created 6 traffic streams for port 1.
2018-11-28 11:37:59,814 INFO Captured unique src mac 0/12, capturing return packets (retry 1/100)...
2018-11-28 11:38:01,936 INFO Received packet from mac: 52:54:00:00:00:bb (chain=0, port=1)
2018-11-28 11:38:01,936 INFO Received packet from mac: 52:54:03:00:00:bb (chain=3, port=1)
2018-11-28 11:38:01,937 INFO Received packet from mac: 52:54:05:00:00:bb (chain=5, port=1)
2018-11-28 11:38:01,937 INFO Received packet from mac: 52:54:01:00:00:bb (chain=1, port=1)
2018-11-28 11:38:01,937 INFO Received packet from mac: 52:54:02:00:00:bb (chain=2, port=1)
2018-11-28 11:38:01,937 INFO Received packet from mac: 52:54:04:00:00:bb (chain=4, port=1)
2018-11-28 11:38:01,937 INFO Received packet from mac: 52:54:03:00:00:aa (chain=3, port=0)
2018-11-28 11:38:01,937 INFO Received packet from mac: 52:54:00:00:00:aa (chain=0, port=0)
2018-11-28 11:38:01,937 INFO Received packet from mac: 52:54:01:00:00:aa (chain=1, port=0)
2018-11-28 11:38:01,937 INFO Received packet from mac: 52:54:02:00:00:aa (chain=2, port=0)
2018-11-28 11:38:01,937 INFO Received packet from mac: 52:54:04:00:00:aa (chain=4, port=0)
2018-11-28 11:38:01,937 INFO Received packet from mac: 52:54:05:00:00:aa (chain=5, port=0)
2018-11-28 11:38:01,937 INFO End-to-end connectivity established
2018-11-28 11:38:01,956 INFO Cleared all existing streams
2018-11-28 11:38:02,000 INFO Created 12 traffic streams for port 0.
2018-11-28 11:38:02,007 INFO Created 12 traffic streams for port 1.
2018-11-28 11:38:02,007 INFO Starting to generate traffic...
2018-11-28 11:38:02,007 INFO Running traffic generator
2018-11-28 11:38:12,038 INFO TX: 185207978; RX: 54580418; Est. Dropped: 130627560; Est. Drop rate: 70.5302%
2018-11-28 11:38:22,054 INFO TX: 370522305; RX: 109162311; Est. Dropped: 261359994; Est. Drop rate: 70.5383%
2018-11-28 11:38:32,047 INFO TX: 554999952; RX: 163484196; Est. Dropped: 391515756; Est. Drop rate: 70.5434%
2018-11-28 11:38:32,047 INFO ...traffic generating ended.
2018-11-28 11:38:32,074 INFO Cleared all existing streams
2018-11-28 11:38:32,226 INFO Created 24 traffic streams for port 0.
2018-11-28 11:38:32,240 INFO Created 24 traffic streams for port 1.
2018-11-28 11:38:32,240 INFO Starting to generate traffic...
2018-11-28 11:38:32,240 INFO Running traffic generator


2018-11-28 11:38:37 - [local][warning]   - [1mCPU util. is high: 86.3%[22m
2018-11-28 11:38:42,271 INFO TX: 144611702; RX: 35552716; Est. Dropped: 109058986; Est. Drop rate: 75.4150%
2018-11-28 11:38:52,287 INFO TX: 289281909; RX: 71156940; Est. Dropped: 218124969; Est. Drop rate: 75.4022%
2018-11-28 11:39:02,286 INFO TX: 433561248; RX: 106605890; Est. Dropped: 326955358; Est. Drop rate: 75.4116%
2018-11-28 11:39:02,286 INFO ...traffic generating ended.
2018-11-28 11:39:02,293 INFO WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14452041). The traffic generator may not have sufficient CPU to achieve the requested TX rate.
2018-11-28 11:39:02,294 INFO Service chain 'EXT' run completed.
2018-11-28 11:39:02,294 INFO Clean up skipped.
2018-11-28 11:39:02,325 INFO Saving results in json file: /tmp/nfvbench/csp_6c1n_18500000pps-1.json...
2018-11-28 11:39:02,341 INFO
========== NFVBench Summary ==========
Date: 2018-11-28 11:37:59
NFVBench version 2.0.5
Openstack Neutron:
  vSwitch:
  Encapsulation:
Benchmarks:
> Networks:
  > Components:
    > Traffic Generator:
        Profile: trex-local
        Tool: TRex
    > Versions:
      > Traffic_Generator:
          build_date: Nov 13 2017
          version: v2.32
          built_by: hhaim
          mode: STL
          build_time: 10:58:17
  > Service chain:
    > EXT:
      > Traffic:
          Profile: traffic_profile_2sizes
          Bidirectional: True
          Flow count: 1024
          Service chains count: 6
          Compute nodes: []

            Run Summary:

              +-----------------+-------------+----------------------+----------------------+----------------------+
              |  L2 Frame Size  |  Drop Rate  |   Avg Latency (usec) |   Min Latency (usec) |  Max Latency (usec)  |
              +=================+=============+======================+======================+======================+
              |       64        |  70.5434%   |                  542 |                  100 |         709          |
              +-----------------+-------------+----------------------+----------------------+----------------------+
              |      IMIX       |  75.4116%   |                  838 |                   30 |        1,100         |
              +-----------------+-------------+----------------------+----------------------+----------------------+


            L2 frame size: 64

            Run Config:

              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |        6.5120 Gbps        |      6.5120 Gbps       |   1.9183 Gbps   |       9,250,000 pps       |     9,249,999 pps      |  2,724,865 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |        6.5120 Gbps        |      6.5120 Gbps       |   1.9181 Gbps   |       9,250,000 pps       |     9,249,999 pps      |  2,724,607 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       13.0240 Gbps        |      13.0240 Gbps      |   3.8364 Gbps   |      18,500,000 pps       |     18,499,998 pps     |  5,449,472 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+

            Forward Chain Packet Counters and Latency:

              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  46,249,996  | -32,622,848 (-70.5359%)  |  530 usec  |  100 usec  |  585 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  46,249,996  | -32,624,806 (-70.5401%)  |  532 usec  |  100 usec  |  586 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  46,249,996  | -32,632,053 (-70.5558%)  |  532 usec  |  100 usec  |  589 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  46,249,996  | -32,624,835 (-70.5402%)  |  534 usec  |  100 usec  |  591 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  46,249,996  | -32,626,470 (-70.5437%)  |  537 usec  |  100 usec  |  592 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  46,249,996  | -32,623,007 (-70.5362%)  |  539 usec  |  100 usec  |  595 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,976  | -195,754,019 (-70.5420%) |  534 usec  |  100 usec  |  595 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+

            Reverse Chain Packet Counters and Latency:

              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  46,249,996  | -32,627,068 (-70.5450%)  |  547 usec  |  200 usec  |  707 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  46,249,996  | -32,625,552 (-70.5417%)  |  548 usec  |  100 usec  |  709 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  46,249,996  | -32,626,881 (-70.5446%)  |  550 usec  |  200 usec  |  637 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  46,249,996  | -32,626,372 (-70.5435%)  |  552 usec  |  100 usec  |  639 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  46,249,996  | -32,627,408 (-70.5458%)  |  554 usec  |  100 usec  |  640 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  46,249,996  | -32,628,456 (-70.5480%)  |  556 usec  |  100 usec  |  643 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 277,499,976  | -195,761,737 (-70.5448%) |  551 usec  |  100 usec  |  709 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+


            L2 frame size: IMIX

            Run Config:

              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |  Direction  |  Requested TX Rate (bps)  |  Actual TX Rate (bps)  |  RX Rate (bps)  |  Requested TX Rate (pps)  |  Actual TX Rate (pps)  |  RX Rate (pps)  |
              +=============+===========================+========================+=================+===========================+========================+=================+
              |   Forward   |       28.2557 Gbps        |      22.0731 Gbps      |   6.3390 Gbps   |       9,250,000 pps       |     7,226,032 pps      |  2,075,201 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |   Reverse   |       28.2557 Gbps        |      22.0730 Gbps      |   4.5158 Gbps   |       9,250,000 pps       |     7,226,008 pps      |  1,478,328 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+
              |    Total    |       56.5113 Gbps        |      44.1462 Gbps      |  10.8548 Gbps   |      18,500,000 pps       |     14,452,040 pps     |  3,553,529 pps  |
              +-------------+---------------------------+------------------------+-----------------+---------------------------+------------------------+-----------------+

              WARNING: There is a significant difference between requested TX rate (18500000.0) and actual TX rate (14452041). The traffic generator may not have sufficient CPU to achieve the requested TX rate.

            Forward Chain Packet Counters and Latency:

              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p0  |        TRex.RX.p1        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  36,130,164  | -25,754,683 (-71.2831%)  |  763 usec  |  30 usec   |  930 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  36,130,164  | -25,752,663 (-71.2775%)  |  755 usec  |  70 usec   |  938 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  36,130,164  | -25,753,787 (-71.2806%)  |  761 usec  |  30 usec   |  947 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  36,130,164  | -25,754,469 (-71.2825%)  |  761 usec  |  60 usec   |  928 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  36,130,164  | -25,753,840 (-71.2807%)  |  759 usec  |  50 usec   |  940 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  36,130,164  | -25,755,496 (-71.2853%)  |  752 usec  |  40 usec   |  938 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 216,780,984  | -154,524,938 (-71.2816%) |  759 usec  |  30 usec   |  947 usec  |
              +---------+--------------+--------------------------+------------+------------+------------+

            Reverse Chain Packet Counters and Latency:

              +---------+--------------+--------------------------+------------+------------+------------+
              |  Chain  |  TRex.TX.p1  |        TRex.RX.p0        |  Avg lat.  |  Min lat.  |  Max lat.  |
              +=========+==============+==========================+============+============+============+
              |    0    |  36,130,044  | -28,737,429 (-79.5389%)  |  890 usec  |  400 usec  | 1,073 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    1    |  36,130,044  | -28,737,655 (-79.5395%)  |  892 usec  |  400 usec  | 1,079 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    2    |  36,130,044  | -28,739,976 (-79.5459%)  |  895 usec  |  300 usec  | 1,083 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    3    |  36,130,044  | -28,739,130 (-79.5436%)  |  899 usec  |  400 usec  | 1,090 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    4    |  36,130,044  | -28,738,343 (-79.5414%)  |  899 usec  |  200 usec  | 1,093 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |    5    |  36,130,044  | -28,737,887 (-79.5401%)  |  902 usec  |  200 usec  | 1,100 usec |
              +---------+--------------+--------------------------+------------+------------+------------+
              |  total  | 216,780,264  | -172,430,420 (-79.5416%) |  896 usec  |  200 usec  | 1,100 usec |
              +---------+--------------+--------------------------+------------+------------+------------+


