fatal: [147.75.201.110]: FAILED! => {"changed": true, "cmd": ["chef-client", "-z", "-E", "multinode", "-r", "role[multinode-controller]"], "delta": "0:04:11.946476", "end": "2019-04-26 14:51:17.309993", "msg": "non-zero return code", "rc": 1, "start": "2019-04-26 14:47:05.363517", "stderr": "/opt/chefdk/embedded/lib/ruby/gems/2.5.0/gems/ohai-14.6.2/lib/ohai/plugins/windows/filesystem.rb:26: warning: already initialized constant CONVERSION_STATUS
/opt/chefdk/embedded/lib/ruby/gems/2.5.0/gems/ohai-14.6.2/lib/ohai/plugins/windows/filesystem.rb:26: warning: previous definition of CONVERSION_STATUS was here", "stderr_lines": ["/opt/chefdk/embedded/lib/ruby/gems/2.5.0/gems/ohai-14.6.2/lib/ohai/plugins/windows/filesystem.rb:26: warning: already initialized constant CONVERSION_STATUS", "/opt/chefdk/embedded/lib/ruby/gems/2.5.0/gems/ohai-14.6.2/lib/ohai/plugins/windows/filesystem.rb:26: warning: previous definition of CONVERSION_STATUS was here"], "stdout": "[2019-04-26T14:47:07+00:00] WARN: No config file found or specified on command line, using command line options.
Starting Chef Client, version 14.6.47\u001b[0m
resolving cookbooks for run list: [\"build-essential\", \"openstack-common\", \"openstack-common::logging\", \"openstack-common::sysctl\", \"openstack-common::python\", \"openstack-common::client\", \"openstack-ops-database::server\", \"openstack-ops-database::openstack-db\", \"openstack-ops-messaging::rabbitmq-server\", \"openstack-identity::server-apache\", \"openstack-identity::registration\", \"openstack-identity::openrc\", \"openstack-image::api\", \"openstack-image::registry\", \"openstack-image::identity_registration\", \"openstack-network\", \"openstack-network::server\", \"openstack-network::ml2_core_plugin\", \"openstack-network::dhcp_agent\", \"openstack-network::metadata_agent\", \"openstack-compute::nova-setup\", \"openstack-compute::identity_registration\", \"openstack-compute::conductor\", \"openstack-compute::api-os-compute\", \"openstack-compute::api-metadata\", \"openstack-compute::placement_api\", \"openstack-compute::scheduler\", \"openstack-compute::vncproxy\", \"openstack-orchestration::engine\", \"openstack-orchestration::api\", \"openstack-orchestration::api-cfn\", \"openstack-orchestration::identity_registration\", \"openstack-image::image_upload\", \"openstack-dashboard::horizon\"]\u001b[0m
Synchronizing Cookbooks:\u001b[0m
  - build-essential (8.2.1)\u001b[0m
  - openstack-common (18.0.0)\u001b[0m
  - openstack-ops-database (18.0.0)\u001b[0m
  - openstack-ops-messaging (18.0.0)\u001b[0m
  - openstack-identity (18.0.0)\u001b[0m
  - openstack-image (18.0.0)\u001b[0m
  - openstack-network (18.0.0)\u001b[0m
  - openstack-compute (18.0.0)\u001b[0m
  - openstack-orchestration (18.0.0)\u001b[0m
  - openstack-dashboard (18.0.0)\u001b[0m
  - seven_zip (3.1.0)\u001b[0m
  - mingw (2.1.0)\u001b[0m
  - etcd (5.6.0)\u001b[0m
  - mariadb (1.5.4)\u001b[0m
  - memcached (4.1.0)\u001b[0m
  - mysql (8.5.1)\u001b[0m
  - poise-python (1.7.0)\u001b[0m
  - selinux (2.1.1)\u001b[0m
  - mysql2_chef_gem (2.1.0)\u001b[0m
  - rabbitmq (5.8.0)\u001b[0m
  - openstackclient (18.0.0)\u001b[0m
  - apache2 (5.0.1)\u001b[0m
  - windows (6.0.0)\u001b[0m
  - docker (4.9.2)\u001b[0m
  - apt (7.1.1)\u001b[0m
  - selinux_policy (2.3.4)\u001b[0m
  - yum (5.1.0)\u001b[0m
  - yum-epel (3.3.0)\u001b[0m
  - yum-scl (0.2.0)\u001b[0m
  - runit (5.1.0)\u001b[0m
  - poise (2.8.2)\u001b[0m
  - poise-languages (2.1.2)\u001b[0m
  - erlang (7.0.0)\u001b[0m
  - yum-erlang_solutions (2.0.0)\u001b[0m
  - dpkg_autostart (0.2.0)\u001b[0m
  - logrotate (2.2.0)\u001b[0m
  - inifile_chef_gem (0.1.0)\u001b[0m
  - packagecloud (1.0.1)\u001b[0m
  - poise-archive (1.5.0)\u001b[0m
Installing Cookbook Gems:\u001b[0m
Compiling Cookbooks...\u001b[0m
Converging 391 resources\u001b[0m
Recipe: build-essential::default\u001b[0m
  * build_essential[install_packages] action install
    * yum_package[autoconf, bison, flex, gcc, gcc-c++, gettext, kernel-devel, make, m4, ncurses-devel, patch] action install
      \u001b[32m- install version 0:2.69-11.el7.noarch of package autoconf\u001b[0m
      \u001b[32m- install version 0:3.0.4-2.el7.x86_64 of package bison\u001b[0m
      \u001b[32m- install version 0:2.5.37-6.el7.x86_64 of package flex\u001b[0m
      \u001b[32m- install version 0:4.8.5-36.el7_6.1.x86_64 of package gcc\u001b[0m
      \u001b[32m- install version 0:4.8.5-36.el7_6.1.x86_64 of package gcc-c++\u001b[0m
      \u001b[32m- install version 0:3.10.0-957.10.1.el7.x86_64 of package kernel-devel\u001b[0m
      \u001b[32m- install version 0:5.9-14.20130511.el7_4.x86_64 of package ncurses-devel\u001b[0m
\u001b[0m  
\u001b[0mRecipe: openstack-common::default\u001b[0m
  * yum_repository[RDO-rocky] action add
    * template[/etc/yum.repos.d/RDO-rocky.repo] action create
      \u001b[32m- create new file /etc/yum.repos.d/RDO-rocky.repo\u001b[0m
      \u001b[32m- update content in file /etc/yum.repos.d/RDO-rocky.repo from none to 1643ff\u001b[0m
      \u001b[37m--- /etc/yum.repos.d/RDO-rocky.repo\t2019-04-26 14:47:46.273942913 +0000\u001b[0m
      \u001b[37m+++ /etc/yum.repos.d/.chef-RDO-rocky20190426-67198-1mfvex5.repo\t2019-04-26 14:47:46.272942877 +0000\u001b[0m
      \u001b[37m@@ -1 +1,11 @@\u001b[0m
      \u001b[37m+# This file was generated by Chef\u001b[0m
      \u001b[37m+# Do NOT modify this file by hand.\u001b[0m
      \u001b[37m+\u001b[0m
      \u001b[37m+[RDO-rocky]\u001b[0m
      \u001b[37m+name=OpenStack RDO repo for rocky\u001b[0m
      \u001b[37m+baseurl=http://mirror.centos.org/centos/$releasever/cloud/$basearch/openstack-rocky\u001b[0m
      \u001b[37m+enabled=1\u001b[0m
      \u001b[37m+fastestmirror_enabled=0\u001b[0m
      \u001b[37m+gpgcheck=1\u001b[0m
      \u001b[37m+gpgkey=https://github.com/rdo-infra/rdo-release/raw/rocky-rdo/RPM-GPG-KEY-CentOS-SIG-Cloud\u001b[0m
      \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m    * execute[yum clean metadata RDO-rocky] action run
      \u001b[32m- execute yum clean metadata --disablerepo=* --enablerepo=RDO-rocky\u001b[0m
\u001b[0m    * execute[yum-makecache-RDO-rocky] action run
      \u001b[32m- execute yum -q -y makecache --disablerepo=* --enablerepo=RDO-rocky\u001b[0m
\u001b[0m    * ruby_block[package-cache-reload-RDO-rocky] action create
      \u001b[32m- execute the ruby block package-cache-reload-RDO-rocky\u001b[0m
\u001b[0m    * execute[yum clean metadata RDO-rocky] action nothing (skipped due to action :nothing)
    * execute[yum-makecache-RDO-rocky] action nothing (skipped due to action :nothing)
    * ruby_block[package-cache-reload-RDO-rocky] action nothing (skipped due to action :nothing)
  
\u001b[0m  * yum_repository[RDO-rocky-deps] action remove
    * execute[yum clean all RDO-rocky-deps] action run (skipped due to only_if)
    * file[/etc/yum.repos.d/RDO-rocky-deps.repo] action delete (up to date)
    * ruby_block[package-cache-reload-RDO-rocky-deps] action nothing (skipped due to action :nothing)
     (up to date)
  * bash[yum_contentdir] action run (skipped due to not_if)
  * yum_package[centos-release-qemu-ev] action upgrade
    \u001b[32m- upgrade package centos-release-qemu-ev from uninstalled to 0:1.0-4.el7.centos.noarch\u001b[0m
\u001b[0m  * python_runtime[2] action install
    * poise_languages_system[python] action install
      \u001b[32m- install version 0:2.7.5-77.el7_6.x86_64 of package python-devel\u001b[0m
\u001b[0m    * yum_package[python, python-devel] action nothing (skipped due to action :nothing)
  
\u001b[0m  * python_runtime_pip[2] action install
    * python_package[pip] action upgrade
      \u001b[32m- upgrade(allow_downgrade) package pip from 8.1.2 to 18.0\u001b[0m
\u001b[0m  
\u001b[0m  * python_package[setuptools] action install
    \u001b[32m- install version 40.0.0 of package setuptools\u001b[0m
\u001b[0m  * python_package[wheel] action install
    \u001b[32m- install version 0.31.1 of package wheel\u001b[0m
\u001b[0m  * python_package[virtualenv] action install
    \u001b[32m- install version 16.5.0 of package virtualenv\u001b[0m
\u001b[0m
\u001b[0mRecipe: openstack-common::logging\u001b[0m
  * directory[/etc/openstack] action create
    \u001b[32m- create new directory /etc/openstack\u001b[0m
    \u001b[32m- change mode from '' to '0755'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0m  * template[/etc/openstack/logging.conf] action create
    \u001b[32m- create new file /etc/openstack/logging.conf\u001b[0m
    \u001b[32m- update content in file /etc/openstack/logging.conf from none to d41178\u001b[0m
    \u001b[37m--- /etc/openstack/logging.conf\t2019-04-26 14:48:10.275809189 +0000\u001b[0m
    \u001b[37m+++ /etc/openstack/.chef-logging20190426-67198-h1582g.conf\t2019-04-26 14:48:10.274809153 +0000\u001b[0m
    \u001b[37m@@ -1 +1,135 @@\u001b[0m
    \u001b[37m+[loggers]\u001b[0m
    \u001b[37m+keys=root,ceilometer,cinder,glance,horizon,keystone,nova,neutron,trove,amqplib,sqlalchemy,boto,suds,eventletwsgi,nova_api_openstack_wsgi,nova_osapi_compute_wsgi_server\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[formatters]\u001b[0m
    \u001b[37m+keys=normal,normal_with_name,debug,syslog_with_name,syslog_debug\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[handlers]\u001b[0m
    \u001b[37m+keys=stderr,devel,prod,debug\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+## LOGGERS ##\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_root]\u001b[0m
    \u001b[37m+level=NOTSET\u001b[0m
    \u001b[37m+handlers=devel\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_ceilometer]\u001b[0m
    \u001b[37m+level=DEBUG\u001b[0m
    \u001b[37m+handlers=prod,debug\u001b[0m
    \u001b[37m+qualname=ceilometer\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_cinder]\u001b[0m
    \u001b[37m+level=DEBUG\u001b[0m
    \u001b[37m+handlers=prod,debug\u001b[0m
    \u001b[37m+qualname=cinder\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_glance]\u001b[0m
    \u001b[37m+level=DEBUG\u001b[0m
    \u001b[37m+handlers=prod,debug\u001b[0m
    \u001b[37m+qualname=glance\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_horizon]\u001b[0m
    \u001b[37m+level=DEBUG\u001b[0m
    \u001b[37m+handlers=prod,debug\u001b[0m
    \u001b[37m+qualname=horizon\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_keystone]\u001b[0m
    \u001b[37m+level=DEBUG\u001b[0m
    \u001b[37m+handlers=prod,debug\u001b[0m
    \u001b[37m+qualname=keystone\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_nova]\u001b[0m
    \u001b[37m+level=DEBUG\u001b[0m
    \u001b[37m+handlers=prod,debug\u001b[0m
    \u001b[37m+qualname=nova\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_neutron]\u001b[0m
    \u001b[37m+level=DEBUG\u001b[0m
    \u001b[37m+handlers=prod,debug\u001b[0m
    \u001b[37m+qualname=neutron\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_trove]\u001b[0m
    \u001b[37m+level=DEBUG\u001b[0m
    \u001b[37m+handlers=prod,debug\u001b[0m
    \u001b[37m+qualname=trove\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_amqplib]\u001b[0m
    \u001b[37m+level=WARNING\u001b[0m
    \u001b[37m+handlers=stderr\u001b[0m
    \u001b[37m+qualname=amqplib\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_sqlalchemy]\u001b[0m
    \u001b[37m+level=WARNING\u001b[0m
    \u001b[37m+handlers=stderr\u001b[0m
    \u001b[37m+qualname=sqlalchemy\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_boto]\u001b[0m
    \u001b[37m+level=WARNING\u001b[0m
    \u001b[37m+handlers=stderr\u001b[0m
    \u001b[37m+qualname=boto\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_suds]\u001b[0m
    \u001b[37m+level=INFO\u001b[0m
    \u001b[37m+handlers=stderr\u001b[0m
    \u001b[37m+qualname=suds\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_eventletwsgi]\u001b[0m
    \u001b[37m+level=WARNING\u001b[0m
    \u001b[37m+handlers=stderr\u001b[0m
    \u001b[37m+qualname=eventlet.wsgi.server\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_nova_api_openstack_wsgi]\u001b[0m
    \u001b[37m+level=WARNING\u001b[0m
    \u001b[37m+handlers=prod,debug\u001b[0m
    \u001b[37m+qualname=nova.api.openstack.wsgi\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[logger_nova_osapi_compute_wsgi_server]\u001b[0m
    \u001b[37m+level=WARNING\u001b[0m
    \u001b[37m+handlers=prod,debug\u001b[0m
    \u001b[37m+qualname=nova.osapi_compute.wsgi.server\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+## FORMATTERS ##\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[formatter_normal]\u001b[0m
    \u001b[37m+format=%(asctime)s %(levelname)s %(message)s\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[formatter_normal_with_name]\u001b[0m
    \u001b[37m+format=[%(name)s]: %(asctime)s %(levelname)s %(message)s\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[formatter_debug]\u001b[0m
    \u001b[37m+format=[%(name)s]: %(asctime)s %(levelname)s %(module)s.%(funcName)s %(message)s\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[formatter_syslog_with_name]\u001b[0m
    \u001b[37m+format=%(name)s: %(levelname)s %(message)s\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[formatter_syslog_debug]\u001b[0m
    \u001b[37m+format=%(name)s: %(levelname)s %(module)s.%(funcName)s %(message)s\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+## HANDLERS ##\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[handler_stderr]\u001b[0m
    \u001b[37m+args=(sys.stderr,)\u001b[0m
    \u001b[37m+class=StreamHandler\u001b[0m
    \u001b[37m+formatter=debug\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[handler_devel]\u001b[0m
    \u001b[37m+args=(sys.stdout,)\u001b[0m
    \u001b[37m+class=StreamHandler\u001b[0m
    \u001b[37m+formatter=debug\u001b[0m
    \u001b[37m+level=NOTSET\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[handler_prod]\u001b[0m
    \u001b[37m+args=(('/dev/log'), handlers.SysLogHandler.LOG_LOCAL0)\u001b[0m
    \u001b[37m+class=handlers.SysLogHandler\u001b[0m
    \u001b[37m+formatter=syslog_with_name\u001b[0m
    \u001b[37m+level=INFO\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[handler_debug]\u001b[0m
    \u001b[37m+args=(('/dev/log'), handlers.SysLogHandler.LOG_LOCAL1)\u001b[0m
    \u001b[37m+class=handlers.SysLogHandler\u001b[0m
    \u001b[37m+formatter=syslog_debug\u001b[0m
    \u001b[37m+level=DEBUG\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0mRecipe: openstack-common::sysctl\u001b[0m
  * directory[/etc/sysctl.d] action create (up to date)
  * template[/etc/sysctl.d/60-openstack.conf] action create
    \u001b[32m- create new file /etc/sysctl.d/60-openstack.conf\u001b[0m
    \u001b[32m- update content in file /etc/sysctl.d/60-openstack.conf from none to 8fa39c\u001b[0m
    \u001b[37m--- /etc/sysctl.d/60-openstack.conf\t2019-04-26 14:48:10.287809622 +0000\u001b[0m
    \u001b[37m+++ /etc/sysctl.d/.chef-60-openstack20190426-67198-1u7hunt.conf\t2019-04-26 14:48:10.287809622 +0000\u001b[0m
    \u001b[37m@@ -1 +1,6 @@\u001b[0m
    \u001b[37m+# Managed by Chef\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+net.ipv4.conf.all.rp_filter = 0\u001b[0m
    \u001b[37m+net.ipv4.conf.default.rp_filter = 0\u001b[0m
    \u001b[37m+net.ipv4.ip_forward = 1\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0m  * execute[sysctl -p /etc/sysctl.d/60-openstack.conf] action run
    \u001b[32m- execute sysctl -p /etc/sysctl.d/60-openstack.conf\u001b[0m
\u001b[0m  * execute[sysctl -p /etc/sysctl.d/60-openstack.conf] action nothing (skipped due to action :nothing)
Recipe: openstack-common::python\u001b[0m
  * python_runtime[3.5] action install
    * poise_languages_scl[rh-python35] action install
      * yum_package[centos-release-scl-rh] action upgrade
        \u001b[32m- upgrade package centos-release-scl-rh from uninstalled to 0:2-3.el7.centos.noarch\u001b[0m
\u001b[0m      * ruby_block[flush_yum_cache] action run
        \u001b[32m- execute the ruby block flush_yum_cache\u001b[0m
\u001b[0m      * yum_package[rh-python35] action install
        \u001b[32m- install version 0:2.0-2.el7.x86_64 of package rh-python35\u001b[0m
\u001b[0m      * yum_package[rh-python35-python-devel] action install (up to date)
    
\u001b[0m    * python_runtime_pip[3.5] action install
      * python_package[pip] action upgrade
        \u001b[32m- upgrade(allow_downgrade) package pip from 7.1.0 to 18.0\u001b[0m
\u001b[0m    
\u001b[0m    * python_package[setuptools] action install
      \u001b[32m- install version 40.0.0 of package setuptools\u001b[0m
\u001b[0m    * python_package[wheel] action install
      \u001b[32m- install version 0.31.1 of package wheel\u001b[0m
\u001b[0m  
\u001b[0mRecipe: openstack-common::client\u001b[0m
  * yum_package[python-openstackclient] action upgrade
    \u001b[32m- upgrade package python-openstackclient from uninstalled to 0:3.16.2-1.el7.noarch\u001b[0m
\u001b[0mRecipe: yum::default\u001b[0m
  * yum_globalconfig[/etc/yum.conf] action create
    * template[/etc/yum.conf] action create
      \u001b[32m- update content in file /etc/yum.conf from 732348 to f32996\u001b[0m
      \u001b[37m--- /etc/yum.conf\t2019-04-26 14:21:43.502398501 +0000\u001b[0m
      \u001b[37m+++ /etc/.chef-yum20190426-67198-d3tc4e.conf\t2019-04-26 14:48:39.700871200 +0000\u001b[0m
      \u001b[37m@@ -1,28 +1,16 @@\u001b[0m
      \u001b[37m+# This file was generated by Chef\u001b[0m
      \u001b[37m+# Do NOT modify this file by hand.\u001b[0m
      \u001b[37m+\u001b[0m
      \u001b[37m [main]\u001b[0m
      \u001b[37m cachedir=/var/cache/yum/$basearch/$releasever\u001b[0m
      \u001b[37m-keepcache=0\u001b[0m
      \u001b[37m debuglevel=2\u001b[0m
      \u001b[37m-logfile=/var/log/yum.log\u001b[0m
      \u001b[37m+distroverpkg=centos-release\u001b[0m
      \u001b[37m exactarch=1\u001b[0m
      \u001b[37m-obsoletes=1\u001b[0m
      \u001b[37m gpgcheck=1\u001b[0m
      \u001b[37m+installonly_limit=3\u001b[0m
      \u001b[37m+keepcache=0\u001b[0m
      \u001b[37m+localpkg_gpgcheck=0\u001b[0m
      \u001b[37m+logfile=/var/log/yum.log\u001b[0m
      \u001b[37m+obsoletes=1\u001b[0m
      \u001b[37m plugins=1\u001b[0m
      \u001b[37m-installonly_limit=5\u001b[0m
      \u001b[37m-bugtracker_url=http://bugs.centos.org/set_project.php?project_id=23&ref=http://bugs.centos.org/bug_report_page.php?category=yum\u001b[0m
      \u001b[37m-distroverpkg=centos-release\u001b[0m
      \u001b[37m-exclude=microcode_ctl  ibutils-libs*\u001b[0m
      \u001b[37m-\u001b[0m
      \u001b[37m-\u001b[0m
      \u001b[37m-#  This is the default, if you make this bigger yum won't see if the metadata\u001b[0m
      \u001b[37m-# is newer on the remote and so you'll \"gain\" the bandwidth of not having to\u001b[0m
      \u001b[37m-# download the new metadata and \"pay\" for it by yum not having correct\u001b[0m
      \u001b[37m-# information.\u001b[0m
      \u001b[37m-#  It is esp. important, to have correct metadata, for distributions like\u001b[0m
      \u001b[37m-# Fedora which don't keep old packages around. If you don't like this checking\u001b[0m
      \u001b[37m-# interupting your command line usage, it's much better to have something\u001b[0m
      \u001b[37m-# manually check the metadata once an hour (yum-updatesd will do this).\u001b[0m
      \u001b[37m-# metadata_expire=90m\u001b[0m
      \u001b[37m-\u001b[0m
      \u001b[37m-# PUT YOUR REPOS HERE OR IN separate files named file.repo\u001b[0m
      \u001b[37m-# in /etc/yum.repos.d\u001b[0m
\u001b[0m  
\u001b[0mRecipe: mariadb::repository\u001b[0m
  * yum_repository[mariadb-10.0] action create
    * template[/etc/yum.repos.d/mariadb-10.0.repo] action create
      \u001b[32m- create new file /etc/yum.repos.d/mariadb-10.0.repo\u001b[0m
      \u001b[32m- update content in file /etc/yum.repos.d/mariadb-10.0.repo from none to 7b7062\u001b[0m
      \u001b[37m--- /etc/yum.repos.d/mariadb-10.0.repo\t2019-04-26 14:48:39.710871561 +0000\u001b[0m
      \u001b[37m+++ /etc/yum.repos.d/.chef-mariadb-1020190426-67198-1l46lh6.0.repo\t2019-04-26 14:48:39.710871561 +0000\u001b[0m
      \u001b[37m@@ -1 +1,11 @@\u001b[0m
      \u001b[37m+# This file was generated by Chef\u001b[0m
      \u001b[37m+# Do NOT modify this file by hand.\u001b[0m
      \u001b[37m+\u001b[0m
      \u001b[37m+[mariadb-10.0]\u001b[0m
      \u001b[37m+name=MariaDB Official Repository\u001b[0m
      \u001b[37m+baseurl=http://yum.mariadb.org/10.0/centos7-amd64\u001b[0m
      \u001b[37m+enabled=1\u001b[0m
      \u001b[37m+fastestmirror_enabled=0\u001b[0m
      \u001b[37m+gpgcheck=1\u001b[0m
      \u001b[37m+gpgkey=https://yum.mariadb.org/RPM-GPG-KEY-MariaDB\u001b[0m
      \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m    * execute[yum clean metadata mariadb-10.0] action run
      \u001b[32m- execute yum clean metadata --disablerepo=* --enablerepo=mariadb-10.0\u001b[0m
\u001b[0m    * execute[yum-makecache-mariadb-10.0] action run
      \u001b[32m- execute yum -q -y makecache --disablerepo=* --enablerepo=mariadb-10.0\u001b[0m
\u001b[0m    * ruby_block[package-cache-reload-mariadb-10.0] action create
      \u001b[32m- execute the ruby block package-cache-reload-mariadb-10.0\u001b[0m
\u001b[0m    * execute[yum clean metadata mariadb-10.0] action nothing (skipped due to action :nothing)
    * execute[yum-makecache-mariadb-10.0] action nothing (skipped due to action :nothing)
    * ruby_block[package-cache-reload-mariadb-10.0] action nothing (skipped due to action :nothing)
  
\u001b[0mRecipe: yum-epel::default\u001b[0m
  * yum_repository[epel] action create
    * template[/etc/yum.repos.d/epel.repo] action create
      \u001b[32m- update content in file /etc/yum.repos.d/epel.repo from dfa0c7 to 490677\u001b[0m
      \u001b[37m--- /etc/yum.repos.d/epel.repo\t2017-10-02 17:44:08.000000000 +0000\u001b[0m
      \u001b[37m+++ /etc/yum.repos.d/.chef-epel20190426-67198-1n861uf.repo\t2019-04-26 14:48:41.068920575 +0000\u001b[0m
      \u001b[37m@@ -1,27 +1,12 @@\u001b[0m
      \u001b[37m-[epel]\u001b[0m
      \u001b[37m-name=Extra Packages for Enterprise Linux 7 - $basearch\u001b[0m
      \u001b[37m-#baseurl=http://download.fedoraproject.org/pub/epel/7/$basearch\u001b[0m
      \u001b[37m-metalink=https://mirrors.fedoraproject.org/metalink?repo=epel-7&arch=$basearch\u001b[0m
      \u001b[37m-failovermethod=priority\u001b[0m
      \u001b[37m-enabled=1\u001b[0m
      \u001b[37m-gpgcheck=1\u001b[0m
      \u001b[37m-gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7\u001b[0m
      \u001b[37m+# This file was generated by Chef\u001b[0m
      \u001b[37m+# Do NOT modify this file by hand.\u001b[0m
      \u001b[37m \u001b[0m
      \u001b[37m-[epel-debuginfo]\u001b[0m
      \u001b[37m-name=Extra Packages for Enterprise Linux 7 - $basearch - Debug\u001b[0m
      \u001b[37m-#baseurl=http://download.fedoraproject.org/pub/epel/7/$basearch/debug\u001b[0m
      \u001b[37m-metalink=https://mirrors.fedoraproject.org/metalink?repo=epel-debug-7&arch=$basearch\u001b[0m
      \u001b[37m-failovermethod=priority\u001b[0m
      \u001b[37m+[epel]\u001b[0m
      \u001b[37m+name=Extra Packages for 7 - $basearch\u001b[0m
      \u001b[37m enabled=0\u001b[0m
      \u001b[37m-gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7\u001b[0m
      \u001b[37m-gpgcheck=1\u001b[0m
      \u001b[37m-\u001b[0m
      \u001b[37m-[epel-source]\u001b[0m
      \u001b[37m-name=Extra Packages for Enterprise Linux 7 - $basearch - Source\u001b[0m
      \u001b[37m-#baseurl=http://download.fedoraproject.org/pub/epel/7/SRPMS\u001b[0m
      \u001b[37m-metalink=https://mirrors.fedoraproject.org/metalink?repo=epel-source-7&arch=$basearch\u001b[0m
      \u001b[37m failovermethod=priority\u001b[0m
      \u001b[37m-enabled=0\u001b[0m
      \u001b[37m-gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7\u001b[0m
      \u001b[37m+fastestmirror_enabled=0\u001b[0m
      \u001b[37m gpgcheck=1\u001b[0m
      \u001b[37m+gpgkey=https://download.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-7\u001b[0m
      \u001b[37m+mirrorlist=http://mirrors.fedoraproject.org/mirrorlist?repo=epel-7&arch=$basearch\u001b[0m
\u001b[0m    * execute[yum clean metadata epel] action run
      \u001b[32m- execute yum clean metadata --disablerepo=* --enablerepo=epel\u001b[0m
\u001b[0m    * execute[yum-makecache-epel] action run (skipped due to only_if)
    * ruby_block[package-cache-reload-epel] action create
      \u001b[32m- execute the ruby block package-cache-reload-epel\u001b[0m
\u001b[0m    * execute[yum clean metadata epel] action nothing (skipped due to action :nothing)
    * execute[yum-makecache-epel] action nothing (skipped due to action :nothing)
    * ruby_block[package-cache-reload-epel] action nothing (skipped due to action :nothing)
  
\u001b[0mRecipe: mariadb::_redhat_client\u001b[0m
  * yum_package[mysql-libs] action remove (skipped due to not_if)
Recipe: mariadb::client\u001b[0m
  * yum_package[MariaDB-client] action install
    \u001b[32m- install version 0:10.0.38-1.el7.centos.x86_64 of package MariaDB-client\u001b[0m
\u001b[0mRecipe: mariadb::devel\u001b[0m
  * yum_package[MariaDB-devel] action install
    \u001b[32m- install version 0:10.0.38-1.el7.centos.x86_64 of package MariaDB-devel\u001b[0m
\u001b[0mRecipe: openstack-ops-database::mariadb-client\u001b[0m
  * mysql2_chef_gem_mysql2_chef_gem_mariadb[default] action install
    \u001b[32m- evaluate block and run any associated actions\u001b[0m
    \u001b[32m- evaluate block and run any associated actions\u001b[0m
    * gem_package[mysql2] action install
      \u001b[32m- install version 0.4.9 of package mysql2\u001b[0m
\u001b[0m  
\u001b[0m  * yum_package[MySQL-python] action install
    \u001b[32m- install version 0:1.2.5-1.el7.x86_64 of package MySQL-python\u001b[0m
\u001b[0mRecipe: mariadb::_redhat_server_preinstall\u001b[0m
  * yum_package[MariaDB-shared] action install (up to date)
Recipe: mariadb::server\u001b[0m
  * yum_package[MariaDB-server] action install
    \u001b[32m- install version 0:10.0.38-1.el7.centos.x86_64 of package MariaDB-server\u001b[0m
\u001b[0m  * ruby_block[restart_mysql] action run
    \u001b[32m- execute the ruby block restart_mysql\u001b[0m
\u001b[0mRecipe: mariadb::config\u001b[0m
  * template[/root/.my.cnf] action create (skipped due to only_if)
  * template[/etc/my.cnf] action create
    \u001b[32m- update content in file /etc/my.cnf from a9b0e4 to 0171a3\u001b[0m
    \u001b[37m--- /etc/my.cnf\t2019-01-29 18:39:42.000000000 +0000\u001b[0m
    \u001b[37m+++ /etc/.chef-my20190426-67198-12qxvzm.cnf\t2019-04-26 14:49:45.191234880 +0000\u001b[0m
    \u001b[37m@@ -1,12 +1,159 @@\u001b[0m
    \u001b[37m+# DEPLOYED BY CHEF\u001b[0m
    \u001b[37m+# MariaDB database server configuration file.\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-# This group is read both both by the client and the server\u001b[0m
    \u001b[37m-# use it for options that affect everything\u001b[0m
    \u001b[37m+# You can copy this file to one of:\u001b[0m
    \u001b[37m+# - \"/etc/mysql/my.cnf\" to set global options,\u001b[0m
    \u001b[37m+# - \"~/.my.cnf\" to set user-specific options.\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-[client-server]\u001b[0m
    \u001b[37m+# One can use all long options that the program supports.\u001b[0m
    \u001b[37m+# Run program with --help to get a list of available options and with\u001b[0m
    \u001b[37m+# --print-defaults to see which it would actually understand and use.\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# For explanations see\u001b[0m
    \u001b[37m+# http://dev.mysql.com/doc/mysql/en/server-system-variables.html\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m+# This will be passed to all mysql clients\u001b[0m
    \u001b[37m+# It has been reported that passwords should be enclosed with ticks/quotes\u001b[0m
    \u001b[37m+# escpecially if they contain \"#\" chars...\u001b[0m
    \u001b[37m+# Remember to edit /etc/mysql/debian.cnf when changing the socket location.\u001b[0m
    \u001b[37m+[client]\u001b[0m
    \u001b[37m+port\t\t= 3306\u001b[0m
    \u001b[37m+socket\t\t= /var/lib/mysql/mysql.sock\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+# Here is entries for some specific programs\u001b[0m
    \u001b[37m+# The following values assume you have at least 32M ram\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+# This was formally known as [safe_mysqld]. Both versions are currently parsed.\u001b[0m
    \u001b[37m+[mysqld_safe]\u001b[0m
    \u001b[37m+socket\t\t= /var/lib/mysql/mysql.sock\u001b[0m
    \u001b[37m+nice\t\t= 0\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[mysqld]\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-# include all files from the config directory\u001b[0m
    \u001b[37m+# * Basic Settings\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-!includedir /etc/my.cnf.d\u001b[0m
    \u001b[37m+user\t\t= mysql\u001b[0m
    \u001b[37m+socket\t\t= /var/lib/mysql/mysql.sock\u001b[0m
    \u001b[37m+port\t\t= 3306\u001b[0m
    \u001b[37m+basedir\t\t= /usr\u001b[0m
    \u001b[37m+datadir\t\t= /var/lib/mysql\u001b[0m
    \u001b[37m+tmpdir\t\t= /var/tmp\u001b[0m
    \u001b[37m+lc_messages_dir\t= /usr/share/mysql\u001b[0m
    \u001b[37m+lc_messages\t= en_US\u001b[0m
    \u001b[37m+skip-external-locking\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# Instead of skip-networking the default is now to listen only on\u001b[0m
    \u001b[37m+# localhost which is more compatible and is not less secure.\u001b[0m
    \u001b[37m+bind-address\t\t= 147.75.201.110\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# * Fine Tuning\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+max_connections\t\t= 307\u001b[0m
    \u001b[37m+connect_timeout\t\t= 5\u001b[0m
    \u001b[37m+wait_timeout\t\t= 600\u001b[0m
    \u001b[37m+max_allowed_packet\t= 16M\u001b[0m
    \u001b[37m+thread_cache_size       = 128\u001b[0m
    \u001b[37m+sort_buffer_size\t= 4M\u001b[0m
    \u001b[37m+bulk_insert_buffer_size\t= 16M\u001b[0m
    \u001b[37m+tmp_table_size\t\t= 32M\u001b[0m
    \u001b[37m+max_heap_table_size\t= 32M\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# * MyISAM\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# This replaces the startup script and checks MyISAM tables if needed\u001b[0m
    \u001b[37m+# the first time they are touched. On error, make copy and try a repair.\u001b[0m
    \u001b[37m+myisam_recover          = BACKUP\u001b[0m
    \u001b[37m+key_buffer_size\t\t= 128M\u001b[0m
    \u001b[37m+table_open_cache\t= 400\u001b[0m
    \u001b[37m+myisam_sort_buffer_size\t= 512M\u001b[0m
    \u001b[37m+concurrent_insert\t= 2\u001b[0m
    \u001b[37m+read_buffer_size\t= 2M\u001b[0m
    \u001b[37m+read_rnd_buffer_size\t= 1M\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# * Query Cache Configuration\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# Cache only tiny result sets, so we can fit more in the query cache.\u001b[0m
    \u001b[37m+query_cache_limit\t\t= 128K\u001b[0m
    \u001b[37m+query_cache_size\t\t= 64M\u001b[0m
    \u001b[37m+# for more write intensive setups, set to DEMAND or OFF\u001b[0m
    \u001b[37m+#query_cache_type\t\t= DEMAND\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# * Logging and Replication\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# Both location gets rotated by the cronjob.\u001b[0m
    \u001b[37m+# Be aware that this log type is a performance killer.\u001b[0m
    \u001b[37m+# As of 5.1 you can enable the log at runtime!\u001b[0m
    \u001b[37m+general_log_file        = /var/log/mysql/mysql.log\u001b[0m
    \u001b[37m+general_log             = 0\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# Error logging goes to syslog due to /etc/mysql/conf.d/mysqld_safe_syslog.cnf.\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# we do want to know about network errors and such\u001b[0m
    \u001b[37m+log_warnings\t\t= 2\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# Enable the slow query log to see queries with especially long duration\u001b[0m
    \u001b[37m+#slow_query_log[={0|1}]\u001b[0m
    \u001b[37m+slow_query_log = 0\u001b[0m
    \u001b[37m+slow_query_log_file\t= /var/log/mysql/mariadb-slow.log\u001b[0m
    \u001b[37m+long_query_time = 10\u001b[0m
    \u001b[37m+log_slow_rate_limit\t= 1000\u001b[0m
    \u001b[37m+log_slow_verbosity\t= query_plan\u001b[0m
    \u001b[37m+# Logging output type\u001b[0m
    \u001b[37m+log_output = FILE\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m+#log-queries-not-using-indexes\u001b[0m
    \u001b[37m+#log_slow_admin_statements\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# The following can be used as easy to replay backup logs or for replication.\u001b[0m
    \u001b[37m+# note: if you are setting up a replication slave, see README.Debian about\u001b[0m
    \u001b[37m+#       other settings you may need to change.\u001b[0m
    \u001b[37m+#report_host\t\t= master1\u001b[0m
    \u001b[37m+#auto_increment_increment = 2\u001b[0m
    \u001b[37m+#auto_increment_offset\t= 1\u001b[0m
    \u001b[37m+# not fab for performance, but safer\u001b[0m
    \u001b[37m+#sync_binlog\t\t= 1\u001b[0m
    \u001b[37m+# slaves\u001b[0m
    \u001b[37m+#relay_log\t\t= /var/log/mysql/relay-bin\u001b[0m
    \u001b[37m+#relay_log_index\t= /var/log/mysql/relay-bin.index\u001b[0m
    \u001b[37m+#relay_log_info_file\t= /var/log/mysql/relay-bin.info\u001b[0m
    \u001b[37m+#log_slave_updates\u001b[0m
    \u001b[37m+#read_only\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# If applications support it, this stricter sql_mode prevents some\u001b[0m
    \u001b[37m+# mistakes like inserting invalid dates etc.\u001b[0m
    \u001b[37m+#sql_mode\t\t= NO_ENGINE_SUBSTITUTION,TRADITIONAL\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+default_storage_engine\t= InnoDB\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# * Security Features\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# Read the manual, too, if you want chroot!\u001b[0m
    \u001b[37m+# chroot = /var/lib/mysql/\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# For generating SSL certificates I recommend the OpenSSL GUI \"tinyca\".\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# ssl-ca=/etc/mysql/cacert.pem\u001b[0m
    \u001b[37m+# ssl-cert=/etc/mysql/server-cert.pem\u001b[0m
    \u001b[37m+# ssl-key=/etc/mysql/server-key.pem\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# * Plugins Options\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[mysqldump]\u001b[0m
    \u001b[37m+max_allowed_packet\t= 16M\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[mysql]\u001b[0m
    \u001b[37m+#no-auto-rehash\t# faster start of mysql but no tab completition\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[isamchk]\u001b[0m
    \u001b[37m+key_buffer\t\t= 16M\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# * IMPORTANT: Additional settings that can override those from this file!\u001b[0m
    \u001b[37m+#   The files must end with '.cnf', otherwise they'll be ignored.\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+!includedir /etc/my.cnf.d/\u001b[0m
\u001b[0m  * directory[/etc/my.cnf.d] action create (skipped due to not_if)
  * mariadb_configuration[20-innodb] action add
    * template[/etc/my.cnf.d/20-innodb.cnf] action create
      \u001b[32m- create new file /etc/my.cnf.d/20-innodb.cnf\u001b[0m
      \u001b[32m- update content in file /etc/my.cnf.d/20-innodb.cnf from none to 36e5ec\u001b[0m
      \u001b[32m- suppressed sensitive resource\u001b[0m
      \u001b[32m- change mode from '' to '0640'\u001b[0m
      \u001b[32m- change owner from '' to 'root'\u001b[0m
      \u001b[32m- change group from '' to 'mysql'\u001b[0m
\u001b[0m  
\u001b[0m  * mariadb_configuration[30-replication] action add
    * template[/etc/my.cnf.d/30-replication.cnf] action create
      \u001b[32m- create new file /etc/my.cnf.d/30-replication.cnf\u001b[0m
      \u001b[32m- update content in file /etc/my.cnf.d/30-replication.cnf from none to b2d844\u001b[0m
      \u001b[32m- suppressed sensitive resource\u001b[0m
      \u001b[32m- change mode from '' to '0640'\u001b[0m
      \u001b[32m- change owner from '' to 'root'\u001b[0m
      \u001b[32m- change group from '' to 'mysql'\u001b[0m
\u001b[0m  
\u001b[0mRecipe: mariadb::server\u001b[0m
  * directory[/var/log/mysql] action create
    \u001b[32m- create new directory /var/log/mysql\u001b[0m
    \u001b[32m- change mode from '' to '0755'\u001b[0m
    \u001b[32m- change owner from '' to 'mysql'\u001b[0m
    \u001b[32m- change group from '' to 'mysql'\u001b[0m
\u001b[0m  * execute[mariadb-service-restart-needed] action run
    \u001b[32m- execute true\u001b[0m
\u001b[0m  * ruby_block[restart_mysql] action run
    \u001b[32m- execute the ruby block restart_mysql\u001b[0m
\u001b[0m  * service[mysql] action enable (up to date)
  * service[mysql] action restart
    \u001b[32m- restart service service[mysql]\u001b[0m
\u001b[0m  * ruby_block[restart_mysql] action nothing (skipped due to action :nothing)
Recipe: mariadb::_redhat_server_postinstall\u001b[0m
  * execute[change first install root password] action run
    \u001b[32m- execute sensitive resource\u001b[0m
\u001b[0mRecipe: mariadb::_mariadb_postinstall\u001b[0m
  * file[/etc/mysql_root_change] action create
    \u001b[32m- create new file /etc/mysql_root_change\u001b[0m
    \u001b[32m- update content in file /etc/mysql_root_change from none to f8cd5c\u001b[0m
    \u001b[37m--- /etc/mysql_root_change\t2019-04-26 14:49:46.546283787 +0000\u001b[0m
    \u001b[37m+++ /etc/.chef-mysql_root_change20190426-67198-1akke0r\t2019-04-26 14:49:46.545283751 +0000\u001b[0m
    \u001b[37m@@ -1 +1,2 @@\u001b[0m
    \u001b[37m+a029d0df84eb5549c641e04a9ef389e5\u001b[0m
\u001b[0m  * execute[install-grants] action run (skipped due to only_if)
  * execute[install-grants] action nothing (skipped due to action :nothing)
  * template[/etc/mariadb_grants] action create
    \u001b[32m- create new file /etc/mariadb_grants\u001b[0m
    \u001b[32m- update content in file /etc/mariadb_grants from none to b25da0\u001b[0m
    \u001b[32m- suppressed sensitive resource\u001b[0m
    \u001b[32m- change mode from '' to '0600'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0m  * execute[install-grants] action run
    \u001b[32m- execute sensitive resource\u001b[0m
\u001b[0mRecipe: openstack-ops-database::mariadb-server\u001b[0m
  * template[/etc/my.cnf.d/openstack.cnf] action create
    \u001b[32m- create new file /etc/my.cnf.d/openstack.cnf\u001b[0m
    \u001b[32m- update content in file /etc/my.cnf.d/openstack.cnf from none to 3f1fa5\u001b[0m
    \u001b[37m--- /etc/my.cnf.d/openstack.cnf\t2019-04-26 14:49:46.611286133 +0000\u001b[0m
    \u001b[37m+++ /etc/my.cnf.d/.chef-openstack20190426-67198-1opqyy2.cnf\t2019-04-26 14:49:46.611286133 +0000\u001b[0m
    \u001b[37m@@ -1 +1,19 @@\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+# This file is automatically generated by Chef\u001b[0m
    \u001b[37m+# Any changes will be overwritten\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+[mysqld]\u001b[0m
    \u001b[37m+default-storage-engine = InnoDB\u001b[0m
    \u001b[37m+innodb_autoinc_lock_mode = 1\u001b[0m
    \u001b[37m+innodb_file_per_table = OFF\u001b[0m
    \u001b[37m+innodb_thread_concurrency = 0\u001b[0m
    \u001b[37m+innodb_commit_concurrency = 0\u001b[0m
    \u001b[37m+innodb_read_io_threads = 4\u001b[0m
    \u001b[37m+innodb_flush_log_at_trx_commit = 1\u001b[0m
    \u001b[37m+innodb_buffer_pool_size = 134217728\u001b[0m
    \u001b[37m+innodb_log_file_size = 5242880\u001b[0m
    \u001b[37m+innodb_log_buffer_size = 8388608\u001b[0m
    \u001b[37m+character-set-server = latin1\u001b[0m
    \u001b[37m+query_cache_size = 0\u001b[0m
    \u001b[37m+max_connections = 307\u001b[0m
    \u001b[32m- change owner from '' to 'mysql'\u001b[0m
    \u001b[32m- change group from '' to 'mysql'\u001b[0m
\u001b[0mRecipe: openstack-ops-database::openstack-db\u001b[0m
  * log[No databag item containing the database password for aodh was found, so no database was created] action write
  
\u001b[0m  * openstack_common_database[bare_metal] action create
    * database[create database ironic] action create
      \u001b[32m- Creating schema 'ironic'\u001b[0m
\u001b[0m    * database_user[create database user ironic] action create
      \u001b[32m- Creating user 'ironic'@'localhost'\u001b[0m
\u001b[0m    * database_user[grant database user ironic] action grant
      \u001b[32m- Granting privs for 'ironic'@'%'\u001b[0m
\u001b[0m  
\u001b[0m  * openstack_common_database[block_storage] action create
    * database[create database cinder] action create
      \u001b[32m- Creating schema 'cinder'\u001b[0m
\u001b[0m    * database_user[create database user cinder] action create
      \u001b[32m- Creating user 'cinder'@'localhost'\u001b[0m
\u001b[0m    * database_user[grant database user cinder] action grant
      \u001b[32m- Granting privs for 'cinder'@'%'\u001b[0m
\u001b[0m  
\u001b[0m  * openstack_common_database[compute] action create
    * database[create database nova] action create
      \u001b[32m- Creating schema 'nova'\u001b[0m
\u001b[0m    * database_user[create database user nova] action create
      \u001b[32m- Creating user 'nova'@'localhost'\u001b[0m
\u001b[0m    * database_user[grant database user nova] action grant
      \u001b[32m- Granting privs for 'nova'@'%'\u001b[0m
\u001b[0m  
\u001b[0m  * openstack_common_database[compute_api] action create
    * database[create database nova_api] action create
      \u001b[32m- Creating schema 'nova_api'\u001b[0m
\u001b[0m    * database_user[create database user nova_api] action create
      \u001b[32m- Creating user 'nova_api'@'localhost'\u001b[0m
\u001b[0m    * database_user[grant database user nova_api] action grant
      \u001b[32m- Granting privs for 'nova_api'@'%'\u001b[0m
\u001b[0m  
\u001b[0m  * openstack_common_database[compute_cell0] action create
    * database[create database nova_cell0] action create
      \u001b[32m- Creating schema 'nova_cell0'\u001b[0m
\u001b[0m    * database_user[create database user nova_cell0] action create
      \u001b[32m- Creating user 'nova_cell0'@'localhost'\u001b[0m
\u001b[0m    * database_user[grant database user nova_cell0] action grant
      \u001b[32m- Granting privs for 'nova_cell0'@'%'\u001b[0m
\u001b[0m  
\u001b[0m  * openstack_common_database[dashboard] action create
    * database[create database horizon] action create
      \u001b[32m- Creating schema 'horizon'\u001b[0m
\u001b[0m    * database_user[create database user horizon] action create
      \u001b[32m- Creating user 'horizon'@'localhost'\u001b[0m
\u001b[0m    * database_user[grant database user horizon] action grant
      \u001b[32m- Granting privs for 'horizon'@'%'\u001b[0m
\u001b[0m  
\u001b[0m  * log[No databag item containing the database password for trove was found, so no database was created] action write
  
\u001b[0m  * openstack_common_database[dns] action create
    * database[create database designate] action create
      \u001b[32m- Creating schema 'designate'\u001b[0m
\u001b[0m    * database_user[create database user designate] action create
      \u001b[32m- Creating user 'designate'@'localhost'\u001b[0m
\u001b[0m    * database_user[grant database user designate] action grant
      \u001b[32m- Granting privs for 'designate'@'%'\u001b[0m
\u001b[0m  
\u001b[0m  * openstack_common_database[identity] action create
    * database[create database keystone] action create
      \u001b[32m- Creating schema 'keystone'\u001b[0m
\u001b[0m    * database_user[create database user keystone] action create
      \u001b[32m- Creating user 'keystone'@'localhost'\u001b[0m
\u001b[0m    * database_user[grant database user keystone] action grant
      \u001b[32m- Granting privs for 'keystone'@'%'\u001b[0m
\u001b[0m  
\u001b[0m  * openstack_common_database[image] action create
    * database[create database glance] action create
      \u001b[32m- Creating schema 'glance'\u001b[0m
\u001b[0m    * database_user[create database user glance] action create
      \u001b[32m- Creating user 'glance'@'localhost'\u001b[0m
\u001b[0m    * database_user[grant database user glance] action grant
      \u001b[32m- Granting privs for 'glance'@'%'\u001b[0m
\u001b[0m  
\u001b[0m  * openstack_common_database[network] action create
    * database[create database neutron] action create
      \u001b[32m- Creating schema 'neutron'\u001b[0m
\u001b[0m    * database_user[create database user neutron] action create
      \u001b[32m- Creating user 'neutron'@'localhost'\u001b[0m
\u001b[0m    * database_user[grant database user neutron] action grant
      \u001b[32m- Granting privs for 'neutron'@'%'\u001b[0m
\u001b[0m  
\u001b[0m  * log[No databag item containing the database password for swift was found, so no database was created] action write
  
\u001b[0m  * openstack_common_database[orchestration] action create
    * database[create database heat] action create
      \u001b[32m- Creating schema 'heat'\u001b[0m
\u001b[0m    * database_user[create database user heat] action create
      \u001b[32m- Creating user 'heat'@'localhost'\u001b[0m
\u001b[0m    * database_user[grant database user heat] action grant
      \u001b[32m- Granting privs for 'heat'@'%'\u001b[0m
\u001b[0m  
\u001b[0m  * openstack_common_database[telemetry] action create
    * database[create database ceilometer] action create
      \u001b[32m- Creating schema 'ceilometer'\u001b[0m
\u001b[0m    * database_user[create database user ceilometer] action create
      \u001b[32m- Creating user 'ceilometer'@'localhost'\u001b[0m
\u001b[0m    * database_user[grant database user ceilometer] action grant
      \u001b[32m- Granting privs for 'ceilometer'@'%'\u001b[0m
\u001b[0m  
\u001b[0m  * openstack_common_database[telemetry_metric] action create
    * database[create database gnocchi] action create
      \u001b[32m- Creating schema 'gnocchi'\u001b[0m
\u001b[0m    * database_user[create database user gnocchi] action create
      \u001b[32m- Creating user 'gnocchi'@'localhost'\u001b[0m
\u001b[0m    * database_user[grant database user gnocchi] action grant
      \u001b[32m- Granting privs for 'gnocchi'@'%'\u001b[0m
\u001b[0m  
\u001b[0m  * log[No databag item containing the database password for murano was found, so no database was created] action write
  
\u001b[0mRecipe: erlang::package\u001b[0m
  * yum_package[erlang] action install (up to date)
Recipe: rabbitmq::default\u001b[0m
  * directory[/etc/rabbitmq] action create
    \u001b[32m- create new directory /etc/rabbitmq\u001b[0m
    \u001b[32m- change mode from '' to '0755'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0m  * yum_package[logrotate] action install (up to date)
  * yum_package[socat] action install (up to date)
  * remote_file[/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm] action create_if_missing
    \u001b[32m- create new file /root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm\u001b[0m
    \u001b[32m- update content in file /root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm from none to 8addbc\u001b[0m
    \u001b[37m(new content is binary, diff output suppressed)\u001b[0m
\u001b[0m  * rpm_package[/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm] action install
    \u001b[32m- install version 3.7.14-1.el7 of package /root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm\u001b[0m
\u001b[0m  * directory[/var/lib/rabbitmq/mnesia] action create
    \u001b[32m- change mode from '0750' to '0775'\u001b[0m
\u001b[0m  * template[/etc/rabbitmq/rabbitmq-env.conf] action create
    \u001b[32m- create new file /etc/rabbitmq/rabbitmq-env.conf\u001b[0m
    \u001b[32m- update content in file /etc/rabbitmq/rabbitmq-env.conf from none to b81dab\u001b[0m
    \u001b[37m--- /etc/rabbitmq/rabbitmq-env.conf\t2019-04-26 14:49:48.001336302 +0000\u001b[0m
    \u001b[37m+++ /etc/rabbitmq/.chef-rabbitmq-env20190426-67198-u9y7qz.conf\t2019-04-26 14:49:48.000336266 +0000\u001b[0m
    \u001b[37m@@ -1 +1,13 @@\u001b[0m
    \u001b[37m+###\u001b[0m
    \u001b[37m+# Generated by Chef\u001b[0m
    \u001b[37m+###\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+NODE_IP_ADDRESS=147.75.201.110\u001b[0m
    \u001b[37m+NODENAME=admin@openstack-centos-mstr1\u001b[0m
    \u001b[37m+NODE_PORT=5672\u001b[0m
    \u001b[37m+CONFIG_FILE=/etc/rabbitmq/rabbitmq.config\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+MNESIA_BASE=/var/lib/rabbitmq/mnesia\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0m  * template[/etc/rabbitmq/rabbitmq.config] action create
    \u001b[32m- create new file /etc/rabbitmq/rabbitmq.config\u001b[0m
    \u001b[32m- update content in file /etc/rabbitmq/rabbitmq.config from none to 3870dc\u001b[0m
    \u001b[32m- suppressed sensitive resource\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0m  * template[/etc/default/rabbitmq-server] action create
    \u001b[32m- create new file /etc/default/rabbitmq-server\u001b[0m
    \u001b[32m- update content in file /etc/default/rabbitmq-server from none to 2b28a9\u001b[0m
    \u001b[37m--- /etc/default/rabbitmq-server\t2019-04-26 14:49:48.014336772 +0000\u001b[0m
    \u001b[37m+++ /etc/default/.chef-rabbitmq-server20190426-67198-1qeyorf\t2019-04-26 14:49:48.014336772 +0000\u001b[0m
    \u001b[37m@@ -1 +1,12 @@\u001b[0m
    \u001b[37m+###\u001b[0m
    \u001b[37m+# Generated by Chef\u001b[0m
    \u001b[37m+###\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+# This file is sourced by /etc/init.d/rabbitmq-server. Its primary\u001b[0m
    \u001b[37m+# reason for existing is to allow minor system and environment adjustment for the\u001b[0m
    \u001b[37m+# rabbitmq-server process.\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# On modern distributions system limits are managed by systemd, see rabbitmq:systemd_limits and\u001b[0m
    \u001b[37m+# https://www.rabbitmq.com/networking.html#open-file-handle-limit.\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0m  * service[rabbitmq-server] action enable
    \u001b[32m- enable service service[rabbitmq-server]\u001b[0m
\u001b[0m  * service[rabbitmq-server] action start
    \u001b[32m- start service service[rabbitmq-server]\u001b[0m
\u001b[0m  * ohai[reload_packages] action reload
    \u001b[32m- re-run ohai and merge results into node attributes\u001b[0m
\u001b[0mRecipe: rabbitmq::management_ui\u001b[0m
  * rabbitmq_plugin[rabbitmq_management] action enable
    * execute[rabbitmq-plugins enable rabbitmq_management] action run
      \u001b[32m- execute rabbitmq-plugins enable rabbitmq_management\u001b[0m
\u001b[0m  
\u001b[0mRecipe: rabbitmq::default\u001b[0m
  * service[rabbitmq-server] action restart
    \u001b[32m- restart service service[rabbitmq-server]\u001b[0m
\u001b[0mRecipe: openstack-ops-messaging::rabbitmq-server\u001b[0m
  * rabbitmq_user[add openstack rabbit user] action add
    * execute[rabbitmqctl -q add_user admin] action run
      \u001b[32m- execute sensitive resource\u001b[0m
\u001b[0m  
\u001b[0m  * rabbitmq_user[change openstack rabbit user password] action change_password
    * execute[rabbitmqctl -q change_password admin] action run
      \u001b[32m- execute sensitive resource\u001b[0m
\u001b[0m  
\u001b[0m  * rabbitmq_vhost[add openstack rabbit vhost] action add (up to date)
  * rabbitmq_user[set openstack user permissions] action set_permissions
    * execute[rabbitmqctl -q set_permissions -p / admin \".*\" \".*\" \".*\"] action run
      \u001b[32m- execute rabbitmqctl -q set_permissions -p / admin \".*\" \".*\" \".*\"\u001b[0m
\u001b[0m  
\u001b[0m  * rabbitmq_user[set rabbit administrator tag] action set_tags
    * execute[rabbitmqctl -q set_user_tags admin administrator] action run
      \u001b[32m- execute rabbitmqctl -q set_user_tags admin administrator\u001b[0m
\u001b[0m  
\u001b[0mRecipe: openstack-identity::server-apache\u001b[0m
  * execute[set-selinux-permissive] action run (skipped due to only_if)
  * yum_package[identity cookbook package MySQL-python] action upgrade (up to date)
  * yum_package[identity cookbook package python-memcached] action upgrade
    \u001b[32m- upgrade package python-memcached from uninstalled to 0:1.58-1.el7.noarch\u001b[0m
\u001b[0m  * yum_package[identity cookbook package openstack-keystone] action upgrade
    \u001b[32m- upgrade package openstack-keystone from uninstalled to 1:14.1.0-1.el7.noarch\u001b[0m
\u001b[0m  * yum_package[identity cookbook package openstack-selinux] action upgrade
    \u001b[32m- upgrade package openstack-selinux from uninstalled to 0:0.8.14-1.el7.noarch\u001b[0m
\u001b[0m  * service[keystone] action stop (up to date)
  * service[keystone] action disable (up to date)
  * directory[/etc/keystone] action create
    \u001b[32m- change mode from '0750' to '0700'\u001b[0m
    \u001b[32m- change owner from 'root' to 'keystone'\u001b[0m
\u001b[0m  * directory[/etc/keystone/domains] action create (skipped due to only_if)
  * file[/var/lib/keystone/keystone.db] action delete (up to date)
Recipe: openstack-identity::_credential_tokens\u001b[0m
  * directory[/etc/keystone/credential-tokens] action create
    \u001b[32m- create new directory /etc/keystone/credential-tokens\u001b[0m
    \u001b[32m- change mode from '' to '0700'\u001b[0m
    \u001b[32m- change owner from '' to 'keystone'\u001b[0m
    \u001b[32m- change group from '' to 'keystone'\u001b[0m
\u001b[0m  * file[/etc/keystone/credential-tokens/0] action create
    \u001b[32m- create new file /etc/keystone/credential-tokens/0\u001b[0m
    \u001b[32m- update content in file /etc/keystone/credential-tokens/0 from none to 2e2f33\u001b[0m
    \u001b[32m- suppressed sensitive resource\u001b[0m
    \u001b[32m- change mode from '' to '0400'\u001b[0m
    \u001b[32m- change owner from '' to 'keystone'\u001b[0m
    \u001b[32m- change group from '' to 'keystone'\u001b[0m
\u001b[0m  * file[/etc/keystone/credential-tokens/1] action create
    \u001b[32m- create new file /etc/keystone/credential-tokens/1\u001b[0m
    \u001b[32m- update content in file /etc/keystone/credential-tokens/1 from none to 2e2f33\u001b[0m
    \u001b[32m- suppressed sensitive resource\u001b[0m
    \u001b[32m- change mode from '' to '0400'\u001b[0m
    \u001b[32m- change owner from '' to 'keystone'\u001b[0m
    \u001b[32m- change group from '' to 'keystone'\u001b[0m
\u001b[0mRecipe: openstack-identity::_fernet_tokens\u001b[0m
  * directory[/etc/keystone/fernet-tokens] action create
    \u001b[32m- create new directory /etc/keystone/fernet-tokens\u001b[0m
    \u001b[32m- change mode from '' to '0700'\u001b[0m
    \u001b[32m- change owner from '' to 'keystone'\u001b[0m
    \u001b[32m- change group from '' to 'keystone'\u001b[0m
\u001b[0m  * file[/etc/keystone/fernet-tokens/0] action create
    \u001b[32m- create new file /etc/keystone/fernet-tokens/0\u001b[0m
    \u001b[32m- update content in file /etc/keystone/fernet-tokens/0 from none to 2e2f33\u001b[0m
    \u001b[32m- suppressed sensitive resource\u001b[0m
    \u001b[32m- change mode from '' to '0400'\u001b[0m
    \u001b[32m- change owner from '' to 'keystone'\u001b[0m
    \u001b[32m- change group from '' to 'keystone'\u001b[0m
\u001b[0m  * file[/etc/keystone/fernet-tokens/1] action create
    \u001b[32m- create new file /etc/keystone/fernet-tokens/1\u001b[0m
    \u001b[32m- update content in file /etc/keystone/fernet-tokens/1 from none to 2e2f33\u001b[0m
    \u001b[32m- suppressed sensitive resource\u001b[0m
    \u001b[32m- change mode from '' to '0400'\u001b[0m
    \u001b[32m- change owner from '' to 'keystone'\u001b[0m
    \u001b[32m- change group from '' to 'keystone'\u001b[0m
\u001b[0mRecipe: openstack-identity::server-apache\u001b[0m
  * template[/etc/keystone/keystone-paste.ini] action create
    \u001b[32m- update content in file /etc/keystone/keystone-paste.ini from 749c3b to d5e29a\u001b[0m
    \u001b[37m--- /etc/keystone/keystone-paste.ini\t2019-04-04 14:24:59.000000000 +0000\u001b[0m
    \u001b[37m+++ /etc/keystone/.chef-keystone-paste20190426-67198-1p9qwbu.ini\t2019-04-26 14:50:47.041468526 +0000\u001b[0m
    \u001b[37m@@ -1,8 +1,8 @@\u001b[0m
    \u001b[37m-# !!! WARNING: THIS FILE IS NO LONGER USED. KEYSTONE IS LOADED DIRECTLY AND\u001b[0m
    \u001b[37m-# !!!          WILL IGNORE THIS FILE. THIS FILE WILL BE REMOVED IN THE STEIN\u001b[0m
    \u001b[37m-# !!!          RELEASE. IT IS BEING MAINTAINED TO EASE THE TRANSITION OF THE\u001b[0m
    \u001b[37m-# !!!          DEPLOYMENT TOOLING IN THE WILD.\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m+# This file is automatically generated by Chef\u001b[0m
    \u001b[37m+# Any changes will be overwritten\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m # Keystone PasteDeploy configuration file.\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m [filter:debug]\u001b[0m
    \u001b[37m@@ -14,6 +14,9 @@\u001b[0m
    \u001b[37m [filter:build_auth_context]\u001b[0m
    \u001b[37m use = egg:keystone#build_auth_context\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m+[filter:token_auth]\u001b[0m
    \u001b[37m+use = egg:keystone#token_auth\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m [filter:json_body]\u001b[0m
    \u001b[37m use = egg:keystone#json_body\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m@@ -55,19 +58,13 @@\u001b[0m
    \u001b[37m use = egg:keystone#admin_service\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m [pipeline:public_api]\u001b[0m
    \u001b[37m-# The last item in this pipeline must be public_service or an equivalent\u001b[0m
    \u001b[37m-# application. It cannot be a filter.\u001b[0m
    \u001b[37m-pipeline = healthcheck cors sizelimit http_proxy_to_wsgi osprofiler url_normalize request_id build_auth_context json_body ec2_extension public_service\u001b[0m
    \u001b[37m+pipeline = healthcheck cors sizelimit http_proxy_to_wsgi osprofiler url_normalize request_id build_auth_context token_auth json_body ec2_extension public_service\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m [pipeline:admin_api]\u001b[0m
    \u001b[37m-# The last item in this pipeline must be admin_service or an equivalent\u001b[0m
    \u001b[37m-# application. It cannot be a filter.\u001b[0m
    \u001b[37m-pipeline = healthcheck cors sizelimit http_proxy_to_wsgi osprofiler url_normalize request_id build_auth_context json_body ec2_extension s3_extension admin_service\u001b[0m
    \u001b[37m+pipeline = healthcheck cors sizelimit http_proxy_to_wsgi osprofiler url_normalize request_id build_auth_context token_auth json_body ec2_extension s3_extension admin_service\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m [pipeline:api_v3]\u001b[0m
    \u001b[37m-# The last item in this pipeline must be service_v3 or an equivalent\u001b[0m
    \u001b[37m-# application. It cannot be a filter.\u001b[0m
    \u001b[37m-pipeline = healthcheck cors sizelimit http_proxy_to_wsgi osprofiler url_normalize request_id build_auth_context json_body ec2_extension_v3 s3_extension service_v3\u001b[0m
    \u001b[37m+pipeline = healthcheck cors sizelimit http_proxy_to_wsgi osprofiler url_normalize request_id build_auth_context token_auth json_body ec2_extension_v3 s3_extension service_v3\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m [app:public_version_service]\u001b[0m
    \u001b[37m use = egg:keystone#public_version_service\u001b[0m
    \u001b[37m@@ -92,4 +89,6 @@\u001b[0m
    \u001b[37m /v2.0 = admin_api\u001b[0m
    \u001b[37m /v3 = api_v3\u001b[0m
    \u001b[37m / = admin_version_api\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[32m- change mode from '0640' to '0644'\u001b[0m
    \u001b[32m- change owner from 'root' to 'keystone'\u001b[0m
\u001b[0m  * template[/etc/keystone/keystone.conf] action create
    \u001b[32m- update content in file /etc/keystone/keystone.conf from 397ad5 to 16ab7c\u001b[0m
    \u001b[37m--- /etc/keystone/keystone.conf\t2019-04-05 03:13:21.000000000 +0000\u001b[0m
    \u001b[37m+++ /etc/keystone/.chef-keystone20190426-67198-n95xuo.conf\t2019-04-26 14:50:47.050468851 +0000\u001b[0m
    \u001b[37m@@ -1,2988 +1,33 @@\u001b[0m
    \u001b[37m-[DEFAULT]\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m+# This file is automatically generated by Chef\u001b[0m
    \u001b[37m+# Any changes will be overwritten\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m-# Using this feature is *NOT* recommended. Instead, use the `keystone-manage\u001b[0m
    \u001b[37m-# bootstrap` command. The value of this option is treated as a \"shared secret\"\u001b[0m
    \u001b[37m-# that can be used to bootstrap Keystone through the API. This \"token\" does not\u001b[0m
    \u001b[37m-# represent a user (it has no identity), and carries no explicit authorization\u001b[0m
    \u001b[37m-# (it effectively bypasses most authorization checks). If set to `None`, the\u001b[0m
    \u001b[37m-# value is ignored and the `admin_token` middleware is effectively disabled.\u001b[0m
    \u001b[37m-# (string value)\u001b[0m
    \u001b[37m-#admin_token = <None>\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m-# The base public endpoint URL for Keystone that is advertised to clients\u001b[0m
    \u001b[37m-# (NOTE: this does NOT affect how Keystone listens for connections). Defaults\u001b[0m
    \u001b[37m-# to the base host URL of the request. For example, if keystone receives a\u001b[0m
    \u001b[37m-# request to `http://server:5000/v3/users`, then this will option will be\u001b[0m
    \u001b[37m-# automatically treated as `http://server:5000`. You should only need to set\u001b[0m
    \u001b[37m-# option if either the value of the base URL contains a path that keystone does\u001b[0m
    \u001b[37m-# not automatically infer (`/prefix/v3`), or if the endpoint should be found on\u001b[0m
    \u001b[37m-# a different host. (uri value)\u001b[0m
    \u001b[37m-#public_endpoint = <None>\u001b[0m
    \u001b[37m+[fernet_tokens]\u001b[0m
    \u001b[37m+key_repository = /etc/keystone/fernet-tokens\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m-# DEPRECATED: The base admin endpoint URL for Keystone that is advertised to\u001b[0m
    \u001b[37m-# clients (NOTE: this does NOT affect how Keystone listens for connections).\u001b[0m
    \u001b[37m-# Defaults to the base host URL of the request. For example, if keystone\u001b[0m
    \u001b[37m-# receives a request to `http://server:35357/v3/users`, then this will option\u001b[0m
    \u001b[37m-# will be automatically treated as `http://server:35357`. You should only need\u001b[0m
    \u001b[37m-# to set option if either the value of the base URL contains a path that\u001b[0m
    \u001b[37m-# keystone does not automatically infer (`/prefix/v3`), or if the endpoint\u001b[0m
    \u001b[37m-# should be found on a different host. (uri value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal since R.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: With the removal of the 2.0 API keystone does not distinguish between\u001b[0m
    \u001b[37m-# admin and public endpoints.\u001b[0m
    \u001b[37m-#admin_endpoint = <None>\u001b[0m
    \u001b[37m+[credential]\u001b[0m
    \u001b[37m+key_repository = /etc/keystone/credential-tokens\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m-# Maximum depth of the project hierarchy, excluding the project acting as a\u001b[0m
    \u001b[37m-# domain at the top of the hierarchy. WARNING: Setting it to a large value may\u001b[0m
    \u001b[37m-# adversely impact performance. (integer value)\u001b[0m
    \u001b[37m-#max_project_tree_depth = 5\u001b[0m
    \u001b[37m+[DEFAULT]\u001b[0m
    \u001b[37m+log_dir = /var/log/keystone\u001b[0m
    \u001b[37m+public_endpoint = http://147.75.201.110:5000/\u001b[0m
    \u001b[37m+admin_endpoint = http://147.75.201.110:5000/\u001b[0m
    \u001b[37m+transport_url = rabbit://admin:mypass@147.75.201.110:5672/\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m-# Limit the sizes of user & project ID/names. (integer value)\u001b[0m
    \u001b[37m-#max_param_size = 64\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Similar to `[DEFAULT] max_param_size`, but provides an exception for token\u001b[0m
    \u001b[37m-# values. With Fernet tokens, this can be set as low as 255. With UUID tokens,\u001b[0m
    \u001b[37m-# this should be set to 32). (integer value)\u001b[0m
    \u001b[37m-#max_token_size = 255\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: Similar to the `[DEFAULT] member_role_name` option, this\u001b[0m
    \u001b[37m-# represents the default role ID used to associate users with their default\u001b[0m
    \u001b[37m-# projects in the v2 API. This will be used as the explicit role where one is\u001b[0m
    \u001b[37m-# not specified by the v2 API. You do not need to set this value unless you\u001b[0m
    \u001b[37m-# want keystone to use an existing role with a different ID, other than the\u001b[0m
    \u001b[37m-# arbitrarily defined `_member_` role (in which case, you should set `[DEFAULT]\u001b[0m
    \u001b[37m-# member_role_name` as well). (string value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal since Q.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: This option was used to create a default member role for keystone v2\u001b[0m
    \u001b[37m-# role assignments, but with the removal of the v2 API it is no longer\u001b[0m
    \u001b[37m-# necessary to create this default role. This option is deprecated and will be\u001b[0m
    \u001b[37m-# removed in the S release. If you are depending on having a predictable role\u001b[0m
    \u001b[37m-# name and ID for this member role you will need to update your tooling.\u001b[0m
    \u001b[37m-#member_role_id = 9fe2ff9ee4384b1894a90878d3e92bab\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: This is the role name used in combination with the `[DEFAULT]\u001b[0m
    \u001b[37m-# member_role_id` option; see that option for more detail. You do not need to\u001b[0m
    \u001b[37m-# set this option unless you want keystone to use an existing role (in which\u001b[0m
    \u001b[37m-# case, you should set `[DEFAULT] member_role_id` as well). (string value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal since Q.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: This option was used to create a default member role for keystone v2\u001b[0m
    \u001b[37m-# role assignments, but with the removal of the v2 API it is no longer\u001b[0m
    \u001b[37m-# necessary to create this default role. This option is deprecated and will be\u001b[0m
    \u001b[37m-# removed in the S release. If you are depending on having a predictable role\u001b[0m
    \u001b[37m-# name and ID for this member role you will need to update your tooling.\u001b[0m
    \u001b[37m-#member_role_name = _member_\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The value passed as the keyword \"rounds\" to passlib's encrypt method. This\u001b[0m
    \u001b[37m-# option represents a trade off between security and performance. Higher values\u001b[0m
    \u001b[37m-# lead to slower performance, but higher security. Changing this option will\u001b[0m
    \u001b[37m-# only affect newly created passwords as existing password hashes already have\u001b[0m
    \u001b[37m-# a fixed number of rounds applied, so it is safe to tune this option in a\u001b[0m
    \u001b[37m-# running cluster. For more information, see\u001b[0m
    \u001b[37m-# https://pythonhosted.org/passlib/password_hash_api.html#choosing-the-right-\u001b[0m
    \u001b[37m-# rounds-value (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 1000\u001b[0m
    \u001b[37m-# Maximum value: 100000\u001b[0m
    \u001b[37m-#crypt_strength = 10000\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The maximum number of entities that will be returned in a collection. This\u001b[0m
    \u001b[37m-# global limit may be then overridden for a specific driver, by specifying a\u001b[0m
    \u001b[37m-# list_limit in the appropriate section (for example, `[assignment]`). No limit\u001b[0m
    \u001b[37m-# is set by default. In larger deployments, it is recommended that you set this\u001b[0m
    \u001b[37m-# to a reasonable number to prevent operations like listing all users and\u001b[0m
    \u001b[37m-# projects from placing an unnecessary load on the system. (integer value)\u001b[0m
    \u001b[37m-#list_limit = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# If set to true, strict password length checking is performed for password\u001b[0m
    \u001b[37m-# manipulation. If a password exceeds the maximum length, the operation will\u001b[0m
    \u001b[37m-# fail with an HTTP 403 Forbidden error. If set to false, passwords are\u001b[0m
    \u001b[37m-# automatically truncated to the maximum length. (boolean value)\u001b[0m
    \u001b[37m-#strict_password_check = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: The HTTP header used to determine the scheme for the original\u001b[0m
    \u001b[37m-# request, even if it was removed by an SSL terminating proxy. (string value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal since N.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: This option has been deprecated in the N release and will be removed\u001b[0m
    \u001b[37m-# in the P release. Use oslo.middleware.http_proxy_to_wsgi configuration\u001b[0m
    \u001b[37m-# instead.\u001b[0m
    \u001b[37m-#secure_proxy_ssl_header = HTTP_X_FORWARDED_PROTO\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# If set to true, then the server will return information in HTTP responses\u001b[0m
    \u001b[37m-# that may allow an unauthenticated or authenticated user to get more\u001b[0m
    \u001b[37m-# information than normal, such as additional details about why authentication\u001b[0m
    \u001b[37m-# failed. This may be useful for debugging but is insecure. (boolean value)\u001b[0m
    \u001b[37m-#insecure_debug = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Default `publisher_id` for outgoing notifications. If left undefined,\u001b[0m
    \u001b[37m-# Keystone will default to using the server's host name. (string value)\u001b[0m
    \u001b[37m-#default_publisher_id = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Define the notification format for identity service events. A `basic`\u001b[0m
    \u001b[37m-# notification only has information about the resource being operated on. A\u001b[0m
    \u001b[37m-# `cadf` notification has the same information, as well as information about\u001b[0m
    \u001b[37m-# the initiator of the event. The `cadf` option is entirely backwards\u001b[0m
    \u001b[37m-# compatible with the `basic` option, but is fully CADF-compliant, and is\u001b[0m
    \u001b[37m-# recommended for auditing use cases. (string value)\u001b[0m
    \u001b[37m-# Possible values:\u001b[0m
    \u001b[37m-# basic - <No description provided>\u001b[0m
    \u001b[37m-# cadf - <No description provided>\u001b[0m
    \u001b[37m-#notification_format = cadf\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# You can reduce the number of notifications keystone emits by explicitly\u001b[0m
    \u001b[37m-# opting out. Keystone will not emit notifications that match the patterns\u001b[0m
    \u001b[37m-# expressed in this list. Values are expected to be in the form of\u001b[0m
    \u001b[37m-# `identity.<resource_type>.<operation>`. By default, all notifications related\u001b[0m
    \u001b[37m-# to authentication are automatically suppressed. This field can be set\u001b[0m
    \u001b[37m-# multiple times in order to opt-out of multiple notification topics. For\u001b[0m
    \u001b[37m-# example, the following suppresses notifications describing user creation or\u001b[0m
    \u001b[37m-# successful authentication events: notification_opt_out=identity.user.create\u001b[0m
    \u001b[37m-# notification_opt_out=identity.authenticate.success (multi valued)\u001b[0m
    \u001b[37m-#notification_opt_out = identity.authenticate.success\u001b[0m
    \u001b[37m-#notification_opt_out = identity.authenticate.pending\u001b[0m
    \u001b[37m-#notification_opt_out = identity.authenticate.failed\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From oslo.log\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# If set to true, the logging level will be set to DEBUG instead of the default\u001b[0m
    \u001b[37m-# INFO level. (boolean value)\u001b[0m
    \u001b[37m-# Note: This option can be changed without restarting.\u001b[0m
    \u001b[37m-#debug = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The name of a logging configuration file. This file is appended to any\u001b[0m
    \u001b[37m-# existing logging configuration files. For details about logging configuration\u001b[0m
    \u001b[37m-# files, see the Python logging module documentation. Note that when logging\u001b[0m
    \u001b[37m-# configuration files are used then all logging configuration is set in the\u001b[0m
    \u001b[37m-# configuration file and other logging configuration options are ignored (for\u001b[0m
    \u001b[37m-# example, logging_context_format_string). (string value)\u001b[0m
    \u001b[37m-# Note: This option can be changed without restarting.\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/log_config\u001b[0m
    \u001b[37m-#log_config_append = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Defines the format string for %%(asctime)s in log records. Default:\u001b[0m
    \u001b[37m-# %(default)s . This option is ignored if log_config_append is set. (string\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#log_date_format = %Y-%m-%d %H:%M:%S\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# (Optional) Name of log file to send logging output to. If no default is set,\u001b[0m
    \u001b[37m-# logging will go to stderr as defined by use_stderr. This option is ignored if\u001b[0m
    \u001b[37m-# log_config_append is set. (string value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/logfile\u001b[0m
    \u001b[37m-#log_file = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# (Optional) The base directory used for relative log_file  paths. This option\u001b[0m
    \u001b[37m-# is ignored if log_config_append is set. (string value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/logdir\u001b[0m
    \u001b[37m-#log_dir = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Uses logging handler designed to watch file system. When log file is moved or\u001b[0m
    \u001b[37m-# removed this handler will open a new log file with specified path\u001b[0m
    \u001b[37m-# instantaneously. It makes sense only if log_file option is specified and\u001b[0m
    \u001b[37m-# Linux platform is used. This option is ignored if log_config_append is set.\u001b[0m
    \u001b[37m-# (boolean value)\u001b[0m
    \u001b[37m-#watch_log_file = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Use syslog for logging. Existing syslog format is DEPRECATED and will be\u001b[0m
    \u001b[37m-# changed later to honor RFC5424. This option is ignored if log_config_append\u001b[0m
    \u001b[37m-# is set. (boolean value)\u001b[0m
    \u001b[37m-#use_syslog = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Enable journald for logging. If running in a systemd environment you may wish\u001b[0m
    \u001b[37m-# to enable journal support. Doing so will use the journal native protocol\u001b[0m
    \u001b[37m-# which includes structured metadata in addition to log messages.This option is\u001b[0m
    \u001b[37m-# ignored if log_config_append is set. (boolean value)\u001b[0m
    \u001b[37m-#use_journal = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Syslog facility to receive log lines. This option is ignored if\u001b[0m
    \u001b[37m-# log_config_append is set. (string value)\u001b[0m
    \u001b[37m-#syslog_log_facility = LOG_USER\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Use JSON formatting for logging. This option is ignored if log_config_append\u001b[0m
    \u001b[37m-# is set. (boolean value)\u001b[0m
    \u001b[37m-#use_json = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Log output to standard error. This option is ignored if log_config_append is\u001b[0m
    \u001b[37m-# set. (boolean value)\u001b[0m
    \u001b[37m-#use_stderr = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Format string to use for log messages with context. (string value)\u001b[0m
    \u001b[37m-#logging_context_format_string = %(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user_identity)s] %(instance)s%(message)s\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Format string to use for log messages when context is undefined. (string\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#logging_default_format_string = %(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [-] %(instance)s%(message)s\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Additional data to append to log message when logging level for the message\u001b[0m
    \u001b[37m-# is DEBUG. (string value)\u001b[0m
    \u001b[37m-#logging_debug_format_suffix = %(funcName)s %(pathname)s:%(lineno)d\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Prefix each line of exception output with this format. (string value)\u001b[0m
    \u001b[37m-#logging_exception_prefix = %(asctime)s.%(msecs)03d %(process)d ERROR %(name)s %(instance)s\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Defines the format string for %(user_identity)s that is used in\u001b[0m
    \u001b[37m-# logging_context_format_string. (string value)\u001b[0m
    \u001b[37m-#logging_user_identity_format = %(user)s %(tenant)s %(domain)s %(user_domain)s %(project_domain)s\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# List of package logging levels in logger=LEVEL pairs. This option is ignored\u001b[0m
    \u001b[37m-# if log_config_append is set. (list value)\u001b[0m
    \u001b[37m-#default_log_levels = amqp=WARN,amqplib=WARN,boto=WARN,qpid=WARN,sqlalchemy=WARN,suds=INFO,oslo.messaging=INFO,oslo_messaging=INFO,iso8601=WARN,requests.packages.urllib3.connectionpool=WARN,urllib3.connectionpool=WARN,websocket=WARN,requests.packages.urllib3.util.retry=WARN,urllib3.util.retry=WARN,keystonemiddleware=WARN,routes.middleware=WARN,stevedore=WARN,taskflow=WARN,keystoneauth=WARN,oslo.cache=INFO,dogpile.core.dogpile=INFO\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Enables or disables publication of error events. (boolean value)\u001b[0m
    \u001b[37m-#publish_errors = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The format for an instance that is passed with the log message. (string\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#instance_format = \"[instance: %(uuid)s] \"\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The format for an instance UUID that is passed with the log message. (string\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#instance_uuid_format = \"[instance: %(uuid)s] \"\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Interval, number of seconds, of log rate limiting. (integer value)\u001b[0m
    \u001b[37m-#rate_limit_interval = 0\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Maximum number of logged messages per rate_limit_interval. (integer value)\u001b[0m
    \u001b[37m-#rate_limit_burst = 0\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Log level name used by rate limiting: CRITICAL, ERROR, INFO, WARNING, DEBUG\u001b[0m
    \u001b[37m-# or empty string. Logs with level greater or equal to rate_limit_except_level\u001b[0m
    \u001b[37m-# are not filtered. An empty string means that all levels are filtered. (string\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#rate_limit_except_level = CRITICAL\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Enables or disables fatal status of deprecations. (boolean value)\u001b[0m
    \u001b[37m-#fatal_deprecations = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From oslo.messaging\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Size of RPC connection pool. (integer value)\u001b[0m
    \u001b[37m-#rpc_conn_pool_size = 30\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The pool size limit for connections expiration policy (integer value)\u001b[0m
    \u001b[37m-#conn_pool_min_size = 2\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The time-to-live in sec of idle connections in the pool (integer value)\u001b[0m
    \u001b[37m-#conn_pool_ttl = 1200\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# ZeroMQ bind address. Should be a wildcard (*), an ethernet interface, or IP.\u001b[0m
    \u001b[37m-# The \"host\" option should point or resolve to this address. (string value)\u001b[0m
    \u001b[37m-#rpc_zmq_bind_address = *\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# MatchMaker driver. (string value)\u001b[0m
    \u001b[37m-# Possible values:\u001b[0m
    \u001b[37m-# redis - <No description provided>\u001b[0m
    \u001b[37m-# sentinel - <No description provided>\u001b[0m
    \u001b[37m-# dummy - <No description provided>\u001b[0m
    \u001b[37m-#rpc_zmq_matchmaker = redis\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Number of ZeroMQ contexts, defaults to 1. (integer value)\u001b[0m
    \u001b[37m-#rpc_zmq_contexts = 1\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Maximum number of ingress messages to locally buffer per topic. Default is\u001b[0m
    \u001b[37m-# unlimited. (integer value)\u001b[0m
    \u001b[37m-#rpc_zmq_topic_backlog = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Directory for holding IPC sockets. (string value)\u001b[0m
    \u001b[37m-#rpc_zmq_ipc_dir = /var/run/openstack\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Name of this node. Must be a valid hostname, FQDN, or IP address. Must match\u001b[0m
    \u001b[37m-# \"host\" option, if running Nova. (string value)\u001b[0m
    \u001b[37m-#rpc_zmq_host = localhost\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Number of seconds to wait before all pending messages will be sent after\u001b[0m
    \u001b[37m-# closing a socket. The default value of -1 specifies an infinite linger\u001b[0m
    \u001b[37m-# period. The value of 0 specifies no linger period. Pending messages shall be\u001b[0m
    \u001b[37m-# discarded immediately when the socket is closed. Positive values specify an\u001b[0m
    \u001b[37m-# upper bound for the linger period. (integer value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/rpc_cast_timeout\u001b[0m
    \u001b[37m-#zmq_linger = -1\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The default number of seconds that poll should wait. Poll raises timeout\u001b[0m
    \u001b[37m-# exception when timeout expired. (integer value)\u001b[0m
    \u001b[37m-#rpc_poll_timeout = 1\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Expiration timeout in seconds of a name service record about existing target\u001b[0m
    \u001b[37m-# ( < 0 means no timeout). (integer value)\u001b[0m
    \u001b[37m-#zmq_target_expire = 300\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Update period in seconds of a name service record about existing target.\u001b[0m
    \u001b[37m-# (integer value)\u001b[0m
    \u001b[37m-#zmq_target_update = 180\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Use PUB/SUB pattern for fanout methods. PUB/SUB always uses proxy. (boolean\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#use_pub_sub = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Use ROUTER remote proxy. (boolean value)\u001b[0m
    \u001b[37m-#use_router_proxy = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# This option makes direct connections dynamic or static. It makes sense only\u001b[0m
    \u001b[37m-# with use_router_proxy=False which means to use direct connections for direct\u001b[0m
    \u001b[37m-# message types (ignored otherwise). (boolean value)\u001b[0m
    \u001b[37m-#use_dynamic_connections = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# How many additional connections to a host will be made for failover reasons.\u001b[0m
    \u001b[37m-# This option is actual only in dynamic connections mode. (integer value)\u001b[0m
    \u001b[37m-#zmq_failover_connections = 2\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Minimal port number for random ports range. (port value)\u001b[0m
    \u001b[37m-# Minimum value: 0\u001b[0m
    \u001b[37m-# Maximum value: 65535\u001b[0m
    \u001b[37m-#rpc_zmq_min_port = 49153\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Maximal port number for random ports range. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 1\u001b[0m
    \u001b[37m-# Maximum value: 65536\u001b[0m
    \u001b[37m-#rpc_zmq_max_port = 65536\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Number of retries to find free port number before fail with ZMQBindError.\u001b[0m
    \u001b[37m-# (integer value)\u001b[0m
    \u001b[37m-#rpc_zmq_bind_port_retries = 100\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Default serialization mechanism for serializing/deserializing\u001b[0m
    \u001b[37m-# outgoing/incoming messages (string value)\u001b[0m
    \u001b[37m-# Possible values:\u001b[0m
    \u001b[37m-# json - <No description provided>\u001b[0m
    \u001b[37m-# msgpack - <No description provided>\u001b[0m
    \u001b[37m-#rpc_zmq_serialization = json\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# This option configures round-robin mode in zmq socket. True means not keeping\u001b[0m
    \u001b[37m-# a queue when server side disconnects. False means to keep queue and messages\u001b[0m
    \u001b[37m-# even if server is disconnected, when the server appears we send all\u001b[0m
    \u001b[37m-# accumulated messages to it. (boolean value)\u001b[0m
    \u001b[37m-#zmq_immediate = true\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Enable/disable TCP keepalive (KA) mechanism. The default value of -1 (or any\u001b[0m
    \u001b[37m-# other negative value) means to skip any overrides and leave it to OS default;\u001b[0m
    \u001b[37m-# 0 and 1 (or any other positive value) mean to disable and enable the option\u001b[0m
    \u001b[37m-# respectively. (integer value)\u001b[0m
    \u001b[37m-#zmq_tcp_keepalive = -1\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The duration between two keepalive transmissions in idle condition. The unit\u001b[0m
    \u001b[37m-# is platform dependent, for example, seconds in Linux, milliseconds in Windows\u001b[0m
    \u001b[37m-# etc. The default value of -1 (or any other negative value and 0) means to\u001b[0m
    \u001b[37m-# skip any overrides and leave it to OS default. (integer value)\u001b[0m
    \u001b[37m-#zmq_tcp_keepalive_idle = -1\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The number of retransmissions to be carried out before declaring that remote\u001b[0m
    \u001b[37m-# end is not available. The default value of -1 (or any other negative value\u001b[0m
    \u001b[37m-# and 0) means to skip any overrides and leave it to OS default. (integer\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#zmq_tcp_keepalive_cnt = -1\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The duration between two successive keepalive retransmissions, if\u001b[0m
    \u001b[37m-# acknowledgement to the previous keepalive transmission is not received. The\u001b[0m
    \u001b[37m-# unit is platform dependent, for example, seconds in Linux, milliseconds in\u001b[0m
    \u001b[37m-# Windows etc. The default value of -1 (or any other negative value and 0)\u001b[0m
    \u001b[37m-# means to skip any overrides and leave it to OS default. (integer value)\u001b[0m
    \u001b[37m-#zmq_tcp_keepalive_intvl = -1\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Maximum number of (green) threads to work concurrently. (integer value)\u001b[0m
    \u001b[37m-#rpc_thread_pool_size = 100\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Expiration timeout in seconds of a sent/received message after which it is\u001b[0m
    \u001b[37m-# not tracked anymore by a client/server. (integer value)\u001b[0m
    \u001b[37m-#rpc_message_ttl = 300\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Wait for message acknowledgements from receivers. This mechanism works only\u001b[0m
    \u001b[37m-# via proxy without PUB/SUB. (boolean value)\u001b[0m
    \u001b[37m-#rpc_use_acks = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Number of seconds to wait for an ack from a cast/call. After each retry\u001b[0m
    \u001b[37m-# attempt this timeout is multiplied by some specified multiplier. (integer\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#rpc_ack_timeout_base = 15\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Number to multiply base ack timeout by after each retry attempt. (integer\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#rpc_ack_timeout_multiplier = 2\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Default number of message sending attempts in case of any problems occurred:\u001b[0m
    \u001b[37m-# positive value N means at most N retries, 0 means no retries, None or -1 (or\u001b[0m
    \u001b[37m-# any other negative values) mean to retry forever. This option is used only if\u001b[0m
    \u001b[37m-# acknowledgments are enabled. (integer value)\u001b[0m
    \u001b[37m-#rpc_retry_attempts = 3\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# List of publisher hosts SubConsumer can subscribe on. This option has higher\u001b[0m
    \u001b[37m-# priority then the default publishers list taken from the matchmaker. (list\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#subscribe_on =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Size of executor thread pool when executor is threading or eventlet. (integer\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/rpc_thread_pool_size\u001b[0m
    \u001b[37m-#executor_thread_pool_size = 64\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Seconds to wait for a response from a call. (integer value)\u001b[0m
    \u001b[37m-#rpc_response_timeout = 60\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The network address and optional user credentials for connecting to the\u001b[0m
    \u001b[37m-# messaging backend, in URL format. The expected format is:\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# driver://[user:pass@]host:port[,[userN:passN@]hostN:portN]/virtual_host?query\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# Example: rabbit://rabbitmq:password@127.0.0.1:5672//\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# For full details on the fields in the URL see the documentation of\u001b[0m
    \u001b[37m-# oslo_messaging.TransportURL at\u001b[0m
    \u001b[37m-# https://docs.openstack.org/oslo.messaging/latest/reference/transport.html\u001b[0m
    \u001b[37m-# (string value)\u001b[0m
    \u001b[37m-#transport_url = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: The messaging driver to use, defaults to rabbit. Other drivers\u001b[0m
    \u001b[37m-# include amqp and zmq. (string value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: Replaced by [DEFAULT]/transport_url\u001b[0m
    \u001b[37m-#rpc_backend = rabbit\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The default exchange under which topics are scoped. May be overridden by an\u001b[0m
    \u001b[37m-# exchange name specified in the transport_url option. (string value)\u001b[0m
    \u001b[37m-#control_exchange = keystone\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[application_credential]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Entry point for the application credential backend driver in the\u001b[0m
    \u001b[37m-# `keystone.application_credential` namespace.  Keystone only provides a `sql`\u001b[0m
    \u001b[37m-# driver, so there is no reason to change this unless you are providing a\u001b[0m
    \u001b[37m-# custom entry point. (string value)\u001b[0m
    \u001b[37m-#driver = sql\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Toggle for application credential caching. This has no effect unless global\u001b[0m
    \u001b[37m-# caching is enabled. (boolean value)\u001b[0m
    \u001b[37m-#caching = true\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Time to cache application credential data in seconds. This has no effect\u001b[0m
    \u001b[37m-# unless global caching is enabled. (integer value)\u001b[0m
    \u001b[37m-#cache_time = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Maximum number of application credentials a user is permitted to create. A\u001b[0m
    \u001b[37m-# value of -1 means unlimited. If a limit is not set, users are permitted to\u001b[0m
    \u001b[37m-# create application credentials at will, which could lead to bloat in the\u001b[0m
    \u001b[37m-# keystone database or open keystone to a DoS attack. (integer value)\u001b[0m
    \u001b[37m-#user_limit = -1\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m [assignment]\u001b[0m
    \u001b[37m+driver = sql\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Entry point for the assignment backend driver (where role assignments are\u001b[0m
    \u001b[37m-# stored) in the `keystone.assignment` namespace. Only a SQL driver is supplied\u001b[0m
    \u001b[37m-# by keystone itself. Unless you are writing proprietary drivers for keystone,\u001b[0m
    \u001b[37m-# you do not need to set this option. (string value)\u001b[0m
    \u001b[37m-#driver = sql\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# A list of role names which are prohibited from being an implied role. (list\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#prohibited_implied_role = admin\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[auth]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Allowed authentication methods. Note: You should disable the `external` auth\u001b[0m
    \u001b[37m-# method if you are currently using federation. External auth and federation\u001b[0m
    \u001b[37m-# both use the REMOTE_USER variable. Since both the mapped and external plugin\u001b[0m
    \u001b[37m-# are being invoked to validate attributes in the request environment, it can\u001b[0m
    \u001b[37m-# cause conflicts. (list value)\u001b[0m
    \u001b[37m-#methods = external,password,token,oauth1,mapped,application_credential\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Entry point for the password auth plugin module in the\u001b[0m
    \u001b[37m-# `keystone.auth.password` namespace. You do not need to set this unless you\u001b[0m
    \u001b[37m-# are overriding keystone's own password authentication plugin. (string value)\u001b[0m
    \u001b[37m-#password = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Entry point for the token auth plugin module in the `keystone.auth.token`\u001b[0m
    \u001b[37m-# namespace. You do not need to set this unless you are overriding keystone's\u001b[0m
    \u001b[37m-# own token authentication plugin. (string value)\u001b[0m
    \u001b[37m-#token = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Entry point for the external (`REMOTE_USER`) auth plugin module in the\u001b[0m
    \u001b[37m-# `keystone.auth.external` namespace. Supplied drivers are `DefaultDomain` and\u001b[0m
    \u001b[37m-# `Domain`. The default driver is `DefaultDomain`, which assumes that all users\u001b[0m
    \u001b[37m-# identified by the username specified to keystone in the `REMOTE_USER`\u001b[0m
    \u001b[37m-# variable exist within the context of the default domain. The `Domain` option\u001b[0m
    \u001b[37m-# expects an additional environment variable be presented to keystone,\u001b[0m
    \u001b[37m-# `REMOTE_DOMAIN`, containing the domain name of the `REMOTE_USER` (if\u001b[0m
    \u001b[37m-# `REMOTE_DOMAIN` is not set, then the default domain will be used instead).\u001b[0m
    \u001b[37m-# You do not need to set this unless you are taking advantage of \"external\u001b[0m
    \u001b[37m-# authentication\", where the application server (such as Apache) is handling\u001b[0m
    \u001b[37m-# authentication instead of keystone. (string value)\u001b[0m
    \u001b[37m-#external = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Entry point for the OAuth 1.0a auth plugin module in the\u001b[0m
    \u001b[37m-# `keystone.auth.oauth1` namespace. You do not need to set this unless you are\u001b[0m
    \u001b[37m-# overriding keystone's own `oauth1` authentication plugin. (string value)\u001b[0m
    \u001b[37m-#oauth1 = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Entry point for the mapped auth plugin module in the `keystone.auth.mapped`\u001b[0m
    \u001b[37m-# namespace. You do not need to set this unless you are overriding keystone's\u001b[0m
    \u001b[37m-# own `mapped` authentication plugin. (string value)\u001b[0m
    \u001b[37m-#mapped = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Entry point for the application_credential auth plugin module in the\u001b[0m
    \u001b[37m-# `keystone.auth.application_credential` namespace. You do not need to set this\u001b[0m
    \u001b[37m-# unless you are overriding keystone's own `application_credential`\u001b[0m
    \u001b[37m-# authentication plugin. (string value)\u001b[0m
    \u001b[37m-#application_credential = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m [cache]\u001b[0m
    \u001b[37m+enabled = true\u001b[0m
    \u001b[37m+backend = oslo_cache.memcache_pool\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From oslo.cache\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m+[policy]\u001b[0m
    \u001b[37m+driver = sql\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m-# Prefix for building the configuration dictionary for the cache region. This\u001b[0m
    \u001b[37m-# should not need to be changed unless there is another dogpile.cache region\u001b[0m
    \u001b[37m-# with the same configuration name. (string value)\u001b[0m
    \u001b[37m-#config_prefix = cache.oslo\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Default TTL, in seconds, for any cached item in the dogpile.cache region.\u001b[0m
    \u001b[37m-# This applies to any cached method that doesn't have an explicit cache\u001b[0m
    \u001b[37m-# expiration time defined for it. (integer value)\u001b[0m
    \u001b[37m-#expiration_time = 600\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Cache backend module. For eventlet-based or environments with hundreds of\u001b[0m
    \u001b[37m-# threaded servers, Memcache with pooling (oslo_cache.memcache_pool) is\u001b[0m
    \u001b[37m-# recommended. For environments with less than 100 threaded servers, Memcached\u001b[0m
    \u001b[37m-# (dogpile.cache.memcached) or Redis (dogpile.cache.redis) is recommended. Test\u001b[0m
    \u001b[37m-# environments with a single instance of the server can use the\u001b[0m
    \u001b[37m-# dogpile.cache.memory backend. (string value)\u001b[0m
    \u001b[37m-# Possible values:\u001b[0m
    \u001b[37m-# oslo_cache.memcache_pool - <No description provided>\u001b[0m
    \u001b[37m-# oslo_cache.dict - <No description provided>\u001b[0m
    \u001b[37m-# oslo_cache.mongo - <No description provided>\u001b[0m
    \u001b[37m-# oslo_cache.etcd3gw - <No description provided>\u001b[0m
    \u001b[37m-# dogpile.cache.memcached - <No description provided>\u001b[0m
    \u001b[37m-# dogpile.cache.pylibmc - <No description provided>\u001b[0m
    \u001b[37m-# dogpile.cache.bmemcached - <No description provided>\u001b[0m
    \u001b[37m-# dogpile.cache.dbm - <No description provided>\u001b[0m
    \u001b[37m-# dogpile.cache.redis - <No description provided>\u001b[0m
    \u001b[37m-# dogpile.cache.memory - <No description provided>\u001b[0m
    \u001b[37m-# dogpile.cache.memory_pickle - <No description provided>\u001b[0m
    \u001b[37m-# dogpile.cache.null - <No description provided>\u001b[0m
    \u001b[37m-#backend = dogpile.cache.null\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Arguments supplied to the backend module. Specify this option once per\u001b[0m
    \u001b[37m-# argument to be passed to the dogpile.cache backend. Example format:\u001b[0m
    \u001b[37m-# \"<argname>:<value>\". (multi valued)\u001b[0m
    \u001b[37m-#backend_argument =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Proxy classes to import that will affect the way the dogpile.cache backend\u001b[0m
    \u001b[37m-# functions. See the dogpile.cache documentation on changing-backend-behavior.\u001b[0m
    \u001b[37m-# (list value)\u001b[0m
    \u001b[37m-#proxies =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Global toggle for caching. (boolean value)\u001b[0m
    \u001b[37m-#enabled = true\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Extra debugging from the cache backend (cache keys, get/set/delete/etc\u001b[0m
    \u001b[37m-# calls). This is only really useful if you need to see the specific cache-\u001b[0m
    \u001b[37m-# backend get/set/delete calls with the keys/values.  Typically this should be\u001b[0m
    \u001b[37m-# left set to false. (boolean value)\u001b[0m
    \u001b[37m-#debug_cache_backend = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Memcache servers in the format of \"host:port\". (dogpile.cache.memcache and\u001b[0m
    \u001b[37m-# oslo_cache.memcache_pool backends only). (list value)\u001b[0m
    \u001b[37m-#memcache_servers = localhost:11211\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Number of seconds memcached server is considered dead before it is tried\u001b[0m
    \u001b[37m-# again. (dogpile.cache.memcache and oslo_cache.memcache_pool backends only).\u001b[0m
    \u001b[37m-# (integer value)\u001b[0m
    \u001b[37m-#memcache_dead_retry = 300\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Timeout in seconds for every call to a server. (dogpile.cache.memcache and\u001b[0m
    \u001b[37m-# oslo_cache.memcache_pool backends only). (floating point value)\u001b[0m
    \u001b[37m-#memcache_socket_timeout = 3.0\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Max total number of open connections to every memcached server.\u001b[0m
    \u001b[37m-# (oslo_cache.memcache_pool backend only). (integer value)\u001b[0m
    \u001b[37m-#memcache_pool_maxsize = 10\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Number of seconds a connection to memcached is held unused in the pool before\u001b[0m
    \u001b[37m-# it is closed. (oslo_cache.memcache_pool backend only). (integer value)\u001b[0m
    \u001b[37m-#memcache_pool_unused_timeout = 60\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Number of seconds that an operation will wait to get a memcache client\u001b[0m
    \u001b[37m-# connection. (integer value)\u001b[0m
    \u001b[37m-#memcache_pool_connection_get_timeout = 10\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[catalog]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Absolute path to the file used for the templated catalog backend. This option\u001b[0m
    \u001b[37m-# is only used if the `[catalog] driver` is set to `templated`. (string value)\u001b[0m
    \u001b[37m-#template_file = default_catalog.templates\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Entry point for the catalog driver in the `keystone.catalog` namespace.\u001b[0m
    \u001b[37m-# Keystone provides a `sql` option (which supports basic CRUD operations\u001b[0m
    \u001b[37m-# through SQL), a `templated` option (which loads the catalog from a templated\u001b[0m
    \u001b[37m-# catalog file on disk), and a `endpoint_filter.sql` option (which supports\u001b[0m
    \u001b[37m-# arbitrary service catalogs per project). (string value)\u001b[0m
    \u001b[37m-#driver = sql\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Toggle for catalog caching. This has no effect unless global caching is\u001b[0m
    \u001b[37m-# enabled. In a typical deployment, there is no reason to disable this.\u001b[0m
    \u001b[37m-# (boolean value)\u001b[0m
    \u001b[37m-#caching = true\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Time to cache catalog data (in seconds). This has no effect unless global and\u001b[0m
    \u001b[37m-# catalog caching are both enabled. Catalog data (services, endpoints, etc.)\u001b[0m
    \u001b[37m-# typically does not change frequently, and so a longer duration than the\u001b[0m
    \u001b[37m-# global default may be desirable. (integer value)\u001b[0m
    \u001b[37m-#cache_time = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Maximum number of entities that will be returned in a catalog collection.\u001b[0m
    \u001b[37m-# There is typically no reason to set this, as it would be unusual for a\u001b[0m
    \u001b[37m-# deployment to have enough services or endpoints to exceed a reasonable limit.\u001b[0m
    \u001b[37m-# (integer value)\u001b[0m
    \u001b[37m-#list_limit = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[cors]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From oslo.middleware\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Indicate whether this resource may be shared with the domain received in the\u001b[0m
    \u001b[37m-# requests \"origin\" header. Format: \"<protocol>://<host>[:<port>]\", no trailing\u001b[0m
    \u001b[37m-# slash. Example: https://horizon.example.com (list value)\u001b[0m
    \u001b[37m-#allowed_origin = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Indicate that the actual request can include user credentials (boolean value)\u001b[0m
    \u001b[37m-#allow_credentials = true\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Indicate which headers are safe to expose to the API. Defaults to HTTP Simple\u001b[0m
    \u001b[37m-# Headers. (list value)\u001b[0m
    \u001b[37m-#expose_headers = X-Auth-Token,X-Openstack-Request-Id,X-Subject-Token\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Maximum cache age of CORS preflight requests. (integer value)\u001b[0m
    \u001b[37m-#max_age = 3600\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Indicate which methods can be used during the actual request. (list value)\u001b[0m
    \u001b[37m-#allow_methods = GET,PUT,POST,DELETE,PATCH\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Indicate which header field names may be used during the actual request.\u001b[0m
    \u001b[37m-# (list value)\u001b[0m
    \u001b[37m-#allow_headers = X-Auth-Token,X-Openstack-Request-Id,X-Subject-Token,X-Project-Id,X-Project-Name,X-Project-Domain-Id,X-Project-Domain-Name,X-Domain-Id,X-Domain-Name\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[credential]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Entry point for the credential backend driver in the `keystone.credential`\u001b[0m
    \u001b[37m-# namespace. Keystone only provides a `sql` driver, so there's no reason to\u001b[0m
    \u001b[37m-# change this unless you are providing a custom entry point. (string value)\u001b[0m
    \u001b[37m-#driver = sql\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Entry point for credential encryption and decryption operations in the\u001b[0m
    \u001b[37m-# `keystone.credential.provider` namespace. Keystone only provides a `fernet`\u001b[0m
    \u001b[37m-# driver, so there's no reason to change this unless you are providing a custom\u001b[0m
    \u001b[37m-# entry point to encrypt and decrypt credentials. (string value)\u001b[0m
    \u001b[37m-#provider = fernet\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Directory containing Fernet keys used to encrypt and decrypt credentials\u001b[0m
    \u001b[37m-# stored in the credential backend. Fernet keys used to encrypt credentials\u001b[0m
    \u001b[37m-# have no relationship to Fernet keys used to encrypt Fernet tokens. Both sets\u001b[0m
    \u001b[37m-# of keys should be managed separately and require different rotation policies.\u001b[0m
    \u001b[37m-# Do not share this repository with the repository used to manage keys for\u001b[0m
    \u001b[37m-# Fernet tokens. (string value)\u001b[0m
    \u001b[37m-#key_repository = /etc/keystone/credential-keys/\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[database]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From oslo.db\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# If True, SQLite uses synchronous mode. (boolean value)\u001b[0m
    \u001b[37m-#sqlite_synchronous = true\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The back end to use for the database. (string value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/db_backend\u001b[0m
    \u001b[37m-#backend = sqlalchemy\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The SQLAlchemy connection string to use to connect to the database. (string\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/sql_connection\u001b[0m
    \u001b[37m-# Deprecated group/name - [DATABASE]/sql_connection\u001b[0m
    \u001b[37m-# Deprecated group/name - [sql]/connection\u001b[0m
    \u001b[37m-#connection = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The SQLAlchemy connection string to use to connect to the slave database.\u001b[0m
    \u001b[37m-# (string value)\u001b[0m
    \u001b[37m-#slave_connection = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The SQL mode to be used for MySQL sessions. This option, including the\u001b[0m
    \u001b[37m-# default, overrides any server-set SQL mode. To use whatever SQL mode is set\u001b[0m
    \u001b[37m-# by the server configuration, set this to no value. Example: mysql_sql_mode=\u001b[0m
    \u001b[37m-# (string value)\u001b[0m
    \u001b[37m-#mysql_sql_mode = TRADITIONAL\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# If True, transparently enables support for handling MySQL Cluster (NDB).\u001b[0m
    \u001b[37m-# (boolean value)\u001b[0m
    \u001b[37m-#mysql_enable_ndb = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Connections which have been present in the connection pool longer than this\u001b[0m
    \u001b[37m-# number of seconds will be replaced with a new one the next time they are\u001b[0m
    \u001b[37m-# checked out from the pool. (integer value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [DATABASE]/idle_timeout\u001b[0m
    \u001b[37m-# Deprecated group/name - [database]/idle_timeout\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/sql_idle_timeout\u001b[0m
    \u001b[37m-# Deprecated group/name - [DATABASE]/sql_idle_timeout\u001b[0m
    \u001b[37m-# Deprecated group/name - [sql]/idle_timeout\u001b[0m
    \u001b[37m-#connection_recycle_time = 3600\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: Minimum number of SQL connections to keep open in a pool.\u001b[0m
    \u001b[37m-# (integer value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/sql_min_pool_size\u001b[0m
    \u001b[37m-# Deprecated group/name - [DATABASE]/sql_min_pool_size\u001b[0m
    \u001b[37m-# This option is deprecated for removal.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: The option to set the minimum pool size is not supported by\u001b[0m
    \u001b[37m-# sqlalchemy.\u001b[0m
    \u001b[37m-#min_pool_size = 1\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Maximum number of SQL connections to keep open in a pool. Setting a value of\u001b[0m
    \u001b[37m-# 0 indicates no limit. (integer value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/sql_max_pool_size\u001b[0m
    \u001b[37m-# Deprecated group/name - [DATABASE]/sql_max_pool_size\u001b[0m
    \u001b[37m-#max_pool_size = 5\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Maximum number of database connection retries during startup. Set to -1 to\u001b[0m
    \u001b[37m-# specify an infinite retry count. (integer value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/sql_max_retries\u001b[0m
    \u001b[37m-# Deprecated group/name - [DATABASE]/sql_max_retries\u001b[0m
    \u001b[37m-#max_retries = 10\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Interval between retries of opening a SQL connection. (integer value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/sql_retry_interval\u001b[0m
    \u001b[37m-# Deprecated group/name - [DATABASE]/reconnect_interval\u001b[0m
    \u001b[37m-#retry_interval = 10\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# If set, use this value for max_overflow with SQLAlchemy. (integer value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/sql_max_overflow\u001b[0m
    \u001b[37m-# Deprecated group/name - [DATABASE]/sqlalchemy_max_overflow\u001b[0m
    \u001b[37m-#max_overflow = 50\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Verbosity of SQL debugging information: 0=None, 100=Everything. (integer\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-# Minimum value: 0\u001b[0m
    \u001b[37m-# Maximum value: 100\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/sql_connection_debug\u001b[0m
    \u001b[37m-#connection_debug = 0\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Add Python stack traces to SQL as comment strings. (boolean value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/sql_connection_trace\u001b[0m
    \u001b[37m-#connection_trace = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# If set, use this value for pool_timeout with SQLAlchemy. (integer value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [DATABASE]/sqlalchemy_pool_timeout\u001b[0m
    \u001b[37m-#pool_timeout = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Enable the experimental use of database reconnect on connection lost.\u001b[0m
    \u001b[37m-# (boolean value)\u001b[0m
    \u001b[37m-#use_db_reconnect = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Seconds between retries of a database transaction. (integer value)\u001b[0m
    \u001b[37m-#db_retry_interval = 1\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# If True, increases the interval between retries of a database operation up to\u001b[0m
    \u001b[37m-# db_max_retry_interval. (boolean value)\u001b[0m
    \u001b[37m-#db_inc_retry_interval = true\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# If db_inc_retry_interval is set, the maximum seconds between retries of a\u001b[0m
    \u001b[37m-# database operation. (integer value)\u001b[0m
    \u001b[37m-#db_max_retry_interval = 10\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Maximum retries in case of connection error or deadlock error before error is\u001b[0m
    \u001b[37m-# raised. Set to -1 to specify an infinite retry count. (integer value)\u001b[0m
    \u001b[37m-#db_max_retries = 20\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Optional URL parameters to append onto the connection URL at connect time;\u001b[0m
    \u001b[37m-# specify as param1=value1&param2=value2&... (string value)\u001b[0m
    \u001b[37m-#connection_parameters =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[domain_config]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Entry point for the domain-specific configuration driver in the\u001b[0m
    \u001b[37m-# `keystone.resource.domain_config` namespace. Only a `sql` option is provided\u001b[0m
    \u001b[37m-# by keystone, so there is no reason to set this unless you are providing a\u001b[0m
    \u001b[37m-# custom entry point. (string value)\u001b[0m
    \u001b[37m-#driver = sql\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Toggle for caching of the domain-specific configuration backend. This has no\u001b[0m
    \u001b[37m-# effect unless global caching is enabled. There is normally no reason to\u001b[0m
    \u001b[37m-# disable this. (boolean value)\u001b[0m
    \u001b[37m-#caching = true\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Time-to-live (TTL, in seconds) to cache domain-specific configuration data.\u001b[0m
    \u001b[37m-# This has no effect unless `[domain_config] caching` is enabled. (integer\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#cache_time = 300\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[endpoint_filter]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Entry point for the endpoint filter driver in the `keystone.endpoint_filter`\u001b[0m
    \u001b[37m-# namespace. Only a `sql` option is provided by keystone, so there is no reason\u001b[0m
    \u001b[37m-# to set this unless you are providing a custom entry point. (string value)\u001b[0m
    \u001b[37m-#driver = sql\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# This controls keystone's behavior if the configured endpoint filters do not\u001b[0m
    \u001b[37m-# result in any endpoints for a user + project pair (and therefore a\u001b[0m
    \u001b[37m-# potentially empty service catalog). If set to true, keystone will return the\u001b[0m
    \u001b[37m-# entire service catalog. If set to false, keystone will return an empty\u001b[0m
    \u001b[37m-# service catalog. (boolean value)\u001b[0m
    \u001b[37m-#return_all_endpoints_if_no_filter = true\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[endpoint_policy]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Entry point for the endpoint policy driver in the `keystone.endpoint_policy`\u001b[0m
    \u001b[37m-# namespace. Only a `sql` driver is provided by keystone, so there is no reason\u001b[0m
    \u001b[37m-# to set this unless you are providing a custom entry point. (string value)\u001b[0m
    \u001b[37m-#driver = sql\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[eventlet_server]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: The IP address of the network interface for the public service to\u001b[0m
    \u001b[37m-# listen on. (host address value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/bind_host\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/public_bind_host\u001b[0m
    \u001b[37m-# This option is deprecated for removal since K.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: Support for running keystone under eventlet has been removed in the\u001b[0m
    \u001b[37m-# Newton release. These options remain for backwards compatibility because they\u001b[0m
    \u001b[37m-# are used for URL substitutions.\u001b[0m
    \u001b[37m-#public_bind_host = 0.0.0.0\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: The port number for the public service to listen on. (port value)\u001b[0m
    \u001b[37m-# Minimum value: 0\u001b[0m
    \u001b[37m-# Maximum value: 65535\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/public_port\u001b[0m
    \u001b[37m-# This option is deprecated for removal since K.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: Support for running keystone under eventlet has been removed in the\u001b[0m
    \u001b[37m-# Newton release. These options remain for backwards compatibility because they\u001b[0m
    \u001b[37m-# are used for URL substitutions.\u001b[0m
    \u001b[37m-#public_port = 5000\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: The IP address of the network interface for the admin service to\u001b[0m
    \u001b[37m-# listen on. (host address value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/bind_host\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/admin_bind_host\u001b[0m
    \u001b[37m-# This option is deprecated for removal since K.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: Support for running keystone under eventlet has been removed in the\u001b[0m
    \u001b[37m-# Newton release. These options remain for backwards compatibility because they\u001b[0m
    \u001b[37m-# are used for URL substitutions.\u001b[0m
    \u001b[37m-#admin_bind_host = 0.0.0.0\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: The port number for the admin service to listen on. (port value)\u001b[0m
    \u001b[37m-# Minimum value: 0\u001b[0m
    \u001b[37m-# Maximum value: 65535\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/admin_port\u001b[0m
    \u001b[37m-# This option is deprecated for removal since K.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: Support for running keystone under eventlet has been removed in the\u001b[0m
    \u001b[37m-# Newton release. These options remain for backwards compatibility because they\u001b[0m
    \u001b[37m-# are used for URL substitutions.\u001b[0m
    \u001b[37m-#admin_port = 35357\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[federation]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Entry point for the federation backend driver in the `keystone.federation`\u001b[0m
    \u001b[37m-# namespace. Keystone only provides a `sql` driver, so there is no reason to\u001b[0m
    \u001b[37m-# set this option unless you are providing a custom entry point. (string value)\u001b[0m
    \u001b[37m-#driver = sql\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Prefix to use when filtering environment variable names for federated\u001b[0m
    \u001b[37m-# assertions. Matched variables are passed into the federated mapping engine.\u001b[0m
    \u001b[37m-# (string value)\u001b[0m
    \u001b[37m-#assertion_prefix =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Value to be used to obtain the entity ID of the Identity Provider from the\u001b[0m
    \u001b[37m-# environment. For `mod_shib`, this would be `Shib-Identity-Provider`. For\u001b[0m
    \u001b[37m-# `mod_auth_openidc`, this could be `HTTP_OIDC_ISS`. For `mod_auth_mellon`,\u001b[0m
    \u001b[37m-# this could be `MELLON_IDP`. (string value)\u001b[0m
    \u001b[37m-#remote_id_attribute = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# An arbitrary domain name that is reserved to allow federated ephemeral users\u001b[0m
    \u001b[37m-# to have a domain concept. Note that an admin will not be able to create a\u001b[0m
    \u001b[37m-# domain with this name or update an existing domain to this name. You are not\u001b[0m
    \u001b[37m-# advised to change this value unless you really have to. (string value)\u001b[0m
    \u001b[37m-#federated_domain_name = Federated\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# A list of trusted dashboard hosts. Before accepting a Single Sign-On request\u001b[0m
    \u001b[37m-# to return a token, the origin host must be a member of this list. This\u001b[0m
    \u001b[37m-# configuration option may be repeated for multiple values. You must set this\u001b[0m
    \u001b[37m-# in order to use web-based SSO flows. For example:\u001b[0m
    \u001b[37m-# trusted_dashboard=https://acme.example.com/auth/websso\u001b[0m
    \u001b[37m-# trusted_dashboard=https://beta.example.com/auth/websso (multi valued)\u001b[0m
    \u001b[37m-#trusted_dashboard =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Absolute path to an HTML file used as a Single Sign-On callback handler. This\u001b[0m
    \u001b[37m-# page is expected to redirect the user from keystone back to a trusted\u001b[0m
    \u001b[37m-# dashboard host, by form encoding a token in a POST request. Keystone's\u001b[0m
    \u001b[37m-# default value should be sufficient for most deployments. (string value)\u001b[0m
    \u001b[37m-#sso_callback_template = /etc/keystone/sso_callback_template.html\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Toggle for federation caching. This has no effect unless global caching is\u001b[0m
    \u001b[37m-# enabled. There is typically no reason to disable this. (boolean value)\u001b[0m
    \u001b[37m-#caching = true\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[fernet_tokens]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Directory containing Fernet token keys. This directory must exist before\u001b[0m
    \u001b[37m-# using `keystone-manage fernet_setup` for the first time, must be writable by\u001b[0m
    \u001b[37m-# the user running `keystone-manage fernet_setup` or `keystone-manage\u001b[0m
    \u001b[37m-# fernet_rotate`, and of course must be readable by keystone's server process.\u001b[0m
    \u001b[37m-# The repository may contain keys in one of three states: a single staged key\u001b[0m
    \u001b[37m-# (always index 0) used for token validation, a single primary key (always the\u001b[0m
    \u001b[37m-# highest index) used for token creation and validation, and any number of\u001b[0m
    \u001b[37m-# secondary keys (all other index values) used for token validation. With\u001b[0m
    \u001b[37m-# multiple keystone nodes, each node must share the same key repository\u001b[0m
    \u001b[37m-# contents, with the exception of the staged key (index 0). It is safe to run\u001b[0m
    \u001b[37m-# `keystone-manage fernet_rotate` once on any one node to promote a staged key\u001b[0m
    \u001b[37m-# (index 0) to be the new primary (incremented from the previous highest\u001b[0m
    \u001b[37m-# index), and produce a new staged key (a new key with index 0); the resulting\u001b[0m
    \u001b[37m-# repository can then be atomically replicated to other nodes without any risk\u001b[0m
    \u001b[37m-# of race conditions (for example, it is safe to run `keystone-manage\u001b[0m
    \u001b[37m-# fernet_rotate` on host A, wait any amount of time, create a tarball of the\u001b[0m
    \u001b[37m-# directory on host A, unpack it on host B to a temporary location, and\u001b[0m
    \u001b[37m-# atomically move (`mv`) the directory into place on host B). Running\u001b[0m
    \u001b[37m-# `keystone-manage fernet_rotate` *twice* on a key repository without syncing\u001b[0m
    \u001b[37m-# other nodes will result in tokens that can not be validated by all nodes.\u001b[0m
    \u001b[37m-# (string value)\u001b[0m
    \u001b[37m-#key_repository = /etc/keystone/fernet-keys/\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# This controls how many keys are held in rotation by `keystone-manage\u001b[0m
    \u001b[37m-# fernet_rotate` before they are discarded. The default value of 3 means that\u001b[0m
    \u001b[37m-# keystone will maintain one staged key (always index 0), one primary key (the\u001b[0m
    \u001b[37m-# highest numerical index), and one secondary key (every other index).\u001b[0m
    \u001b[37m-# Increasing this value means that additional secondary keys will be kept in\u001b[0m
    \u001b[37m-# the rotation. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 1\u001b[0m
    \u001b[37m-#max_active_keys = 3\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[healthcheck]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From oslo.middleware\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: The path to respond to healtcheck requests on. (string value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-#path = /healthcheck\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Show more detailed information as part of the response (boolean value)\u001b[0m
    \u001b[37m-#detailed = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Additional backends that can perform health checks and report that\u001b[0m
    \u001b[37m-# information back as part of a request. (list value)\u001b[0m
    \u001b[37m-#backends =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Check the presence of a file to determine if an application is running on a\u001b[0m
    \u001b[37m-# port. Used by DisableByFileHealthcheck plugin. (string value)\u001b[0m
    \u001b[37m-#disable_by_file_path = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Check the presence of a file based on a port to determine if an application\u001b[0m
    \u001b[37m-# is running on a port. Expects a \"port:path\" list of strings. Used by\u001b[0m
    \u001b[37m-# DisableByFilesPortsHealthcheck plugin. (list value)\u001b[0m
    \u001b[37m-#disable_by_file_paths =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[identity]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# This references the domain to use for all Identity API v2 requests (which are\u001b[0m
    \u001b[37m-# not aware of domains). A domain with this ID can optionally be created for\u001b[0m
    \u001b[37m-# you by `keystone-manage bootstrap`. The domain referenced by this ID cannot\u001b[0m
    \u001b[37m-# be deleted on the v3 API, to prevent accidentally breaking the v2 API. There\u001b[0m
    \u001b[37m-# is nothing special about this domain, other than the fact that it must exist\u001b[0m
    \u001b[37m-# to order to maintain support for your v2 clients. There is typically no\u001b[0m
    \u001b[37m-# reason to change this value. (string value)\u001b[0m
    \u001b[37m-#default_domain_id = default\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# A subset (or all) of domains can have their own identity driver, each with\u001b[0m
    \u001b[37m-# their own partial configuration options, stored in either the resource\u001b[0m
    \u001b[37m-# backend or in a file in a domain configuration directory (depending on the\u001b[0m
    \u001b[37m-# setting of `[identity] domain_configurations_from_database`). Only values\u001b[0m
    \u001b[37m-# specific to the domain need to be specified in this manner. This feature is\u001b[0m
    \u001b[37m-# disabled by default, but may be enabled by default in a future release; set\u001b[0m
    \u001b[37m-# to true to enable. (boolean value)\u001b[0m
    \u001b[37m-#domain_specific_drivers_enabled = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# By default, domain-specific configuration data is read from files in the\u001b[0m
    \u001b[37m-# directory identified by `[identity] domain_config_dir`. Enabling this\u001b[0m
    \u001b[37m-# configuration option allows you to instead manage domain-specific\u001b[0m
    \u001b[37m-# configurations through the API, which are then persisted in the backend\u001b[0m
    \u001b[37m-# (typically, a SQL database), rather than using configuration files on disk.\u001b[0m
    \u001b[37m-# (boolean value)\u001b[0m
    \u001b[37m-#domain_configurations_from_database = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Absolute path where keystone should locate domain-specific `[identity]`\u001b[0m
    \u001b[37m-# configuration files. This option has no effect unless `[identity]\u001b[0m
    \u001b[37m-# domain_specific_drivers_enabled` is set to true. There is typically no reason\u001b[0m
    \u001b[37m-# to change this value. (string value)\u001b[0m
    \u001b[37m-#domain_config_dir = /etc/keystone/domains\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Entry point for the identity backend driver in the `keystone.identity`\u001b[0m
    \u001b[37m-# namespace. Keystone provides a `sql` and `ldap` driver. This option is also\u001b[0m
    \u001b[37m-# used as the default driver selection (along with the other configuration\u001b[0m
    \u001b[37m-# variables in this section) in the event that `[identity]\u001b[0m
    \u001b[37m-# domain_specific_drivers_enabled` is enabled, but no applicable domain-\u001b[0m
    \u001b[37m-# specific configuration is defined for the domain in question. Unless your\u001b[0m
    \u001b[37m-# deployment primarily relies on `ldap` AND is not using domain-specific\u001b[0m
    \u001b[37m-# configuration, you should typically leave this set to `sql`. (string value)\u001b[0m
    \u001b[37m-#driver = sql\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Toggle for identity caching. This has no effect unless global caching is\u001b[0m
    \u001b[37m-# enabled. There is typically no reason to disable this. (boolean value)\u001b[0m
    \u001b[37m-#caching = true\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Time to cache identity data (in seconds). This has no effect unless global\u001b[0m
    \u001b[37m-# and identity caching are enabled. (integer value)\u001b[0m
    \u001b[37m-#cache_time = 600\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Maximum allowed length for user passwords. Decrease this value to improve\u001b[0m
    \u001b[37m-# performance. Changing this value does not effect existing passwords. (integer\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-# Maximum value: 4096\u001b[0m
    \u001b[37m-#max_password_length = 4096\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Maximum number of entities that will be returned in an identity collection.\u001b[0m
    \u001b[37m-# (integer value)\u001b[0m
    \u001b[37m-#list_limit = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The password hashing algorithm to use for passwords stored within keystone.\u001b[0m
    \u001b[37m-# (string value)\u001b[0m
    \u001b[37m-# Possible values:\u001b[0m
    \u001b[37m-# bcrypt - <No description provided>\u001b[0m
    \u001b[37m-# scrypt - <No description provided>\u001b[0m
    \u001b[37m-# pbkdf2_sha512 - <No description provided>\u001b[0m
    \u001b[37m-#password_hash_algorithm = bcrypt\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# This option represents a trade off between security and performance. Higher\u001b[0m
    \u001b[37m-# values lead to slower performance, but higher security. Changing this option\u001b[0m
    \u001b[37m-# will only affect newly created passwords as existing password hashes already\u001b[0m
    \u001b[37m-# have a fixed number of rounds applied, so it is safe to tune this option in a\u001b[0m
    \u001b[37m-# running cluster.  The default for bcrypt is 12, must be between 4 and 31,\u001b[0m
    \u001b[37m-# inclusive.  The default for scrypt is 16, must be within `range(1,32)`.  The\u001b[0m
    \u001b[37m-# default for pbkdf_sha512 is 60000, must be within `range(1,1<<32)`  WARNING:\u001b[0m
    \u001b[37m-# If using scrypt, increasing this value increases BOTH time AND memory\u001b[0m
    \u001b[37m-# requirements to hash a password. (integer value)\u001b[0m
    \u001b[37m-#password_hash_rounds = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Optional block size to pass to scrypt hash function (the `r` parameter).\u001b[0m
    \u001b[37m-# Useful for tuning scrypt to optimal performance for your CPU architecture.\u001b[0m
    \u001b[37m-# This option is only used when the `password_hash_algorithm` option is set to\u001b[0m
    \u001b[37m-# `scrypt`. Defaults to 8. (integer value)\u001b[0m
    \u001b[37m-#scrypt_block_size = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Optional parallelism to pass to scrypt hash function (the `p` parameter).\u001b[0m
    \u001b[37m-# This option is only used when the `password_hash_algorithm` option is set to\u001b[0m
    \u001b[37m-# `scrypt`. Defaults to 1. (integer value)\u001b[0m
    \u001b[37m-#scrypt_parallelism = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Number of bytes to use in scrypt and pbkfd2_sha512 hashing salt.  Default for\u001b[0m
    \u001b[37m-# scrypt is 16 bytes. Default for pbkfd2_sha512 is 16 bytes.  Limited to a\u001b[0m
    \u001b[37m-# maximum of 96 bytes due to the size of the column used to store password\u001b[0m
    \u001b[37m-# hashes. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 0\u001b[0m
    \u001b[37m-# Maximum value: 96\u001b[0m
    \u001b[37m-#salt_bytesize = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[identity_mapping]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Entry point for the identity mapping backend driver in the\u001b[0m
    \u001b[37m-# `keystone.identity.id_mapping` namespace. Keystone only provides a `sql`\u001b[0m
    \u001b[37m-# driver, so there is no reason to change this unless you are providing a\u001b[0m
    \u001b[37m-# custom entry point. (string value)\u001b[0m
    \u001b[37m-#driver = sql\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Entry point for the public ID generator for user and group entities in the\u001b[0m
    \u001b[37m-# `keystone.identity.id_generator` namespace. The Keystone identity mapper only\u001b[0m
    \u001b[37m-# supports generators that produce 64 bytes or less. Keystone only provides a\u001b[0m
    \u001b[37m-# `sha256` entry point, so there is no reason to change this value unless\u001b[0m
    \u001b[37m-# you're providing a custom entry point. (string value)\u001b[0m
    \u001b[37m-#generator = sha256\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The format of user and group IDs changed in Juno for backends that do not\u001b[0m
    \u001b[37m-# generate UUIDs (for example, LDAP), with keystone providing a hash mapping to\u001b[0m
    \u001b[37m-# the underlying attribute in LDAP. By default this mapping is disabled, which\u001b[0m
    \u001b[37m-# ensures that existing IDs will not change. Even when the mapping is enabled\u001b[0m
    \u001b[37m-# by using domain-specific drivers (`[identity]\u001b[0m
    \u001b[37m-# domain_specific_drivers_enabled`), any users and groups from the default\u001b[0m
    \u001b[37m-# domain being handled by LDAP will still not be mapped to ensure their IDs\u001b[0m
    \u001b[37m-# remain backward compatible. Setting this value to false will enable the new\u001b[0m
    \u001b[37m-# mapping for all backends, including the default LDAP driver. It is only\u001b[0m
    \u001b[37m-# guaranteed to be safe to enable this option if you do not already have\u001b[0m
    \u001b[37m-# assignments for users and groups from the default LDAP domain, and you\u001b[0m
    \u001b[37m-# consider it to be acceptable for Keystone to provide the different IDs to\u001b[0m
    \u001b[37m-# clients than it did previously (existing IDs in the API will suddenly\u001b[0m
    \u001b[37m-# change). Typically this means that the only time you can set this value to\u001b[0m
    \u001b[37m-# false is when configuring a fresh installation, although that is the\u001b[0m
    \u001b[37m-# recommended value. (boolean value)\u001b[0m
    \u001b[37m-#backward_compatible_ids = true\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[ldap]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# URL(s) for connecting to the LDAP server. Multiple LDAP URLs may be specified\u001b[0m
    \u001b[37m-# as a comma separated string. The first URL to successfully bind is used for\u001b[0m
    \u001b[37m-# the connection. (string value)\u001b[0m
    \u001b[37m-#url = ldap://localhost\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The user name of the administrator bind DN to use when querying the LDAP\u001b[0m
    \u001b[37m-# server, if your LDAP server requires it. (string value)\u001b[0m
    \u001b[37m-#user = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The password of the administrator bind DN to use when querying the LDAP\u001b[0m
    \u001b[37m-# server, if your LDAP server requires it. (string value)\u001b[0m
    \u001b[37m-#password = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The default LDAP server suffix to use, if a DN is not defined via either\u001b[0m
    \u001b[37m-# `[ldap] user_tree_dn` or `[ldap] group_tree_dn`. (string value)\u001b[0m
    \u001b[37m-#suffix = cn=example,cn=com\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The search scope which defines how deep to search within the search base. A\u001b[0m
    \u001b[37m-# value of `one` (representing `oneLevel` or `singleLevel`) indicates a search\u001b[0m
    \u001b[37m-# of objects immediately below to the base object, but does not include the\u001b[0m
    \u001b[37m-# base object itself. A value of `sub` (representing `subtree` or\u001b[0m
    \u001b[37m-# `wholeSubtree`) indicates a search of both the base object itself and the\u001b[0m
    \u001b[37m-# entire subtree below it. (string value)\u001b[0m
    \u001b[37m-# Possible values:\u001b[0m
    \u001b[37m-# one - <No description provided>\u001b[0m
    \u001b[37m-# sub - <No description provided>\u001b[0m
    \u001b[37m-#query_scope = one\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Defines the maximum number of results per page that keystone should request\u001b[0m
    \u001b[37m-# from the LDAP server when listing objects. A value of zero (`0`) disables\u001b[0m
    \u001b[37m-# paging. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 0\u001b[0m
    \u001b[37m-#page_size = 0\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The LDAP dereferencing option to use for queries involving aliases. A value\u001b[0m
    \u001b[37m-# of `default` falls back to using default dereferencing behavior configured by\u001b[0m
    \u001b[37m-# your `ldap.conf`. A value of `never` prevents aliases from being dereferenced\u001b[0m
    \u001b[37m-# at all. A value of `searching` dereferences aliases only after name\u001b[0m
    \u001b[37m-# resolution. A value of `finding` dereferences aliases only during name\u001b[0m
    \u001b[37m-# resolution. A value of `always` dereferences aliases in all cases. (string\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-# Possible values:\u001b[0m
    \u001b[37m-# never - <No description provided>\u001b[0m
    \u001b[37m-# searching - <No description provided>\u001b[0m
    \u001b[37m-# always - <No description provided>\u001b[0m
    \u001b[37m-# finding - <No description provided>\u001b[0m
    \u001b[37m-# default - <No description provided>\u001b[0m
    \u001b[37m-#alias_dereferencing = default\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Sets the LDAP debugging level for LDAP calls. A value of 0 means that\u001b[0m
    \u001b[37m-# debugging is not enabled. This value is a bitmask, consult your LDAP\u001b[0m
    \u001b[37m-# documentation for possible values. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: -1\u001b[0m
    \u001b[37m-#debug_level = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Sets keystone's referral chasing behavior across directory partitions. If\u001b[0m
    \u001b[37m-# left unset, the system's default behavior will be used. (boolean value)\u001b[0m
    \u001b[37m-#chase_referrals = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The search base to use for users. Defaults to the `[ldap] suffix` value.\u001b[0m
    \u001b[37m-# (string value)\u001b[0m
    \u001b[37m-#user_tree_dn = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The LDAP search filter to use for users. (string value)\u001b[0m
    \u001b[37m-#user_filter = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The LDAP object class to use for users. (string value)\u001b[0m
    \u001b[37m-#user_objectclass = inetOrgPerson\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The LDAP attribute mapped to user IDs in keystone. This must NOT be a\u001b[0m
    \u001b[37m-# multivalued attribute. User IDs are expected to be globally unique across\u001b[0m
    \u001b[37m-# keystone domains and URL-safe. (string value)\u001b[0m
    \u001b[37m-#user_id_attribute = cn\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The LDAP attribute mapped to user names in keystone. User names are expected\u001b[0m
    \u001b[37m-# to be unique only within a keystone domain and are not expected to be URL-\u001b[0m
    \u001b[37m-# safe. (string value)\u001b[0m
    \u001b[37m-#user_name_attribute = sn\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The LDAP attribute mapped to user descriptions in keystone. (string value)\u001b[0m
    \u001b[37m-#user_description_attribute = description\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The LDAP attribute mapped to user emails in keystone. (string value)\u001b[0m
    \u001b[37m-#user_mail_attribute = mail\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The LDAP attribute mapped to user passwords in keystone. (string value)\u001b[0m
    \u001b[37m-#user_pass_attribute = userPassword\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The LDAP attribute mapped to the user enabled attribute in keystone. If\u001b[0m
    \u001b[37m-# setting this option to `userAccountControl`, then you may be interested in\u001b[0m
    \u001b[37m-# setting `[ldap] user_enabled_mask` and `[ldap] user_enabled_default` as well.\u001b[0m
    \u001b[37m-# (string value)\u001b[0m
    \u001b[37m-#user_enabled_attribute = enabled\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Logically negate the boolean value of the enabled attribute obtained from the\u001b[0m
    \u001b[37m-# LDAP server. Some LDAP servers use a boolean lock attribute where \"true\"\u001b[0m
    \u001b[37m-# means an account is disabled. Setting `[ldap] user_enabled_invert = true`\u001b[0m
    \u001b[37m-# will allow these lock attributes to be used. This option will have no effect\u001b[0m
    \u001b[37m-# if either the `[ldap] user_enabled_mask` or `[ldap] user_enabled_emulation`\u001b[0m
    \u001b[37m-# options are in use. (boolean value)\u001b[0m
    \u001b[37m-#user_enabled_invert = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Bitmask integer to select which bit indicates the enabled value if the LDAP\u001b[0m
    \u001b[37m-# server represents \"enabled\" as a bit on an integer rather than as a discrete\u001b[0m
    \u001b[37m-# boolean. A value of `0` indicates that the mask is not used. If this is not\u001b[0m
    \u001b[37m-# set to `0` the typical value is `2`. This is typically used when `[ldap]\u001b[0m
    \u001b[37m-# user_enabled_attribute = userAccountControl`. Setting this option causes\u001b[0m
    \u001b[37m-# keystone to ignore the value of `[ldap] user_enabled_invert`. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 0\u001b[0m
    \u001b[37m-#user_enabled_mask = 0\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The default value to enable users. This should match an appropriate integer\u001b[0m
    \u001b[37m-# value if the LDAP server uses non-boolean (bitmask) values to indicate if a\u001b[0m
    \u001b[37m-# user is enabled or disabled. If this is not set to `True`, then the typical\u001b[0m
    \u001b[37m-# value is `512`. This is typically used when `[ldap] user_enabled_attribute =\u001b[0m
    \u001b[37m-# userAccountControl`. (string value)\u001b[0m
    \u001b[37m-#user_enabled_default = True\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# List of user attributes to ignore on create and update, or whether a specific\u001b[0m
    \u001b[37m-# user attribute should be filtered for list or show user. (list value)\u001b[0m
    \u001b[37m-#user_attribute_ignore = default_project_id\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The LDAP attribute mapped to a user's default_project_id in keystone. This is\u001b[0m
    \u001b[37m-# most commonly used when keystone has write access to LDAP. (string value)\u001b[0m
    \u001b[37m-#user_default_project_id_attribute = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# If enabled, keystone uses an alternative method to determine if a user is\u001b[0m
    \u001b[37m-# enabled or not by checking if they are a member of the group defined by the\u001b[0m
    \u001b[37m-# `[ldap] user_enabled_emulation_dn` option. Enabling this option causes\u001b[0m
    \u001b[37m-# keystone to ignore the value of `[ldap] user_enabled_invert`. (boolean value)\u001b[0m
    \u001b[37m-#user_enabled_emulation = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DN of the group entry to hold enabled users when using enabled emulation.\u001b[0m
    \u001b[37m-# Setting this option has no effect unless `[ldap] user_enabled_emulation` is\u001b[0m
    \u001b[37m-# also enabled. (string value)\u001b[0m
    \u001b[37m-#user_enabled_emulation_dn = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Use the `[ldap] group_member_attribute` and `[ldap] group_objectclass`\u001b[0m
    \u001b[37m-# settings to determine membership in the emulated enabled group. Enabling this\u001b[0m
    \u001b[37m-# option has no effect unless `[ldap] user_enabled_emulation` is also enabled.\u001b[0m
    \u001b[37m-# (boolean value)\u001b[0m
    \u001b[37m-#user_enabled_emulation_use_group_config = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# A list of LDAP attribute to keystone user attribute pairs used for mapping\u001b[0m
    \u001b[37m-# additional attributes to users in keystone. The expected format is\u001b[0m
    \u001b[37m-# `<ldap_attr>:<user_attr>`, where `ldap_attr` is the attribute in the LDAP\u001b[0m
    \u001b[37m-# object and `user_attr` is the attribute which should appear in the identity\u001b[0m
    \u001b[37m-# API. (list value)\u001b[0m
    \u001b[37m-#user_additional_attribute_mapping =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The search base to use for groups. Defaults to the `[ldap] suffix` value.\u001b[0m
    \u001b[37m-# (string value)\u001b[0m
    \u001b[37m-#group_tree_dn = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The LDAP search filter to use for groups. (string value)\u001b[0m
    \u001b[37m-#group_filter = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The LDAP object class to use for groups. If setting this option to\u001b[0m
    \u001b[37m-# `posixGroup`, you may also be interested in enabling the `[ldap]\u001b[0m
    \u001b[37m-# group_members_are_ids` option. (string value)\u001b[0m
    \u001b[37m-#group_objectclass = groupOfNames\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The LDAP attribute mapped to group IDs in keystone. This must NOT be a\u001b[0m
    \u001b[37m-# multivalued attribute. Group IDs are expected to be globally unique across\u001b[0m
    \u001b[37m-# keystone domains and URL-safe. (string value)\u001b[0m
    \u001b[37m-#group_id_attribute = cn\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The LDAP attribute mapped to group names in keystone. Group names are\u001b[0m
    \u001b[37m-# expected to be unique only within a keystone domain and are not expected to\u001b[0m
    \u001b[37m-# be URL-safe. (string value)\u001b[0m
    \u001b[37m-#group_name_attribute = ou\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The LDAP attribute used to indicate that a user is a member of the group.\u001b[0m
    \u001b[37m-# (string value)\u001b[0m
    \u001b[37m-#group_member_attribute = member\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Enable this option if the members of the group object class are keystone user\u001b[0m
    \u001b[37m-# IDs rather than LDAP DNs. This is the case when using `posixGroup` as the\u001b[0m
    \u001b[37m-# group object class in Open Directory. (boolean value)\u001b[0m
    \u001b[37m-#group_members_are_ids = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The LDAP attribute mapped to group descriptions in keystone. (string value)\u001b[0m
    \u001b[37m-#group_desc_attribute = description\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# List of group attributes to ignore on create and update. or whether a\u001b[0m
    \u001b[37m-# specific group attribute should be filtered for list or show group. (list\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#group_attribute_ignore =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# A list of LDAP attribute to keystone group attribute pairs used for mapping\u001b[0m
    \u001b[37m-# additional attributes to groups in keystone. The expected format is\u001b[0m
    \u001b[37m-# `<ldap_attr>:<group_attr>`, where `ldap_attr` is the attribute in the LDAP\u001b[0m
    \u001b[37m-# object and `group_attr` is the attribute which should appear in the identity\u001b[0m
    \u001b[37m-# API. (list value)\u001b[0m
    \u001b[37m-#group_additional_attribute_mapping =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# If enabled, group queries will use Active Directory specific filters for\u001b[0m
    \u001b[37m-# nested groups. (boolean value)\u001b[0m
    \u001b[37m-#group_ad_nesting = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# An absolute path to a CA certificate file to use when communicating with LDAP\u001b[0m
    \u001b[37m-# servers. This option will take precedence over `[ldap] tls_cacertdir`, so\u001b[0m
    \u001b[37m-# there is no reason to set both. (string value)\u001b[0m
    \u001b[37m-#tls_cacertfile = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# An absolute path to a CA certificate directory to use when communicating with\u001b[0m
    \u001b[37m-# LDAP servers. There is no reason to set this option if you've also set\u001b[0m
    \u001b[37m-# `[ldap] tls_cacertfile`. (string value)\u001b[0m
    \u001b[37m-#tls_cacertdir = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Enable TLS when communicating with LDAP servers. You should also set the\u001b[0m
    \u001b[37m-# `[ldap] tls_cacertfile` and `[ldap] tls_cacertdir` options when using this\u001b[0m
    \u001b[37m-# option. Do not set this option if you are using LDAP over SSL (LDAPS) instead\u001b[0m
    \u001b[37m-# of TLS. (boolean value)\u001b[0m
    \u001b[37m-#use_tls = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Specifies which checks to perform against client certificates on incoming TLS\u001b[0m
    \u001b[37m-# sessions. If set to `demand`, then a certificate will always be requested and\u001b[0m
    \u001b[37m-# required from the LDAP server. If set to `allow`, then a certificate will\u001b[0m
    \u001b[37m-# always be requested but not required from the LDAP server. If set to `never`,\u001b[0m
    \u001b[37m-# then a certificate will never be requested. (string value)\u001b[0m
    \u001b[37m-# Possible values:\u001b[0m
    \u001b[37m-# demand - <No description provided>\u001b[0m
    \u001b[37m-# never - <No description provided>\u001b[0m
    \u001b[37m-# allow - <No description provided>\u001b[0m
    \u001b[37m-#tls_req_cert = demand\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The connection timeout to use with the LDAP server. A value of `-1` means\u001b[0m
    \u001b[37m-# that connections will never timeout. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: -1\u001b[0m
    \u001b[37m-#connection_timeout = -1\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Enable LDAP connection pooling for queries to the LDAP server. There is\u001b[0m
    \u001b[37m-# typically no reason to disable this. (boolean value)\u001b[0m
    \u001b[37m-#use_pool = true\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The size of the LDAP connection pool. This option has no effect unless\u001b[0m
    \u001b[37m-# `[ldap] use_pool` is also enabled. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 1\u001b[0m
    \u001b[37m-#pool_size = 10\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The maximum number of times to attempt reconnecting to the LDAP server before\u001b[0m
    \u001b[37m-# aborting. A value of zero prevents retries. This option has no effect unless\u001b[0m
    \u001b[37m-# `[ldap] use_pool` is also enabled. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 0\u001b[0m
    \u001b[37m-#pool_retry_max = 3\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The number of seconds to wait before attempting to reconnect to the LDAP\u001b[0m
    \u001b[37m-# server. This option has no effect unless `[ldap] use_pool` is also enabled.\u001b[0m
    \u001b[37m-# (floating point value)\u001b[0m
    \u001b[37m-#pool_retry_delay = 0.1\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The connection timeout to use when pooling LDAP connections. A value of `-1`\u001b[0m
    \u001b[37m-# means that connections will never timeout. This option has no effect unless\u001b[0m
    \u001b[37m-# `[ldap] use_pool` is also enabled. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: -1\u001b[0m
    \u001b[37m-#pool_connection_timeout = -1\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The maximum connection lifetime to the LDAP server in seconds. When this\u001b[0m
    \u001b[37m-# lifetime is exceeded, the connection will be unbound and removed from the\u001b[0m
    \u001b[37m-# connection pool. This option has no effect unless `[ldap] use_pool` is also\u001b[0m
    \u001b[37m-# enabled. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 1\u001b[0m
    \u001b[37m-#pool_connection_lifetime = 600\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Enable LDAP connection pooling for end user authentication. There is\u001b[0m
    \u001b[37m-# typically no reason to disable this. (boolean value)\u001b[0m
    \u001b[37m-#use_auth_pool = true\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The size of the connection pool to use for end user authentication. This\u001b[0m
    \u001b[37m-# option has no effect unless `[ldap] use_auth_pool` is also enabled. (integer\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-# Minimum value: 1\u001b[0m
    \u001b[37m-#auth_pool_size = 100\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The maximum end user authentication connection lifetime to the LDAP server in\u001b[0m
    \u001b[37m-# seconds. When this lifetime is exceeded, the connection will be unbound and\u001b[0m
    \u001b[37m-# removed from the connection pool. This option has no effect unless `[ldap]\u001b[0m
    \u001b[37m-# use_auth_pool` is also enabled. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 1\u001b[0m
    \u001b[37m-#auth_pool_connection_lifetime = 60\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[matchmaker_redis]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From oslo.messaging\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: Host to locate redis. (string value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: Replaced by [DEFAULT]/transport_url\u001b[0m
    \u001b[37m-#host = 127.0.0.1\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: Use this port to connect to redis host. (port value)\u001b[0m
    \u001b[37m-# Minimum value: 0\u001b[0m
    \u001b[37m-# Maximum value: 65535\u001b[0m
    \u001b[37m-# This option is deprecated for removal.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: Replaced by [DEFAULT]/transport_url\u001b[0m
    \u001b[37m-#port = 6379\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: Password for Redis server (optional). (string value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: Replaced by [DEFAULT]/transport_url\u001b[0m
    \u001b[37m-#password =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: List of Redis Sentinel hosts (fault tolerance mode), e.g.,\u001b[0m
    \u001b[37m-# [host:port, host1:port ... ] (list value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: Replaced by [DEFAULT]/transport_url\u001b[0m
    \u001b[37m-#sentinel_hosts =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Redis replica set name. (string value)\u001b[0m
    \u001b[37m-#sentinel_group_name = oslo-messaging-zeromq\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Time in ms to wait between connection attempts. (integer value)\u001b[0m
    \u001b[37m-#wait_timeout = 2000\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Time in ms to wait before the transaction is killed. (integer value)\u001b[0m
    \u001b[37m-#check_timeout = 20000\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Timeout in ms on blocking socket operations. (integer value)\u001b[0m
    \u001b[37m-#socket_timeout = 10000\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m [memcache]\u001b[0m
    \u001b[37m+servers = \u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Number of seconds memcached server is considered dead before it is tried\u001b[0m
    \u001b[37m-# again. This is used by the key value store system. (integer value)\u001b[0m
    \u001b[37m-#dead_retry = 300\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Timeout in seconds for every call to a server. This is used by the key value\u001b[0m
    \u001b[37m-# store system. (integer value)\u001b[0m
    \u001b[37m-#socket_timeout = 3\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Max total number of open connections to every memcached server. This is used\u001b[0m
    \u001b[37m-# by the key value store system. (integer value)\u001b[0m
    \u001b[37m-#pool_maxsize = 10\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Number of seconds a connection to memcached is held unused in the pool before\u001b[0m
    \u001b[37m-# it is closed. This is used by the key value store system. (integer value)\u001b[0m
    \u001b[37m-#pool_unused_timeout = 60\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Number of seconds that an operation will wait to get a memcache client\u001b[0m
    \u001b[37m-# connection. This is used by the key value store system. (integer value)\u001b[0m
    \u001b[37m-#pool_connection_get_timeout = 10\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[oauth1]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Entry point for the OAuth backend driver in the `keystone.oauth1` namespace.\u001b[0m
    \u001b[37m-# Typically, there is no reason to set this option unless you are providing a\u001b[0m
    \u001b[37m-# custom entry point. (string value)\u001b[0m
    \u001b[37m-#driver = sql\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Number of seconds for the OAuth Request Token to remain valid after being\u001b[0m
    \u001b[37m-# created. This is the amount of time the user has to authorize the token.\u001b[0m
    \u001b[37m-# Setting this option to zero means that request tokens will last forever.\u001b[0m
    \u001b[37m-# (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 0\u001b[0m
    \u001b[37m-#request_token_duration = 28800\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Number of seconds for the OAuth Access Token to remain valid after being\u001b[0m
    \u001b[37m-# created. This is the amount of time the consumer has to interact with the\u001b[0m
    \u001b[37m-# service provider (which is typically keystone). Setting this option to zero\u001b[0m
    \u001b[37m-# means that access tokens will last forever. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 0\u001b[0m
    \u001b[37m-#access_token_duration = 86400\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[oslo_messaging_amqp]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From oslo.messaging\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Name for the AMQP container. must be globally unique. Defaults to a generated\u001b[0m
    \u001b[37m-# UUID (string value)\u001b[0m
    \u001b[37m-#container_name = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Timeout for inactive connections (in seconds) (integer value)\u001b[0m
    \u001b[37m-#idle_timeout = 0\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Debug: dump AMQP frames to stdout (boolean value)\u001b[0m
    \u001b[37m-#trace = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Attempt to connect via SSL. If no other ssl-related parameters are given, it\u001b[0m
    \u001b[37m-# will use the system's CA-bundle to verify the server's certificate. (boolean\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#ssl = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# CA certificate PEM file used to verify the server's certificate (string\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#ssl_ca_file =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Self-identifying certificate PEM file for client authentication (string\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#ssl_cert_file =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Private key PEM file used to sign ssl_cert_file certificate (optional)\u001b[0m
    \u001b[37m-# (string value)\u001b[0m
    \u001b[37m-#ssl_key_file =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Password for decrypting ssl_key_file (if encrypted) (string value)\u001b[0m
    \u001b[37m-#ssl_key_password = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# By default SSL checks that the name in the server's certificate matches the\u001b[0m
    \u001b[37m-# hostname in the transport_url. In some configurations it may be preferable to\u001b[0m
    \u001b[37m-# use the virtual hostname instead, for example if the server uses the Server\u001b[0m
    \u001b[37m-# Name Indication TLS extension (rfc6066) to provide a certificate per virtual\u001b[0m
    \u001b[37m-# host. Set ssl_verify_vhost to True if the server's SSL certificate uses the\u001b[0m
    \u001b[37m-# virtual host name instead of the DNS name. (boolean value)\u001b[0m
    \u001b[37m-#ssl_verify_vhost = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: Accept clients using either SSL or plain TCP (boolean value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: Not applicable - not a SSL server\u001b[0m
    \u001b[37m-#allow_insecure_clients = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Space separated list of acceptable SASL mechanisms (string value)\u001b[0m
    \u001b[37m-#sasl_mechanisms =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Path to directory that contains the SASL configuration (string value)\u001b[0m
    \u001b[37m-#sasl_config_dir =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Name of configuration file (without .conf suffix) (string value)\u001b[0m
    \u001b[37m-#sasl_config_name =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# SASL realm to use if no realm present in username (string value)\u001b[0m
    \u001b[37m-#sasl_default_realm =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: User name for message broker authentication (string value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: Should use configuration option transport_url to provide the\u001b[0m
    \u001b[37m-# username.\u001b[0m
    \u001b[37m-#username =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: Password for message broker authentication (string value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: Should use configuration option transport_url to provide the\u001b[0m
    \u001b[37m-# password.\u001b[0m
    \u001b[37m-#password =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Seconds to pause before attempting to re-connect. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 1\u001b[0m
    \u001b[37m-#connection_retry_interval = 1\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Increase the connection_retry_interval by this many seconds after each\u001b[0m
    \u001b[37m-# unsuccessful failover attempt. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 0\u001b[0m
    \u001b[37m-#connection_retry_backoff = 2\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Maximum limit for connection_retry_interval + connection_retry_backoff\u001b[0m
    \u001b[37m-# (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 1\u001b[0m
    \u001b[37m-#connection_retry_interval_max = 30\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Time to pause between re-connecting an AMQP 1.0 link that failed due to a\u001b[0m
    \u001b[37m-# recoverable error. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 1\u001b[0m
    \u001b[37m-#link_retry_delay = 10\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The maximum number of attempts to re-send a reply message which failed due to\u001b[0m
    \u001b[37m-# a recoverable error. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: -1\u001b[0m
    \u001b[37m-#default_reply_retry = 0\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The deadline for an rpc reply message delivery. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 5\u001b[0m
    \u001b[37m-#default_reply_timeout = 30\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The deadline for an rpc cast or call message delivery. Only used when caller\u001b[0m
    \u001b[37m-# does not provide a timeout expiry. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 5\u001b[0m
    \u001b[37m-#default_send_timeout = 30\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The deadline for a sent notification message delivery. Only used when caller\u001b[0m
    \u001b[37m-# does not provide a timeout expiry. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 5\u001b[0m
    \u001b[37m-#default_notify_timeout = 30\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The duration to schedule a purge of idle sender links. Detach link after\u001b[0m
    \u001b[37m-# expiry. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 1\u001b[0m
    \u001b[37m-#default_sender_link_timeout = 600\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Indicates the addressing mode used by the driver.\u001b[0m
    \u001b[37m-# Permitted values:\u001b[0m
    \u001b[37m-# 'legacy'   - use legacy non-routable addressing\u001b[0m
    \u001b[37m-# 'routable' - use routable addresses\u001b[0m
    \u001b[37m-# 'dynamic'  - use legacy addresses if the message bus does not support routing\u001b[0m
    \u001b[37m-# otherwise use routable addressing (string value)\u001b[0m
    \u001b[37m-#addressing_mode = dynamic\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Enable virtual host support for those message buses that do not natively\u001b[0m
    \u001b[37m-# support virtual hosting (such as qpidd). When set to true the virtual host\u001b[0m
    \u001b[37m-# name will be added to all message bus addresses, effectively creating a\u001b[0m
    \u001b[37m-# private 'subnet' per virtual host. Set to False if the message bus supports\u001b[0m
    \u001b[37m-# virtual hosting using the 'hostname' field in the AMQP 1.0 Open performative\u001b[0m
    \u001b[37m-# as the name of the virtual host. (boolean value)\u001b[0m
    \u001b[37m-#pseudo_vhost = true\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# address prefix used when sending to a specific server (string value)\u001b[0m
    \u001b[37m-#server_request_prefix = exclusive\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# address prefix used when broadcasting to all servers (string value)\u001b[0m
    \u001b[37m-#broadcast_prefix = broadcast\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# address prefix when sending to any server in group (string value)\u001b[0m
    \u001b[37m-#group_request_prefix = unicast\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Address prefix for all generated RPC addresses (string value)\u001b[0m
    \u001b[37m-#rpc_address_prefix = openstack.org/om/rpc\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Address prefix for all generated Notification addresses (string value)\u001b[0m
    \u001b[37m-#notify_address_prefix = openstack.org/om/notify\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Appended to the address prefix when sending a fanout message. Used by the\u001b[0m
    \u001b[37m-# message bus to identify fanout messages. (string value)\u001b[0m
    \u001b[37m-#multicast_address = multicast\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Appended to the address prefix when sending to a particular RPC/Notification\u001b[0m
    \u001b[37m-# server. Used by the message bus to identify messages sent to a single\u001b[0m
    \u001b[37m-# destination. (string value)\u001b[0m
    \u001b[37m-#unicast_address = unicast\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Appended to the address prefix when sending to a group of consumers. Used by\u001b[0m
    \u001b[37m-# the message bus to identify messages that should be delivered in a round-\u001b[0m
    \u001b[37m-# robin fashion across consumers. (string value)\u001b[0m
    \u001b[37m-#anycast_address = anycast\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Exchange name used in notification addresses.\u001b[0m
    \u001b[37m-# Exchange name resolution precedence:\u001b[0m
    \u001b[37m-# Target.exchange if set\u001b[0m
    \u001b[37m-# else default_notification_exchange if set\u001b[0m
    \u001b[37m-# else control_exchange if set\u001b[0m
    \u001b[37m-# else 'notify' (string value)\u001b[0m
    \u001b[37m-#default_notification_exchange = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Exchange name used in RPC addresses.\u001b[0m
    \u001b[37m-# Exchange name resolution precedence:\u001b[0m
    \u001b[37m-# Target.exchange if set\u001b[0m
    \u001b[37m-# else default_rpc_exchange if set\u001b[0m
    \u001b[37m-# else control_exchange if set\u001b[0m
    \u001b[37m-# else 'rpc' (string value)\u001b[0m
    \u001b[37m-#default_rpc_exchange = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Window size for incoming RPC Reply messages. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 1\u001b[0m
    \u001b[37m-#reply_link_credit = 200\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Window size for incoming RPC Request messages (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 1\u001b[0m
    \u001b[37m-#rpc_server_credit = 100\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Window size for incoming Notification messages (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 1\u001b[0m
    \u001b[37m-#notify_server_credit = 100\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Send messages of this type pre-settled.\u001b[0m
    \u001b[37m-# Pre-settled messages will not receive acknowledgement\u001b[0m
    \u001b[37m-# from the peer. Note well: pre-settled messages may be\u001b[0m
    \u001b[37m-# silently discarded if the delivery fails.\u001b[0m
    \u001b[37m-# Permitted values:\u001b[0m
    \u001b[37m-# 'rpc-call' - send RPC Calls pre-settled\u001b[0m
    \u001b[37m-# 'rpc-reply'- send RPC Replies pre-settled\u001b[0m
    \u001b[37m-# 'rpc-cast' - Send RPC Casts pre-settled\u001b[0m
    \u001b[37m-# 'notify'   - Send Notifications pre-settled\u001b[0m
    \u001b[37m-#  (multi valued)\u001b[0m
    \u001b[37m-#pre_settled = rpc-cast\u001b[0m
    \u001b[37m-#pre_settled = rpc-reply\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[oslo_messaging_kafka]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From oslo.messaging\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: Default Kafka broker Host (string value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: Replaced by [DEFAULT]/transport_url\u001b[0m
    \u001b[37m-#kafka_default_host = localhost\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: Default Kafka broker Port (port value)\u001b[0m
    \u001b[37m-# Minimum value: 0\u001b[0m
    \u001b[37m-# Maximum value: 65535\u001b[0m
    \u001b[37m-# This option is deprecated for removal.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: Replaced by [DEFAULT]/transport_url\u001b[0m
    \u001b[37m-#kafka_default_port = 9092\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Max fetch bytes of Kafka consumer (integer value)\u001b[0m
    \u001b[37m-#kafka_max_fetch_bytes = 1048576\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Default timeout(s) for Kafka consumers (floating point value)\u001b[0m
    \u001b[37m-#kafka_consumer_timeout = 1.0\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: Pool Size for Kafka Consumers (integer value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: Driver no longer uses connection pool.\u001b[0m
    \u001b[37m-#pool_size = 10\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: The pool size limit for connections expiration policy (integer\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: Driver no longer uses connection pool.\u001b[0m
    \u001b[37m-#conn_pool_min_size = 2\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: The time-to-live in sec of idle connections in the pool (integer\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: Driver no longer uses connection pool.\u001b[0m
    \u001b[37m-#conn_pool_ttl = 1200\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Group id for Kafka consumer. Consumers in one group will coordinate message\u001b[0m
    \u001b[37m-# consumption (string value)\u001b[0m
    \u001b[37m-#consumer_group = oslo_messaging_consumer\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Upper bound on the delay for KafkaProducer batching in seconds (floating\u001b[0m
    \u001b[37m-# point value)\u001b[0m
    \u001b[37m-#producer_batch_timeout = 0.0\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Size of batch for the producer async send (integer value)\u001b[0m
    \u001b[37m-#producer_batch_size = 16384\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Enable asynchronous consumer commits (boolean value)\u001b[0m
    \u001b[37m-#enable_auto_commit = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The maximum number of records returned in a poll call (integer value)\u001b[0m
    \u001b[37m-#max_poll_records = 500\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Protocol used to communicate with brokers (string value)\u001b[0m
    \u001b[37m-# Possible values:\u001b[0m
    \u001b[37m-# PLAINTEXT - <No description provided>\u001b[0m
    \u001b[37m-# SASL_PLAINTEXT - <No description provided>\u001b[0m
    \u001b[37m-# SSL - <No description provided>\u001b[0m
    \u001b[37m-# SASL_SSL - <No description provided>\u001b[0m
    \u001b[37m-#security_protocol = PLAINTEXT\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Mechanism when security protocol is SASL (string value)\u001b[0m
    \u001b[37m-#sasl_mechanism = PLAIN\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# CA certificate PEM file used to verify the server certificate (string value)\u001b[0m
    \u001b[37m-#ssl_cafile =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[oslo_messaging_notifications]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From oslo.messaging\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The Drivers(s) to handle sending notifications. Possible values are\u001b[0m
    \u001b[37m-# messaging, messagingv2, routing, log, test, noop (multi valued)\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/notification_driver\u001b[0m
    \u001b[37m-#driver =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# A URL representing the messaging driver to use for notifications. If not set,\u001b[0m
    \u001b[37m-# we fall back to the same configuration used for RPC. (string value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/notification_transport_url\u001b[0m
    \u001b[37m-#transport_url = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# AMQP topic used for OpenStack notifications. (list value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [rpc_notifier2]/topics\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/notification_topics\u001b[0m
    \u001b[37m-#topics = notifications\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The maximum number of attempts to re-send a notification message which failed\u001b[0m
    \u001b[37m-# to be delivered due to a recoverable error. 0 - No retry, -1 - indefinite\u001b[0m
    \u001b[37m-# (integer value)\u001b[0m
    \u001b[37m-#retry = -1\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[oslo_messaging_rabbit]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From oslo.messaging\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Use durable queues in AMQP. (boolean value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/amqp_durable_queues\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/rabbit_durable_queues\u001b[0m
    \u001b[37m-#amqp_durable_queues = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Auto-delete queues in AMQP. (boolean value)\u001b[0m
    \u001b[37m-#amqp_auto_delete = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Connect over SSL. (boolean value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [oslo_messaging_rabbit]/rabbit_use_ssl\u001b[0m
    \u001b[37m-#ssl = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# SSL version to use (valid only if SSL enabled). Valid values are TLSv1 and\u001b[0m
    \u001b[37m-# SSLv23. SSLv2, SSLv3, TLSv1_1, and TLSv1_2 may be available on some\u001b[0m
    \u001b[37m-# distributions. (string value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [oslo_messaging_rabbit]/kombu_ssl_version\u001b[0m
    \u001b[37m-#ssl_version =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# SSL key file (valid only if SSL enabled). (string value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [oslo_messaging_rabbit]/kombu_ssl_keyfile\u001b[0m
    \u001b[37m-#ssl_key_file =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# SSL cert file (valid only if SSL enabled). (string value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [oslo_messaging_rabbit]/kombu_ssl_certfile\u001b[0m
    \u001b[37m-#ssl_cert_file =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# SSL certification authority file (valid only if SSL enabled). (string value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [oslo_messaging_rabbit]/kombu_ssl_ca_certs\u001b[0m
    \u001b[37m-#ssl_ca_file =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# How long to wait before reconnecting in response to an AMQP consumer cancel\u001b[0m
    \u001b[37m-# notification. (floating point value)\u001b[0m
    \u001b[37m-#kombu_reconnect_delay = 1.0\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# EXPERIMENTAL: Possible values are: gzip, bz2. If not set compression will not\u001b[0m
    \u001b[37m-# be used. This option may not be available in future versions. (string value)\u001b[0m
    \u001b[37m-#kombu_compression = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# How long to wait a missing client before abandoning to send it its replies.\u001b[0m
    \u001b[37m-# This value should not be longer than rpc_response_timeout. (integer value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [oslo_messaging_rabbit]/kombu_reconnect_timeout\u001b[0m
    \u001b[37m-#kombu_missing_consumer_retry_timeout = 60\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Determines how the next RabbitMQ node is chosen in case the one we are\u001b[0m
    \u001b[37m-# currently connected to becomes unavailable. Takes effect only if more than\u001b[0m
    \u001b[37m-# one RabbitMQ node is provided in config. (string value)\u001b[0m
    \u001b[37m-# Possible values:\u001b[0m
    \u001b[37m-# round-robin - <No description provided>\u001b[0m
    \u001b[37m-# shuffle - <No description provided>\u001b[0m
    \u001b[37m-#kombu_failover_strategy = round-robin\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: The RabbitMQ broker address where a single node is used. (string\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: Replaced by [DEFAULT]/transport_url\u001b[0m
    \u001b[37m-#rabbit_host = localhost\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: The RabbitMQ broker port where a single node is used. (port\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-# Minimum value: 0\u001b[0m
    \u001b[37m-# Maximum value: 65535\u001b[0m
    \u001b[37m-# This option is deprecated for removal.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: Replaced by [DEFAULT]/transport_url\u001b[0m
    \u001b[37m-#rabbit_port = 5672\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: RabbitMQ HA cluster host:port pairs. (list value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: Replaced by [DEFAULT]/transport_url\u001b[0m
    \u001b[37m-#rabbit_hosts = $rabbit_host:$rabbit_port\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: The RabbitMQ userid. (string value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: Replaced by [DEFAULT]/transport_url\u001b[0m
    \u001b[37m-#rabbit_userid = guest\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: The RabbitMQ password. (string value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: Replaced by [DEFAULT]/transport_url\u001b[0m
    \u001b[37m-#rabbit_password = guest\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The RabbitMQ login method. (string value)\u001b[0m
    \u001b[37m-# Possible values:\u001b[0m
    \u001b[37m-# PLAIN - <No description provided>\u001b[0m
    \u001b[37m-# AMQPLAIN - <No description provided>\u001b[0m
    \u001b[37m-# RABBIT-CR-DEMO - <No description provided>\u001b[0m
    \u001b[37m-#rabbit_login_method = AMQPLAIN\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: The RabbitMQ virtual host. (string value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: Replaced by [DEFAULT]/transport_url\u001b[0m
    \u001b[37m-#rabbit_virtual_host = /\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# How frequently to retry connecting with RabbitMQ. (integer value)\u001b[0m
    \u001b[37m-#rabbit_retry_interval = 1\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# How long to backoff for between retries when connecting to RabbitMQ. (integer\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#rabbit_retry_backoff = 2\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Maximum interval of RabbitMQ connection retries. Default is 30 seconds.\u001b[0m
    \u001b[37m-# (integer value)\u001b[0m
    \u001b[37m-#rabbit_interval_max = 30\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: Maximum number of RabbitMQ connection retries. Default is 0\u001b[0m
    \u001b[37m-# (infinite retry count). (integer value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-#rabbit_max_retries = 0\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Try to use HA queues in RabbitMQ (x-ha-policy: all). If you change this\u001b[0m
    \u001b[37m-# option, you must wipe the RabbitMQ database. In RabbitMQ 3.0, queue mirroring\u001b[0m
    \u001b[37m-# is no longer controlled by the x-ha-policy argument when declaring a queue.\u001b[0m
    \u001b[37m-# If you just want to make sure that all queues (except those with auto-\u001b[0m
    \u001b[37m-# generated names) are mirrored across all nodes, run: \"rabbitmqctl set_policy\u001b[0m
    \u001b[37m-# HA '^(?!amq\\.).*' '{\"ha-mode\": \"all\"}' \" (boolean value)\u001b[0m
    \u001b[37m-#rabbit_ha_queues = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Positive integer representing duration in seconds for queue TTL (x-expires).\u001b[0m
    \u001b[37m-# Queues which are unused for the duration of the TTL are automatically\u001b[0m
    \u001b[37m-# deleted. The parameter affects only reply and fanout queues. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 1\u001b[0m
    \u001b[37m-#rabbit_transient_queues_ttl = 1800\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Specifies the number of messages to prefetch. Setting to zero allows\u001b[0m
    \u001b[37m-# unlimited messages. (integer value)\u001b[0m
    \u001b[37m-#rabbit_qos_prefetch_count = 0\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Number of seconds after which the Rabbit broker is considered down if\u001b[0m
    \u001b[37m-# heartbeat's keep-alive fails (0 disable the heartbeat). EXPERIMENTAL (integer\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#heartbeat_timeout_threshold = 60\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# How often times during the heartbeat_timeout_threshold we check the\u001b[0m
    \u001b[37m-# heartbeat. (integer value)\u001b[0m
    \u001b[37m-#heartbeat_rate = 2\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[oslo_messaging_zmq]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From oslo.messaging\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# ZeroMQ bind address. Should be a wildcard (*), an ethernet interface, or IP.\u001b[0m
    \u001b[37m-# The \"host\" option should point or resolve to this address. (string value)\u001b[0m
    \u001b[37m-#rpc_zmq_bind_address = *\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# MatchMaker driver. (string value)\u001b[0m
    \u001b[37m-# Possible values:\u001b[0m
    \u001b[37m-# redis - <No description provided>\u001b[0m
    \u001b[37m-# sentinel - <No description provided>\u001b[0m
    \u001b[37m-# dummy - <No description provided>\u001b[0m
    \u001b[37m-#rpc_zmq_matchmaker = redis\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Number of ZeroMQ contexts, defaults to 1. (integer value)\u001b[0m
    \u001b[37m-#rpc_zmq_contexts = 1\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Maximum number of ingress messages to locally buffer per topic. Default is\u001b[0m
    \u001b[37m-# unlimited. (integer value)\u001b[0m
    \u001b[37m-#rpc_zmq_topic_backlog = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Directory for holding IPC sockets. (string value)\u001b[0m
    \u001b[37m-#rpc_zmq_ipc_dir = /var/run/openstack\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Name of this node. Must be a valid hostname, FQDN, or IP address. Must match\u001b[0m
    \u001b[37m-# \"host\" option, if running Nova. (string value)\u001b[0m
    \u001b[37m-#rpc_zmq_host = localhost\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Number of seconds to wait before all pending messages will be sent after\u001b[0m
    \u001b[37m-# closing a socket. The default value of -1 specifies an infinite linger\u001b[0m
    \u001b[37m-# period. The value of 0 specifies no linger period. Pending messages shall be\u001b[0m
    \u001b[37m-# discarded immediately when the socket is closed. Positive values specify an\u001b[0m
    \u001b[37m-# upper bound for the linger period. (integer value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/rpc_cast_timeout\u001b[0m
    \u001b[37m-#zmq_linger = -1\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The default number of seconds that poll should wait. Poll raises timeout\u001b[0m
    \u001b[37m-# exception when timeout expired. (integer value)\u001b[0m
    \u001b[37m-#rpc_poll_timeout = 1\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Expiration timeout in seconds of a name service record about existing target\u001b[0m
    \u001b[37m-# ( < 0 means no timeout). (integer value)\u001b[0m
    \u001b[37m-#zmq_target_expire = 300\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Update period in seconds of a name service record about existing target.\u001b[0m
    \u001b[37m-# (integer value)\u001b[0m
    \u001b[37m-#zmq_target_update = 180\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Use PUB/SUB pattern for fanout methods. PUB/SUB always uses proxy. (boolean\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#use_pub_sub = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Use ROUTER remote proxy. (boolean value)\u001b[0m
    \u001b[37m-#use_router_proxy = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# This option makes direct connections dynamic or static. It makes sense only\u001b[0m
    \u001b[37m-# with use_router_proxy=False which means to use direct connections for direct\u001b[0m
    \u001b[37m-# message types (ignored otherwise). (boolean value)\u001b[0m
    \u001b[37m-#use_dynamic_connections = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# How many additional connections to a host will be made for failover reasons.\u001b[0m
    \u001b[37m-# This option is actual only in dynamic connections mode. (integer value)\u001b[0m
    \u001b[37m-#zmq_failover_connections = 2\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Minimal port number for random ports range. (port value)\u001b[0m
    \u001b[37m-# Minimum value: 0\u001b[0m
    \u001b[37m-# Maximum value: 65535\u001b[0m
    \u001b[37m-#rpc_zmq_min_port = 49153\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Maximal port number for random ports range. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 1\u001b[0m
    \u001b[37m-# Maximum value: 65536\u001b[0m
    \u001b[37m-#rpc_zmq_max_port = 65536\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Number of retries to find free port number before fail with ZMQBindError.\u001b[0m
    \u001b[37m-# (integer value)\u001b[0m
    \u001b[37m-#rpc_zmq_bind_port_retries = 100\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Default serialization mechanism for serializing/deserializing\u001b[0m
    \u001b[37m-# outgoing/incoming messages (string value)\u001b[0m
    \u001b[37m-# Possible values:\u001b[0m
    \u001b[37m-# json - <No description provided>\u001b[0m
    \u001b[37m-# msgpack - <No description provided>\u001b[0m
    \u001b[37m-#rpc_zmq_serialization = json\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# This option configures round-robin mode in zmq socket. True means not keeping\u001b[0m
    \u001b[37m-# a queue when server side disconnects. False means to keep queue and messages\u001b[0m
    \u001b[37m-# even if server is disconnected, when the server appears we send all\u001b[0m
    \u001b[37m-# accumulated messages to it. (boolean value)\u001b[0m
    \u001b[37m-#zmq_immediate = true\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Enable/disable TCP keepalive (KA) mechanism. The default value of -1 (or any\u001b[0m
    \u001b[37m-# other negative value) means to skip any overrides and leave it to OS default;\u001b[0m
    \u001b[37m-# 0 and 1 (or any other positive value) mean to disable and enable the option\u001b[0m
    \u001b[37m-# respectively. (integer value)\u001b[0m
    \u001b[37m-#zmq_tcp_keepalive = -1\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The duration between two keepalive transmissions in idle condition. The unit\u001b[0m
    \u001b[37m-# is platform dependent, for example, seconds in Linux, milliseconds in Windows\u001b[0m
    \u001b[37m-# etc. The default value of -1 (or any other negative value and 0) means to\u001b[0m
    \u001b[37m-# skip any overrides and leave it to OS default. (integer value)\u001b[0m
    \u001b[37m-#zmq_tcp_keepalive_idle = -1\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The number of retransmissions to be carried out before declaring that remote\u001b[0m
    \u001b[37m-# end is not available. The default value of -1 (or any other negative value\u001b[0m
    \u001b[37m-# and 0) means to skip any overrides and leave it to OS default. (integer\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#zmq_tcp_keepalive_cnt = -1\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The duration between two successive keepalive retransmissions, if\u001b[0m
    \u001b[37m-# acknowledgement to the previous keepalive transmission is not received. The\u001b[0m
    \u001b[37m-# unit is platform dependent, for example, seconds in Linux, milliseconds in\u001b[0m
    \u001b[37m-# Windows etc. The default value of -1 (or any other negative value and 0)\u001b[0m
    \u001b[37m-# means to skip any overrides and leave it to OS default. (integer value)\u001b[0m
    \u001b[37m-#zmq_tcp_keepalive_intvl = -1\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Maximum number of (green) threads to work concurrently. (integer value)\u001b[0m
    \u001b[37m-#rpc_thread_pool_size = 100\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Expiration timeout in seconds of a sent/received message after which it is\u001b[0m
    \u001b[37m-# not tracked anymore by a client/server. (integer value)\u001b[0m
    \u001b[37m-#rpc_message_ttl = 300\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Wait for message acknowledgements from receivers. This mechanism works only\u001b[0m
    \u001b[37m-# via proxy without PUB/SUB. (boolean value)\u001b[0m
    \u001b[37m-#rpc_use_acks = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Number of seconds to wait for an ack from a cast/call. After each retry\u001b[0m
    \u001b[37m-# attempt this timeout is multiplied by some specified multiplier. (integer\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#rpc_ack_timeout_base = 15\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Number to multiply base ack timeout by after each retry attempt. (integer\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#rpc_ack_timeout_multiplier = 2\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Default number of message sending attempts in case of any problems occurred:\u001b[0m
    \u001b[37m-# positive value N means at most N retries, 0 means no retries, None or -1 (or\u001b[0m
    \u001b[37m-# any other negative values) mean to retry forever. This option is used only if\u001b[0m
    \u001b[37m-# acknowledgments are enabled. (integer value)\u001b[0m
    \u001b[37m-#rpc_retry_attempts = 3\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# List of publisher hosts SubConsumer can subscribe on. This option has higher\u001b[0m
    \u001b[37m-# priority then the default publishers list taken from the matchmaker. (list\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#subscribe_on =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[oslo_middleware]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From oslo.middleware\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The maximum body size for each  request, in bytes. (integer value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/osapi_max_request_body_size\u001b[0m
    \u001b[37m-# Deprecated group/name - [DEFAULT]/max_request_body_size\u001b[0m
    \u001b[37m-#max_request_body_size = 114688\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: The HTTP Header that will be used to determine what the original\u001b[0m
    \u001b[37m-# request protocol scheme was, even if it was hidden by a SSL termination\u001b[0m
    \u001b[37m-# proxy. (string value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-#secure_proxy_ssl_header = X-Forwarded-Proto\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Whether the application is behind a proxy or not. This determines if the\u001b[0m
    \u001b[37m-# middleware should parse the headers or not. (boolean value)\u001b[0m
    \u001b[37m-#enable_proxy_headers_parsing = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[oslo_policy]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From oslo.policy\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# This option controls whether or not to enforce scope when evaluating\u001b[0m
    \u001b[37m-# policies. If ``True``, the scope of the token used in the request is compared\u001b[0m
    \u001b[37m-# to the ``scope_types`` of the policy being enforced. If the scopes do not\u001b[0m
    \u001b[37m-# match, an ``InvalidScope`` exception will be raised. If ``False``, a message\u001b[0m
    \u001b[37m-# will be logged informing operators that policies are being invoked with\u001b[0m
    \u001b[37m-# mismatching scope. (boolean value)\u001b[0m
    \u001b[37m-#enforce_scope = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The file that defines policies. (string value)\u001b[0m
    \u001b[37m-#policy_file = policy.json\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Default rule. Enforced when a requested rule is not found. (string value)\u001b[0m
    \u001b[37m-#policy_default_rule = default\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Directories where policy configuration files are stored. They can be relative\u001b[0m
    \u001b[37m-# to any directory in the search path defined by the config_dir option, or\u001b[0m
    \u001b[37m-# absolute paths. The file defined by policy_file must exist for these\u001b[0m
    \u001b[37m-# directories to be searched.  Missing or empty directories are ignored. (multi\u001b[0m
    \u001b[37m-# valued)\u001b[0m
    \u001b[37m-#policy_dirs = policy.d\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Content Type to send and receive data for REST based policy check (string\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-# Possible values:\u001b[0m
    \u001b[37m-# application/x-www-form-urlencoded - <No description provided>\u001b[0m
    \u001b[37m-# application/json - <No description provided>\u001b[0m
    \u001b[37m-#remote_content_type = application/x-www-form-urlencoded\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# server identity verification for REST based policy check (boolean value)\u001b[0m
    \u001b[37m-#remote_ssl_verify_server_crt = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Absolute path to ca cert file for REST based policy check (string value)\u001b[0m
    \u001b[37m-#remote_ssl_ca_crt_file = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Absolute path to client cert for REST based policy check (string value)\u001b[0m
    \u001b[37m-#remote_ssl_client_crt_file = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Absolute path client key file REST based policy check (string value)\u001b[0m
    \u001b[37m-#remote_ssl_client_key_file = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[policy]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Entry point for the policy backend driver in the `keystone.policy` namespace.\u001b[0m
    \u001b[37m-# Supplied drivers are `rules` (which does not support any CRUD operations for\u001b[0m
    \u001b[37m-# the v3 policy API) and `sql`. Typically, there is no reason to set this\u001b[0m
    \u001b[37m-# option unless you are providing a custom entry point. (string value)\u001b[0m
    \u001b[37m-#driver = sql\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Maximum number of entities that will be returned in a policy collection.\u001b[0m
    \u001b[37m-# (integer value)\u001b[0m
    \u001b[37m-#list_limit = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[profiler]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From osprofiler\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# Enable the profiling for all services on this node.\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# Default value is False (fully disable the profiling feature).\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# Possible values:\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# * True: Enables the feature\u001b[0m
    \u001b[37m-# * False: Disables the feature. The profiling cannot be started via this\u001b[0m
    \u001b[37m-# project\u001b[0m
    \u001b[37m-#   operations. If the profiling is triggered by another project, this project\u001b[0m
    \u001b[37m-#   part will be empty.\u001b[0m
    \u001b[37m-#  (boolean value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [profiler]/profiler_enabled\u001b[0m
    \u001b[37m-#enabled = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# Enable SQL requests profiling in services.\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# Default value is False (SQL requests won't be traced).\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# Possible values:\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# * True: Enables SQL requests profiling. Each SQL query will be part of the\u001b[0m
    \u001b[37m-#   trace and can the be analyzed by how much time was spent for that.\u001b[0m
    \u001b[37m-# * False: Disables SQL requests profiling. The spent time is only shown on a\u001b[0m
    \u001b[37m-#   higher level of operations. Single SQL queries cannot be analyzed this way.\u001b[0m
    \u001b[37m-#  (boolean value)\u001b[0m
    \u001b[37m-#trace_sqlalchemy = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# Secret key(s) to use for encrypting context data for performance profiling.\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# This string value should have the following format:\u001b[0m
    \u001b[37m-# <key1>[,<key2>,...<keyn>],\u001b[0m
    \u001b[37m-# where each key is some random string. A user who triggers the profiling via\u001b[0m
    \u001b[37m-# the REST API has to set one of these keys in the headers of the REST API call\u001b[0m
    \u001b[37m-# to include profiling results of this node for this particular project.\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# Both \"enabled\" flag and \"hmac_keys\" config options should be set to enable\u001b[0m
    \u001b[37m-# profiling. Also, to generate correct profiling information across all\u001b[0m
    \u001b[37m-# services\u001b[0m
    \u001b[37m-# at least one key needs to be consistent between OpenStack projects. This\u001b[0m
    \u001b[37m-# ensures it can be used from client side to generate the trace, containing\u001b[0m
    \u001b[37m-# information from all possible resources.\u001b[0m
    \u001b[37m-#  (string value)\u001b[0m
    \u001b[37m-#hmac_keys = SECRET_KEY\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# Connection string for a notifier backend.\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# Default value is ``messaging://`` which sets the notifier to oslo_messaging.\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# Examples of possible values:\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# * ``messaging://`` - use oslo_messaging driver for sending spans.\u001b[0m
    \u001b[37m-# * ``redis://127.0.0.1:6379`` - use redis driver for sending spans.\u001b[0m
    \u001b[37m-# * ``mongodb://127.0.0.1:27017`` - use mongodb driver for sending spans.\u001b[0m
    \u001b[37m-# * ``elasticsearch://127.0.0.1:9200`` - use elasticsearch driver for sending\u001b[0m
    \u001b[37m-#   spans.\u001b[0m
    \u001b[37m-# * ``jaeger://127.0.0.1:6831`` - use jaeger tracing as driver for sending\u001b[0m
    \u001b[37m-# spans.\u001b[0m
    \u001b[37m-#  (string value)\u001b[0m
    \u001b[37m-#connection_string = messaging://\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# Document type for notification indexing in elasticsearch.\u001b[0m
    \u001b[37m-#  (string value)\u001b[0m
    \u001b[37m-#es_doc_type = notification\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# This parameter is a time value parameter (for example: es_scroll_time=2m),\u001b[0m
    \u001b[37m-# indicating for how long the nodes that participate in the search will\u001b[0m
    \u001b[37m-# maintain\u001b[0m
    \u001b[37m-# relevant resources in order to continue and support it.\u001b[0m
    \u001b[37m-#  (string value)\u001b[0m
    \u001b[37m-#es_scroll_time = 2m\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# Elasticsearch splits large requests in batches. This parameter defines\u001b[0m
    \u001b[37m-# maximum size of each batch (for example: es_scroll_size=10000).\u001b[0m
    \u001b[37m-#  (integer value)\u001b[0m
    \u001b[37m-#es_scroll_size = 10000\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# Redissentinel provides a timeout option on the connections.\u001b[0m
    \u001b[37m-# This parameter defines that timeout (for example: socket_timeout=0.1).\u001b[0m
    \u001b[37m-#  (floating point value)\u001b[0m
    \u001b[37m-#socket_timeout = 0.1\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# Redissentinel uses a service name to identify a master redis service.\u001b[0m
    \u001b[37m-# This parameter defines the name (for example:\u001b[0m
    \u001b[37m-# ``sentinal_service_name=mymaster``).\u001b[0m
    \u001b[37m-#  (string value)\u001b[0m
    \u001b[37m-#sentinel_service_name = mymaster\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# Enable filter traces that contain error/exception to a separated place.\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# Default value is set to False.\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# Possible values:\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# * True: Enable filter traces that contain error/exception.\u001b[0m
    \u001b[37m-# * False: Disable the filter.\u001b[0m
    \u001b[37m-#  (boolean value)\u001b[0m
    \u001b[37m-#filter_error_trace = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[resource]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: Entry point for the resource driver in the `keystone.resource`\u001b[0m
    \u001b[37m-# namespace. Only a `sql` driver is supplied by keystone. Unless you are\u001b[0m
    \u001b[37m-# writing proprietary drivers for keystone, you do not need to set this option.\u001b[0m
    \u001b[37m-# (string value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal since P.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: Non-SQL resource cannot be used with SQL Identity and has been unable\u001b[0m
    \u001b[37m-# to be used since Ocata. SQL Resource backend is a requirement as of Pike.\u001b[0m
    \u001b[37m-# Setting this option no longer has an effect on how Keystone operates.\u001b[0m
    \u001b[37m-#driver = sql\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Toggle for resource caching. This has no effect unless global caching is\u001b[0m
    \u001b[37m-# enabled. (boolean value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [assignment]/caching\u001b[0m
    \u001b[37m-#caching = true\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Time to cache resource data in seconds. This has no effect unless global\u001b[0m
    \u001b[37m-# caching is enabled. (integer value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [assignment]/cache_time\u001b[0m
    \u001b[37m-#cache_time = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Maximum number of entities that will be returned in a resource collection.\u001b[0m
    \u001b[37m-# (integer value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [assignment]/list_limit\u001b[0m
    \u001b[37m-#list_limit = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Name of the domain that owns the `admin_project_name`. If left unset, then\u001b[0m
    \u001b[37m-# there is no admin project. `[resource] admin_project_name` must also be set\u001b[0m
    \u001b[37m-# to use this option. (string value)\u001b[0m
    \u001b[37m-#admin_project_domain_name = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# This is a special project which represents cloud-level administrator\u001b[0m
    \u001b[37m-# privileges across services. Tokens scoped to this project will contain a true\u001b[0m
    \u001b[37m-# `is_admin_project` attribute to indicate to policy systems that the role\u001b[0m
    \u001b[37m-# assignments on that specific project should apply equally across every\u001b[0m
    \u001b[37m-# project. If left unset, then there is no admin project, and thus no explicit\u001b[0m
    \u001b[37m-# means of cross-project role assignments. `[resource]\u001b[0m
    \u001b[37m-# admin_project_domain_name` must also be set to use this option. (string\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#admin_project_name = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# This controls whether the names of projects are restricted from containing\u001b[0m
    \u001b[37m-# URL-reserved characters. If set to `new`, attempts to create or update a\u001b[0m
    \u001b[37m-# project with a URL-unsafe name will fail. If set to `strict`, attempts to\u001b[0m
    \u001b[37m-# scope a token with a URL-unsafe project name will fail, thereby forcing all\u001b[0m
    \u001b[37m-# project names to be updated to be URL-safe. (string value)\u001b[0m
    \u001b[37m-# Possible values:\u001b[0m
    \u001b[37m-# off - <No description provided>\u001b[0m
    \u001b[37m-# new - <No description provided>\u001b[0m
    \u001b[37m-# strict - <No description provided>\u001b[0m
    \u001b[37m-#project_name_url_safe = off\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# This controls whether the names of domains are restricted from containing\u001b[0m
    \u001b[37m-# URL-reserved characters. If set to `new`, attempts to create or update a\u001b[0m
    \u001b[37m-# domain with a URL-unsafe name will fail. If set to `strict`, attempts to\u001b[0m
    \u001b[37m-# scope a token with a URL-unsafe domain name will fail, thereby forcing all\u001b[0m
    \u001b[37m-# domain names to be updated to be URL-safe. (string value)\u001b[0m
    \u001b[37m-# Possible values:\u001b[0m
    \u001b[37m-# off - <No description provided>\u001b[0m
    \u001b[37m-# new - <No description provided>\u001b[0m
    \u001b[37m-# strict - <No description provided>\u001b[0m
    \u001b[37m-#domain_name_url_safe = off\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[revoke]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Entry point for the token revocation backend driver in the `keystone.revoke`\u001b[0m
    \u001b[37m-# namespace. Keystone only provides a `sql` driver, so there is no reason to\u001b[0m
    \u001b[37m-# set this option unless you are providing a custom entry point. (string value)\u001b[0m
    \u001b[37m-#driver = sql\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The number of seconds after a token has expired before a corresponding\u001b[0m
    \u001b[37m-# revocation event may be purged from the backend. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 0\u001b[0m
    \u001b[37m-#expiration_buffer = 1800\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Toggle for revocation event caching. This has no effect unless global caching\u001b[0m
    \u001b[37m-# is enabled. (boolean value)\u001b[0m
    \u001b[37m-#caching = true\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Time to cache the revocation list and the revocation events (in seconds).\u001b[0m
    \u001b[37m-# This has no effect unless global and `[revoke] caching` are both enabled.\u001b[0m
    \u001b[37m-# (integer value)\u001b[0m
    \u001b[37m-# Deprecated group/name - [token]/revocation_cache_time\u001b[0m
    \u001b[37m-#cache_time = 3600\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[role]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Entry point for the role backend driver in the `keystone.role` namespace.\u001b[0m
    \u001b[37m-# Keystone only provides a `sql` driver, so there's no reason to change this\u001b[0m
    \u001b[37m-# unless you are providing a custom entry point. (string value)\u001b[0m
    \u001b[37m-#driver = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Toggle for role caching. This has no effect unless global caching is enabled.\u001b[0m
    \u001b[37m-# In a typical deployment, there is no reason to disable this. (boolean value)\u001b[0m
    \u001b[37m-#caching = true\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Time to cache role data, in seconds. This has no effect unless both global\u001b[0m
    \u001b[37m-# caching and `[role] caching` are enabled. (integer value)\u001b[0m
    \u001b[37m-#cache_time = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Maximum number of entities that will be returned in a role collection. This\u001b[0m
    \u001b[37m-# may be useful to tune if you have a large number of discrete roles in your\u001b[0m
    \u001b[37m-# deployment. (integer value)\u001b[0m
    \u001b[37m-#list_limit = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[saml]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Determines the lifetime for any SAML assertions generated by keystone, using\u001b[0m
    \u001b[37m-# `NotOnOrAfter` attributes. (integer value)\u001b[0m
    \u001b[37m-#assertion_expiration_time = 3600\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Name of, or absolute path to, the binary to be used for XML signing. Although\u001b[0m
    \u001b[37m-# only the XML Security Library (`xmlsec1`) is supported, it may have a non-\u001b[0m
    \u001b[37m-# standard name or path on your system. If keystone cannot find the binary\u001b[0m
    \u001b[37m-# itself, you may need to install the appropriate package, use this option to\u001b[0m
    \u001b[37m-# specify an absolute path, or adjust keystone's PATH environment variable.\u001b[0m
    \u001b[37m-# (string value)\u001b[0m
    \u001b[37m-#xmlsec1_binary = xmlsec1\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Absolute path to the public certificate file to use for SAML signing. The\u001b[0m
    \u001b[37m-# value cannot contain a comma (`,`). (string value)\u001b[0m
    \u001b[37m-#certfile = /etc/keystone/ssl/certs/signing_cert.pem\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Absolute path to the private key file to use for SAML signing. The value\u001b[0m
    \u001b[37m-# cannot contain a comma (`,`). (string value)\u001b[0m
    \u001b[37m-#keyfile = /etc/keystone/ssl/private/signing_key.pem\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# This is the unique entity identifier of the identity provider (keystone) to\u001b[0m
    \u001b[37m-# use when generating SAML assertions. This value is required to generate\u001b[0m
    \u001b[37m-# identity provider metadata and must be a URI (a URL is recommended). For\u001b[0m
    \u001b[37m-# example: `https://keystone.example.com/v3/OS-FEDERATION/saml2/idp`. (uri\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#idp_entity_id = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# This is the single sign-on (SSO) service location of the identity provider\u001b[0m
    \u001b[37m-# which accepts HTTP POST requests. A value is required to generate identity\u001b[0m
    \u001b[37m-# provider metadata. For example: `https://keystone.example.com/v3/OS-\u001b[0m
    \u001b[37m-# FEDERATION/saml2/sso`. (uri value)\u001b[0m
    \u001b[37m-#idp_sso_endpoint = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# This is the language used by the identity provider's organization. (string\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#idp_lang = en\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# This is the name of the identity provider's organization. (string value)\u001b[0m
    \u001b[37m-#idp_organization_name = SAML Identity Provider\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# This is the name of the identity provider's organization to be displayed.\u001b[0m
    \u001b[37m-# (string value)\u001b[0m
    \u001b[37m-#idp_organization_display_name = OpenStack SAML Identity Provider\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# This is the URL of the identity provider's organization. The URL referenced\u001b[0m
    \u001b[37m-# here should be useful to humans. (uri value)\u001b[0m
    \u001b[37m-#idp_organization_url = https://example.com/\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# This is the company name of the identity provider's contact person. (string\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#idp_contact_company = Example, Inc.\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# This is the given name of the identity provider's contact person. (string\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#idp_contact_name = SAML Identity Provider Support\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# This is the surname of the identity provider's contact person. (string value)\u001b[0m
    \u001b[37m-#idp_contact_surname = Support\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# This is the email address of the identity provider's contact person. (string\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#idp_contact_email = support@example.com\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# This is the telephone number of the identity provider's contact person.\u001b[0m
    \u001b[37m-# (string value)\u001b[0m
    \u001b[37m-#idp_contact_telephone = +1 800 555 0100\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# This is the type of contact that best describes the identity provider's\u001b[0m
    \u001b[37m-# contact person. (string value)\u001b[0m
    \u001b[37m-# Possible values:\u001b[0m
    \u001b[37m-# technical - <No description provided>\u001b[0m
    \u001b[37m-# support - <No description provided>\u001b[0m
    \u001b[37m-# administrative - <No description provided>\u001b[0m
    \u001b[37m-# billing - <No description provided>\u001b[0m
    \u001b[37m-# other - <No description provided>\u001b[0m
    \u001b[37m-#idp_contact_type = other\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Absolute path to the identity provider metadata file. This file should be\u001b[0m
    \u001b[37m-# generated with the `keystone-manage saml_idp_metadata` command. There is\u001b[0m
    \u001b[37m-# typically no reason to change this value. (string value)\u001b[0m
    \u001b[37m-#idp_metadata_path = /etc/keystone/saml2_idp_metadata.xml\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The prefix of the RelayState SAML attribute to use when generating enhanced\u001b[0m
    \u001b[37m-# client and proxy (ECP) assertions. In a typical deployment, there is no\u001b[0m
    \u001b[37m-# reason to change this value. (string value)\u001b[0m
    \u001b[37m-#relay_state_prefix = ss:mem:\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[security_compliance]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The maximum number of days a user can go without authenticating before being\u001b[0m
    \u001b[37m-# considered \"inactive\" and automatically disabled (locked). This feature is\u001b[0m
    \u001b[37m-# disabled by default; set any value to enable it. This feature depends on the\u001b[0m
    \u001b[37m-# `sql` backend for the `[identity] driver`. When a user exceeds this threshold\u001b[0m
    \u001b[37m-# and is considered \"inactive\", the user's `enabled` attribute in the HTTP API\u001b[0m
    \u001b[37m-# may not match the value of the user's `enabled` column in the user table.\u001b[0m
    \u001b[37m-# (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 1\u001b[0m
    \u001b[37m-#disable_user_account_days_inactive = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The maximum number of times that a user can fail to authenticate before the\u001b[0m
    \u001b[37m-# user account is locked for the number of seconds specified by\u001b[0m
    \u001b[37m-# `[security_compliance] lockout_duration`. This feature is disabled by\u001b[0m
    \u001b[37m-# default. If this feature is enabled and `[security_compliance]\u001b[0m
    \u001b[37m-# lockout_duration` is not set, then users may be locked out indefinitely until\u001b[0m
    \u001b[37m-# the user is explicitly enabled via the API. This feature depends on the `sql`\u001b[0m
    \u001b[37m-# backend for the `[identity] driver`. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 1\u001b[0m
    \u001b[37m-#lockout_failure_attempts = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The number of seconds a user account will be locked when the maximum number\u001b[0m
    \u001b[37m-# of failed authentication attempts (as specified by `[security_compliance]\u001b[0m
    \u001b[37m-# lockout_failure_attempts`) is exceeded. Setting this option will have no\u001b[0m
    \u001b[37m-# effect unless you also set `[security_compliance] lockout_failure_attempts`\u001b[0m
    \u001b[37m-# to a non-zero value. This feature depends on the `sql` backend for the\u001b[0m
    \u001b[37m-# `[identity] driver`. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 1\u001b[0m
    \u001b[37m-#lockout_duration = 1800\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The number of days for which a password will be considered valid before\u001b[0m
    \u001b[37m-# requiring it to be changed. This feature is disabled by default. If enabled,\u001b[0m
    \u001b[37m-# new password changes will have an expiration date, however existing passwords\u001b[0m
    \u001b[37m-# would not be impacted. This feature depends on the `sql` backend for the\u001b[0m
    \u001b[37m-# `[identity] driver`. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 1\u001b[0m
    \u001b[37m-#password_expires_days = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# This controls the number of previous user password iterations to keep in\u001b[0m
    \u001b[37m-# history, in order to enforce that newly created passwords are unique. The\u001b[0m
    \u001b[37m-# total number which includes the new password should not be greater or equal\u001b[0m
    \u001b[37m-# to this value. Setting the value to one (the default) disables this feature.\u001b[0m
    \u001b[37m-# Thus, to enable this feature, values must be greater than 1. This feature\u001b[0m
    \u001b[37m-# depends on the `sql` backend for the `[identity] driver`. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 1\u001b[0m
    \u001b[37m-#unique_last_password_count = 1\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The number of days that a password must be used before the user can change\u001b[0m
    \u001b[37m-# it. This prevents users from changing their passwords immediately in order to\u001b[0m
    \u001b[37m-# wipe out their password history and reuse an old password. This feature does\u001b[0m
    \u001b[37m-# not prevent administrators from manually resetting passwords. It is disabled\u001b[0m
    \u001b[37m-# by default and allows for immediate password changes. This feature depends on\u001b[0m
    \u001b[37m-# the `sql` backend for the `[identity] driver`. Note: If\u001b[0m
    \u001b[37m-# `[security_compliance] password_expires_days` is set, then the value for this\u001b[0m
    \u001b[37m-# option should be less than the `password_expires_days`. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 0\u001b[0m
    \u001b[37m-#minimum_password_age = 0\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The regular expression used to validate password strength requirements. By\u001b[0m
    \u001b[37m-# default, the regular expression will match any password. The following is an\u001b[0m
    \u001b[37m-# example of a pattern which requires at least 1 letter, 1 digit, and have a\u001b[0m
    \u001b[37m-# minimum length of 7 characters: ^(?=.*\\d)(?=.*[a-zA-Z]).{7,}$ This feature\u001b[0m
    \u001b[37m-# depends on the `sql` backend for the `[identity] driver`. (string value)\u001b[0m
    \u001b[37m-#password_regex = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Describe your password regular expression here in language for humans. If a\u001b[0m
    \u001b[37m-# password fails to match the regular expression, the contents of this\u001b[0m
    \u001b[37m-# configuration variable will be returned to users to explain why their\u001b[0m
    \u001b[37m-# requested password was insufficient. (string value)\u001b[0m
    \u001b[37m-#password_regex_description = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Enabling this option requires users to change their password when the user is\u001b[0m
    \u001b[37m-# created, or upon administrative reset. Before accessing any services,\u001b[0m
    \u001b[37m-# affected users will have to change their password. To ignore this requirement\u001b[0m
    \u001b[37m-# for specific users, such as service users, set the `options` attribute\u001b[0m
    \u001b[37m-# `ignore_change_password_upon_first_use` to `True` for the desired user via\u001b[0m
    \u001b[37m-# the update user API. This feature is disabled by default. This feature is\u001b[0m
    \u001b[37m-# only applicable with the `sql` backend for the `[identity] driver`. (boolean\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#change_password_upon_first_use = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[shadow_users]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Entry point for the shadow users backend driver in the\u001b[0m
    \u001b[37m-# `keystone.identity.shadow_users` namespace. This driver is used for\u001b[0m
    \u001b[37m-# persisting local user references to externally-managed identities (via\u001b[0m
    \u001b[37m-# federation, LDAP, etc). Keystone only provides a `sql` driver, so there is no\u001b[0m
    \u001b[37m-# reason to change this option unless you are providing a custom entry point.\u001b[0m
    \u001b[37m-# (string value)\u001b[0m
    \u001b[37m-#driver = sql\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[signing]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: Absolute path to the public certificate file to use for signing\u001b[0m
    \u001b[37m-# responses to revocation lists requests. Set this together with `[signing]\u001b[0m
    \u001b[37m-# keyfile`. For non-production environments, you may be interested in using\u001b[0m
    \u001b[37m-# `keystone-manage pki_setup` to generate self-signed certificates. (string\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal since P.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: `keystone-manage pki_setup` was deprecated in Mitaka and removed in\u001b[0m
    \u001b[37m-# Pike. These options remain for backwards compatibility.\u001b[0m
    \u001b[37m-#certfile = /etc/keystone/ssl/certs/signing_cert.pem\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: Absolute path to the private key file to use for signing\u001b[0m
    \u001b[37m-# responses to revocation lists requests. Set this together with `[signing]\u001b[0m
    \u001b[37m-# certfile`. (string value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal since P.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: `keystone-manage pki_setup` was deprecated in Mitaka and removed in\u001b[0m
    \u001b[37m-# Pike. These options remain for backwards compatibility.\u001b[0m
    \u001b[37m-#keyfile = /etc/keystone/ssl/private/signing_key.pem\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: Absolute path to the public certificate authority (CA) file to\u001b[0m
    \u001b[37m-# use when creating self-signed certificates with `keystone-manage pki_setup`.\u001b[0m
    \u001b[37m-# Set this together with `[signing] ca_key`. There is no reason to set this\u001b[0m
    \u001b[37m-# option unless you are requesting revocation lists in a non-production\u001b[0m
    \u001b[37m-# environment. Use a `[signing] certfile` issued from a trusted certificate\u001b[0m
    \u001b[37m-# authority instead. (string value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal since P.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: `keystone-manage pki_setup` was deprecated in Mitaka and removed in\u001b[0m
    \u001b[37m-# Pike. These options remain for backwards compatibility.\u001b[0m
    \u001b[37m-#ca_certs = /etc/keystone/ssl/certs/ca.pem\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: Absolute path to the private certificate authority (CA) key file\u001b[0m
    \u001b[37m-# to use when creating self-signed certificates with `keystone-manage\u001b[0m
    \u001b[37m-# pki_setup`. Set this together with `[signing] ca_certs`. There is no reason\u001b[0m
    \u001b[37m-# to set this option unless you are requesting revocation lists in a non-\u001b[0m
    \u001b[37m-# production environment. Use a `[signing] certfile` issued from a trusted\u001b[0m
    \u001b[37m-# certificate authority instead. (string value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal since P.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: `keystone-manage pki_setup` was deprecated in Mitaka and removed in\u001b[0m
    \u001b[37m-# Pike. These options remain for backwards compatibility.\u001b[0m
    \u001b[37m-#ca_key = /etc/keystone/ssl/private/cakey.pem\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: Key size (in bits) to use when generating a self-signed token\u001b[0m
    \u001b[37m-# signing certificate. There is no reason to set this option unless you are\u001b[0m
    \u001b[37m-# requesting revocation lists in a non-production environment. Use a `[signing]\u001b[0m
    \u001b[37m-# certfile` issued from a trusted certificate authority instead. (integer\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-# Minimum value: 1024\u001b[0m
    \u001b[37m-# This option is deprecated for removal since P.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: `keystone-manage pki_setup` was deprecated in Mitaka and removed in\u001b[0m
    \u001b[37m-# Pike. These options remain for backwards compatibility.\u001b[0m
    \u001b[37m-#key_size = 2048\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: The validity period (in days) to use when generating a self-\u001b[0m
    \u001b[37m-# signed token signing certificate. There is no reason to set this option\u001b[0m
    \u001b[37m-# unless you are requesting revocation lists in a non-production environment.\u001b[0m
    \u001b[37m-# Use a `[signing] certfile` issued from a trusted certificate authority\u001b[0m
    \u001b[37m-# instead. (integer value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal since P.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: `keystone-manage pki_setup` was deprecated in Mitaka and removed in\u001b[0m
    \u001b[37m-# Pike. These options remain for backwards compatibility.\u001b[0m
    \u001b[37m-#valid_days = 3650\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: The certificate subject to use when generating a self-signed\u001b[0m
    \u001b[37m-# token signing certificate. There is no reason to set this option unless you\u001b[0m
    \u001b[37m-# are requesting revocation lists in a non-production environment. Use a\u001b[0m
    \u001b[37m-# `[signing] certfile` issued from a trusted certificate authority instead.\u001b[0m
    \u001b[37m-# (string value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal since P.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: `keystone-manage pki_setup` was deprecated in Mitaka and removed in\u001b[0m
    \u001b[37m-# Pike. These options remain for backwards compatibility.\u001b[0m
    \u001b[37m-#cert_subject = /C=US/ST=Unset/L=Unset/O=Unset/CN=www.example.com\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[token]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The amount of time that a token should remain valid (in seconds). Drastically\u001b[0m
    \u001b[37m-# reducing this value may break \"long-running\" operations that involve multiple\u001b[0m
    \u001b[37m-# services to coordinate together, and will force users to authenticate with\u001b[0m
    \u001b[37m-# keystone more frequently. Drastically increasing this value will increase the\u001b[0m
    \u001b[37m-# number of tokens that will be simultaneously valid. Keystone tokens are also\u001b[0m
    \u001b[37m-# bearer tokens, so a shorter duration will also reduce the potential security\u001b[0m
    \u001b[37m-# impact of a compromised token. (integer value)\u001b[0m
    \u001b[37m-# Minimum value: 0\u001b[0m
    \u001b[37m-# Maximum value: 9223372036854775807\u001b[0m
    \u001b[37m-#expiration = 3600\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Entry point for the token provider in the `keystone.token.provider`\u001b[0m
    \u001b[37m-# namespace. The token provider controls the token construction, validation,\u001b[0m
    \u001b[37m-# and revocation operations. Keystone includes `fernet` token provider.\u001b[0m
    \u001b[37m-# `fernet` tokens do not need to be persisted at all, but require that you run\u001b[0m
    \u001b[37m-# `keystone-manage fernet_setup` (also see the `keystone-manage fernet_rotate`\u001b[0m
    \u001b[37m-# command). (string value)\u001b[0m
    \u001b[37m-#provider = fernet\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Toggle for caching token creation and validation data. This has no effect\u001b[0m
    \u001b[37m-# unless global caching is enabled. (boolean value)\u001b[0m
    \u001b[37m-#caching = true\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The number of seconds to cache token creation and validation data. This has\u001b[0m
    \u001b[37m-# no effect unless both global and `[token] caching` are enabled. (integer\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-# Minimum value: 0\u001b[0m
    \u001b[37m-# Maximum value: 9223372036854775807\u001b[0m
    \u001b[37m-#cache_time = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# This toggles support for revoking individual tokens by the token identifier\u001b[0m
    \u001b[37m-# and thus various token enumeration operations (such as listing all tokens\u001b[0m
    \u001b[37m-# issued to a specific user). These operations are used to determine the list\u001b[0m
    \u001b[37m-# of tokens to consider revoked. Do not disable this option if you're using the\u001b[0m
    \u001b[37m-# `kvs` `[revoke] driver`. (boolean value)\u001b[0m
    \u001b[37m-#revoke_by_id = true\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# This toggles whether scoped tokens may be re-scoped to a new project or\u001b[0m
    \u001b[37m-# domain, thereby preventing users from exchanging a scoped token (including\u001b[0m
    \u001b[37m-# those with a default project scope) for any other token. This forces users to\u001b[0m
    \u001b[37m-# either authenticate for unscoped tokens (and later exchange that unscoped\u001b[0m
    \u001b[37m-# token for tokens with a more specific scope) or to provide their credentials\u001b[0m
    \u001b[37m-# in every request for a scoped token to avoid re-scoping altogether. (boolean\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#allow_rescope_scoped_token = true\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# DEPRECATED: This controls whether roles should be included with tokens that\u001b[0m
    \u001b[37m-# are not directly assigned to the token's scope, but are instead linked\u001b[0m
    \u001b[37m-# implicitly to other role assignments. (boolean value)\u001b[0m
    \u001b[37m-# This option is deprecated for removal since R.\u001b[0m
    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m
    \u001b[37m-# Reason: Default roles depend on a chain of implied role assignments. Ex: an\u001b[0m
    \u001b[37m-# admin user will also have the reader and member role. By ensuring that all\u001b[0m
    \u001b[37m-# these roles will always appear on the token validation response, we can\u001b[0m
    \u001b[37m-# improve the simplicity and readability of policy files.\u001b[0m
    \u001b[37m-#infer_roles = true\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Enable storing issued token data to token validation cache so that first\u001b[0m
    \u001b[37m-# token validation doesn't actually cause full validation cycle. This option\u001b[0m
    \u001b[37m-# has no effect unless global caching and token caching are enabled. (boolean\u001b[0m
    \u001b[37m-# value)\u001b[0m
    \u001b[37m-#cache_on_issue = true\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# This controls the number of seconds that a token can be retrieved for beyond\u001b[0m
    \u001b[37m-# the built-in expiry time. This allows long running operations to succeed.\u001b[0m
    \u001b[37m-# Defaults to two days. (integer value)\u001b[0m
    \u001b[37m-#allow_expired_window = 172800\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[tokenless_auth]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The list of distinguished names which identify trusted issuers of client\u001b[0m
    \u001b[37m-# certificates allowed to use X.509 tokenless authorization. If the option is\u001b[0m
    \u001b[37m-# absent then no certificates will be allowed. The format for the values of a\u001b[0m
    \u001b[37m-# distinguished name (DN) must be separated by a comma and contain no spaces.\u001b[0m
    \u001b[37m-# Furthermore, because an individual DN may contain commas, this configuration\u001b[0m
    \u001b[37m-# option may be repeated multiple times to represent multiple values. For\u001b[0m
    \u001b[37m-# example, keystone.conf would include two consecutive lines in order to trust\u001b[0m
    \u001b[37m-# two different DNs, such as `trusted_issuer = CN=john,OU=keystone,O=openstack`\u001b[0m
    \u001b[37m-# and `trusted_issuer = CN=mary,OU=eng,O=abc`. (multi valued)\u001b[0m
    \u001b[37m-#trusted_issuer =\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The federated protocol ID used to represent X.509 tokenless authorization.\u001b[0m
    \u001b[37m-# This is used in combination with the value of `[tokenless_auth]\u001b[0m
    \u001b[37m-# issuer_attribute` to find a corresponding federated mapping. In a typical\u001b[0m
    \u001b[37m-# deployment, there is no reason to change this value. (string value)\u001b[0m
    \u001b[37m-#protocol = x509\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The name of the WSGI environment variable used to pass the issuer of the\u001b[0m
    \u001b[37m-# client certificate to keystone. This attribute is used as an identity\u001b[0m
    \u001b[37m-# provider ID for the X.509 tokenless authorization along with the protocol to\u001b[0m
    \u001b[37m-# look up its corresponding mapping. In a typical deployment, there is no\u001b[0m
    \u001b[37m-# reason to change this value. (string value)\u001b[0m
    \u001b[37m-#issuer_attribute = SSL_CLIENT_I_DN\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[trust]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Allows authorization to be redelegated from one user to another, effectively\u001b[0m
    \u001b[37m-# chaining trusts together. When disabled, the `remaining_uses` attribute of a\u001b[0m
    \u001b[37m-# trust is constrained to be zero. (boolean value)\u001b[0m
    \u001b[37m-#allow_redelegation = false\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Maximum number of times that authorization can be redelegated from one user\u001b[0m
    \u001b[37m-# to another in a chain of trusts. This number may be reduced further for a\u001b[0m
    \u001b[37m-# specific trust. (integer value)\u001b[0m
    \u001b[37m-#max_redelegation_count = 3\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Entry point for the trust backend driver in the `keystone.trust` namespace.\u001b[0m
    \u001b[37m-# Keystone only provides a `sql` driver, so there is no reason to change this\u001b[0m
    \u001b[37m-# unless you are providing a custom entry point. (string value)\u001b[0m
    \u001b[37m-#driver = sql\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[unified_limit]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Entry point for the unified limit backend driver in the\u001b[0m
    \u001b[37m-# `keystone.unified_limit` namespace. Keystone only provides a `sql` driver, so\u001b[0m
    \u001b[37m-# there's no reason to change this unless you are providing a custom entry\u001b[0m
    \u001b[37m-# point. (string value)\u001b[0m
    \u001b[37m-#driver = sql\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Toggle for unified limit caching. This has no effect unless global caching is\u001b[0m
    \u001b[37m-# enabled. In a typical deployment, there is no reason to disable this.\u001b[0m
    \u001b[37m-# (boolean value)\u001b[0m
    \u001b[37m-#caching = true\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Time to cache unified limit data, in seconds. This has no effect unless both\u001b[0m
    \u001b[37m-# global caching and `[unified_limit] caching` are enabled. (integer value)\u001b[0m
    \u001b[37m-#cache_time = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Maximum number of entities that will be returned in a role collection. This\u001b[0m
    \u001b[37m-# may be useful to tune if you have a large number of unified limits in your\u001b[0m
    \u001b[37m-# deployment. (integer value)\u001b[0m
    \u001b[37m-#list_limit = <None>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# The enforcement model to use when validating limits associated to projects.\u001b[0m
    \u001b[37m-# Enforcement models will behave differently depending on the existing limits,\u001b[0m
    \u001b[37m-# which may result in backwards incompatible changes if a model is switched in\u001b[0m
    \u001b[37m-# a running deployment. (string value)\u001b[0m
    \u001b[37m-# Possible values:\u001b[0m
    \u001b[37m-# flat - <No description provided>\u001b[0m
    \u001b[37m-# strict_two_level - <No description provided>\u001b[0m
    \u001b[37m-#enforcement_model = flat\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-[wsgi]\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# From keystone\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# If set to true, this enables the oslo debug middleware in Keystone. This\u001b[0m
    \u001b[37m-# Middleware prints a lot of information about the request and the response. It\u001b[0m
    \u001b[37m-# is useful for getting information about the data on the wire (decoded) and\u001b[0m
    \u001b[37m-# passed to the WSGI application pipeline. This middleware has no effect on the\u001b[0m
    \u001b[37m-# \"debug\" setting in the [DEFAULT] section of the config file or setting\u001b[0m
    \u001b[37m-# Keystone's log-level to \"DEBUG\"; it is specific to debugging the WSGI data as\u001b[0m
    \u001b[37m-# it enters and leaves Keystone (specific request-related data). This option is\u001b[0m
    \u001b[37m-# used for introspection on the request and response data between the web\u001b[0m
    \u001b[37m-# server (apache, nginx, etc) and Keystone.  This middleware is inserted as the\u001b[0m
    \u001b[37m-# first element in the middleware chain and will show the data closest to the\u001b[0m
    \u001b[37m-# wire.  WARNING: NOT INTENDED FOR USE IN PRODUCTION. THIS MIDDLEWARE CAN AND\u001b[0m
    \u001b[37m-# WILL EMIT SENSITIVE/PRIVILEGED DATA. (boolean value)\u001b[0m
    \u001b[37m-#debug_middleware = false\u001b[0m
    \u001b[37m+[database]\u001b[0m
    \u001b[37m+connection = mysql+pymysql://keystone:mypass@147.75.201.110:3306/keystone?charset=utf8\u001b[0m
    \u001b[32m- change owner from 'root' to 'keystone'\u001b[0m
\u001b[0m  * ruby_block[delete all attributes in node['openstack']['identity']['conf_secrets']] action run
    \u001b[32m- execute the ruby block delete all attributes in node['openstack']['identity']['conf_secrets']\u001b[0m
\u001b[0m  * execute[keystone-manage db_sync] action run
    \u001b[32m- execute keystone-manage db_sync\u001b[0m
\u001b[0m  * execute[bootstrap_keystone] action run
    \u001b[32m- execute keystone-manage bootstrap \\
\u001b[0m    \u001b[32m          --bootstrap-password mypass \\
\u001b[0m    \u001b[32m          --bootstrap-username admin \\
\u001b[0m    \u001b[32m          --bootstrap-project-name admin \\
\u001b[0m    \u001b[32m          --bootstrap-role-name admin \\
\u001b[0m    \u001b[32m          --bootstrap-service-name keystone \\
\u001b[0m    \u001b[32m          --bootstrap-region-id RegionOne \\
\u001b[0m    \u001b[32m          --bootstrap-admin-url http://147.75.201.110:5000/v3 \\
\u001b[0m    \u001b[32m          --bootstrap-public-url http://147.75.201.110:5000/v3 \\
\u001b[0m    \u001b[32m          --bootstrap-internal-url http://147.75.201.110:5000/v3\u001b[0m
\u001b[0mRecipe: apache2::default\u001b[0m
  * yum_package[apache2] action install
    \u001b[32m- install version 0:2.4.6-88.el7.centos.x86_64 of package httpd\u001b[0m
\u001b[0m  * directory[/etc/httpd/sites-available] action create
    \u001b[32m- create new directory /etc/httpd/sites-available\u001b[0m
    \u001b[32m- change mode from '' to '0755'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0m  * directory[/etc/httpd/sites-enabled] action create
    \u001b[32m- create new directory /etc/httpd/sites-enabled\u001b[0m
    \u001b[32m- change mode from '' to '0755'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0m  * directory[/etc/httpd/mods-available] action create
    \u001b[32m- create new directory /etc/httpd/mods-available\u001b[0m
    \u001b[32m- change mode from '' to '0755'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0m  * directory[/etc/httpd/mods-enabled] action create
    \u001b[32m- create new directory /etc/httpd/mods-enabled\u001b[0m
    \u001b[32m- change mode from '' to '0755'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0m  * directory[/etc/httpd/conf-available] action create
    \u001b[32m- create new directory /etc/httpd/conf-available\u001b[0m
    \u001b[32m- change mode from '' to '0755'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0m  * directory[/etc/httpd/conf-enabled] action create
    \u001b[32m- create new directory /etc/httpd/conf-enabled\u001b[0m
    \u001b[32m- change mode from '' to '0755'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0m  * link[/etc/httpd/sites-enabled/default] action delete (up to date)
  * file[/etc/httpd/sites-available/default] action delete (up to date)
  * link[/etc/httpd/sites-enabled/default.conf] action delete (up to date)
  * file[/etc/httpd/sites-available/default.conf] action delete (up to date)
  * link[/etc/httpd/sites-enabled/000-default] action delete (up to date)
  * file[/etc/httpd/sites-available/000-default] action delete (up to date)
  * link[/etc/httpd/sites-enabled/000-default.conf] action delete (up to date)
  * file[/etc/httpd/sites-available/000-default.conf] action delete (up to date)
  * directory[/var/log/httpd] action create
    \u001b[32m- change mode from '0700' to '0755'\u001b[0m
\u001b[0m  * yum_package[perl] action install (up to date)
  * link[/usr/sbin/a2ensite] action delete (skipped due to only_if)
  * template[/usr/sbin/a2ensite] action create
    \u001b[32m- create new file /usr/sbin/a2ensite\u001b[0m
    \u001b[32m- update content in file /usr/sbin/a2ensite from none to 0556b3\u001b[0m
    \u001b[37m--- /usr/sbin/a2ensite\t2019-04-26 14:50:56.244801122 +0000\u001b[0m
    \u001b[37m+++ /usr/sbin/.chef-a2ensite20190426-67198-1b0i8z4\t2019-04-26 14:50:56.243801086 +0000\u001b[0m
    \u001b[37m@@ -1 +1,533 @@\u001b[0m
    \u001b[37m+#!/usr/bin/perl -w\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# a2enmod by Stefan Fritsch <sf@debian.org>\u001b[0m
    \u001b[37m+# Licensed under Apache License 2.0\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# The coding style is \"perltidy -pbp\"\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+use strict;\u001b[0m
    \u001b[37m+use Cwd 'realpath';\u001b[0m
    \u001b[37m+use File::Spec;\u001b[0m
    \u001b[37m+use File::Basename;\u001b[0m
    \u001b[37m+use File::Path;\u001b[0m
    \u001b[37m+use Getopt::Long;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $quiet;\u001b[0m
    \u001b[37m+my $force;\u001b[0m
    \u001b[37m+my $maintmode;\u001b[0m
    \u001b[37m+my $purge;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+Getopt::Long::Configure('bundling');\u001b[0m
    \u001b[37m+GetOptions(\u001b[0m
    \u001b[37m+    'quiet|q'     => \\$quiet,\u001b[0m
    \u001b[37m+    'force|f'     => \\$force,\u001b[0m
    \u001b[37m+    'maintmode|m' => \\$maintmode,\u001b[0m
    \u001b[37m+    'purge|p'     => \\$purge\u001b[0m
    \u001b[37m+) or exit 2;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $basename = basename($0);\u001b[0m
    \u001b[37m+$basename =~ /^a2(en|dis)(mod|site|conf)((?:-.+)?)$/\u001b[0m
    \u001b[37m+    or die \"$basename call name unknown\
\";\u001b[0m
    \u001b[37m+my $act        = $1;\u001b[0m
    \u001b[37m+my $obj        = $2;\u001b[0m
    \u001b[37m+my $dir_suffix = $3;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $env_file = $ENV{APACHE_ENVVARS}\u001b[0m
    \u001b[37m+    || (\u001b[0m
    \u001b[37m+    $ENV{APACHE_CONFDIR}\u001b[0m
    \u001b[37m+    ? \"$ENV{APACHE_CONFDIR}/envvars\"\u001b[0m
    \u001b[37m+    : \"/etc/httpd$dir_suffix/envvars\"\u001b[0m
    \u001b[37m+    );\u001b[0m
    \u001b[37m+$ENV{LANG} = 'C';\u001b[0m
    \u001b[37m+read_env_file($env_file);\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+$act .= 'able';\u001b[0m
    \u001b[37m+my ( $name, $dir, $sffx, $reload );\u001b[0m
    \u001b[37m+if ( $obj eq 'mod' ) {\u001b[0m
    \u001b[37m+    $obj    = 'module';\u001b[0m
    \u001b[37m+    $dir    = 'mods';\u001b[0m
    \u001b[37m+    $sffx   = '.load';\u001b[0m
    \u001b[37m+    $reload = 'restart';\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+elsif ( $obj eq 'conf' ) {\u001b[0m
    \u001b[37m+    $obj    = 'conf';\u001b[0m
    \u001b[37m+    $dir    = 'conf';\u001b[0m
    \u001b[37m+    $sffx   = '.conf';\u001b[0m
    \u001b[37m+    $reload = 'reload';\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+else {\u001b[0m
    \u001b[37m+    $dir    = 'sites';\u001b[0m
    \u001b[37m+    $sffx   = '.conf';\u001b[0m
    \u001b[37m+    $reload = 'reload';\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+$name = ucfirst($obj);\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $confdir = $ENV{APACHE_CONFDIR} || \"/etc/httpd$dir_suffix\";\u001b[0m
    \u001b[37m+my $availdir = $ENV{ uc(\"APACHE_${dir}_AVAILABLE\") }\u001b[0m
    \u001b[37m+    || \"$confdir/$dir-available\";\u001b[0m
    \u001b[37m+my $enabldir = $ENV{ uc(\"APACHE_${dir}_ENABLED\") } || \"$confdir/$dir-enabled\";\u001b[0m
    \u001b[37m+my $statedir = $ENV{ uc(\"APACHE_STATE_DIRECTORY\") } || \"/usr/lib64/httpd\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+$statedir .= \"/$obj\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $choicedir = $act eq 'enable' ? $availdir : $enabldir;\u001b[0m
    \u001b[37m+my $linkdir = File::Spec->abs2rel( $availdir, $enabldir );\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $request_reload = 0;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $rc = 0;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+if ( !scalar @ARGV ) {\u001b[0m
    \u001b[37m+    my @choices = myglob('*');\u001b[0m
    \u001b[37m+    print \"Your choices are: @choices\
\";\u001b[0m
    \u001b[37m+    print \"Which ${obj}(s) do you want to $act (wildcards ok)?\
\";\u001b[0m
    \u001b[37m+    my $input = <>;\u001b[0m
    \u001b[37m+    @ARGV = split /\\s+/, $input;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my @objs;\u001b[0m
    \u001b[37m+foreach my $arg (@ARGV) {\u001b[0m
    \u001b[37m+    $arg =~ s/${sffx}$//;\u001b[0m
    \u001b[37m+    my @glob = myglob($arg);\u001b[0m
    \u001b[37m+    if ( !@glob ) {\u001b[0m
    \u001b[37m+        error(\"No $obj found matching $arg!\
\");\u001b[0m
    \u001b[37m+        $rc = 1;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    else {\u001b[0m
    \u001b[37m+        push @objs, @glob;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+foreach my $acton (@objs) {\u001b[0m
    \u001b[37m+    doit($acton) or $rc = 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+info(\u001b[0m
    \u001b[37m+    \"To activate the new configuration, you need to run:\
  service apache2 $reload\
\"\u001b[0m
    \u001b[37m+) if $request_reload;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+exit($rc);\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+##############################################################################\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub myglob {\u001b[0m
    \u001b[37m+    my $arg = shift;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my @glob = map {\u001b[0m
    \u001b[37m+        s{^$choicedir/}{};\u001b[0m
    \u001b[37m+        s{$sffx$}{};\u001b[0m
    \u001b[37m+        $_\u001b[0m
    \u001b[37m+    } glob(\"$choicedir/$arg$sffx\");\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    return @glob;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub doit {\u001b[0m
    \u001b[37m+    my $acton = shift;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my ( $conftgt, $conflink );\u001b[0m
    \u001b[37m+    if ( $obj eq 'module' ) {\u001b[0m
    \u001b[37m+        if ( $acton eq 'cgi' && threaded() ) {\u001b[0m
    \u001b[37m+            print\u001b[0m
    \u001b[37m+                \"Your MPM seems to be threaded. Selecting cgid instead of cgi.\
\";\u001b[0m
    \u001b[37m+            $acton = 'cgid';\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        $conftgt = \"$availdir/$acton.conf\";\u001b[0m
    \u001b[37m+        if ( -e $conftgt ) {\u001b[0m
    \u001b[37m+            $conflink = \"$enabldir/$acton.conf\";\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my $tgt  = \"$availdir/$acton$sffx\";\u001b[0m
    \u001b[37m+    my $link = \"$enabldir/$acton$sffx\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( !-e $tgt ) {\u001b[0m
    \u001b[37m+        if ( -l $link && !-e $link ) {\u001b[0m
    \u001b[37m+            if ( $act eq 'disable' ) {\u001b[0m
    \u001b[37m+                info(\"removing dangling symlink $link\
\");\u001b[0m
    \u001b[37m+                unlink($link);\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                # force a .conf path. It may exist as dangling link, too\u001b[0m
    \u001b[37m+                $conflink = \"$enabldir/$acton.conf\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                if ( -l $conflink && !-e $conflink ) {\u001b[0m
    \u001b[37m+                    info(\"removing dangling symlink $conflink\
\");\u001b[0m
    \u001b[37m+                    unlink($conflink);\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                return 1;\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            else {\u001b[0m
    \u001b[37m+                error(\"$link is a dangling symlink!\
\");\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        if ( $purge ) {\u001b[0m
    \u001b[37m+            switch_marker( $obj, $act, $acton );\u001b[0m
    \u001b[37m+            # exit silently, we are purging anyway\u001b[0m
    \u001b[37m+            return 1;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        error(\"$name $acton does not exist!\
\");\u001b[0m
    \u001b[37m+        return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    # handle module dependencies\u001b[0m
    \u001b[37m+    if ( $obj eq 'module' ) {\u001b[0m
    \u001b[37m+        if ( $act eq 'enable' ) {\u001b[0m
    \u001b[37m+            if ( $acton eq 'mpm_itk' ) {\u001b[0m
    \u001b[37m+                warning(  \"MPM_ITK is a third party module that is not part \"\u001b[0m
    \u001b[37m+                        . \"of the official Apache HTTPD. It has seen less \"\u001b[0m
    \u001b[37m+                        . \"testing than the official MPM modules.\" );\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            my @depends = get_deps(\"$availdir/$acton.load\");\u001b[0m
    \u001b[37m+            do_deps( $acton, @depends ) or return 0;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            my @conflicts = get_deps( \"$availdir/$acton.load\", \"Conflicts\" );\u001b[0m
    \u001b[37m+            check_conflicts( $acton, @conflicts ) or return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        else {\u001b[0m
    \u001b[37m+            my @depending;\u001b[0m
    \u001b[37m+            foreach my $d ( glob(\"$enabldir/*.load\") ) {\u001b[0m
    \u001b[37m+                my @deps = get_deps($d);\u001b[0m
    \u001b[37m+                if ( is_in( $acton, @deps ) ) {\u001b[0m
    \u001b[37m+                    $d =~ m,/([^/]+).load$,;\u001b[0m
    \u001b[37m+                    push @depending, $1;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            if ( scalar @depending ) {\u001b[0m
    \u001b[37m+                if ($force) {\u001b[0m
    \u001b[37m+                    do_deps( $acton, @depending ) or return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+                else {\u001b[0m
    \u001b[37m+                    error(\u001b[0m
    \u001b[37m+                        \"The following modules depend on $acton \",\u001b[0m
    \u001b[37m+                        \"and need to be disabled first: @depending\
\"\u001b[0m
    \u001b[37m+                    );\u001b[0m
    \u001b[37m+                    return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    elsif ( $act eq 'enable' ) {\u001b[0m
    \u001b[37m+        my @depends = get_deps(\"$availdir/$acton$sffx\");\u001b[0m
    \u001b[37m+        warn_deps( $acton, @depends ) or return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( $act eq 'enable' ) {\u001b[0m
    \u001b[37m+        my $check = check_link( $tgt, $link );\u001b[0m
    \u001b[37m+        if ( $check eq 'ok' ) {\u001b[0m
    \u001b[37m+            if ($conflink) {\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                # handle .conf file\u001b[0m
    \u001b[37m+                my $confcheck = check_link( $conftgt, $conflink );\u001b[0m
    \u001b[37m+                if ( $confcheck eq 'ok' ) {\u001b[0m
    \u001b[37m+                    info(\"$name $acton already enabled\
\");\u001b[0m
    \u001b[37m+                    return 1;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+                elsif ( $confcheck eq 'missing' ) {\u001b[0m
    \u001b[37m+                    print \"Enabling config file $acton.conf.\
\";\u001b[0m
    \u001b[37m+                    add_link( $conftgt, $conflink ) or return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+                else {\u001b[0m
    \u001b[37m+                    error(\u001b[0m
    \u001b[37m+                        \"Config file $acton.conf not properly enabled: $confcheck\
\"\u001b[0m
    \u001b[37m+                    );\u001b[0m
    \u001b[37m+                    return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            else {\u001b[0m
    \u001b[37m+                info(\"$name $acton already enabled\
\");\u001b[0m
    \u001b[37m+                return 1;\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        elsif ( $check eq 'missing' ) {\u001b[0m
    \u001b[37m+            if ($conflink) {\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                # handle .conf file\u001b[0m
    \u001b[37m+                my $confcheck = check_link( $conftgt, $conflink );\u001b[0m
    \u001b[37m+                if ( $confcheck eq 'missing' ) {\u001b[0m
    \u001b[37m+                    add_link( $conftgt, $conflink ) or return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+                elsif ( $confcheck ne 'ok' ) {\u001b[0m
    \u001b[37m+                    error(\u001b[0m
    \u001b[37m+                        \"Config file $acton.conf not properly enabled: $confcheck\
\"\u001b[0m
    \u001b[37m+                    );\u001b[0m
    \u001b[37m+                    return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            print \"Enabling $obj $acton.\
\";\u001b[0m
    \u001b[37m+            if ( $acton eq 'ssl' ) {\u001b[0m
    \u001b[37m+                info(     \"See /usr/share/doc/apache2/README.Debian.gz on \"\u001b[0m
    \u001b[37m+                        . \"how to configure SSL and create self-signed certificates.\
\"\u001b[0m
    \u001b[37m+                );\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            return add_link( $tgt, $link )\u001b[0m
    \u001b[37m+                && switch_marker( $obj, $act, $acton );\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        else {\u001b[0m
    \u001b[37m+            error(\"$name $acton not properly enabled: $check\
\");\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    else {\u001b[0m
    \u001b[37m+        if ( -e $link || -l $link ) {\u001b[0m
    \u001b[37m+            remove_link($link);\u001b[0m
    \u001b[37m+            if ( $conflink && -e $conflink ) {\u001b[0m
    \u001b[37m+                remove_link($conflink);\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            switch_marker( $obj, $act, $acton );\u001b[0m
    \u001b[37m+            print \"$name $acton disabled.\
\";\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        elsif ( $conflink && -e $conflink ) {\u001b[0m
    \u001b[37m+            print \"Disabling stale config file $acton.conf.\
\";\u001b[0m
    \u001b[37m+            remove_link($conflink);\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        else {\u001b[0m
    \u001b[37m+            info(\"$name $acton already disabled\
\");\u001b[0m
    \u001b[37m+            if ( $purge ) {\u001b[0m
    \u001b[37m+                switch_marker( $obj, $act, $acton );\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            return 1;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub get_deps {\u001b[0m
    \u001b[37m+    my $file = shift;\u001b[0m
    \u001b[37m+    my $type = shift || \"Depends\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my $fd;\u001b[0m
    \u001b[37m+    if ( !open( $fd, '<', $file ) ) {\u001b[0m
    \u001b[37m+        error(\"Can't open $file: $!\");\u001b[0m
    \u001b[37m+        return;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    my $line;\u001b[0m
    \u001b[37m+    while ( defined( $line = <$fd> ) ) {\u001b[0m
    \u001b[37m+        chomp $line;\u001b[0m
    \u001b[37m+        if ( $line =~ /^# $type:\\s+(.*?)\\s*$/ ) {\u001b[0m
    \u001b[37m+            my $deps = $1;\u001b[0m
    \u001b[37m+            return split( /[\
\\s]+/, $deps );\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        # only check until the first non-empty non-comment line\u001b[0m
    \u001b[37m+        last if ( $line !~ /^\\s*(?:#.*)?$/ );\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub do_deps {\u001b[0m
    \u001b[37m+    my $acton = shift;\u001b[0m
    \u001b[37m+    foreach my $d (@_) {\u001b[0m
    \u001b[37m+        info(\"Considering dependency $d for $acton:\
\");\u001b[0m
    \u001b[37m+        if ( !doit($d) ) {\u001b[0m
    \u001b[37m+            error(\"Could not $act dependency $d for $acton, aborting\
\");\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub warn_deps {\u001b[0m
    \u001b[37m+    my $acton = shift;\u001b[0m
    \u001b[37m+    my $modsenabldir = $ENV{APACHE_MODS_ENABLED} || \"$confdir/mods-enabled\";\u001b[0m
    \u001b[37m+    foreach my $d (@_) {\u001b[0m
    \u001b[37m+        info(\"Checking dependency $d for $acton:\
\");\u001b[0m
    \u001b[37m+        if ( !-e \"$modsenabldir/$d.load\" ) {\u001b[0m
    \u001b[37m+            warning(\u001b[0m
    \u001b[37m+                \"Module $d is not enabled, but $acton depends on it, aborting\
\"\u001b[0m
    \u001b[37m+            );\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub check_conflicts {\u001b[0m
    \u001b[37m+    my $acton    = shift;\u001b[0m
    \u001b[37m+    my $haderror = 0;\u001b[0m
    \u001b[37m+    foreach my $d (@_) {\u001b[0m
    \u001b[37m+        info(\"Considering conflict $d for $acton:\
\");\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        my $tgt  = \"$availdir/$d$sffx\";\u001b[0m
    \u001b[37m+        my $link = \"$enabldir/$d$sffx\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        my $confcheck = check_link( $tgt, $link );\u001b[0m
    \u001b[37m+        if ( $confcheck eq 'ok' ) {\u001b[0m
    \u001b[37m+            error(\u001b[0m
    \u001b[37m+                \"Module $d is enabled - cannot proceed due to conflicts. It needs to be disabled first!\
\"\u001b[0m
    \u001b[37m+            );\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            # Don't return immediately, there could be several conflicts\u001b[0m
    \u001b[37m+            $haderror++;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ($haderror) {\u001b[0m
    \u001b[37m+        return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub add_link {\u001b[0m
    \u001b[37m+    my ( $tgt, $link ) = @_;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    # create relative link\u001b[0m
    \u001b[37m+    if ( !symlink( File::Spec->abs2rel( $tgt, dirname($link) ), $link ) ) {\u001b[0m
    \u001b[37m+        die(\"Could not create $link: $!\
\");\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    $request_reload = 1;\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub check_link {\u001b[0m
    \u001b[37m+    my ( $tgt, $link ) = @_;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( !-e $link ) {\u001b[0m
    \u001b[37m+        if ( -l $link ) {\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            # points to nowhere\u001b[0m
    \u001b[37m+            info(\"Removing dangling link $link\");\u001b[0m
    \u001b[37m+            unlink($link) or die \"Could not remove $link\
\";\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        return 'missing';\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( -e $link && !-l $link ) {\u001b[0m
    \u001b[37m+        return \"$link is a real file, not touching it\";\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    if ( realpath($link) ne realpath($tgt) ) {\u001b[0m
    \u001b[37m+        return \"$link exists but does not point to $tgt, not touching it\";\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return 'ok';\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub remove_link {\u001b[0m
    \u001b[37m+    my ($link) = @_;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( -l $link ) {\u001b[0m
    \u001b[37m+        unlink($link) or die \"Could not remove $link: $!\
\";\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    elsif ( -e $link ) {\u001b[0m
    \u001b[37m+        error(\"$link is not a symbolic link, not deleting\
\");\u001b[0m
    \u001b[37m+        return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    $request_reload = 1;\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub threaded {\u001b[0m
    \u001b[37m+    my $result = \"\";\u001b[0m
    \u001b[37m+    $result = qx{/usr/sbin/apachectl -V | grep 'threaded'}\u001b[0m
    \u001b[37m+        if -x '/usr/sbin/apachectl';\u001b[0m
    \u001b[37m+    if ( $? != 0 ) {\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        # config doesn't work\u001b[0m
    \u001b[37m+        if ( -e \"$enabldir/mpm_prefork.load\" || -e \"$enabldir/mpm_itk.load\" )\u001b[0m
    \u001b[37m+        {\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        elsif (-e \"$enabldir/mpm_worker.load\"\u001b[0m
    \u001b[37m+            || -e \"$enabldir/mpm_event.load\" )\u001b[0m
    \u001b[37m+        {\u001b[0m
    \u001b[37m+            return 1;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        else {\u001b[0m
    \u001b[37m+            error(\"Can't determine enabled MPM\");\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            # do what user requested\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    if ( $result =~ / no/ ) {\u001b[0m
    \u001b[37m+        return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    elsif ( $result =~ / yes/ ) {\u001b[0m
    \u001b[37m+        return 1;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    else {\u001b[0m
    \u001b[37m+        die(\"Can't parse output from apache2ctl -V:\
$result\
\");\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub info {\u001b[0m
    \u001b[37m+    print @_ if !$quiet;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub error {\u001b[0m
    \u001b[37m+    print STDERR 'ERROR: ', @_;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub warning {\u001b[0m
    \u001b[37m+    print STDERR 'WARNING: ', @_;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub is_in {\u001b[0m
    \u001b[37m+    my $needle = shift;\u001b[0m
    \u001b[37m+    foreach my $e (@_) {\u001b[0m
    \u001b[37m+        return 1 if $needle eq $e;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return 0;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub read_env_file {\u001b[0m
    \u001b[37m+    my $file = shift;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    -r $file or return;\u001b[0m
    \u001b[37m+    my @lines = qx{env - sh -c '. $file && env'};\u001b[0m
    \u001b[37m+    if ($?) {\u001b[0m
    \u001b[37m+        die \"Could not read $file\
\";\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    foreach my $l (@lines) {\u001b[0m
    \u001b[37m+        chomp $l;\u001b[0m
    \u001b[37m+        $l =~ /^(.*)?=(.*)$/ or die \"Could not parse $file\
\";\u001b[0m
    \u001b[37m+        $ENV{$1} = $2;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub switch_marker {\u001b[0m
    \u001b[37m+    die('usage: switch_marker([module|site|conf], [enable|disable], $name)')\u001b[0m
    \u001b[37m+        if @_ != 3;\u001b[0m
    \u001b[37m+    my $which = shift;\u001b[0m
    \u001b[37m+    my $what  = shift;\u001b[0m
    \u001b[37m+    my $name  = shift;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my $mode = \"admin\";\u001b[0m
    \u001b[37m+    $mode = \"maint\" if $maintmode;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    #print(\"switch_marker $which $what $name\
\");\u001b[0m
    \u001b[37m+    # TODO: get rid of the magic string(s)\u001b[0m
    \u001b[37m+    my $state_marker_dir = \"$statedir/$what\" . \"d\" . \"_by_$mode\";\u001b[0m
    \u001b[37m+    my $state_marker     = \"$state_marker_dir/$name\";\u001b[0m
    \u001b[37m+    if ( !-d $state_marker_dir ) {\u001b[0m
    \u001b[37m+        File::Path::mkpath(\"$state_marker_dir\")\u001b[0m
    \u001b[37m+            || error(\u001b[0m
    \u001b[37m+            \"Failed to create marker directory: '$state_marker_dir'\
\");\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    # XXX: swap find with perl alternative\u001b[0m
    \u001b[37m+    my @markers = qx{find \"$statedir\" -type f -a -name \"$name\"};\u001b[0m
    \u001b[37m+    chomp(@markers);\u001b[0m
    \u001b[37m+    foreach (@markers) {\u001b[0m
    \u001b[37m+        unless ( unlink $_ ) {\u001b[0m
    \u001b[37m+            error(\"Failed to remove old marker '$_'!\
\") && return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    unless ($purge) {\u001b[0m
    \u001b[37m+        qx{touch \"$state_marker\"};\u001b[0m
    \u001b[37m+        if ( $? != 0 ) {\u001b[0m
    \u001b[37m+            error(\"Failed to create marker '$state_marker'!\
\") && return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        return 1;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+# vim: syntax=perl sw=4 sts=4 sr et\u001b[0m
    \u001b[32m- change mode from '' to '0700'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0m  * link[/usr/sbin/a2dissite] action delete (skipped due to only_if)
  * template[/usr/sbin/a2dissite] action create
    \u001b[32m- create new file /usr/sbin/a2dissite\u001b[0m
    \u001b[32m- update content in file /usr/sbin/a2dissite from none to 0556b3\u001b[0m
    \u001b[37m--- /usr/sbin/a2dissite\t2019-04-26 14:50:56.266801917 +0000\u001b[0m
    \u001b[37m+++ /usr/sbin/.chef-a2dissite20190426-67198-khdjvf\t2019-04-26 14:50:56.266801917 +0000\u001b[0m
    \u001b[37m@@ -1 +1,533 @@\u001b[0m
    \u001b[37m+#!/usr/bin/perl -w\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# a2enmod by Stefan Fritsch <sf@debian.org>\u001b[0m
    \u001b[37m+# Licensed under Apache License 2.0\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# The coding style is \"perltidy -pbp\"\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+use strict;\u001b[0m
    \u001b[37m+use Cwd 'realpath';\u001b[0m
    \u001b[37m+use File::Spec;\u001b[0m
    \u001b[37m+use File::Basename;\u001b[0m
    \u001b[37m+use File::Path;\u001b[0m
    \u001b[37m+use Getopt::Long;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $quiet;\u001b[0m
    \u001b[37m+my $force;\u001b[0m
    \u001b[37m+my $maintmode;\u001b[0m
    \u001b[37m+my $purge;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+Getopt::Long::Configure('bundling');\u001b[0m
    \u001b[37m+GetOptions(\u001b[0m
    \u001b[37m+    'quiet|q'     => \\$quiet,\u001b[0m
    \u001b[37m+    'force|f'     => \\$force,\u001b[0m
    \u001b[37m+    'maintmode|m' => \\$maintmode,\u001b[0m
    \u001b[37m+    'purge|p'     => \\$purge\u001b[0m
    \u001b[37m+) or exit 2;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $basename = basename($0);\u001b[0m
    \u001b[37m+$basename =~ /^a2(en|dis)(mod|site|conf)((?:-.+)?)$/\u001b[0m
    \u001b[37m+    or die \"$basename call name unknown\
\";\u001b[0m
    \u001b[37m+my $act        = $1;\u001b[0m
    \u001b[37m+my $obj        = $2;\u001b[0m
    \u001b[37m+my $dir_suffix = $3;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $env_file = $ENV{APACHE_ENVVARS}\u001b[0m
    \u001b[37m+    || (\u001b[0m
    \u001b[37m+    $ENV{APACHE_CONFDIR}\u001b[0m
    \u001b[37m+    ? \"$ENV{APACHE_CONFDIR}/envvars\"\u001b[0m
    \u001b[37m+    : \"/etc/httpd$dir_suffix/envvars\"\u001b[0m
    \u001b[37m+    );\u001b[0m
    \u001b[37m+$ENV{LANG} = 'C';\u001b[0m
    \u001b[37m+read_env_file($env_file);\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+$act .= 'able';\u001b[0m
    \u001b[37m+my ( $name, $dir, $sffx, $reload );\u001b[0m
    \u001b[37m+if ( $obj eq 'mod' ) {\u001b[0m
    \u001b[37m+    $obj    = 'module';\u001b[0m
    \u001b[37m+    $dir    = 'mods';\u001b[0m
    \u001b[37m+    $sffx   = '.load';\u001b[0m
    \u001b[37m+    $reload = 'restart';\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+elsif ( $obj eq 'conf' ) {\u001b[0m
    \u001b[37m+    $obj    = 'conf';\u001b[0m
    \u001b[37m+    $dir    = 'conf';\u001b[0m
    \u001b[37m+    $sffx   = '.conf';\u001b[0m
    \u001b[37m+    $reload = 'reload';\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+else {\u001b[0m
    \u001b[37m+    $dir    = 'sites';\u001b[0m
    \u001b[37m+    $sffx   = '.conf';\u001b[0m
    \u001b[37m+    $reload = 'reload';\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+$name = ucfirst($obj);\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $confdir = $ENV{APACHE_CONFDIR} || \"/etc/httpd$dir_suffix\";\u001b[0m
    \u001b[37m+my $availdir = $ENV{ uc(\"APACHE_${dir}_AVAILABLE\") }\u001b[0m
    \u001b[37m+    || \"$confdir/$dir-available\";\u001b[0m
    \u001b[37m+my $enabldir = $ENV{ uc(\"APACHE_${dir}_ENABLED\") } || \"$confdir/$dir-enabled\";\u001b[0m
    \u001b[37m+my $statedir = $ENV{ uc(\"APACHE_STATE_DIRECTORY\") } || \"/usr/lib64/httpd\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+$statedir .= \"/$obj\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $choicedir = $act eq 'enable' ? $availdir : $enabldir;\u001b[0m
    \u001b[37m+my $linkdir = File::Spec->abs2rel( $availdir, $enabldir );\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $request_reload = 0;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $rc = 0;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+if ( !scalar @ARGV ) {\u001b[0m
    \u001b[37m+    my @choices = myglob('*');\u001b[0m
    \u001b[37m+    print \"Your choices are: @choices\
\";\u001b[0m
    \u001b[37m+    print \"Which ${obj}(s) do you want to $act (wildcards ok)?\
\";\u001b[0m
    \u001b[37m+    my $input = <>;\u001b[0m
    \u001b[37m+    @ARGV = split /\\s+/, $input;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my @objs;\u001b[0m
    \u001b[37m+foreach my $arg (@ARGV) {\u001b[0m
    \u001b[37m+    $arg =~ s/${sffx}$//;\u001b[0m
    \u001b[37m+    my @glob = myglob($arg);\u001b[0m
    \u001b[37m+    if ( !@glob ) {\u001b[0m
    \u001b[37m+        error(\"No $obj found matching $arg!\
\");\u001b[0m
    \u001b[37m+        $rc = 1;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    else {\u001b[0m
    \u001b[37m+        push @objs, @glob;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+foreach my $acton (@objs) {\u001b[0m
    \u001b[37m+    doit($acton) or $rc = 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+info(\u001b[0m
    \u001b[37m+    \"To activate the new configuration, you need to run:\
  service apache2 $reload\
\"\u001b[0m
    \u001b[37m+) if $request_reload;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+exit($rc);\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+##############################################################################\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub myglob {\u001b[0m
    \u001b[37m+    my $arg = shift;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my @glob = map {\u001b[0m
    \u001b[37m+        s{^$choicedir/}{};\u001b[0m
    \u001b[37m+        s{$sffx$}{};\u001b[0m
    \u001b[37m+        $_\u001b[0m
    \u001b[37m+    } glob(\"$choicedir/$arg$sffx\");\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    return @glob;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub doit {\u001b[0m
    \u001b[37m+    my $acton = shift;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my ( $conftgt, $conflink );\u001b[0m
    \u001b[37m+    if ( $obj eq 'module' ) {\u001b[0m
    \u001b[37m+        if ( $acton eq 'cgi' && threaded() ) {\u001b[0m
    \u001b[37m+            print\u001b[0m
    \u001b[37m+                \"Your MPM seems to be threaded. Selecting cgid instead of cgi.\
\";\u001b[0m
    \u001b[37m+            $acton = 'cgid';\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        $conftgt = \"$availdir/$acton.conf\";\u001b[0m
    \u001b[37m+        if ( -e $conftgt ) {\u001b[0m
    \u001b[37m+            $conflink = \"$enabldir/$acton.conf\";\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my $tgt  = \"$availdir/$acton$sffx\";\u001b[0m
    \u001b[37m+    my $link = \"$enabldir/$acton$sffx\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( !-e $tgt ) {\u001b[0m
    \u001b[37m+        if ( -l $link && !-e $link ) {\u001b[0m
    \u001b[37m+            if ( $act eq 'disable' ) {\u001b[0m
    \u001b[37m+                info(\"removing dangling symlink $link\
\");\u001b[0m
    \u001b[37m+                unlink($link);\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                # force a .conf path. It may exist as dangling link, too\u001b[0m
    \u001b[37m+                $conflink = \"$enabldir/$acton.conf\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                if ( -l $conflink && !-e $conflink ) {\u001b[0m
    \u001b[37m+                    info(\"removing dangling symlink $conflink\
\");\u001b[0m
    \u001b[37m+                    unlink($conflink);\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                return 1;\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            else {\u001b[0m
    \u001b[37m+                error(\"$link is a dangling symlink!\
\");\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        if ( $purge ) {\u001b[0m
    \u001b[37m+            switch_marker( $obj, $act, $acton );\u001b[0m
    \u001b[37m+            # exit silently, we are purging anyway\u001b[0m
    \u001b[37m+            return 1;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        error(\"$name $acton does not exist!\
\");\u001b[0m
    \u001b[37m+        return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    # handle module dependencies\u001b[0m
    \u001b[37m+    if ( $obj eq 'module' ) {\u001b[0m
    \u001b[37m+        if ( $act eq 'enable' ) {\u001b[0m
    \u001b[37m+            if ( $acton eq 'mpm_itk' ) {\u001b[0m
    \u001b[37m+                warning(  \"MPM_ITK is a third party module that is not part \"\u001b[0m
    \u001b[37m+                        . \"of the official Apache HTTPD. It has seen less \"\u001b[0m
    \u001b[37m+                        . \"testing than the official MPM modules.\" );\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            my @depends = get_deps(\"$availdir/$acton.load\");\u001b[0m
    \u001b[37m+            do_deps( $acton, @depends ) or return 0;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            my @conflicts = get_deps( \"$availdir/$acton.load\", \"Conflicts\" );\u001b[0m
    \u001b[37m+            check_conflicts( $acton, @conflicts ) or return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        else {\u001b[0m
    \u001b[37m+            my @depending;\u001b[0m
    \u001b[37m+            foreach my $d ( glob(\"$enabldir/*.load\") ) {\u001b[0m
    \u001b[37m+                my @deps = get_deps($d);\u001b[0m
    \u001b[37m+                if ( is_in( $acton, @deps ) ) {\u001b[0m
    \u001b[37m+                    $d =~ m,/([^/]+).load$,;\u001b[0m
    \u001b[37m+                    push @depending, $1;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            if ( scalar @depending ) {\u001b[0m
    \u001b[37m+                if ($force) {\u001b[0m
    \u001b[37m+                    do_deps( $acton, @depending ) or return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+                else {\u001b[0m
    \u001b[37m+                    error(\u001b[0m
    \u001b[37m+                        \"The following modules depend on $acton \",\u001b[0m
    \u001b[37m+                        \"and need to be disabled first: @depending\
\"\u001b[0m
    \u001b[37m+                    );\u001b[0m
    \u001b[37m+                    return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    elsif ( $act eq 'enable' ) {\u001b[0m
    \u001b[37m+        my @depends = get_deps(\"$availdir/$acton$sffx\");\u001b[0m
    \u001b[37m+        warn_deps( $acton, @depends ) or return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( $act eq 'enable' ) {\u001b[0m
    \u001b[37m+        my $check = check_link( $tgt, $link );\u001b[0m
    \u001b[37m+        if ( $check eq 'ok' ) {\u001b[0m
    \u001b[37m+            if ($conflink) {\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                # handle .conf file\u001b[0m
    \u001b[37m+                my $confcheck = check_link( $conftgt, $conflink );\u001b[0m
    \u001b[37m+                if ( $confcheck eq 'ok' ) {\u001b[0m
    \u001b[37m+                    info(\"$name $acton already enabled\
\");\u001b[0m
    \u001b[37m+                    return 1;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+                elsif ( $confcheck eq 'missing' ) {\u001b[0m
    \u001b[37m+                    print \"Enabling config file $acton.conf.\
\";\u001b[0m
    \u001b[37m+                    add_link( $conftgt, $conflink ) or return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+                else {\u001b[0m
    \u001b[37m+                    error(\u001b[0m
    \u001b[37m+                        \"Config file $acton.conf not properly enabled: $confcheck\
\"\u001b[0m
    \u001b[37m+                    );\u001b[0m
    \u001b[37m+                    return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            else {\u001b[0m
    \u001b[37m+                info(\"$name $acton already enabled\
\");\u001b[0m
    \u001b[37m+                return 1;\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        elsif ( $check eq 'missing' ) {\u001b[0m
    \u001b[37m+            if ($conflink) {\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                # handle .conf file\u001b[0m
    \u001b[37m+                my $confcheck = check_link( $conftgt, $conflink );\u001b[0m
    \u001b[37m+                if ( $confcheck eq 'missing' ) {\u001b[0m
    \u001b[37m+                    add_link( $conftgt, $conflink ) or return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+                elsif ( $confcheck ne 'ok' ) {\u001b[0m
    \u001b[37m+                    error(\u001b[0m
    \u001b[37m+                        \"Config file $acton.conf not properly enabled: $confcheck\
\"\u001b[0m
    \u001b[37m+                    );\u001b[0m
    \u001b[37m+                    return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            print \"Enabling $obj $acton.\
\";\u001b[0m
    \u001b[37m+            if ( $acton eq 'ssl' ) {\u001b[0m
    \u001b[37m+                info(     \"See /usr/share/doc/apache2/README.Debian.gz on \"\u001b[0m
    \u001b[37m+                        . \"how to configure SSL and create self-signed certificates.\
\"\u001b[0m
    \u001b[37m+                );\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            return add_link( $tgt, $link )\u001b[0m
    \u001b[37m+                && switch_marker( $obj, $act, $acton );\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        else {\u001b[0m
    \u001b[37m+            error(\"$name $acton not properly enabled: $check\
\");\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    else {\u001b[0m
    \u001b[37m+        if ( -e $link || -l $link ) {\u001b[0m
    \u001b[37m+            remove_link($link);\u001b[0m
    \u001b[37m+            if ( $conflink && -e $conflink ) {\u001b[0m
    \u001b[37m+                remove_link($conflink);\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            switch_marker( $obj, $act, $acton );\u001b[0m
    \u001b[37m+            print \"$name $acton disabled.\
\";\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        elsif ( $conflink && -e $conflink ) {\u001b[0m
    \u001b[37m+            print \"Disabling stale config file $acton.conf.\
\";\u001b[0m
    \u001b[37m+            remove_link($conflink);\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        else {\u001b[0m
    \u001b[37m+            info(\"$name $acton already disabled\
\");\u001b[0m
    \u001b[37m+            if ( $purge ) {\u001b[0m
    \u001b[37m+                switch_marker( $obj, $act, $acton );\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            return 1;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub get_deps {\u001b[0m
    \u001b[37m+    my $file = shift;\u001b[0m
    \u001b[37m+    my $type = shift || \"Depends\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my $fd;\u001b[0m
    \u001b[37m+    if ( !open( $fd, '<', $file ) ) {\u001b[0m
    \u001b[37m+        error(\"Can't open $file: $!\");\u001b[0m
    \u001b[37m+        return;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    my $line;\u001b[0m
    \u001b[37m+    while ( defined( $line = <$fd> ) ) {\u001b[0m
    \u001b[37m+        chomp $line;\u001b[0m
    \u001b[37m+        if ( $line =~ /^# $type:\\s+(.*?)\\s*$/ ) {\u001b[0m
    \u001b[37m+            my $deps = $1;\u001b[0m
    \u001b[37m+            return split( /[\
\\s]+/, $deps );\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        # only check until the first non-empty non-comment line\u001b[0m
    \u001b[37m+        last if ( $line !~ /^\\s*(?:#.*)?$/ );\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub do_deps {\u001b[0m
    \u001b[37m+    my $acton = shift;\u001b[0m
    \u001b[37m+    foreach my $d (@_) {\u001b[0m
    \u001b[37m+        info(\"Considering dependency $d for $acton:\
\");\u001b[0m
    \u001b[37m+        if ( !doit($d) ) {\u001b[0m
    \u001b[37m+            error(\"Could not $act dependency $d for $acton, aborting\
\");\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub warn_deps {\u001b[0m
    \u001b[37m+    my $acton = shift;\u001b[0m
    \u001b[37m+    my $modsenabldir = $ENV{APACHE_MODS_ENABLED} || \"$confdir/mods-enabled\";\u001b[0m
    \u001b[37m+    foreach my $d (@_) {\u001b[0m
    \u001b[37m+        info(\"Checking dependency $d for $acton:\
\");\u001b[0m
    \u001b[37m+        if ( !-e \"$modsenabldir/$d.load\" ) {\u001b[0m
    \u001b[37m+            warning(\u001b[0m
    \u001b[37m+                \"Module $d is not enabled, but $acton depends on it, aborting\
\"\u001b[0m
    \u001b[37m+            );\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub check_conflicts {\u001b[0m
    \u001b[37m+    my $acton    = shift;\u001b[0m
    \u001b[37m+    my $haderror = 0;\u001b[0m
    \u001b[37m+    foreach my $d (@_) {\u001b[0m
    \u001b[37m+        info(\"Considering conflict $d for $acton:\
\");\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        my $tgt  = \"$availdir/$d$sffx\";\u001b[0m
    \u001b[37m+        my $link = \"$enabldir/$d$sffx\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        my $confcheck = check_link( $tgt, $link );\u001b[0m
    \u001b[37m+        if ( $confcheck eq 'ok' ) {\u001b[0m
    \u001b[37m+            error(\u001b[0m
    \u001b[37m+                \"Module $d is enabled - cannot proceed due to conflicts. It needs to be disabled first!\
\"\u001b[0m
    \u001b[37m+            );\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            # Don't return immediately, there could be several conflicts\u001b[0m
    \u001b[37m+            $haderror++;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ($haderror) {\u001b[0m
    \u001b[37m+        return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub add_link {\u001b[0m
    \u001b[37m+    my ( $tgt, $link ) = @_;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    # create relative link\u001b[0m
    \u001b[37m+    if ( !symlink( File::Spec->abs2rel( $tgt, dirname($link) ), $link ) ) {\u001b[0m
    \u001b[37m+        die(\"Could not create $link: $!\
\");\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    $request_reload = 1;\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub check_link {\u001b[0m
    \u001b[37m+    my ( $tgt, $link ) = @_;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( !-e $link ) {\u001b[0m
    \u001b[37m+        if ( -l $link ) {\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            # points to nowhere\u001b[0m
    \u001b[37m+            info(\"Removing dangling link $link\");\u001b[0m
    \u001b[37m+            unlink($link) or die \"Could not remove $link\
\";\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        return 'missing';\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( -e $link && !-l $link ) {\u001b[0m
    \u001b[37m+        return \"$link is a real file, not touching it\";\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    if ( realpath($link) ne realpath($tgt) ) {\u001b[0m
    \u001b[37m+        return \"$link exists but does not point to $tgt, not touching it\";\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return 'ok';\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub remove_link {\u001b[0m
    \u001b[37m+    my ($link) = @_;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( -l $link ) {\u001b[0m
    \u001b[37m+        unlink($link) or die \"Could not remove $link: $!\
\";\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    elsif ( -e $link ) {\u001b[0m
    \u001b[37m+        error(\"$link is not a symbolic link, not deleting\
\");\u001b[0m
    \u001b[37m+        return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    $request_reload = 1;\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub threaded {\u001b[0m
    \u001b[37m+    my $result = \"\";\u001b[0m
    \u001b[37m+    $result = qx{/usr/sbin/apachectl -V | grep 'threaded'}\u001b[0m
    \u001b[37m+        if -x '/usr/sbin/apachectl';\u001b[0m
    \u001b[37m+    if ( $? != 0 ) {\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        # config doesn't work\u001b[0m
    \u001b[37m+        if ( -e \"$enabldir/mpm_prefork.load\" || -e \"$enabldir/mpm_itk.load\" )\u001b[0m
    \u001b[37m+        {\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        elsif (-e \"$enabldir/mpm_worker.load\"\u001b[0m
    \u001b[37m+            || -e \"$enabldir/mpm_event.load\" )\u001b[0m
    \u001b[37m+        {\u001b[0m
    \u001b[37m+            return 1;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        else {\u001b[0m
    \u001b[37m+            error(\"Can't determine enabled MPM\");\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            # do what user requested\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    if ( $result =~ / no/ ) {\u001b[0m
    \u001b[37m+        return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    elsif ( $result =~ / yes/ ) {\u001b[0m
    \u001b[37m+        return 1;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    else {\u001b[0m
    \u001b[37m+        die(\"Can't parse output from apache2ctl -V:\
$result\
\");\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub info {\u001b[0m
    \u001b[37m+    print @_ if !$quiet;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub error {\u001b[0m
    \u001b[37m+    print STDERR 'ERROR: ', @_;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub warning {\u001b[0m
    \u001b[37m+    print STDERR 'WARNING: ', @_;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub is_in {\u001b[0m
    \u001b[37m+    my $needle = shift;\u001b[0m
    \u001b[37m+    foreach my $e (@_) {\u001b[0m
    \u001b[37m+        return 1 if $needle eq $e;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return 0;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub read_env_file {\u001b[0m
    \u001b[37m+    my $file = shift;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    -r $file or return;\u001b[0m
    \u001b[37m+    my @lines = qx{env - sh -c '. $file && env'};\u001b[0m
    \u001b[37m+    if ($?) {\u001b[0m
    \u001b[37m+        die \"Could not read $file\
\";\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    foreach my $l (@lines) {\u001b[0m
    \u001b[37m+        chomp $l;\u001b[0m
    \u001b[37m+        $l =~ /^(.*)?=(.*)$/ or die \"Could not parse $file\
\";\u001b[0m
    \u001b[37m+        $ENV{$1} = $2;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub switch_marker {\u001b[0m
    \u001b[37m+    die('usage: switch_marker([module|site|conf], [enable|disable], $name)')\u001b[0m
    \u001b[37m+        if @_ != 3;\u001b[0m
    \u001b[37m+    my $which = shift;\u001b[0m
    \u001b[37m+    my $what  = shift;\u001b[0m
    \u001b[37m+    my $name  = shift;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my $mode = \"admin\";\u001b[0m
    \u001b[37m+    $mode = \"maint\" if $maintmode;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    #print(\"switch_marker $which $what $name\
\");\u001b[0m
    \u001b[37m+    # TODO: get rid of the magic string(s)\u001b[0m
    \u001b[37m+    my $state_marker_dir = \"$statedir/$what\" . \"d\" . \"_by_$mode\";\u001b[0m
    \u001b[37m+    my $state_marker     = \"$state_marker_dir/$name\";\u001b[0m
    \u001b[37m+    if ( !-d $state_marker_dir ) {\u001b[0m
    \u001b[37m+        File::Path::mkpath(\"$state_marker_dir\")\u001b[0m
    \u001b[37m+            || error(\u001b[0m
    \u001b[37m+            \"Failed to create marker directory: '$state_marker_dir'\
\");\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    # XXX: swap find with perl alternative\u001b[0m
    \u001b[37m+    my @markers = qx{find \"$statedir\" -type f -a -name \"$name\"};\u001b[0m
    \u001b[37m+    chomp(@markers);\u001b[0m
    \u001b[37m+    foreach (@markers) {\u001b[0m
    \u001b[37m+        unless ( unlink $_ ) {\u001b[0m
    \u001b[37m+            error(\"Failed to remove old marker '$_'!\
\") && return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    unless ($purge) {\u001b[0m
    \u001b[37m+        qx{touch \"$state_marker\"};\u001b[0m
    \u001b[37m+        if ( $? != 0 ) {\u001b[0m
    \u001b[37m+            error(\"Failed to create marker '$state_marker'!\
\") && return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        return 1;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+# vim: syntax=perl sw=4 sts=4 sr et\u001b[0m
    \u001b[32m- change mode from '' to '0700'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0m  * link[/usr/sbin/a2enmod] action delete (skipped due to only_if)
  * template[/usr/sbin/a2enmod] action create
    \u001b[32m- create new file /usr/sbin/a2enmod\u001b[0m
    \u001b[32m- update content in file /usr/sbin/a2enmod from none to 0556b3\u001b[0m
    \u001b[37m--- /usr/sbin/a2enmod\t2019-04-26 14:50:56.281802459 +0000\u001b[0m
    \u001b[37m+++ /usr/sbin/.chef-a2enmod20190426-67198-1bpamit\t2019-04-26 14:50:56.281802459 +0000\u001b[0m
    \u001b[37m@@ -1 +1,533 @@\u001b[0m
    \u001b[37m+#!/usr/bin/perl -w\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# a2enmod by Stefan Fritsch <sf@debian.org>\u001b[0m
    \u001b[37m+# Licensed under Apache License 2.0\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# The coding style is \"perltidy -pbp\"\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+use strict;\u001b[0m
    \u001b[37m+use Cwd 'realpath';\u001b[0m
    \u001b[37m+use File::Spec;\u001b[0m
    \u001b[37m+use File::Basename;\u001b[0m
    \u001b[37m+use File::Path;\u001b[0m
    \u001b[37m+use Getopt::Long;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $quiet;\u001b[0m
    \u001b[37m+my $force;\u001b[0m
    \u001b[37m+my $maintmode;\u001b[0m
    \u001b[37m+my $purge;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+Getopt::Long::Configure('bundling');\u001b[0m
    \u001b[37m+GetOptions(\u001b[0m
    \u001b[37m+    'quiet|q'     => \\$quiet,\u001b[0m
    \u001b[37m+    'force|f'     => \\$force,\u001b[0m
    \u001b[37m+    'maintmode|m' => \\$maintmode,\u001b[0m
    \u001b[37m+    'purge|p'     => \\$purge\u001b[0m
    \u001b[37m+) or exit 2;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $basename = basename($0);\u001b[0m
    \u001b[37m+$basename =~ /^a2(en|dis)(mod|site|conf)((?:-.+)?)$/\u001b[0m
    \u001b[37m+    or die \"$basename call name unknown\
\";\u001b[0m
    \u001b[37m+my $act        = $1;\u001b[0m
    \u001b[37m+my $obj        = $2;\u001b[0m
    \u001b[37m+my $dir_suffix = $3;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $env_file = $ENV{APACHE_ENVVARS}\u001b[0m
    \u001b[37m+    || (\u001b[0m
    \u001b[37m+    $ENV{APACHE_CONFDIR}\u001b[0m
    \u001b[37m+    ? \"$ENV{APACHE_CONFDIR}/envvars\"\u001b[0m
    \u001b[37m+    : \"/etc/httpd$dir_suffix/envvars\"\u001b[0m
    \u001b[37m+    );\u001b[0m
    \u001b[37m+$ENV{LANG} = 'C';\u001b[0m
    \u001b[37m+read_env_file($env_file);\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+$act .= 'able';\u001b[0m
    \u001b[37m+my ( $name, $dir, $sffx, $reload );\u001b[0m
    \u001b[37m+if ( $obj eq 'mod' ) {\u001b[0m
    \u001b[37m+    $obj    = 'module';\u001b[0m
    \u001b[37m+    $dir    = 'mods';\u001b[0m
    \u001b[37m+    $sffx   = '.load';\u001b[0m
    \u001b[37m+    $reload = 'restart';\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+elsif ( $obj eq 'conf' ) {\u001b[0m
    \u001b[37m+    $obj    = 'conf';\u001b[0m
    \u001b[37m+    $dir    = 'conf';\u001b[0m
    \u001b[37m+    $sffx   = '.conf';\u001b[0m
    \u001b[37m+    $reload = 'reload';\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+else {\u001b[0m
    \u001b[37m+    $dir    = 'sites';\u001b[0m
    \u001b[37m+    $sffx   = '.conf';\u001b[0m
    \u001b[37m+    $reload = 'reload';\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+$name = ucfirst($obj);\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $confdir = $ENV{APACHE_CONFDIR} || \"/etc/httpd$dir_suffix\";\u001b[0m
    \u001b[37m+my $availdir = $ENV{ uc(\"APACHE_${dir}_AVAILABLE\") }\u001b[0m
    \u001b[37m+    || \"$confdir/$dir-available\";\u001b[0m
    \u001b[37m+my $enabldir = $ENV{ uc(\"APACHE_${dir}_ENABLED\") } || \"$confdir/$dir-enabled\";\u001b[0m
    \u001b[37m+my $statedir = $ENV{ uc(\"APACHE_STATE_DIRECTORY\") } || \"/usr/lib64/httpd\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+$statedir .= \"/$obj\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $choicedir = $act eq 'enable' ? $availdir : $enabldir;\u001b[0m
    \u001b[37m+my $linkdir = File::Spec->abs2rel( $availdir, $enabldir );\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $request_reload = 0;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $rc = 0;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+if ( !scalar @ARGV ) {\u001b[0m
    \u001b[37m+    my @choices = myglob('*');\u001b[0m
    \u001b[37m+    print \"Your choices are: @choices\
\";\u001b[0m
    \u001b[37m+    print \"Which ${obj}(s) do you want to $act (wildcards ok)?\
\";\u001b[0m
    \u001b[37m+    my $input = <>;\u001b[0m
    \u001b[37m+    @ARGV = split /\\s+/, $input;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my @objs;\u001b[0m
    \u001b[37m+foreach my $arg (@ARGV) {\u001b[0m
    \u001b[37m+    $arg =~ s/${sffx}$//;\u001b[0m
    \u001b[37m+    my @glob = myglob($arg);\u001b[0m
    \u001b[37m+    if ( !@glob ) {\u001b[0m
    \u001b[37m+        error(\"No $obj found matching $arg!\
\");\u001b[0m
    \u001b[37m+        $rc = 1;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    else {\u001b[0m
    \u001b[37m+        push @objs, @glob;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+foreach my $acton (@objs) {\u001b[0m
    \u001b[37m+    doit($acton) or $rc = 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+info(\u001b[0m
    \u001b[37m+    \"To activate the new configuration, you need to run:\
  service apache2 $reload\
\"\u001b[0m
    \u001b[37m+) if $request_reload;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+exit($rc);\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+##############################################################################\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub myglob {\u001b[0m
    \u001b[37m+    my $arg = shift;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my @glob = map {\u001b[0m
    \u001b[37m+        s{^$choicedir/}{};\u001b[0m
    \u001b[37m+        s{$sffx$}{};\u001b[0m
    \u001b[37m+        $_\u001b[0m
    \u001b[37m+    } glob(\"$choicedir/$arg$sffx\");\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    return @glob;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub doit {\u001b[0m
    \u001b[37m+    my $acton = shift;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my ( $conftgt, $conflink );\u001b[0m
    \u001b[37m+    if ( $obj eq 'module' ) {\u001b[0m
    \u001b[37m+        if ( $acton eq 'cgi' && threaded() ) {\u001b[0m
    \u001b[37m+            print\u001b[0m
    \u001b[37m+                \"Your MPM seems to be threaded. Selecting cgid instead of cgi.\
\";\u001b[0m
    \u001b[37m+            $acton = 'cgid';\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        $conftgt = \"$availdir/$acton.conf\";\u001b[0m
    \u001b[37m+        if ( -e $conftgt ) {\u001b[0m
    \u001b[37m+            $conflink = \"$enabldir/$acton.conf\";\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my $tgt  = \"$availdir/$acton$sffx\";\u001b[0m
    \u001b[37m+    my $link = \"$enabldir/$acton$sffx\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( !-e $tgt ) {\u001b[0m
    \u001b[37m+        if ( -l $link && !-e $link ) {\u001b[0m
    \u001b[37m+            if ( $act eq 'disable' ) {\u001b[0m
    \u001b[37m+                info(\"removing dangling symlink $link\
\");\u001b[0m
    \u001b[37m+                unlink($link);\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                # force a .conf path. It may exist as dangling link, too\u001b[0m
    \u001b[37m+                $conflink = \"$enabldir/$acton.conf\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                if ( -l $conflink && !-e $conflink ) {\u001b[0m
    \u001b[37m+                    info(\"removing dangling symlink $conflink\
\");\u001b[0m
    \u001b[37m+                    unlink($conflink);\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                return 1;\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            else {\u001b[0m
    \u001b[37m+                error(\"$link is a dangling symlink!\
\");\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        if ( $purge ) {\u001b[0m
    \u001b[37m+            switch_marker( $obj, $act, $acton );\u001b[0m
    \u001b[37m+            # exit silently, we are purging anyway\u001b[0m
    \u001b[37m+            return 1;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        error(\"$name $acton does not exist!\
\");\u001b[0m
    \u001b[37m+        return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    # handle module dependencies\u001b[0m
    \u001b[37m+    if ( $obj eq 'module' ) {\u001b[0m
    \u001b[37m+        if ( $act eq 'enable' ) {\u001b[0m
    \u001b[37m+            if ( $acton eq 'mpm_itk' ) {\u001b[0m
    \u001b[37m+                warning(  \"MPM_ITK is a third party module that is not part \"\u001b[0m
    \u001b[37m+                        . \"of the official Apache HTTPD. It has seen less \"\u001b[0m
    \u001b[37m+                        . \"testing than the official MPM modules.\" );\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            my @depends = get_deps(\"$availdir/$acton.load\");\u001b[0m
    \u001b[37m+            do_deps( $acton, @depends ) or return 0;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            my @conflicts = get_deps( \"$availdir/$acton.load\", \"Conflicts\" );\u001b[0m
    \u001b[37m+            check_conflicts( $acton, @conflicts ) or return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        else {\u001b[0m
    \u001b[37m+            my @depending;\u001b[0m
    \u001b[37m+            foreach my $d ( glob(\"$enabldir/*.load\") ) {\u001b[0m
    \u001b[37m+                my @deps = get_deps($d);\u001b[0m
    \u001b[37m+                if ( is_in( $acton, @deps ) ) {\u001b[0m
    \u001b[37m+                    $d =~ m,/([^/]+).load$,;\u001b[0m
    \u001b[37m+                    push @depending, $1;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            if ( scalar @depending ) {\u001b[0m
    \u001b[37m+                if ($force) {\u001b[0m
    \u001b[37m+                    do_deps( $acton, @depending ) or return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+                else {\u001b[0m
    \u001b[37m+                    error(\u001b[0m
    \u001b[37m+                        \"The following modules depend on $acton \",\u001b[0m
    \u001b[37m+                        \"and need to be disabled first: @depending\
\"\u001b[0m
    \u001b[37m+                    );\u001b[0m
    \u001b[37m+                    return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    elsif ( $act eq 'enable' ) {\u001b[0m
    \u001b[37m+        my @depends = get_deps(\"$availdir/$acton$sffx\");\u001b[0m
    \u001b[37m+        warn_deps( $acton, @depends ) or return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( $act eq 'enable' ) {\u001b[0m
    \u001b[37m+        my $check = check_link( $tgt, $link );\u001b[0m
    \u001b[37m+        if ( $check eq 'ok' ) {\u001b[0m
    \u001b[37m+            if ($conflink) {\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                # handle .conf file\u001b[0m
    \u001b[37m+                my $confcheck = check_link( $conftgt, $conflink );\u001b[0m
    \u001b[37m+                if ( $confcheck eq 'ok' ) {\u001b[0m
    \u001b[37m+                    info(\"$name $acton already enabled\
\");\u001b[0m
    \u001b[37m+                    return 1;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+                elsif ( $confcheck eq 'missing' ) {\u001b[0m
    \u001b[37m+                    print \"Enabling config file $acton.conf.\
\";\u001b[0m
    \u001b[37m+                    add_link( $conftgt, $conflink ) or return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+                else {\u001b[0m
    \u001b[37m+                    error(\u001b[0m
    \u001b[37m+                        \"Config file $acton.conf not properly enabled: $confcheck\
\"\u001b[0m
    \u001b[37m+                    );\u001b[0m
    \u001b[37m+                    return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            else {\u001b[0m
    \u001b[37m+                info(\"$name $acton already enabled\
\");\u001b[0m
    \u001b[37m+                return 1;\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        elsif ( $check eq 'missing' ) {\u001b[0m
    \u001b[37m+            if ($conflink) {\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                # handle .conf file\u001b[0m
    \u001b[37m+                my $confcheck = check_link( $conftgt, $conflink );\u001b[0m
    \u001b[37m+                if ( $confcheck eq 'missing' ) {\u001b[0m
    \u001b[37m+                    add_link( $conftgt, $conflink ) or return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+                elsif ( $confcheck ne 'ok' ) {\u001b[0m
    \u001b[37m+                    error(\u001b[0m
    \u001b[37m+                        \"Config file $acton.conf not properly enabled: $confcheck\
\"\u001b[0m
    \u001b[37m+                    );\u001b[0m
    \u001b[37m+                    return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            print \"Enabling $obj $acton.\
\";\u001b[0m
    \u001b[37m+            if ( $acton eq 'ssl' ) {\u001b[0m
    \u001b[37m+                info(     \"See /usr/share/doc/apache2/README.Debian.gz on \"\u001b[0m
    \u001b[37m+                        . \"how to configure SSL and create self-signed certificates.\
\"\u001b[0m
    \u001b[37m+                );\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            return add_link( $tgt, $link )\u001b[0m
    \u001b[37m+                && switch_marker( $obj, $act, $acton );\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        else {\u001b[0m
    \u001b[37m+            error(\"$name $acton not properly enabled: $check\
\");\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    else {\u001b[0m
    \u001b[37m+        if ( -e $link || -l $link ) {\u001b[0m
    \u001b[37m+            remove_link($link);\u001b[0m
    \u001b[37m+            if ( $conflink && -e $conflink ) {\u001b[0m
    \u001b[37m+                remove_link($conflink);\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            switch_marker( $obj, $act, $acton );\u001b[0m
    \u001b[37m+            print \"$name $acton disabled.\
\";\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        elsif ( $conflink && -e $conflink ) {\u001b[0m
    \u001b[37m+            print \"Disabling stale config file $acton.conf.\
\";\u001b[0m
    \u001b[37m+            remove_link($conflink);\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        else {\u001b[0m
    \u001b[37m+            info(\"$name $acton already disabled\
\");\u001b[0m
    \u001b[37m+            if ( $purge ) {\u001b[0m
    \u001b[37m+                switch_marker( $obj, $act, $acton );\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            return 1;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub get_deps {\u001b[0m
    \u001b[37m+    my $file = shift;\u001b[0m
    \u001b[37m+    my $type = shift || \"Depends\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my $fd;\u001b[0m
    \u001b[37m+    if ( !open( $fd, '<', $file ) ) {\u001b[0m
    \u001b[37m+        error(\"Can't open $file: $!\");\u001b[0m
    \u001b[37m+        return;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    my $line;\u001b[0m
    \u001b[37m+    while ( defined( $line = <$fd> ) ) {\u001b[0m
    \u001b[37m+        chomp $line;\u001b[0m
    \u001b[37m+        if ( $line =~ /^# $type:\\s+(.*?)\\s*$/ ) {\u001b[0m
    \u001b[37m+            my $deps = $1;\u001b[0m
    \u001b[37m+            return split( /[\
\\s]+/, $deps );\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        # only check until the first non-empty non-comment line\u001b[0m
    \u001b[37m+        last if ( $line !~ /^\\s*(?:#.*)?$/ );\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub do_deps {\u001b[0m
    \u001b[37m+    my $acton = shift;\u001b[0m
    \u001b[37m+    foreach my $d (@_) {\u001b[0m
    \u001b[37m+        info(\"Considering dependency $d for $acton:\
\");\u001b[0m
    \u001b[37m+        if ( !doit($d) ) {\u001b[0m
    \u001b[37m+            error(\"Could not $act dependency $d for $acton, aborting\
\");\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub warn_deps {\u001b[0m
    \u001b[37m+    my $acton = shift;\u001b[0m
    \u001b[37m+    my $modsenabldir = $ENV{APACHE_MODS_ENABLED} || \"$confdir/mods-enabled\";\u001b[0m
    \u001b[37m+    foreach my $d (@_) {\u001b[0m
    \u001b[37m+        info(\"Checking dependency $d for $acton:\
\");\u001b[0m
    \u001b[37m+        if ( !-e \"$modsenabldir/$d.load\" ) {\u001b[0m
    \u001b[37m+            warning(\u001b[0m
    \u001b[37m+                \"Module $d is not enabled, but $acton depends on it, aborting\
\"\u001b[0m
    \u001b[37m+            );\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub check_conflicts {\u001b[0m
    \u001b[37m+    my $acton    = shift;\u001b[0m
    \u001b[37m+    my $haderror = 0;\u001b[0m
    \u001b[37m+    foreach my $d (@_) {\u001b[0m
    \u001b[37m+        info(\"Considering conflict $d for $acton:\
\");\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        my $tgt  = \"$availdir/$d$sffx\";\u001b[0m
    \u001b[37m+        my $link = \"$enabldir/$d$sffx\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        my $confcheck = check_link( $tgt, $link );\u001b[0m
    \u001b[37m+        if ( $confcheck eq 'ok' ) {\u001b[0m
    \u001b[37m+            error(\u001b[0m
    \u001b[37m+                \"Module $d is enabled - cannot proceed due to conflicts. It needs to be disabled first!\
\"\u001b[0m
    \u001b[37m+            );\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            # Don't return immediately, there could be several conflicts\u001b[0m
    \u001b[37m+            $haderror++;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ($haderror) {\u001b[0m
    \u001b[37m+        return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub add_link {\u001b[0m
    \u001b[37m+    my ( $tgt, $link ) = @_;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    # create relative link\u001b[0m
    \u001b[37m+    if ( !symlink( File::Spec->abs2rel( $tgt, dirname($link) ), $link ) ) {\u001b[0m
    \u001b[37m+        die(\"Could not create $link: $!\
\");\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    $request_reload = 1;\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub check_link {\u001b[0m
    \u001b[37m+    my ( $tgt, $link ) = @_;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( !-e $link ) {\u001b[0m
    \u001b[37m+        if ( -l $link ) {\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            # points to nowhere\u001b[0m
    \u001b[37m+            info(\"Removing dangling link $link\");\u001b[0m
    \u001b[37m+            unlink($link) or die \"Could not remove $link\
\";\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        return 'missing';\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( -e $link && !-l $link ) {\u001b[0m
    \u001b[37m+        return \"$link is a real file, not touching it\";\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    if ( realpath($link) ne realpath($tgt) ) {\u001b[0m
    \u001b[37m+        return \"$link exists but does not point to $tgt, not touching it\";\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return 'ok';\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub remove_link {\u001b[0m
    \u001b[37m+    my ($link) = @_;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( -l $link ) {\u001b[0m
    \u001b[37m+        unlink($link) or die \"Could not remove $link: $!\
\";\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    elsif ( -e $link ) {\u001b[0m
    \u001b[37m+        error(\"$link is not a symbolic link, not deleting\
\");\u001b[0m
    \u001b[37m+        return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    $request_reload = 1;\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub threaded {\u001b[0m
    \u001b[37m+    my $result = \"\";\u001b[0m
    \u001b[37m+    $result = qx{/usr/sbin/apachectl -V | grep 'threaded'}\u001b[0m
    \u001b[37m+        if -x '/usr/sbin/apachectl';\u001b[0m
    \u001b[37m+    if ( $? != 0 ) {\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        # config doesn't work\u001b[0m
    \u001b[37m+        if ( -e \"$enabldir/mpm_prefork.load\" || -e \"$enabldir/mpm_itk.load\" )\u001b[0m
    \u001b[37m+        {\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        elsif (-e \"$enabldir/mpm_worker.load\"\u001b[0m
    \u001b[37m+            || -e \"$enabldir/mpm_event.load\" )\u001b[0m
    \u001b[37m+        {\u001b[0m
    \u001b[37m+            return 1;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        else {\u001b[0m
    \u001b[37m+            error(\"Can't determine enabled MPM\");\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            # do what user requested\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    if ( $result =~ / no/ ) {\u001b[0m
    \u001b[37m+        return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    elsif ( $result =~ / yes/ ) {\u001b[0m
    \u001b[37m+        return 1;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    else {\u001b[0m
    \u001b[37m+        die(\"Can't parse output from apache2ctl -V:\
$result\
\");\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub info {\u001b[0m
    \u001b[37m+    print @_ if !$quiet;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub error {\u001b[0m
    \u001b[37m+    print STDERR 'ERROR: ', @_;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub warning {\u001b[0m
    \u001b[37m+    print STDERR 'WARNING: ', @_;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub is_in {\u001b[0m
    \u001b[37m+    my $needle = shift;\u001b[0m
    \u001b[37m+    foreach my $e (@_) {\u001b[0m
    \u001b[37m+        return 1 if $needle eq $e;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return 0;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub read_env_file {\u001b[0m
    \u001b[37m+    my $file = shift;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    -r $file or return;\u001b[0m
    \u001b[37m+    my @lines = qx{env - sh -c '. $file && env'};\u001b[0m
    \u001b[37m+    if ($?) {\u001b[0m
    \u001b[37m+        die \"Could not read $file\
\";\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    foreach my $l (@lines) {\u001b[0m
    \u001b[37m+        chomp $l;\u001b[0m
    \u001b[37m+        $l =~ /^(.*)?=(.*)$/ or die \"Could not parse $file\
\";\u001b[0m
    \u001b[37m+        $ENV{$1} = $2;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub switch_marker {\u001b[0m
    \u001b[37m+    die('usage: switch_marker([module|site|conf], [enable|disable], $name)')\u001b[0m
    \u001b[37m+        if @_ != 3;\u001b[0m
    \u001b[37m+    my $which = shift;\u001b[0m
    \u001b[37m+    my $what  = shift;\u001b[0m
    \u001b[37m+    my $name  = shift;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my $mode = \"admin\";\u001b[0m
    \u001b[37m+    $mode = \"maint\" if $maintmode;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    #print(\"switch_marker $which $what $name\
\");\u001b[0m
    \u001b[37m+    # TODO: get rid of the magic string(s)\u001b[0m
    \u001b[37m+    my $state_marker_dir = \"$statedir/$what\" . \"d\" . \"_by_$mode\";\u001b[0m
    \u001b[37m+    my $state_marker     = \"$state_marker_dir/$name\";\u001b[0m
    \u001b[37m+    if ( !-d $state_marker_dir ) {\u001b[0m
    \u001b[37m+        File::Path::mkpath(\"$state_marker_dir\")\u001b[0m
    \u001b[37m+            || error(\u001b[0m
    \u001b[37m+            \"Failed to create marker directory: '$state_marker_dir'\
\");\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    # XXX: swap find with perl alternative\u001b[0m
    \u001b[37m+    my @markers = qx{find \"$statedir\" -type f -a -name \"$name\"};\u001b[0m
    \u001b[37m+    chomp(@markers);\u001b[0m
    \u001b[37m+    foreach (@markers) {\u001b[0m
    \u001b[37m+        unless ( unlink $_ ) {\u001b[0m
    \u001b[37m+            error(\"Failed to remove old marker '$_'!\
\") && return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    unless ($purge) {\u001b[0m
    \u001b[37m+        qx{touch \"$state_marker\"};\u001b[0m
    \u001b[37m+        if ( $? != 0 ) {\u001b[0m
    \u001b[37m+            error(\"Failed to create marker '$state_marker'!\
\") && return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        return 1;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+# vim: syntax=perl sw=4 sts=4 sr et\u001b[0m
    \u001b[32m- change mode from '' to '0700'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0m  * link[/usr/sbin/a2dismod] action delete (skipped due to only_if)
  * template[/usr/sbin/a2dismod] action create
    \u001b[32m- create new file /usr/sbin/a2dismod\u001b[0m
    \u001b[32m- update content in file /usr/sbin/a2dismod from none to 0556b3\u001b[0m
    \u001b[37m--- /usr/sbin/a2dismod\t2019-04-26 14:50:56.297803037 +0000\u001b[0m
    \u001b[37m+++ /usr/sbin/.chef-a2dismod20190426-67198-10i64zc\t2019-04-26 14:50:56.297803037 +0000\u001b[0m
    \u001b[37m@@ -1 +1,533 @@\u001b[0m
    \u001b[37m+#!/usr/bin/perl -w\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# a2enmod by Stefan Fritsch <sf@debian.org>\u001b[0m
    \u001b[37m+# Licensed under Apache License 2.0\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# The coding style is \"perltidy -pbp\"\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+use strict;\u001b[0m
    \u001b[37m+use Cwd 'realpath';\u001b[0m
    \u001b[37m+use File::Spec;\u001b[0m
    \u001b[37m+use File::Basename;\u001b[0m
    \u001b[37m+use File::Path;\u001b[0m
    \u001b[37m+use Getopt::Long;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $quiet;\u001b[0m
    \u001b[37m+my $force;\u001b[0m
    \u001b[37m+my $maintmode;\u001b[0m
    \u001b[37m+my $purge;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+Getopt::Long::Configure('bundling');\u001b[0m
    \u001b[37m+GetOptions(\u001b[0m
    \u001b[37m+    'quiet|q'     => \\$quiet,\u001b[0m
    \u001b[37m+    'force|f'     => \\$force,\u001b[0m
    \u001b[37m+    'maintmode|m' => \\$maintmode,\u001b[0m
    \u001b[37m+    'purge|p'     => \\$purge\u001b[0m
    \u001b[37m+) or exit 2;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $basename = basename($0);\u001b[0m
    \u001b[37m+$basename =~ /^a2(en|dis)(mod|site|conf)((?:-.+)?)$/\u001b[0m
    \u001b[37m+    or die \"$basename call name unknown\
\";\u001b[0m
    \u001b[37m+my $act        = $1;\u001b[0m
    \u001b[37m+my $obj        = $2;\u001b[0m
    \u001b[37m+my $dir_suffix = $3;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $env_file = $ENV{APACHE_ENVVARS}\u001b[0m
    \u001b[37m+    || (\u001b[0m
    \u001b[37m+    $ENV{APACHE_CONFDIR}\u001b[0m
    \u001b[37m+    ? \"$ENV{APACHE_CONFDIR}/envvars\"\u001b[0m
    \u001b[37m+    : \"/etc/httpd$dir_suffix/envvars\"\u001b[0m
    \u001b[37m+    );\u001b[0m
    \u001b[37m+$ENV{LANG} = 'C';\u001b[0m
    \u001b[37m+read_env_file($env_file);\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+$act .= 'able';\u001b[0m
    \u001b[37m+my ( $name, $dir, $sffx, $reload );\u001b[0m
    \u001b[37m+if ( $obj eq 'mod' ) {\u001b[0m
    \u001b[37m+    $obj    = 'module';\u001b[0m
    \u001b[37m+    $dir    = 'mods';\u001b[0m
    \u001b[37m+    $sffx   = '.load';\u001b[0m
    \u001b[37m+    $reload = 'restart';\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+elsif ( $obj eq 'conf' ) {\u001b[0m
    \u001b[37m+    $obj    = 'conf';\u001b[0m
    \u001b[37m+    $dir    = 'conf';\u001b[0m
    \u001b[37m+    $sffx   = '.conf';\u001b[0m
    \u001b[37m+    $reload = 'reload';\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+else {\u001b[0m
    \u001b[37m+    $dir    = 'sites';\u001b[0m
    \u001b[37m+    $sffx   = '.conf';\u001b[0m
    \u001b[37m+    $reload = 'reload';\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+$name = ucfirst($obj);\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $confdir = $ENV{APACHE_CONFDIR} || \"/etc/httpd$dir_suffix\";\u001b[0m
    \u001b[37m+my $availdir = $ENV{ uc(\"APACHE_${dir}_AVAILABLE\") }\u001b[0m
    \u001b[37m+    || \"$confdir/$dir-available\";\u001b[0m
    \u001b[37m+my $enabldir = $ENV{ uc(\"APACHE_${dir}_ENABLED\") } || \"$confdir/$dir-enabled\";\u001b[0m
    \u001b[37m+my $statedir = $ENV{ uc(\"APACHE_STATE_DIRECTORY\") } || \"/usr/lib64/httpd\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+$statedir .= \"/$obj\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $choicedir = $act eq 'enable' ? $availdir : $enabldir;\u001b[0m
    \u001b[37m+my $linkdir = File::Spec->abs2rel( $availdir, $enabldir );\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $request_reload = 0;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $rc = 0;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+if ( !scalar @ARGV ) {\u001b[0m
    \u001b[37m+    my @choices = myglob('*');\u001b[0m
    \u001b[37m+    print \"Your choices are: @choices\
\";\u001b[0m
    \u001b[37m+    print \"Which ${obj}(s) do you want to $act (wildcards ok)?\
\";\u001b[0m
    \u001b[37m+    my $input = <>;\u001b[0m
    \u001b[37m+    @ARGV = split /\\s+/, $input;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my @objs;\u001b[0m
    \u001b[37m+foreach my $arg (@ARGV) {\u001b[0m
    \u001b[37m+    $arg =~ s/${sffx}$//;\u001b[0m
    \u001b[37m+    my @glob = myglob($arg);\u001b[0m
    \u001b[37m+    if ( !@glob ) {\u001b[0m
    \u001b[37m+        error(\"No $obj found matching $arg!\
\");\u001b[0m
    \u001b[37m+        $rc = 1;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    else {\u001b[0m
    \u001b[37m+        push @objs, @glob;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+foreach my $acton (@objs) {\u001b[0m
    \u001b[37m+    doit($acton) or $rc = 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+info(\u001b[0m
    \u001b[37m+    \"To activate the new configuration, you need to run:\
  service apache2 $reload\
\"\u001b[0m
    \u001b[37m+) if $request_reload;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+exit($rc);\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+##############################################################################\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub myglob {\u001b[0m
    \u001b[37m+    my $arg = shift;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my @glob = map {\u001b[0m
    \u001b[37m+        s{^$choicedir/}{};\u001b[0m
    \u001b[37m+        s{$sffx$}{};\u001b[0m
    \u001b[37m+        $_\u001b[0m
    \u001b[37m+    } glob(\"$choicedir/$arg$sffx\");\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    return @glob;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub doit {\u001b[0m
    \u001b[37m+    my $acton = shift;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my ( $conftgt, $conflink );\u001b[0m
    \u001b[37m+    if ( $obj eq 'module' ) {\u001b[0m
    \u001b[37m+        if ( $acton eq 'cgi' && threaded() ) {\u001b[0m
    \u001b[37m+            print\u001b[0m
    \u001b[37m+                \"Your MPM seems to be threaded. Selecting cgid instead of cgi.\
\";\u001b[0m
    \u001b[37m+            $acton = 'cgid';\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        $conftgt = \"$availdir/$acton.conf\";\u001b[0m
    \u001b[37m+        if ( -e $conftgt ) {\u001b[0m
    \u001b[37m+            $conflink = \"$enabldir/$acton.conf\";\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my $tgt  = \"$availdir/$acton$sffx\";\u001b[0m
    \u001b[37m+    my $link = \"$enabldir/$acton$sffx\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( !-e $tgt ) {\u001b[0m
    \u001b[37m+        if ( -l $link && !-e $link ) {\u001b[0m
    \u001b[37m+            if ( $act eq 'disable' ) {\u001b[0m
    \u001b[37m+                info(\"removing dangling symlink $link\
\");\u001b[0m
    \u001b[37m+                unlink($link);\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                # force a .conf path. It may exist as dangling link, too\u001b[0m
    \u001b[37m+                $conflink = \"$enabldir/$acton.conf\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                if ( -l $conflink && !-e $conflink ) {\u001b[0m
    \u001b[37m+                    info(\"removing dangling symlink $conflink\
\");\u001b[0m
    \u001b[37m+                    unlink($conflink);\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                return 1;\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            else {\u001b[0m
    \u001b[37m+                error(\"$link is a dangling symlink!\
\");\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        if ( $purge ) {\u001b[0m
    \u001b[37m+            switch_marker( $obj, $act, $acton );\u001b[0m
    \u001b[37m+            # exit silently, we are purging anyway\u001b[0m
    \u001b[37m+            return 1;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        error(\"$name $acton does not exist!\
\");\u001b[0m
    \u001b[37m+        return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    # handle module dependencies\u001b[0m
    \u001b[37m+    if ( $obj eq 'module' ) {\u001b[0m
    \u001b[37m+        if ( $act eq 'enable' ) {\u001b[0m
    \u001b[37m+            if ( $acton eq 'mpm_itk' ) {\u001b[0m
    \u001b[37m+                warning(  \"MPM_ITK is a third party module that is not part \"\u001b[0m
    \u001b[37m+                        . \"of the official Apache HTTPD. It has seen less \"\u001b[0m
    \u001b[37m+                        . \"testing than the official MPM modules.\" );\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            my @depends = get_deps(\"$availdir/$acton.load\");\u001b[0m
    \u001b[37m+            do_deps( $acton, @depends ) or return 0;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            my @conflicts = get_deps( \"$availdir/$acton.load\", \"Conflicts\" );\u001b[0m
    \u001b[37m+            check_conflicts( $acton, @conflicts ) or return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        else {\u001b[0m
    \u001b[37m+            my @depending;\u001b[0m
    \u001b[37m+            foreach my $d ( glob(\"$enabldir/*.load\") ) {\u001b[0m
    \u001b[37m+                my @deps = get_deps($d);\u001b[0m
    \u001b[37m+                if ( is_in( $acton, @deps ) ) {\u001b[0m
    \u001b[37m+                    $d =~ m,/([^/]+).load$,;\u001b[0m
    \u001b[37m+                    push @depending, $1;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            if ( scalar @depending ) {\u001b[0m
    \u001b[37m+                if ($force) {\u001b[0m
    \u001b[37m+                    do_deps( $acton, @depending ) or return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+                else {\u001b[0m
    \u001b[37m+                    error(\u001b[0m
    \u001b[37m+                        \"The following modules depend on $acton \",\u001b[0m
    \u001b[37m+                        \"and need to be disabled first: @depending\
\"\u001b[0m
    \u001b[37m+                    );\u001b[0m
    \u001b[37m+                    return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    elsif ( $act eq 'enable' ) {\u001b[0m
    \u001b[37m+        my @depends = get_deps(\"$availdir/$acton$sffx\");\u001b[0m
    \u001b[37m+        warn_deps( $acton, @depends ) or return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( $act eq 'enable' ) {\u001b[0m
    \u001b[37m+        my $check = check_link( $tgt, $link );\u001b[0m
    \u001b[37m+        if ( $check eq 'ok' ) {\u001b[0m
    \u001b[37m+            if ($conflink) {\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                # handle .conf file\u001b[0m
    \u001b[37m+                my $confcheck = check_link( $conftgt, $conflink );\u001b[0m
    \u001b[37m+                if ( $confcheck eq 'ok' ) {\u001b[0m
    \u001b[37m+                    info(\"$name $acton already enabled\
\");\u001b[0m
    \u001b[37m+                    return 1;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+                elsif ( $confcheck eq 'missing' ) {\u001b[0m
    \u001b[37m+                    print \"Enabling config file $acton.conf.\
\";\u001b[0m
    \u001b[37m+                    add_link( $conftgt, $conflink ) or return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+                else {\u001b[0m
    \u001b[37m+                    error(\u001b[0m
    \u001b[37m+                        \"Config file $acton.conf not properly enabled: $confcheck\
\"\u001b[0m
    \u001b[37m+                    );\u001b[0m
    \u001b[37m+                    return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            else {\u001b[0m
    \u001b[37m+                info(\"$name $acton already enabled\
\");\u001b[0m
    \u001b[37m+                return 1;\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        elsif ( $check eq 'missing' ) {\u001b[0m
    \u001b[37m+            if ($conflink) {\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                # handle .conf file\u001b[0m
    \u001b[37m+                my $confcheck = check_link( $conftgt, $conflink );\u001b[0m
    \u001b[37m+                if ( $confcheck eq 'missing' ) {\u001b[0m
    \u001b[37m+                    add_link( $conftgt, $conflink ) or return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+                elsif ( $confcheck ne 'ok' ) {\u001b[0m
    \u001b[37m+                    error(\u001b[0m
    \u001b[37m+                        \"Config file $acton.conf not properly enabled: $confcheck\
\"\u001b[0m
    \u001b[37m+                    );\u001b[0m
    \u001b[37m+                    return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            print \"Enabling $obj $acton.\
\";\u001b[0m
    \u001b[37m+            if ( $acton eq 'ssl' ) {\u001b[0m
    \u001b[37m+                info(     \"See /usr/share/doc/apache2/README.Debian.gz on \"\u001b[0m
    \u001b[37m+                        . \"how to configure SSL and create self-signed certificates.\
\"\u001b[0m
    \u001b[37m+                );\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            return add_link( $tgt, $link )\u001b[0m
    \u001b[37m+                && switch_marker( $obj, $act, $acton );\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        else {\u001b[0m
    \u001b[37m+            error(\"$name $acton not properly enabled: $check\
\");\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    else {\u001b[0m
    \u001b[37m+        if ( -e $link || -l $link ) {\u001b[0m
    \u001b[37m+            remove_link($link);\u001b[0m
    \u001b[37m+            if ( $conflink && -e $conflink ) {\u001b[0m
    \u001b[37m+                remove_link($conflink);\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            switch_marker( $obj, $act, $acton );\u001b[0m
    \u001b[37m+            print \"$name $acton disabled.\
\";\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        elsif ( $conflink && -e $conflink ) {\u001b[0m
    \u001b[37m+            print \"Disabling stale config file $acton.conf.\
\";\u001b[0m
    \u001b[37m+            remove_link($conflink);\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        else {\u001b[0m
    \u001b[37m+            info(\"$name $acton already disabled\
\");\u001b[0m
    \u001b[37m+            if ( $purge ) {\u001b[0m
    \u001b[37m+                switch_marker( $obj, $act, $acton );\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            return 1;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub get_deps {\u001b[0m
    \u001b[37m+    my $file = shift;\u001b[0m
    \u001b[37m+    my $type = shift || \"Depends\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my $fd;\u001b[0m
    \u001b[37m+    if ( !open( $fd, '<', $file ) ) {\u001b[0m
    \u001b[37m+        error(\"Can't open $file: $!\");\u001b[0m
    \u001b[37m+        return;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    my $line;\u001b[0m
    \u001b[37m+    while ( defined( $line = <$fd> ) ) {\u001b[0m
    \u001b[37m+        chomp $line;\u001b[0m
    \u001b[37m+        if ( $line =~ /^# $type:\\s+(.*?)\\s*$/ ) {\u001b[0m
    \u001b[37m+            my $deps = $1;\u001b[0m
    \u001b[37m+            return split( /[\
\\s]+/, $deps );\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        # only check until the first non-empty non-comment line\u001b[0m
    \u001b[37m+        last if ( $line !~ /^\\s*(?:#.*)?$/ );\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub do_deps {\u001b[0m
    \u001b[37m+    my $acton = shift;\u001b[0m
    \u001b[37m+    foreach my $d (@_) {\u001b[0m
    \u001b[37m+        info(\"Considering dependency $d for $acton:\
\");\u001b[0m
    \u001b[37m+        if ( !doit($d) ) {\u001b[0m
    \u001b[37m+            error(\"Could not $act dependency $d for $acton, aborting\
\");\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub warn_deps {\u001b[0m
    \u001b[37m+    my $acton = shift;\u001b[0m
    \u001b[37m+    my $modsenabldir = $ENV{APACHE_MODS_ENABLED} || \"$confdir/mods-enabled\";\u001b[0m
    \u001b[37m+    foreach my $d (@_) {\u001b[0m
    \u001b[37m+        info(\"Checking dependency $d for $acton:\
\");\u001b[0m
    \u001b[37m+        if ( !-e \"$modsenabldir/$d.load\" ) {\u001b[0m
    \u001b[37m+            warning(\u001b[0m
    \u001b[37m+                \"Module $d is not enabled, but $acton depends on it, aborting\
\"\u001b[0m
    \u001b[37m+            );\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub check_conflicts {\u001b[0m
    \u001b[37m+    my $acton    = shift;\u001b[0m
    \u001b[37m+    my $haderror = 0;\u001b[0m
    \u001b[37m+    foreach my $d (@_) {\u001b[0m
    \u001b[37m+        info(\"Considering conflict $d for $acton:\
\");\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        my $tgt  = \"$availdir/$d$sffx\";\u001b[0m
    \u001b[37m+        my $link = \"$enabldir/$d$sffx\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        my $confcheck = check_link( $tgt, $link );\u001b[0m
    \u001b[37m+        if ( $confcheck eq 'ok' ) {\u001b[0m
    \u001b[37m+            error(\u001b[0m
    \u001b[37m+                \"Module $d is enabled - cannot proceed due to conflicts. It needs to be disabled first!\
\"\u001b[0m
    \u001b[37m+            );\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            # Don't return immediately, there could be several conflicts\u001b[0m
    \u001b[37m+            $haderror++;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ($haderror) {\u001b[0m
    \u001b[37m+        return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub add_link {\u001b[0m
    \u001b[37m+    my ( $tgt, $link ) = @_;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    # create relative link\u001b[0m
    \u001b[37m+    if ( !symlink( File::Spec->abs2rel( $tgt, dirname($link) ), $link ) ) {\u001b[0m
    \u001b[37m+        die(\"Could not create $link: $!\
\");\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    $request_reload = 1;\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub check_link {\u001b[0m
    \u001b[37m+    my ( $tgt, $link ) = @_;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( !-e $link ) {\u001b[0m
    \u001b[37m+        if ( -l $link ) {\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            # points to nowhere\u001b[0m
    \u001b[37m+            info(\"Removing dangling link $link\");\u001b[0m
    \u001b[37m+            unlink($link) or die \"Could not remove $link\
\";\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        return 'missing';\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( -e $link && !-l $link ) {\u001b[0m
    \u001b[37m+        return \"$link is a real file, not touching it\";\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    if ( realpath($link) ne realpath($tgt) ) {\u001b[0m
    \u001b[37m+        return \"$link exists but does not point to $tgt, not touching it\";\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return 'ok';\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub remove_link {\u001b[0m
    \u001b[37m+    my ($link) = @_;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( -l $link ) {\u001b[0m
    \u001b[37m+        unlink($link) or die \"Could not remove $link: $!\
\";\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    elsif ( -e $link ) {\u001b[0m
    \u001b[37m+        error(\"$link is not a symbolic link, not deleting\
\");\u001b[0m
    \u001b[37m+        return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    $request_reload = 1;\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub threaded {\u001b[0m
    \u001b[37m+    my $result = \"\";\u001b[0m
    \u001b[37m+    $result = qx{/usr/sbin/apachectl -V | grep 'threaded'}\u001b[0m
    \u001b[37m+        if -x '/usr/sbin/apachectl';\u001b[0m
    \u001b[37m+    if ( $? != 0 ) {\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        # config doesn't work\u001b[0m
    \u001b[37m+        if ( -e \"$enabldir/mpm_prefork.load\" || -e \"$enabldir/mpm_itk.load\" )\u001b[0m
    \u001b[37m+        {\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        elsif (-e \"$enabldir/mpm_worker.load\"\u001b[0m
    \u001b[37m+            || -e \"$enabldir/mpm_event.load\" )\u001b[0m
    \u001b[37m+        {\u001b[0m
    \u001b[37m+            return 1;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        else {\u001b[0m
    \u001b[37m+            error(\"Can't determine enabled MPM\");\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            # do what user requested\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    if ( $result =~ / no/ ) {\u001b[0m
    \u001b[37m+        return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    elsif ( $result =~ / yes/ ) {\u001b[0m
    \u001b[37m+        return 1;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    else {\u001b[0m
    \u001b[37m+        die(\"Can't parse output from apache2ctl -V:\
$result\
\");\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub info {\u001b[0m
    \u001b[37m+    print @_ if !$quiet;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub error {\u001b[0m
    \u001b[37m+    print STDERR 'ERROR: ', @_;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub warning {\u001b[0m
    \u001b[37m+    print STDERR 'WARNING: ', @_;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub is_in {\u001b[0m
    \u001b[37m+    my $needle = shift;\u001b[0m
    \u001b[37m+    foreach my $e (@_) {\u001b[0m
    \u001b[37m+        return 1 if $needle eq $e;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return 0;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub read_env_file {\u001b[0m
    \u001b[37m+    my $file = shift;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    -r $file or return;\u001b[0m
    \u001b[37m+    my @lines = qx{env - sh -c '. $file && env'};\u001b[0m
    \u001b[37m+    if ($?) {\u001b[0m
    \u001b[37m+        die \"Could not read $file\
\";\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    foreach my $l (@lines) {\u001b[0m
    \u001b[37m+        chomp $l;\u001b[0m
    \u001b[37m+        $l =~ /^(.*)?=(.*)$/ or die \"Could not parse $file\
\";\u001b[0m
    \u001b[37m+        $ENV{$1} = $2;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub switch_marker {\u001b[0m
    \u001b[37m+    die('usage: switch_marker([module|site|conf], [enable|disable], $name)')\u001b[0m
    \u001b[37m+        if @_ != 3;\u001b[0m
    \u001b[37m+    my $which = shift;\u001b[0m
    \u001b[37m+    my $what  = shift;\u001b[0m
    \u001b[37m+    my $name  = shift;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my $mode = \"admin\";\u001b[0m
    \u001b[37m+    $mode = \"maint\" if $maintmode;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    #print(\"switch_marker $which $what $name\
\");\u001b[0m
    \u001b[37m+    # TODO: get rid of the magic string(s)\u001b[0m
    \u001b[37m+    my $state_marker_dir = \"$statedir/$what\" . \"d\" . \"_by_$mode\";\u001b[0m
    \u001b[37m+    my $state_marker     = \"$state_marker_dir/$name\";\u001b[0m
    \u001b[37m+    if ( !-d $state_marker_dir ) {\u001b[0m
    \u001b[37m+        File::Path::mkpath(\"$state_marker_dir\")\u001b[0m
    \u001b[37m+            || error(\u001b[0m
    \u001b[37m+            \"Failed to create marker directory: '$state_marker_dir'\
\");\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    # XXX: swap find with perl alternative\u001b[0m
    \u001b[37m+    my @markers = qx{find \"$statedir\" -type f -a -name \"$name\"};\u001b[0m
    \u001b[37m+    chomp(@markers);\u001b[0m
    \u001b[37m+    foreach (@markers) {\u001b[0m
    \u001b[37m+        unless ( unlink $_ ) {\u001b[0m
    \u001b[37m+            error(\"Failed to remove old marker '$_'!\
\") && return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    unless ($purge) {\u001b[0m
    \u001b[37m+        qx{touch \"$state_marker\"};\u001b[0m
    \u001b[37m+        if ( $? != 0 ) {\u001b[0m
    \u001b[37m+            error(\"Failed to create marker '$state_marker'!\
\") && return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        return 1;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+# vim: syntax=perl sw=4 sts=4 sr et\u001b[0m
    \u001b[32m- change mode from '' to '0700'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0m  * link[/usr/sbin/a2enconf] action delete (skipped due to only_if)
  * template[/usr/sbin/a2enconf] action create
    \u001b[32m- create new file /usr/sbin/a2enconf\u001b[0m
    \u001b[32m- update content in file /usr/sbin/a2enconf from none to 0556b3\u001b[0m
    \u001b[37m--- /usr/sbin/a2enconf\t2019-04-26 14:50:56.316803724 +0000\u001b[0m
    \u001b[37m+++ /usr/sbin/.chef-a2enconf20190426-67198-17wgxvo\t2019-04-26 14:50:56.316803724 +0000\u001b[0m
    \u001b[37m@@ -1 +1,533 @@\u001b[0m
    \u001b[37m+#!/usr/bin/perl -w\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# a2enmod by Stefan Fritsch <sf@debian.org>\u001b[0m
    \u001b[37m+# Licensed under Apache License 2.0\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# The coding style is \"perltidy -pbp\"\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+use strict;\u001b[0m
    \u001b[37m+use Cwd 'realpath';\u001b[0m
    \u001b[37m+use File::Spec;\u001b[0m
    \u001b[37m+use File::Basename;\u001b[0m
    \u001b[37m+use File::Path;\u001b[0m
    \u001b[37m+use Getopt::Long;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $quiet;\u001b[0m
    \u001b[37m+my $force;\u001b[0m
    \u001b[37m+my $maintmode;\u001b[0m
    \u001b[37m+my $purge;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+Getopt::Long::Configure('bundling');\u001b[0m
    \u001b[37m+GetOptions(\u001b[0m
    \u001b[37m+    'quiet|q'     => \\$quiet,\u001b[0m
    \u001b[37m+    'force|f'     => \\$force,\u001b[0m
    \u001b[37m+    'maintmode|m' => \\$maintmode,\u001b[0m
    \u001b[37m+    'purge|p'     => \\$purge\u001b[0m
    \u001b[37m+) or exit 2;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $basename = basename($0);\u001b[0m
    \u001b[37m+$basename =~ /^a2(en|dis)(mod|site|conf)((?:-.+)?)$/\u001b[0m
    \u001b[37m+    or die \"$basename call name unknown\
\";\u001b[0m
    \u001b[37m+my $act        = $1;\u001b[0m
    \u001b[37m+my $obj        = $2;\u001b[0m
    \u001b[37m+my $dir_suffix = $3;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $env_file = $ENV{APACHE_ENVVARS}\u001b[0m
    \u001b[37m+    || (\u001b[0m
    \u001b[37m+    $ENV{APACHE_CONFDIR}\u001b[0m
    \u001b[37m+    ? \"$ENV{APACHE_CONFDIR}/envvars\"\u001b[0m
    \u001b[37m+    : \"/etc/httpd$dir_suffix/envvars\"\u001b[0m
    \u001b[37m+    );\u001b[0m
    \u001b[37m+$ENV{LANG} = 'C';\u001b[0m
    \u001b[37m+read_env_file($env_file);\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+$act .= 'able';\u001b[0m
    \u001b[37m+my ( $name, $dir, $sffx, $reload );\u001b[0m
    \u001b[37m+if ( $obj eq 'mod' ) {\u001b[0m
    \u001b[37m+    $obj    = 'module';\u001b[0m
    \u001b[37m+    $dir    = 'mods';\u001b[0m
    \u001b[37m+    $sffx   = '.load';\u001b[0m
    \u001b[37m+    $reload = 'restart';\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+elsif ( $obj eq 'conf' ) {\u001b[0m
    \u001b[37m+    $obj    = 'conf';\u001b[0m
    \u001b[37m+    $dir    = 'conf';\u001b[0m
    \u001b[37m+    $sffx   = '.conf';\u001b[0m
    \u001b[37m+    $reload = 'reload';\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+else {\u001b[0m
    \u001b[37m+    $dir    = 'sites';\u001b[0m
    \u001b[37m+    $sffx   = '.conf';\u001b[0m
    \u001b[37m+    $reload = 'reload';\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+$name = ucfirst($obj);\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $confdir = $ENV{APACHE_CONFDIR} || \"/etc/httpd$dir_suffix\";\u001b[0m
    \u001b[37m+my $availdir = $ENV{ uc(\"APACHE_${dir}_AVAILABLE\") }\u001b[0m
    \u001b[37m+    || \"$confdir/$dir-available\";\u001b[0m
    \u001b[37m+my $enabldir = $ENV{ uc(\"APACHE_${dir}_ENABLED\") } || \"$confdir/$dir-enabled\";\u001b[0m
    \u001b[37m+my $statedir = $ENV{ uc(\"APACHE_STATE_DIRECTORY\") } || \"/usr/lib64/httpd\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+$statedir .= \"/$obj\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $choicedir = $act eq 'enable' ? $availdir : $enabldir;\u001b[0m
    \u001b[37m+my $linkdir = File::Spec->abs2rel( $availdir, $enabldir );\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $request_reload = 0;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $rc = 0;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+if ( !scalar @ARGV ) {\u001b[0m
    \u001b[37m+    my @choices = myglob('*');\u001b[0m
    \u001b[37m+    print \"Your choices are: @choices\
\";\u001b[0m
    \u001b[37m+    print \"Which ${obj}(s) do you want to $act (wildcards ok)?\
\";\u001b[0m
    \u001b[37m+    my $input = <>;\u001b[0m
    \u001b[37m+    @ARGV = split /\\s+/, $input;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my @objs;\u001b[0m
    \u001b[37m+foreach my $arg (@ARGV) {\u001b[0m
    \u001b[37m+    $arg =~ s/${sffx}$//;\u001b[0m
    \u001b[37m+    my @glob = myglob($arg);\u001b[0m
    \u001b[37m+    if ( !@glob ) {\u001b[0m
    \u001b[37m+        error(\"No $obj found matching $arg!\
\");\u001b[0m
    \u001b[37m+        $rc = 1;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    else {\u001b[0m
    \u001b[37m+        push @objs, @glob;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+foreach my $acton (@objs) {\u001b[0m
    \u001b[37m+    doit($acton) or $rc = 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+info(\u001b[0m
    \u001b[37m+    \"To activate the new configuration, you need to run:\
  service apache2 $reload\
\"\u001b[0m
    \u001b[37m+) if $request_reload;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+exit($rc);\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+##############################################################################\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub myglob {\u001b[0m
    \u001b[37m+    my $arg = shift;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my @glob = map {\u001b[0m
    \u001b[37m+        s{^$choicedir/}{};\u001b[0m
    \u001b[37m+        s{$sffx$}{};\u001b[0m
    \u001b[37m+        $_\u001b[0m
    \u001b[37m+    } glob(\"$choicedir/$arg$sffx\");\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    return @glob;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub doit {\u001b[0m
    \u001b[37m+    my $acton = shift;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my ( $conftgt, $conflink );\u001b[0m
    \u001b[37m+    if ( $obj eq 'module' ) {\u001b[0m
    \u001b[37m+        if ( $acton eq 'cgi' && threaded() ) {\u001b[0m
    \u001b[37m+            print\u001b[0m
    \u001b[37m+                \"Your MPM seems to be threaded. Selecting cgid instead of cgi.\
\";\u001b[0m
    \u001b[37m+            $acton = 'cgid';\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        $conftgt = \"$availdir/$acton.conf\";\u001b[0m
    \u001b[37m+        if ( -e $conftgt ) {\u001b[0m
    \u001b[37m+            $conflink = \"$enabldir/$acton.conf\";\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my $tgt  = \"$availdir/$acton$sffx\";\u001b[0m
    \u001b[37m+    my $link = \"$enabldir/$acton$sffx\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( !-e $tgt ) {\u001b[0m
    \u001b[37m+        if ( -l $link && !-e $link ) {\u001b[0m
    \u001b[37m+            if ( $act eq 'disable' ) {\u001b[0m
    \u001b[37m+                info(\"removing dangling symlink $link\
\");\u001b[0m
    \u001b[37m+                unlink($link);\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                # force a .conf path. It may exist as dangling link, too\u001b[0m
    \u001b[37m+                $conflink = \"$enabldir/$acton.conf\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                if ( -l $conflink && !-e $conflink ) {\u001b[0m
    \u001b[37m+                    info(\"removing dangling symlink $conflink\
\");\u001b[0m
    \u001b[37m+                    unlink($conflink);\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                return 1;\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            else {\u001b[0m
    \u001b[37m+                error(\"$link is a dangling symlink!\
\");\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        if ( $purge ) {\u001b[0m
    \u001b[37m+            switch_marker( $obj, $act, $acton );\u001b[0m
    \u001b[37m+            # exit silently, we are purging anyway\u001b[0m
    \u001b[37m+            return 1;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        error(\"$name $acton does not exist!\
\");\u001b[0m
    \u001b[37m+        return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    # handle module dependencies\u001b[0m
    \u001b[37m+    if ( $obj eq 'module' ) {\u001b[0m
    \u001b[37m+        if ( $act eq 'enable' ) {\u001b[0m
    \u001b[37m+            if ( $acton eq 'mpm_itk' ) {\u001b[0m
    \u001b[37m+                warning(  \"MPM_ITK is a third party module that is not part \"\u001b[0m
    \u001b[37m+                        . \"of the official Apache HTTPD. It has seen less \"\u001b[0m
    \u001b[37m+                        . \"testing than the official MPM modules.\" );\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            my @depends = get_deps(\"$availdir/$acton.load\");\u001b[0m
    \u001b[37m+            do_deps( $acton, @depends ) or return 0;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            my @conflicts = get_deps( \"$availdir/$acton.load\", \"Conflicts\" );\u001b[0m
    \u001b[37m+            check_conflicts( $acton, @conflicts ) or return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        else {\u001b[0m
    \u001b[37m+            my @depending;\u001b[0m
    \u001b[37m+            foreach my $d ( glob(\"$enabldir/*.load\") ) {\u001b[0m
    \u001b[37m+                my @deps = get_deps($d);\u001b[0m
    \u001b[37m+                if ( is_in( $acton, @deps ) ) {\u001b[0m
    \u001b[37m+                    $d =~ m,/([^/]+).load$,;\u001b[0m
    \u001b[37m+                    push @depending, $1;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            if ( scalar @depending ) {\u001b[0m
    \u001b[37m+                if ($force) {\u001b[0m
    \u001b[37m+                    do_deps( $acton, @depending ) or return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+                else {\u001b[0m
    \u001b[37m+                    error(\u001b[0m
    \u001b[37m+                        \"The following modules depend on $acton \",\u001b[0m
    \u001b[37m+                        \"and need to be disabled first: @depending\
\"\u001b[0m
    \u001b[37m+                    );\u001b[0m
    \u001b[37m+                    return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    elsif ( $act eq 'enable' ) {\u001b[0m
    \u001b[37m+        my @depends = get_deps(\"$availdir/$acton$sffx\");\u001b[0m
    \u001b[37m+        warn_deps( $acton, @depends ) or return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( $act eq 'enable' ) {\u001b[0m
    \u001b[37m+        my $check = check_link( $tgt, $link );\u001b[0m
    \u001b[37m+        if ( $check eq 'ok' ) {\u001b[0m
    \u001b[37m+            if ($conflink) {\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                # handle .conf file\u001b[0m
    \u001b[37m+                my $confcheck = check_link( $conftgt, $conflink );\u001b[0m
    \u001b[37m+                if ( $confcheck eq 'ok' ) {\u001b[0m
    \u001b[37m+                    info(\"$name $acton already enabled\
\");\u001b[0m
    \u001b[37m+                    return 1;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+                elsif ( $confcheck eq 'missing' ) {\u001b[0m
    \u001b[37m+                    print \"Enabling config file $acton.conf.\
\";\u001b[0m
    \u001b[37m+                    add_link( $conftgt, $conflink ) or return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+                else {\u001b[0m
    \u001b[37m+                    error(\u001b[0m
    \u001b[37m+                        \"Config file $acton.conf not properly enabled: $confcheck\
\"\u001b[0m
    \u001b[37m+                    );\u001b[0m
    \u001b[37m+                    return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            else {\u001b[0m
    \u001b[37m+                info(\"$name $acton already enabled\
\");\u001b[0m
    \u001b[37m+                return 1;\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        elsif ( $check eq 'missing' ) {\u001b[0m
    \u001b[37m+            if ($conflink) {\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                # handle .conf file\u001b[0m
    \u001b[37m+                my $confcheck = check_link( $conftgt, $conflink );\u001b[0m
    \u001b[37m+                if ( $confcheck eq 'missing' ) {\u001b[0m
    \u001b[37m+                    add_link( $conftgt, $conflink ) or return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+                elsif ( $confcheck ne 'ok' ) {\u001b[0m
    \u001b[37m+                    error(\u001b[0m
    \u001b[37m+                        \"Config file $acton.conf not properly enabled: $confcheck\
\"\u001b[0m
    \u001b[37m+                    );\u001b[0m
    \u001b[37m+                    return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            print \"Enabling $obj $acton.\
\";\u001b[0m
    \u001b[37m+            if ( $acton eq 'ssl' ) {\u001b[0m
    \u001b[37m+                info(     \"See /usr/share/doc/apache2/README.Debian.gz on \"\u001b[0m
    \u001b[37m+                        . \"how to configure SSL and create self-signed certificates.\
\"\u001b[0m
    \u001b[37m+                );\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            return add_link( $tgt, $link )\u001b[0m
    \u001b[37m+                && switch_marker( $obj, $act, $acton );\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        else {\u001b[0m
    \u001b[37m+            error(\"$name $acton not properly enabled: $check\
\");\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    else {\u001b[0m
    \u001b[37m+        if ( -e $link || -l $link ) {\u001b[0m
    \u001b[37m+            remove_link($link);\u001b[0m
    \u001b[37m+            if ( $conflink && -e $conflink ) {\u001b[0m
    \u001b[37m+                remove_link($conflink);\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            switch_marker( $obj, $act, $acton );\u001b[0m
    \u001b[37m+            print \"$name $acton disabled.\
\";\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        elsif ( $conflink && -e $conflink ) {\u001b[0m
    \u001b[37m+            print \"Disabling stale config file $acton.conf.\
\";\u001b[0m
    \u001b[37m+            remove_link($conflink);\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        else {\u001b[0m
    \u001b[37m+            info(\"$name $acton already disabled\
\");\u001b[0m
    \u001b[37m+            if ( $purge ) {\u001b[0m
    \u001b[37m+                switch_marker( $obj, $act, $acton );\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            return 1;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub get_deps {\u001b[0m
    \u001b[37m+    my $file = shift;\u001b[0m
    \u001b[37m+    my $type = shift || \"Depends\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my $fd;\u001b[0m
    \u001b[37m+    if ( !open( $fd, '<', $file ) ) {\u001b[0m
    \u001b[37m+        error(\"Can't open $file: $!\");\u001b[0m
    \u001b[37m+        return;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    my $line;\u001b[0m
    \u001b[37m+    while ( defined( $line = <$fd> ) ) {\u001b[0m
    \u001b[37m+        chomp $line;\u001b[0m
    \u001b[37m+        if ( $line =~ /^# $type:\\s+(.*?)\\s*$/ ) {\u001b[0m
    \u001b[37m+            my $deps = $1;\u001b[0m
    \u001b[37m+            return split( /[\
\\s]+/, $deps );\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        # only check until the first non-empty non-comment line\u001b[0m
    \u001b[37m+        last if ( $line !~ /^\\s*(?:#.*)?$/ );\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub do_deps {\u001b[0m
    \u001b[37m+    my $acton = shift;\u001b[0m
    \u001b[37m+    foreach my $d (@_) {\u001b[0m
    \u001b[37m+        info(\"Considering dependency $d for $acton:\
\");\u001b[0m
    \u001b[37m+        if ( !doit($d) ) {\u001b[0m
    \u001b[37m+            error(\"Could not $act dependency $d for $acton, aborting\
\");\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub warn_deps {\u001b[0m
    \u001b[37m+    my $acton = shift;\u001b[0m
    \u001b[37m+    my $modsenabldir = $ENV{APACHE_MODS_ENABLED} || \"$confdir/mods-enabled\";\u001b[0m
    \u001b[37m+    foreach my $d (@_) {\u001b[0m
    \u001b[37m+        info(\"Checking dependency $d for $acton:\
\");\u001b[0m
    \u001b[37m+        if ( !-e \"$modsenabldir/$d.load\" ) {\u001b[0m
    \u001b[37m+            warning(\u001b[0m
    \u001b[37m+                \"Module $d is not enabled, but $acton depends on it, aborting\
\"\u001b[0m
    \u001b[37m+            );\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub check_conflicts {\u001b[0m
    \u001b[37m+    my $acton    = shift;\u001b[0m
    \u001b[37m+    my $haderror = 0;\u001b[0m
    \u001b[37m+    foreach my $d (@_) {\u001b[0m
    \u001b[37m+        info(\"Considering conflict $d for $acton:\
\");\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        my $tgt  = \"$availdir/$d$sffx\";\u001b[0m
    \u001b[37m+        my $link = \"$enabldir/$d$sffx\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        my $confcheck = check_link( $tgt, $link );\u001b[0m
    \u001b[37m+        if ( $confcheck eq 'ok' ) {\u001b[0m
    \u001b[37m+            error(\u001b[0m
    \u001b[37m+                \"Module $d is enabled - cannot proceed due to conflicts. It needs to be disabled first!\
\"\u001b[0m
    \u001b[37m+            );\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            # Don't return immediately, there could be several conflicts\u001b[0m
    \u001b[37m+            $haderror++;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ($haderror) {\u001b[0m
    \u001b[37m+        return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub add_link {\u001b[0m
    \u001b[37m+    my ( $tgt, $link ) = @_;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    # create relative link\u001b[0m
    \u001b[37m+    if ( !symlink( File::Spec->abs2rel( $tgt, dirname($link) ), $link ) ) {\u001b[0m
    \u001b[37m+        die(\"Could not create $link: $!\
\");\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    $request_reload = 1;\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub check_link {\u001b[0m
    \u001b[37m+    my ( $tgt, $link ) = @_;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( !-e $link ) {\u001b[0m
    \u001b[37m+        if ( -l $link ) {\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            # points to nowhere\u001b[0m
    \u001b[37m+            info(\"Removing dangling link $link\");\u001b[0m
    \u001b[37m+            unlink($link) or die \"Could not remove $link\
\";\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        return 'missing';\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( -e $link && !-l $link ) {\u001b[0m
    \u001b[37m+        return \"$link is a real file, not touching it\";\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    if ( realpath($link) ne realpath($tgt) ) {\u001b[0m
    \u001b[37m+        return \"$link exists but does not point to $tgt, not touching it\";\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return 'ok';\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub remove_link {\u001b[0m
    \u001b[37m+    my ($link) = @_;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( -l $link ) {\u001b[0m
    \u001b[37m+        unlink($link) or die \"Could not remove $link: $!\
\";\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    elsif ( -e $link ) {\u001b[0m
    \u001b[37m+        error(\"$link is not a symbolic link, not deleting\
\");\u001b[0m
    \u001b[37m+        return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    $request_reload = 1;\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub threaded {\u001b[0m
    \u001b[37m+    my $result = \"\";\u001b[0m
    \u001b[37m+    $result = qx{/usr/sbin/apachectl -V | grep 'threaded'}\u001b[0m
    \u001b[37m+        if -x '/usr/sbin/apachectl';\u001b[0m
    \u001b[37m+    if ( $? != 0 ) {\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        # config doesn't work\u001b[0m
    \u001b[37m+        if ( -e \"$enabldir/mpm_prefork.load\" || -e \"$enabldir/mpm_itk.load\" )\u001b[0m
    \u001b[37m+        {\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        elsif (-e \"$enabldir/mpm_worker.load\"\u001b[0m
    \u001b[37m+            || -e \"$enabldir/mpm_event.load\" )\u001b[0m
    \u001b[37m+        {\u001b[0m
    \u001b[37m+            return 1;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        else {\u001b[0m
    \u001b[37m+            error(\"Can't determine enabled MPM\");\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            # do what user requested\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    if ( $result =~ / no/ ) {\u001b[0m
    \u001b[37m+        return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    elsif ( $result =~ / yes/ ) {\u001b[0m
    \u001b[37m+        return 1;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    else {\u001b[0m
    \u001b[37m+        die(\"Can't parse output from apache2ctl -V:\
$result\
\");\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub info {\u001b[0m
    \u001b[37m+    print @_ if !$quiet;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub error {\u001b[0m
    \u001b[37m+    print STDERR 'ERROR: ', @_;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub warning {\u001b[0m
    \u001b[37m+    print STDERR 'WARNING: ', @_;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub is_in {\u001b[0m
    \u001b[37m+    my $needle = shift;\u001b[0m
    \u001b[37m+    foreach my $e (@_) {\u001b[0m
    \u001b[37m+        return 1 if $needle eq $e;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return 0;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub read_env_file {\u001b[0m
    \u001b[37m+    my $file = shift;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    -r $file or return;\u001b[0m
    \u001b[37m+    my @lines = qx{env - sh -c '. $file && env'};\u001b[0m
    \u001b[37m+    if ($?) {\u001b[0m
    \u001b[37m+        die \"Could not read $file\
\";\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    foreach my $l (@lines) {\u001b[0m
    \u001b[37m+        chomp $l;\u001b[0m
    \u001b[37m+        $l =~ /^(.*)?=(.*)$/ or die \"Could not parse $file\
\";\u001b[0m
    \u001b[37m+        $ENV{$1} = $2;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub switch_marker {\u001b[0m
    \u001b[37m+    die('usage: switch_marker([module|site|conf], [enable|disable], $name)')\u001b[0m
    \u001b[37m+        if @_ != 3;\u001b[0m
    \u001b[37m+    my $which = shift;\u001b[0m
    \u001b[37m+    my $what  = shift;\u001b[0m
    \u001b[37m+    my $name  = shift;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my $mode = \"admin\";\u001b[0m
    \u001b[37m+    $mode = \"maint\" if $maintmode;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    #print(\"switch_marker $which $what $name\
\");\u001b[0m
    \u001b[37m+    # TODO: get rid of the magic string(s)\u001b[0m
    \u001b[37m+    my $state_marker_dir = \"$statedir/$what\" . \"d\" . \"_by_$mode\";\u001b[0m
    \u001b[37m+    my $state_marker     = \"$state_marker_dir/$name\";\u001b[0m
    \u001b[37m+    if ( !-d $state_marker_dir ) {\u001b[0m
    \u001b[37m+        File::Path::mkpath(\"$state_marker_dir\")\u001b[0m
    \u001b[37m+            || error(\u001b[0m
    \u001b[37m+            \"Failed to create marker directory: '$state_marker_dir'\
\");\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    # XXX: swap find with perl alternative\u001b[0m
    \u001b[37m+    my @markers = qx{find \"$statedir\" -type f -a -name \"$name\"};\u001b[0m
    \u001b[37m+    chomp(@markers);\u001b[0m
    \u001b[37m+    foreach (@markers) {\u001b[0m
    \u001b[37m+        unless ( unlink $_ ) {\u001b[0m
    \u001b[37m+            error(\"Failed to remove old marker '$_'!\
\") && return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    unless ($purge) {\u001b[0m
    \u001b[37m+        qx{touch \"$state_marker\"};\u001b[0m
    \u001b[37m+        if ( $? != 0 ) {\u001b[0m
    \u001b[37m+            error(\"Failed to create marker '$state_marker'!\
\") && return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        return 1;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+# vim: syntax=perl sw=4 sts=4 sr et\u001b[0m
    \u001b[32m- change mode from '' to '0700'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0m  * link[/usr/sbin/a2disconf] action delete (skipped due to only_if)
  * template[/usr/sbin/a2disconf] action create
    \u001b[32m- create new file /usr/sbin/a2disconf\u001b[0m
    \u001b[32m- update content in file /usr/sbin/a2disconf from none to 0556b3\u001b[0m
    \u001b[37m--- /usr/sbin/a2disconf\t2019-04-26 14:50:56.333804338 +0000\u001b[0m
    \u001b[37m+++ /usr/sbin/.chef-a2disconf20190426-67198-7pxpff\t2019-04-26 14:50:56.333804338 +0000\u001b[0m
    \u001b[37m@@ -1 +1,533 @@\u001b[0m
    \u001b[37m+#!/usr/bin/perl -w\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# a2enmod by Stefan Fritsch <sf@debian.org>\u001b[0m
    \u001b[37m+# Licensed under Apache License 2.0\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# The coding style is \"perltidy -pbp\"\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+use strict;\u001b[0m
    \u001b[37m+use Cwd 'realpath';\u001b[0m
    \u001b[37m+use File::Spec;\u001b[0m
    \u001b[37m+use File::Basename;\u001b[0m
    \u001b[37m+use File::Path;\u001b[0m
    \u001b[37m+use Getopt::Long;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $quiet;\u001b[0m
    \u001b[37m+my $force;\u001b[0m
    \u001b[37m+my $maintmode;\u001b[0m
    \u001b[37m+my $purge;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+Getopt::Long::Configure('bundling');\u001b[0m
    \u001b[37m+GetOptions(\u001b[0m
    \u001b[37m+    'quiet|q'     => \\$quiet,\u001b[0m
    \u001b[37m+    'force|f'     => \\$force,\u001b[0m
    \u001b[37m+    'maintmode|m' => \\$maintmode,\u001b[0m
    \u001b[37m+    'purge|p'     => \\$purge\u001b[0m
    \u001b[37m+) or exit 2;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $basename = basename($0);\u001b[0m
    \u001b[37m+$basename =~ /^a2(en|dis)(mod|site|conf)((?:-.+)?)$/\u001b[0m
    \u001b[37m+    or die \"$basename call name unknown\
\";\u001b[0m
    \u001b[37m+my $act        = $1;\u001b[0m
    \u001b[37m+my $obj        = $2;\u001b[0m
    \u001b[37m+my $dir_suffix = $3;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $env_file = $ENV{APACHE_ENVVARS}\u001b[0m
    \u001b[37m+    || (\u001b[0m
    \u001b[37m+    $ENV{APACHE_CONFDIR}\u001b[0m
    \u001b[37m+    ? \"$ENV{APACHE_CONFDIR}/envvars\"\u001b[0m
    \u001b[37m+    : \"/etc/httpd$dir_suffix/envvars\"\u001b[0m
    \u001b[37m+    );\u001b[0m
    \u001b[37m+$ENV{LANG} = 'C';\u001b[0m
    \u001b[37m+read_env_file($env_file);\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+$act .= 'able';\u001b[0m
    \u001b[37m+my ( $name, $dir, $sffx, $reload );\u001b[0m
    \u001b[37m+if ( $obj eq 'mod' ) {\u001b[0m
    \u001b[37m+    $obj    = 'module';\u001b[0m
    \u001b[37m+    $dir    = 'mods';\u001b[0m
    \u001b[37m+    $sffx   = '.load';\u001b[0m
    \u001b[37m+    $reload = 'restart';\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+elsif ( $obj eq 'conf' ) {\u001b[0m
    \u001b[37m+    $obj    = 'conf';\u001b[0m
    \u001b[37m+    $dir    = 'conf';\u001b[0m
    \u001b[37m+    $sffx   = '.conf';\u001b[0m
    \u001b[37m+    $reload = 'reload';\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+else {\u001b[0m
    \u001b[37m+    $dir    = 'sites';\u001b[0m
    \u001b[37m+    $sffx   = '.conf';\u001b[0m
    \u001b[37m+    $reload = 'reload';\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+$name = ucfirst($obj);\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $confdir = $ENV{APACHE_CONFDIR} || \"/etc/httpd$dir_suffix\";\u001b[0m
    \u001b[37m+my $availdir = $ENV{ uc(\"APACHE_${dir}_AVAILABLE\") }\u001b[0m
    \u001b[37m+    || \"$confdir/$dir-available\";\u001b[0m
    \u001b[37m+my $enabldir = $ENV{ uc(\"APACHE_${dir}_ENABLED\") } || \"$confdir/$dir-enabled\";\u001b[0m
    \u001b[37m+my $statedir = $ENV{ uc(\"APACHE_STATE_DIRECTORY\") } || \"/usr/lib64/httpd\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+$statedir .= \"/$obj\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $choicedir = $act eq 'enable' ? $availdir : $enabldir;\u001b[0m
    \u001b[37m+my $linkdir = File::Spec->abs2rel( $availdir, $enabldir );\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $request_reload = 0;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my $rc = 0;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+if ( !scalar @ARGV ) {\u001b[0m
    \u001b[37m+    my @choices = myglob('*');\u001b[0m
    \u001b[37m+    print \"Your choices are: @choices\
\";\u001b[0m
    \u001b[37m+    print \"Which ${obj}(s) do you want to $act (wildcards ok)?\
\";\u001b[0m
    \u001b[37m+    my $input = <>;\u001b[0m
    \u001b[37m+    @ARGV = split /\\s+/, $input;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+my @objs;\u001b[0m
    \u001b[37m+foreach my $arg (@ARGV) {\u001b[0m
    \u001b[37m+    $arg =~ s/${sffx}$//;\u001b[0m
    \u001b[37m+    my @glob = myglob($arg);\u001b[0m
    \u001b[37m+    if ( !@glob ) {\u001b[0m
    \u001b[37m+        error(\"No $obj found matching $arg!\
\");\u001b[0m
    \u001b[37m+        $rc = 1;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    else {\u001b[0m
    \u001b[37m+        push @objs, @glob;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+foreach my $acton (@objs) {\u001b[0m
    \u001b[37m+    doit($acton) or $rc = 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+info(\u001b[0m
    \u001b[37m+    \"To activate the new configuration, you need to run:\
  service apache2 $reload\
\"\u001b[0m
    \u001b[37m+) if $request_reload;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+exit($rc);\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+##############################################################################\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub myglob {\u001b[0m
    \u001b[37m+    my $arg = shift;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my @glob = map {\u001b[0m
    \u001b[37m+        s{^$choicedir/}{};\u001b[0m
    \u001b[37m+        s{$sffx$}{};\u001b[0m
    \u001b[37m+        $_\u001b[0m
    \u001b[37m+    } glob(\"$choicedir/$arg$sffx\");\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    return @glob;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub doit {\u001b[0m
    \u001b[37m+    my $acton = shift;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my ( $conftgt, $conflink );\u001b[0m
    \u001b[37m+    if ( $obj eq 'module' ) {\u001b[0m
    \u001b[37m+        if ( $acton eq 'cgi' && threaded() ) {\u001b[0m
    \u001b[37m+            print\u001b[0m
    \u001b[37m+                \"Your MPM seems to be threaded. Selecting cgid instead of cgi.\
\";\u001b[0m
    \u001b[37m+            $acton = 'cgid';\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        $conftgt = \"$availdir/$acton.conf\";\u001b[0m
    \u001b[37m+        if ( -e $conftgt ) {\u001b[0m
    \u001b[37m+            $conflink = \"$enabldir/$acton.conf\";\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my $tgt  = \"$availdir/$acton$sffx\";\u001b[0m
    \u001b[37m+    my $link = \"$enabldir/$acton$sffx\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( !-e $tgt ) {\u001b[0m
    \u001b[37m+        if ( -l $link && !-e $link ) {\u001b[0m
    \u001b[37m+            if ( $act eq 'disable' ) {\u001b[0m
    \u001b[37m+                info(\"removing dangling symlink $link\
\");\u001b[0m
    \u001b[37m+                unlink($link);\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                # force a .conf path. It may exist as dangling link, too\u001b[0m
    \u001b[37m+                $conflink = \"$enabldir/$acton.conf\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                if ( -l $conflink && !-e $conflink ) {\u001b[0m
    \u001b[37m+                    info(\"removing dangling symlink $conflink\
\");\u001b[0m
    \u001b[37m+                    unlink($conflink);\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                return 1;\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            else {\u001b[0m
    \u001b[37m+                error(\"$link is a dangling symlink!\
\");\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        if ( $purge ) {\u001b[0m
    \u001b[37m+            switch_marker( $obj, $act, $acton );\u001b[0m
    \u001b[37m+            # exit silently, we are purging anyway\u001b[0m
    \u001b[37m+            return 1;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        error(\"$name $acton does not exist!\
\");\u001b[0m
    \u001b[37m+        return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    # handle module dependencies\u001b[0m
    \u001b[37m+    if ( $obj eq 'module' ) {\u001b[0m
    \u001b[37m+        if ( $act eq 'enable' ) {\u001b[0m
    \u001b[37m+            if ( $acton eq 'mpm_itk' ) {\u001b[0m
    \u001b[37m+                warning(  \"MPM_ITK is a third party module that is not part \"\u001b[0m
    \u001b[37m+                        . \"of the official Apache HTTPD. It has seen less \"\u001b[0m
    \u001b[37m+                        . \"testing than the official MPM modules.\" );\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            my @depends = get_deps(\"$availdir/$acton.load\");\u001b[0m
    \u001b[37m+            do_deps( $acton, @depends ) or return 0;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            my @conflicts = get_deps( \"$availdir/$acton.load\", \"Conflicts\" );\u001b[0m
    \u001b[37m+            check_conflicts( $acton, @conflicts ) or return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        else {\u001b[0m
    \u001b[37m+            my @depending;\u001b[0m
    \u001b[37m+            foreach my $d ( glob(\"$enabldir/*.load\") ) {\u001b[0m
    \u001b[37m+                my @deps = get_deps($d);\u001b[0m
    \u001b[37m+                if ( is_in( $acton, @deps ) ) {\u001b[0m
    \u001b[37m+                    $d =~ m,/([^/]+).load$,;\u001b[0m
    \u001b[37m+                    push @depending, $1;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            if ( scalar @depending ) {\u001b[0m
    \u001b[37m+                if ($force) {\u001b[0m
    \u001b[37m+                    do_deps( $acton, @depending ) or return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+                else {\u001b[0m
    \u001b[37m+                    error(\u001b[0m
    \u001b[37m+                        \"The following modules depend on $acton \",\u001b[0m
    \u001b[37m+                        \"and need to be disabled first: @depending\
\"\u001b[0m
    \u001b[37m+                    );\u001b[0m
    \u001b[37m+                    return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    elsif ( $act eq 'enable' ) {\u001b[0m
    \u001b[37m+        my @depends = get_deps(\"$availdir/$acton$sffx\");\u001b[0m
    \u001b[37m+        warn_deps( $acton, @depends ) or return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( $act eq 'enable' ) {\u001b[0m
    \u001b[37m+        my $check = check_link( $tgt, $link );\u001b[0m
    \u001b[37m+        if ( $check eq 'ok' ) {\u001b[0m
    \u001b[37m+            if ($conflink) {\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                # handle .conf file\u001b[0m
    \u001b[37m+                my $confcheck = check_link( $conftgt, $conflink );\u001b[0m
    \u001b[37m+                if ( $confcheck eq 'ok' ) {\u001b[0m
    \u001b[37m+                    info(\"$name $acton already enabled\
\");\u001b[0m
    \u001b[37m+                    return 1;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+                elsif ( $confcheck eq 'missing' ) {\u001b[0m
    \u001b[37m+                    print \"Enabling config file $acton.conf.\
\";\u001b[0m
    \u001b[37m+                    add_link( $conftgt, $conflink ) or return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+                else {\u001b[0m
    \u001b[37m+                    error(\u001b[0m
    \u001b[37m+                        \"Config file $acton.conf not properly enabled: $confcheck\
\"\u001b[0m
    \u001b[37m+                    );\u001b[0m
    \u001b[37m+                    return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            else {\u001b[0m
    \u001b[37m+                info(\"$name $acton already enabled\
\");\u001b[0m
    \u001b[37m+                return 1;\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        elsif ( $check eq 'missing' ) {\u001b[0m
    \u001b[37m+            if ($conflink) {\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+                # handle .conf file\u001b[0m
    \u001b[37m+                my $confcheck = check_link( $conftgt, $conflink );\u001b[0m
    \u001b[37m+                if ( $confcheck eq 'missing' ) {\u001b[0m
    \u001b[37m+                    add_link( $conftgt, $conflink ) or return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+                elsif ( $confcheck ne 'ok' ) {\u001b[0m
    \u001b[37m+                    error(\u001b[0m
    \u001b[37m+                        \"Config file $acton.conf not properly enabled: $confcheck\
\"\u001b[0m
    \u001b[37m+                    );\u001b[0m
    \u001b[37m+                    return 0;\u001b[0m
    \u001b[37m+                }\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            print \"Enabling $obj $acton.\
\";\u001b[0m
    \u001b[37m+            if ( $acton eq 'ssl' ) {\u001b[0m
    \u001b[37m+                info(     \"See /usr/share/doc/apache2/README.Debian.gz on \"\u001b[0m
    \u001b[37m+                        . \"how to configure SSL and create self-signed certificates.\
\"\u001b[0m
    \u001b[37m+                );\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            return add_link( $tgt, $link )\u001b[0m
    \u001b[37m+                && switch_marker( $obj, $act, $acton );\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        else {\u001b[0m
    \u001b[37m+            error(\"$name $acton not properly enabled: $check\
\");\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    else {\u001b[0m
    \u001b[37m+        if ( -e $link || -l $link ) {\u001b[0m
    \u001b[37m+            remove_link($link);\u001b[0m
    \u001b[37m+            if ( $conflink && -e $conflink ) {\u001b[0m
    \u001b[37m+                remove_link($conflink);\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            switch_marker( $obj, $act, $acton );\u001b[0m
    \u001b[37m+            print \"$name $acton disabled.\
\";\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        elsif ( $conflink && -e $conflink ) {\u001b[0m
    \u001b[37m+            print \"Disabling stale config file $acton.conf.\
\";\u001b[0m
    \u001b[37m+            remove_link($conflink);\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        else {\u001b[0m
    \u001b[37m+            info(\"$name $acton already disabled\
\");\u001b[0m
    \u001b[37m+            if ( $purge ) {\u001b[0m
    \u001b[37m+                switch_marker( $obj, $act, $acton );\u001b[0m
    \u001b[37m+            }\u001b[0m
    \u001b[37m+            return 1;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub get_deps {\u001b[0m
    \u001b[37m+    my $file = shift;\u001b[0m
    \u001b[37m+    my $type = shift || \"Depends\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my $fd;\u001b[0m
    \u001b[37m+    if ( !open( $fd, '<', $file ) ) {\u001b[0m
    \u001b[37m+        error(\"Can't open $file: $!\");\u001b[0m
    \u001b[37m+        return;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    my $line;\u001b[0m
    \u001b[37m+    while ( defined( $line = <$fd> ) ) {\u001b[0m
    \u001b[37m+        chomp $line;\u001b[0m
    \u001b[37m+        if ( $line =~ /^# $type:\\s+(.*?)\\s*$/ ) {\u001b[0m
    \u001b[37m+            my $deps = $1;\u001b[0m
    \u001b[37m+            return split( /[\
\\s]+/, $deps );\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        # only check until the first non-empty non-comment line\u001b[0m
    \u001b[37m+        last if ( $line !~ /^\\s*(?:#.*)?$/ );\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub do_deps {\u001b[0m
    \u001b[37m+    my $acton = shift;\u001b[0m
    \u001b[37m+    foreach my $d (@_) {\u001b[0m
    \u001b[37m+        info(\"Considering dependency $d for $acton:\
\");\u001b[0m
    \u001b[37m+        if ( !doit($d) ) {\u001b[0m
    \u001b[37m+            error(\"Could not $act dependency $d for $acton, aborting\
\");\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub warn_deps {\u001b[0m
    \u001b[37m+    my $acton = shift;\u001b[0m
    \u001b[37m+    my $modsenabldir = $ENV{APACHE_MODS_ENABLED} || \"$confdir/mods-enabled\";\u001b[0m
    \u001b[37m+    foreach my $d (@_) {\u001b[0m
    \u001b[37m+        info(\"Checking dependency $d for $acton:\
\");\u001b[0m
    \u001b[37m+        if ( !-e \"$modsenabldir/$d.load\" ) {\u001b[0m
    \u001b[37m+            warning(\u001b[0m
    \u001b[37m+                \"Module $d is not enabled, but $acton depends on it, aborting\
\"\u001b[0m
    \u001b[37m+            );\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub check_conflicts {\u001b[0m
    \u001b[37m+    my $acton    = shift;\u001b[0m
    \u001b[37m+    my $haderror = 0;\u001b[0m
    \u001b[37m+    foreach my $d (@_) {\u001b[0m
    \u001b[37m+        info(\"Considering conflict $d for $acton:\
\");\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        my $tgt  = \"$availdir/$d$sffx\";\u001b[0m
    \u001b[37m+        my $link = \"$enabldir/$d$sffx\";\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        my $confcheck = check_link( $tgt, $link );\u001b[0m
    \u001b[37m+        if ( $confcheck eq 'ok' ) {\u001b[0m
    \u001b[37m+            error(\u001b[0m
    \u001b[37m+                \"Module $d is enabled - cannot proceed due to conflicts. It needs to be disabled first!\
\"\u001b[0m
    \u001b[37m+            );\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            # Don't return immediately, there could be several conflicts\u001b[0m
    \u001b[37m+            $haderror++;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ($haderror) {\u001b[0m
    \u001b[37m+        return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub add_link {\u001b[0m
    \u001b[37m+    my ( $tgt, $link ) = @_;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    # create relative link\u001b[0m
    \u001b[37m+    if ( !symlink( File::Spec->abs2rel( $tgt, dirname($link) ), $link ) ) {\u001b[0m
    \u001b[37m+        die(\"Could not create $link: $!\
\");\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    $request_reload = 1;\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub check_link {\u001b[0m
    \u001b[37m+    my ( $tgt, $link ) = @_;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( !-e $link ) {\u001b[0m
    \u001b[37m+        if ( -l $link ) {\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            # points to nowhere\u001b[0m
    \u001b[37m+            info(\"Removing dangling link $link\");\u001b[0m
    \u001b[37m+            unlink($link) or die \"Could not remove $link\
\";\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        return 'missing';\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( -e $link && !-l $link ) {\u001b[0m
    \u001b[37m+        return \"$link is a real file, not touching it\";\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    if ( realpath($link) ne realpath($tgt) ) {\u001b[0m
    \u001b[37m+        return \"$link exists but does not point to $tgt, not touching it\";\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return 'ok';\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub remove_link {\u001b[0m
    \u001b[37m+    my ($link) = @_;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    if ( -l $link ) {\u001b[0m
    \u001b[37m+        unlink($link) or die \"Could not remove $link: $!\
\";\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    elsif ( -e $link ) {\u001b[0m
    \u001b[37m+        error(\"$link is not a symbolic link, not deleting\
\");\u001b[0m
    \u001b[37m+        return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    $request_reload = 1;\u001b[0m
    \u001b[37m+    return 1;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub threaded {\u001b[0m
    \u001b[37m+    my $result = \"\";\u001b[0m
    \u001b[37m+    $result = qx{/usr/sbin/apachectl -V | grep 'threaded'}\u001b[0m
    \u001b[37m+        if -x '/usr/sbin/apachectl';\u001b[0m
    \u001b[37m+    if ( $? != 0 ) {\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+        # config doesn't work\u001b[0m
    \u001b[37m+        if ( -e \"$enabldir/mpm_prefork.load\" || -e \"$enabldir/mpm_itk.load\" )\u001b[0m
    \u001b[37m+        {\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        elsif (-e \"$enabldir/mpm_worker.load\"\u001b[0m
    \u001b[37m+            || -e \"$enabldir/mpm_event.load\" )\u001b[0m
    \u001b[37m+        {\u001b[0m
    \u001b[37m+            return 1;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        else {\u001b[0m
    \u001b[37m+            error(\"Can't determine enabled MPM\");\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+            # do what user requested\u001b[0m
    \u001b[37m+            return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    if ( $result =~ / no/ ) {\u001b[0m
    \u001b[37m+        return 0;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    elsif ( $result =~ / yes/ ) {\u001b[0m
    \u001b[37m+        return 1;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    else {\u001b[0m
    \u001b[37m+        die(\"Can't parse output from apache2ctl -V:\
$result\
\");\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub info {\u001b[0m
    \u001b[37m+    print @_ if !$quiet;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub error {\u001b[0m
    \u001b[37m+    print STDERR 'ERROR: ', @_;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub warning {\u001b[0m
    \u001b[37m+    print STDERR 'WARNING: ', @_;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub is_in {\u001b[0m
    \u001b[37m+    my $needle = shift;\u001b[0m
    \u001b[37m+    foreach my $e (@_) {\u001b[0m
    \u001b[37m+        return 1 if $needle eq $e;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    return 0;\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub read_env_file {\u001b[0m
    \u001b[37m+    my $file = shift;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    -r $file or return;\u001b[0m
    \u001b[37m+    my @lines = qx{env - sh -c '. $file && env'};\u001b[0m
    \u001b[37m+    if ($?) {\u001b[0m
    \u001b[37m+        die \"Could not read $file\
\";\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    foreach my $l (@lines) {\u001b[0m
    \u001b[37m+        chomp $l;\u001b[0m
    \u001b[37m+        $l =~ /^(.*)?=(.*)$/ or die \"Could not parse $file\
\";\u001b[0m
    \u001b[37m+        $ENV{$1} = $2;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+sub switch_marker {\u001b[0m
    \u001b[37m+    die('usage: switch_marker([module|site|conf], [enable|disable], $name)')\u001b[0m
    \u001b[37m+        if @_ != 3;\u001b[0m
    \u001b[37m+    my $which = shift;\u001b[0m
    \u001b[37m+    my $what  = shift;\u001b[0m
    \u001b[37m+    my $name  = shift;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    my $mode = \"admin\";\u001b[0m
    \u001b[37m+    $mode = \"maint\" if $maintmode;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    #print(\"switch_marker $which $what $name\
\");\u001b[0m
    \u001b[37m+    # TODO: get rid of the magic string(s)\u001b[0m
    \u001b[37m+    my $state_marker_dir = \"$statedir/$what\" . \"d\" . \"_by_$mode\";\u001b[0m
    \u001b[37m+    my $state_marker     = \"$state_marker_dir/$name\";\u001b[0m
    \u001b[37m+    if ( !-d $state_marker_dir ) {\u001b[0m
    \u001b[37m+        File::Path::mkpath(\"$state_marker_dir\")\u001b[0m
    \u001b[37m+            || error(\u001b[0m
    \u001b[37m+            \"Failed to create marker directory: '$state_marker_dir'\
\");\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    # XXX: swap find with perl alternative\u001b[0m
    \u001b[37m+    my @markers = qx{find \"$statedir\" -type f -a -name \"$name\"};\u001b[0m
    \u001b[37m+    chomp(@markers);\u001b[0m
    \u001b[37m+    foreach (@markers) {\u001b[0m
    \u001b[37m+        unless ( unlink $_ ) {\u001b[0m
    \u001b[37m+            error(\"Failed to remove old marker '$_'!\
\") && return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+    unless ($purge) {\u001b[0m
    \u001b[37m+        qx{touch \"$state_marker\"};\u001b[0m
    \u001b[37m+        if ( $? != 0 ) {\u001b[0m
    \u001b[37m+            error(\"Failed to create marker '$state_marker'!\
\") && return 0;\u001b[0m
    \u001b[37m+        }\u001b[0m
    \u001b[37m+        return 1;\u001b[0m
    \u001b[37m+    }\u001b[0m
    \u001b[37m+}\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+# vim: syntax=perl sw=4 sts=4 sr et\u001b[0m
    \u001b[32m- change mode from '' to '0700'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0m  * cookbook_file[/usr/local/bin/apache2_module_conf_generate.pl] action create
    \u001b[32m- create new file /usr/local/bin/apache2_module_conf_generate.pl\u001b[0m
    \u001b[32m- update content in file /usr/local/bin/apache2_module_conf_generate.pl from none to eaf6aa\u001b[0m
    \u001b[37m--- /usr/local/bin/apache2_module_conf_generate.pl\t2019-04-26 14:50:56.349804916 +0000\u001b[0m
    \u001b[37m+++ /usr/local/bin/.chef-apache2_module_conf_generate20190426-67198-e69b2e.pl\t2019-04-26 14:50:56.349804916 +0000\u001b[0m
    \u001b[37m@@ -1 +1,42 @@\u001b[0m
    \u001b[37m+#!/usr/bin/perl\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+=begin\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+Generates Ubuntu style module.load files.\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+./apache2_module_conf_generate.pl /usr/lib64/httpd/modules /etc/httpd/mods-available\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+ARGV[0] is the apache modules directory, ARGV[1] is where you want 'em.\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+=cut\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+use File::Find;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+use strict;\u001b[0m
    \u001b[37m+use warnings;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+die \"Must have '/path/to/modules' and '/path/to/modules.load'\"\u001b[0m
    \u001b[37m+  unless $ARGV[0] && $ARGV[1];\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+find(\u001b[0m
    \u001b[37m+  {\u001b[0m
    \u001b[37m+    wanted => sub {\u001b[0m
    \u001b[37m+      return 1 if $File::Find::name !~ /\\.so$/;\u001b[0m
    \u001b[37m+      my $modfile = $_;\u001b[0m
    \u001b[37m+      $modfile =~ /(lib|mod_)(.+)\\.so$/;\u001b[0m
    \u001b[37m+      my $modname  = $2;\u001b[0m
    \u001b[37m+      my $filename = \"$ARGV[1]/$modname.load\";\u001b[0m
    \u001b[37m+      unless ( -f $filename ) {\u001b[0m
    \u001b[37m+        open( FILE, \">\", $filename ) or die \"Cannot open $filename\";\u001b[0m
    \u001b[37m+        print FILE \"LoadModule \" . $modname . \"_module $File::Find::name\
\";\u001b[0m
    \u001b[37m+        close(FILE);\u001b[0m
    \u001b[37m+      }\u001b[0m
    \u001b[37m+    },\u001b[0m
    \u001b[37m+    follow => 1,\u001b[0m
    \u001b[37m+  },\u001b[0m
    \u001b[37m+  $ARGV[0]\u001b[0m
    \u001b[37m+);\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+exit 0;\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[32m- change mode from '' to '0755'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0m  * execute[generate-module-list] action nothing (skipped due to action :nothing)
  * directory[/etc/httpd/ssl] action create
    \u001b[32m- create new directory /etc/httpd/ssl\u001b[0m
    \u001b[32m- change mode from '' to '0755'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0m  * directory[/var/cache/httpd] action create
    \u001b[32m- change mode from '0700' to '0755'\u001b[0m
    \u001b[32m- change owner from 'apache' to 'root'\u001b[0m
    \u001b[32m- change group from 'apache' to 'root'\u001b[0m
\u001b[0m  * directory[/var/run/httpd] action create
    \u001b[32m- change mode from '0710' to '0755'\u001b[0m
    \u001b[32m- change group from 'apache' to 'root'\u001b[0m
\u001b[0m  * template[/etc/sysconfig/httpd] action create
    \u001b[32m- update content in file /etc/sysconfig/httpd from fa3a9b to a17f9c\u001b[0m
    \u001b[37m--- /etc/sysconfig/httpd\t2018-10-30 15:00:25.000000000 +0000\u001b[0m
    \u001b[37m+++ /etc/sysconfig/.chef-httpd20190426-67198-pbz3l7\t2019-04-26 14:50:56.361805350 +0000\u001b[0m
    \u001b[37m@@ -1,14 +1,12 @@\u001b[0m
    \u001b[37m+# This file is managed by Chef. Changes will be overwritten.\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-# This file can be used to set additional environment variables for\u001b[0m
    \u001b[37m-# the httpd process, or pass additional options to the httpd\u001b[0m
    \u001b[37m-# executable.\u001b[0m
    \u001b[37m+# The default processing model (MPM) is the process-based\u001b[0m
    \u001b[37m+# 'prefork' model.  A thread-based model, 'worker', is also\u001b[0m
    \u001b[37m+# available, but does not work with some modules (such as PHP).\u001b[0m
    \u001b[37m+# The service must be stopped before changing this variable.\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-# Note: With previous versions of httpd, the MPM could be changed by\u001b[0m
    \u001b[37m-# editing an \"HTTPD\" variable here.  With the current version, that\u001b[0m
    \u001b[37m-# variable is now ignored.  The MPM is a loadable module, and the\u001b[0m
    \u001b[37m-# choice of MPM can be changed by editing the configuration file\u001b[0m
    \u001b[37m-# /etc/httpd/conf.modules.d/00-mpm.conf.\u001b[0m
    \u001b[37m-# \u001b[0m
    \u001b[37m+HTTPD=/usr/sbin/httpd\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m # To pass additional options (for instance, -D definitions) to the\u001b[0m
    \u001b[37m@@ -17,10 +15,19 @@\u001b[0m
    \u001b[37m #OPTIONS=\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-# This setting ensures the httpd process is started in the \"C\" locale\u001b[0m
    \u001b[37m-# by default.  (Some modules will not behave correctly if\u001b[0m
    \u001b[37m-# case-sensitive string comparisons are performed in a different\u001b[0m
    \u001b[37m-# locale.)\u001b[0m
    \u001b[37m+# By default, the httpd process is started in the C locale; to\u001b[0m
    \u001b[37m+# change the locale in which the server runs, the HTTPD_LANG\u001b[0m
    \u001b[37m+# variable can be set.\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-LANG=C\u001b[0m
    \u001b[37m+HTTPD_LANG=C\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# By default, the httpd process will create the file\u001b[0m
    \u001b[37m+# /var/run/httpd/httpd.pid in which it records its process\u001b[0m
    \u001b[37m+# identification number when it starts.  If an alternate location is\u001b[0m
    \u001b[37m+# specified in httpd.conf (via the PidFile directive), the new\u001b[0m
    \u001b[37m+# location needs to be reported in the PIDFILE.\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+PIDFILE=/var/run/httpd/httpd.pid\u001b[0m
    \u001b[37m+\u001b[0m
\u001b[0m  * template[/etc/httpd/envvars] action create (skipped due to only_if)
  * template[apache2.conf] action create
    \u001b[32m- update content in file /etc/httpd/conf/httpd.conf from 3f002b to 91de15\u001b[0m
    \u001b[37m--- /etc/httpd/conf/httpd.conf\t2018-10-30 15:00:25.000000000 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/conf/.chef-httpd20190426-67198-y092ui.conf\t2019-04-26 14:50:56.367805567 +0000\u001b[0m
    \u001b[37m@@ -1,185 +1,111 @@\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-# This is the main Apache HTTP server configuration file.  It contains the\u001b[0m
    \u001b[37m-# configuration directives that give the server its instructions.\u001b[0m
    \u001b[37m-# See <URL:http://httpd.apache.org/docs/2.4/> for detailed information.\u001b[0m
    \u001b[37m-# In particular, see \u001b[0m
    \u001b[37m-# <URL:http://httpd.apache.org/docs/2.4/mod/directives.html>\u001b[0m
    \u001b[37m-# for a discussion of each configuration directive.\u001b[0m
    \u001b[37m+# Generated by Chef\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-# Do NOT simply read the instructions in here without understanding\u001b[0m
    \u001b[37m-# what they do.  They're here only as hints or reminders.  If you are unsure\u001b[0m
    \u001b[37m-# consult the online docs. You have been warned.  \u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# Configuration and logfile names: If the filenames you specify for many\u001b[0m
    \u001b[37m-# of the server's control files begin with \"/\" (or \"drive:/\" for Win32), the\u001b[0m
    \u001b[37m-# server will use that explicit path.  If the filenames do *not* begin\u001b[0m
    \u001b[37m-# with \"/\", the value of ServerRoot is prepended -- so 'log/access_log'\u001b[0m
    \u001b[37m-# with ServerRoot set to '/www' will be interpreted by the\u001b[0m
    \u001b[37m-# server as '/www/log/access_log', where as '/log/access_log' will be\u001b[0m
    \u001b[37m-# interpreted as '/log/access_log'.\u001b[0m
    \u001b[37m+# Based on the Ubuntu apache2.conf\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# ServerRoot: The top of the directory tree under which the server's\u001b[0m
    \u001b[37m-# configuration, error, and log files are kept.\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# Do not add a slash at the end of the directory path.  If you point\u001b[0m
    \u001b[37m-# ServerRoot at a non-local disk, be sure to specify a local disk on the\u001b[0m
    \u001b[37m-# Mutex directive, if file-based mutexes are used.  If you wish to share the\u001b[0m
    \u001b[37m-# same ServerRoot for multiple httpd daemons, you will need to change at\u001b[0m
    \u001b[37m-# least PidFile.\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m ServerRoot \"/etc/httpd\"\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-# Listen: Allows you to bind Apache to specific IP addresses and/or\u001b[0m
    \u001b[37m-# ports, instead of the default. See also the <VirtualHost>\u001b[0m
    \u001b[37m-# directive.\u001b[0m
    \u001b[37m+# The accept serialization lock file MUST BE STORED ON A LOCAL DISK.\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-# Change this to Listen on specific IP addresses as shown below to \u001b[0m
    \u001b[37m-# prevent Apache from glomming onto all bound IP addresses.\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-#Listen 12.34.56.78:80\u001b[0m
    \u001b[37m-Listen 80\u001b[0m
    \u001b[37m+Mutex file:/var/run/httpd default\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-# Dynamic Shared Object (DSO) Support\u001b[0m
    \u001b[37m+# PidFile: The file in which the server should record its process\u001b[0m
    \u001b[37m+# identification number when it starts.\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-# To be able to use the functionality of a module which was built as a DSO you\u001b[0m
    \u001b[37m-# have to place corresponding `LoadModule' lines at this location so the\u001b[0m
    \u001b[37m-# directives contained in it are actually available _before_ they are used.\u001b[0m
    \u001b[37m-# Statically compiled modules (those listed by `httpd -l') do not need\u001b[0m
    \u001b[37m-# to be loaded here.\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# Example:\u001b[0m
    \u001b[37m-# LoadModule foo_module modules/mod_foo.so\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-Include conf.modules.d/*.conf\u001b[0m
    \u001b[37m+PidFile /var/run/httpd/httpd.pid\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-# If you wish httpd to run as a different user or group, you must run\u001b[0m
    \u001b[37m-# httpd as root initially and it will switch.  \u001b[0m
    \u001b[37m+# Timeout: The number of seconds before receives and sends time out.\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-# User/Group: The name (or #number) of the user/group to run httpd as.\u001b[0m
    \u001b[37m-# It is usually good practice to create a dedicated user and group for\u001b[0m
    \u001b[37m-# running httpd, as with most system services.\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-User apache\u001b[0m
    \u001b[37m-Group apache\u001b[0m
    \u001b[37m+Timeout 300\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m-# 'Main' server configuration\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-# The directives in this section set up the values used by the 'main'\u001b[0m
    \u001b[37m-# server, which responds to any requests that aren't handled by a\u001b[0m
    \u001b[37m-# <VirtualHost> definition.  These values also provide defaults for\u001b[0m
    \u001b[37m-# any <VirtualHost> containers you may define later in the file.\u001b[0m
    \u001b[37m+# KeepAlive: Whether or not to allow persistent connections (more than\u001b[0m
    \u001b[37m+# one request per connection). Set to \"Off\" to deactivate.\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-# All of these directives may appear inside <VirtualHost> containers,\u001b[0m
    \u001b[37m-# in which case these default settings will be overridden for the\u001b[0m
    \u001b[37m-# virtual host being defined.\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m+KeepAlive On\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-# ServerAdmin: Your address, where problems with the server should be\u001b[0m
    \u001b[37m-# e-mailed.  This address appears on some server-generated pages, such\u001b[0m
    \u001b[37m-# as error documents.  e.g. admin@your-domain.com\u001b[0m
    \u001b[37m+# MaxKeepAliveRequests: The maximum number of requests to allow\u001b[0m
    \u001b[37m+# during a persistent connection. Set to 0 to allow an unlimited amount.\u001b[0m
    \u001b[37m+# We recommend you leave this number high, for maximum performance.\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-ServerAdmin root@localhost\u001b[0m
    \u001b[37m+MaxKeepAliveRequests 100\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-# ServerName gives the name and port that the server uses to identify itself.\u001b[0m
    \u001b[37m-# This can often be determined automatically, but we recommend you specify\u001b[0m
    \u001b[37m-# it explicitly to prevent problems during startup.\u001b[0m
    \u001b[37m+# KeepAliveTimeout: Number of seconds to wait for the next request from the\u001b[0m
    \u001b[37m+# same client on the same connection.\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-# If your host doesn't have a registered DNS name, enter its IP address here.\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-#ServerName www.example.com:80\u001b[0m
    \u001b[37m+KeepAliveTimeout 5\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m+#<IfModule unixd_module>\u001b[0m
    \u001b[37m+User apache\u001b[0m
    \u001b[37m+Group apache\u001b[0m
    \u001b[37m+#</IfModule>\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+# Sets the default security model of the Apache2 HTTPD server. It does\u001b[0m
    \u001b[37m+# not allow access to the root filesystem outside of /usr/share and /var/www/html.\u001b[0m
    \u001b[37m+# If your system is serving content from a sub-directory in /srv you must allow\u001b[0m
    \u001b[37m+# access in conf-enabled, or in any related virtual host. e.g.\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-# Deny access to the entirety of your server's filesystem. You must\u001b[0m
    \u001b[37m-# explicitly permit access to web content directories in other \u001b[0m
    \u001b[37m-# <Directory> blocks below.\u001b[0m
    \u001b[37m+#  <Directory /srv/>\u001b[0m
    \u001b[37m+#    Options Indexes FollowSymLinks\u001b[0m
    \u001b[37m+#    AllowOverride None\u001b[0m
    \u001b[37m+#    Require all granted\u001b[0m
    \u001b[37m+#  </Directory>\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m <Directory />\u001b[0m
    \u001b[37m-    AllowOverride none\u001b[0m
    \u001b[37m-    Require all denied\u001b[0m
    \u001b[37m+        Options FollowSymLinks\u001b[0m
    \u001b[37m+        AllowOverride None\u001b[0m
    \u001b[37m+        Require all denied\u001b[0m
    \u001b[37m </Directory>\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# Note that from this point forward you must specifically allow\u001b[0m
    \u001b[37m-# particular features to be enabled - so if something's not working as\u001b[0m
    \u001b[37m-# you might expect, make sure that you have specifically enabled it\u001b[0m
    \u001b[37m-# below.\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# DocumentRoot: The directory out of which you will serve your\u001b[0m
    \u001b[37m-# documents. By default, all requests are taken from this directory, but\u001b[0m
    \u001b[37m-# symbolic links and aliases may be used to point to other locations.\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-DocumentRoot \"/var/www/html\"\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# Relax access to content within /var/www.\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-<Directory \"/var/www\">\u001b[0m
    \u001b[37m-    AllowOverride None\u001b[0m
    \u001b[37m-    # Allow open access:\u001b[0m
    \u001b[37m-    Require all granted\u001b[0m
    \u001b[37m+<Directory /usr/share>\u001b[0m
    \u001b[37m+        AllowOverride None\u001b[0m
    \u001b[37m+        Require all granted\u001b[0m
    \u001b[37m </Directory>\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m-# Further relax access to the default document root:\u001b[0m
    \u001b[37m-<Directory \"/var/www/html\">\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    # Possible values for the Options directive are \"None\", \"All\",\u001b[0m
    \u001b[37m-    # or any combination of:\u001b[0m
    \u001b[37m-    #   Indexes Includes FollowSymLinks SymLinksifOwnerMatch ExecCGI MultiViews\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    # Note that \"MultiViews\" must be named *explicitly* --- \"Options All\"\u001b[0m
    \u001b[37m-    # doesn't give it to you.\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    # The Options directive is both complicated and important.  Please see\u001b[0m
    \u001b[37m-    # http://httpd.apache.org/docs/2.4/mod/core.html#options\u001b[0m
    \u001b[37m-    # for more information.\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    Options Indexes FollowSymLinks\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    # AllowOverride controls what directives may be placed in .htaccess files.\u001b[0m
    \u001b[37m-    # It can be \"All\", \"None\", or any combination of the keywords:\u001b[0m
    \u001b[37m-    #   Options FileInfo AuthConfig Limit\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    AllowOverride None\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    # Controls who can get stuff from this server.\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    Require all granted\u001b[0m
    \u001b[37m+<Directory /var/www/html>\u001b[0m
    \u001b[37m+        Options Indexes FollowSymLinks\u001b[0m
    \u001b[37m+        AllowOverride None\u001b[0m
    \u001b[37m+        Require all granted\u001b[0m
    \u001b[37m </Directory>\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-# DirectoryIndex: sets the file that Apache will serve if a directory\u001b[0m
    \u001b[37m-# is requested.\u001b[0m
    \u001b[37m+# AccessFileName: The name of the file to look for in each directory\u001b[0m
    \u001b[37m+# for additional configuration directives.  See also the AllowOverride\u001b[0m
    \u001b[37m+# directive.\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-<IfModule dir_module>\u001b[0m
    \u001b[37m-    DirectoryIndex index.html\u001b[0m
    \u001b[37m-</IfModule>\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m+AccessFileName .htaccess\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-# The following lines prevent .htaccess and .htpasswd files from being \u001b[0m
    \u001b[37m-# viewed by Web clients. \u001b[0m
    \u001b[37m+# The following lines prevent .htaccess and .htpasswd files from being\u001b[0m
    \u001b[37m+# viewed by Web clients.\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-<Files \".ht*\">\u001b[0m
    \u001b[37m+<Files ~ \"^\\.ht\">\u001b[0m
    \u001b[37m     Require all denied\u001b[0m
    \u001b[37m </Files>\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m+# HostnameLookups: Log the names of clients or just their IP addresses\u001b[0m
    \u001b[37m+# e.g., www.apache.org (on) or 204.62.129.132 (off).\u001b[0m
    \u001b[37m+# The default is off because it'd be overall better for the net if people\u001b[0m
    \u001b[37m+# had to knowingly turn this feature on, since enabling it means that\u001b[0m
    \u001b[37m+# each client request will result in AT LEAST one lookup request to the\u001b[0m
    \u001b[37m+# nameserver.\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+HostnameLookups Off\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m # ErrorLog: The location of the error log file.\u001b[0m
    \u001b[37m # If you do not specify an ErrorLog directive within a <VirtualHost>\u001b[0m
    \u001b[37m # container, error messages relating to that virtual host will be\u001b[0m
    \u001b[37m # logged here.  If you *do* define an error logfile for a <VirtualHost>\u001b[0m
    \u001b[37m # container, that host's errors will be logged there and not here.\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-ErrorLog \"logs/error_log\"\u001b[0m
    \u001b[37m+ErrorLog /var/log/httpd/error.log\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m # LogLevel: Control the number of messages logged to the error_log.\u001b[0m
    \u001b[37m@@ -188,167 +114,31 @@\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m LogLevel warn\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m-<IfModule log_config_module>\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    # The following directives define some format nicknames for use with\u001b[0m
    \u001b[37m-    # a CustomLog directive (see below).\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" combined\u001b[0m
    \u001b[37m-    LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b\" common\u001b[0m
    \u001b[37m+# COOK-1021: Dummy LoadModule directive to aid module installations\u001b[0m
    \u001b[37m+#LoadModule dummy_module modules/mod_dummy.so\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m-    <IfModule logio_module>\u001b[0m
    \u001b[37m-      # You need to enable mod_logio.c to use %I and %O\u001b[0m
    \u001b[37m-      LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\" %I %O\" combinedio\u001b[0m
    \u001b[37m-    </IfModule>\u001b[0m
    \u001b[37m+# Include module configuration:\u001b[0m
    \u001b[37m+IncludeOptional /etc/httpd/mods-enabled/*.load\u001b[0m
    \u001b[37m+IncludeOptional /etc/httpd/mods-enabled/*.conf\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    # The location and format of the access logfile (Common Logfile Format).\u001b[0m
    \u001b[37m-    # If you do not define any access logfiles within a <VirtualHost>\u001b[0m
    \u001b[37m-    # container, they will be logged here.  Contrariwise, if you *do*\u001b[0m
    \u001b[37m-    # define per-<VirtualHost> access logfiles, transactions will be\u001b[0m
    \u001b[37m-    # logged therein and *not* in this file.\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    #CustomLog \"logs/access_log\" common\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    # If you prefer a logfile with access, agent, and referer information\u001b[0m
    \u001b[37m-    # (Combined Logfile Format) you can use the following directive.\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    CustomLog \"logs/access_log\" combined\u001b[0m
    \u001b[37m-</IfModule>\u001b[0m
    \u001b[37m+# Include ports listing\u001b[0m
    \u001b[37m+Include /etc/httpd/ports.conf\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m-<IfModule alias_module>\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    # Redirect: Allows you to tell clients about documents that used to \u001b[0m
    \u001b[37m-    # exist in your server's namespace, but do not anymore. The client \u001b[0m
    \u001b[37m-    # will make a new request for the document at its new location.\u001b[0m
    \u001b[37m-    # Example:\u001b[0m
    \u001b[37m-    # Redirect permanent /foo http://www.example.com/bar\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    # Alias: Maps web paths into filesystem paths and is used to\u001b[0m
    \u001b[37m-    # access content that does not live under the DocumentRoot.\u001b[0m
    \u001b[37m-    # Example:\u001b[0m
    \u001b[37m-    # Alias /webpath /full/filesystem/path\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    # If you include a trailing / on /webpath then the server will\u001b[0m
    \u001b[37m-    # require it to be present in the URL.  You will also likely\u001b[0m
    \u001b[37m-    # need to provide a <Directory> section to allow access to\u001b[0m
    \u001b[37m-    # the filesystem path.\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    # ScriptAlias: This controls which directories contain server scripts. \u001b[0m
    \u001b[37m-    # ScriptAliases are essentially the same as Aliases, except that\u001b[0m
    \u001b[37m-    # documents in the target directory are treated as applications and\u001b[0m
    \u001b[37m-    # run by the server when requested rather than as documents sent to the\u001b[0m
    \u001b[37m-    # client.  The same rules about trailing \"/\" apply to ScriptAlias\u001b[0m
    \u001b[37m-    # directives as to Alias.\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    ScriptAlias /cgi-bin/ \"/var/www/cgi-bin/\"\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-</IfModule>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-# \"/var/www/cgi-bin\" should be changed to whatever your ScriptAliased\u001b[0m
    \u001b[37m-# CGI directory exists, if you have that configured.\u001b[0m
    \u001b[37m+# The following directives define some format nicknames for use with\u001b[0m
    \u001b[37m+# a CustomLog directive (see below).\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-<Directory \"/var/www/cgi-bin\">\u001b[0m
    \u001b[37m-    AllowOverride None\u001b[0m
    \u001b[37m-    Options None\u001b[0m
    \u001b[37m-    Require all granted\u001b[0m
    \u001b[37m-</Directory>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-<IfModule mime_module>\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    # TypesConfig points to the file containing the list of mappings from\u001b[0m
    \u001b[37m-    # filename extension to MIME-type.\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    TypesConfig /etc/mime.types\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    # AddType allows you to add to or override the MIME configuration\u001b[0m
    \u001b[37m-    # file specified in TypesConfig for specific file types.\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    #AddType application/x-gzip .tgz\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    # AddEncoding allows you to have certain browsers uncompress\u001b[0m
    \u001b[37m-    # information on the fly. Note: Not all browsers support this.\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    #AddEncoding x-compress .Z\u001b[0m
    \u001b[37m-    #AddEncoding x-gzip .gz .tgz\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    # If the AddEncoding directives above are commented-out, then you\u001b[0m
    \u001b[37m-    # probably should define those extensions to indicate media types:\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    AddType application/x-compress .Z\u001b[0m
    \u001b[37m-    AddType application/x-gzip .gz .tgz\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    # AddHandler allows you to map certain file extensions to \"handlers\":\u001b[0m
    \u001b[37m-    # actions unrelated to filetype. These can be either built into the server\u001b[0m
    \u001b[37m-    # or added with the Action directive (see below)\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    # To use CGI scripts outside of ScriptAliased directories:\u001b[0m
    \u001b[37m-    # (You will also need to add \"ExecCGI\" to the \"Options\" directive.)\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    #AddHandler cgi-script .cgi\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-    # For type maps (negotiated resources):\u001b[0m
    \u001b[37m-    #AddHandler type-map var\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    # Filters allow you to process content before it is sent to the client.\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    # To parse .shtml files for server-side includes (SSI):\u001b[0m
    \u001b[37m-    # (You will also need to add \"Includes\" to the \"Options\" directive.)\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    AddType text/html .shtml\u001b[0m
    \u001b[37m-    AddOutputFilter INCLUDES .shtml\u001b[0m
    \u001b[37m-</IfModule>\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m+LogFormat \"%v:%p %h %l %u %t \\\"%r\\\" %>s %O \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" vhost_combined\u001b[0m
    \u001b[37m+LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" combined\u001b[0m
    \u001b[37m+LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b\" common\u001b[0m
    \u001b[37m+LogFormat \"%{Referer}i -> %U\" referer\u001b[0m
    \u001b[37m+LogFormat \"%{User-agent}i\" agent\u001b[0m
    \u001b[37m #\u001b[0m
    \u001b[37m-# Specify a default charset for all content served; this enables\u001b[0m
    \u001b[37m-# interpretation of all content as UTF-8 by default.  To use the \u001b[0m
    \u001b[37m-# default browser choice (ISO-8859-1), or to allow the META tags\u001b[0m
    \u001b[37m-# in HTML content to override this choice, comment out this\u001b[0m
    \u001b[37m-# directive:\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-AddDefaultCharset UTF-8\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m-<IfModule mime_magic_module>\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    # The mod_mime_magic module allows the server to use various hints from the\u001b[0m
    \u001b[37m-    # contents of the file itself to determine its type.  The MIMEMagicFile\u001b[0m
    \u001b[37m-    # directive tells the module where the hint definitions are located.\u001b[0m
    \u001b[37m-    #\u001b[0m
    \u001b[37m-    MIMEMagicFile conf/magic\u001b[0m
    \u001b[37m-</IfModule>\u001b[0m
    \u001b[37m+# Include generic snippets of statements\u001b[0m
    \u001b[37m+IncludeOptional /etc/httpd/conf-enabled/*.conf\u001b[0m
    \u001b[37m \u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# Customizable error responses come in three flavors:\u001b[0m
    \u001b[37m-# 1) plain text 2) local redirects 3) external redirects\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# Some examples:\u001b[0m
    \u001b[37m-#ErrorDocument 500 \"The server made a boo boo.\"\u001b[0m
    \u001b[37m-#ErrorDocument 404 /missing.html\u001b[0m
    \u001b[37m-#ErrorDocument 404 \"/cgi-bin/missing_handler.pl\"\u001b[0m
    \u001b[37m-#ErrorDocument 402 http://www.example.com/subscription_info.html\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# EnableMMAP and EnableSendfile: On systems that support it, \u001b[0m
    \u001b[37m-# memory-mapping or the sendfile syscall may be used to deliver\u001b[0m
    \u001b[37m-# files.  This usually improves server performance, but must\u001b[0m
    \u001b[37m-# be turned off when serving from networked-mounted \u001b[0m
    \u001b[37m-# filesystems or if support for these functions is otherwise\u001b[0m
    \u001b[37m-# broken on your system.\u001b[0m
    \u001b[37m-# Defaults if commented: EnableMMAP On, EnableSendfile Off\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-#EnableMMAP off\u001b[0m
    \u001b[37m-EnableSendfile on\u001b[0m
    \u001b[37m-\u001b[0m
    \u001b[37m-# Supplemental configuration\u001b[0m
    \u001b[37m-#\u001b[0m
    \u001b[37m-# Load config files in the \"/etc/httpd/conf.d\" directory, if any.\u001b[0m
    \u001b[37m-IncludeOptional conf.d/*.conf\u001b[0m
    \u001b[37m+# Include the virtual host configurations:\u001b[0m
    \u001b[37m+IncludeOptional /etc/httpd/sites-enabled/*.conf\u001b[0m
\u001b[0m  * file[/etc/httpd/conf-available/security] action delete (up to date)
  * template[/etc/httpd/conf-available/security.conf] action create
    \u001b[32m- create new file /etc/httpd/conf-available/security.conf\u001b[0m
    \u001b[32m- update content in file /etc/httpd/conf-available/security.conf from none to b8213b\u001b[0m
    \u001b[37m--- /etc/httpd/conf-available/security.conf\t2019-04-26 14:50:56.381806073 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/conf-available/.chef-security20190426-67198-1ny54v2.conf\t2019-04-26 14:50:56.381806073 +0000\u001b[0m
    \u001b[37m@@ -1 +1,33 @@\u001b[0m
    \u001b[37m+# Changing the following options will not really affect the security of the\u001b[0m
    \u001b[37m+# server, but might make attacks slightly more difficult in some cases.\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# ServerTokens\u001b[0m
    \u001b[37m+# This directive configures what you return as the Server HTTP response\u001b[0m
    \u001b[37m+# Header. The default is 'Full' which sends information about the OS-Type\u001b[0m
    \u001b[37m+# and compiled in modules.\u001b[0m
    \u001b[37m+# Set to one of:  Full | OS | Minimal | Minor | Major | Prod\u001b[0m
    \u001b[37m+# where Full conveys the most information, and Prod the least.\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+ServerTokens Prod\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# Optionally add a line containing the server version and virtual host\u001b[0m
    \u001b[37m+# name to server-generated pages (internal error documents, FTP directory\u001b[0m
    \u001b[37m+# listings, mod_status and mod_info output etc., but not CGI generated\u001b[0m
    \u001b[37m+# documents or custom error documents).\u001b[0m
    \u001b[37m+# Set to \"EMail\" to also include a mailto: link to the ServerAdmin.\u001b[0m
    \u001b[37m+# Set to one of:  On | Off | EMail\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+ServerSignature On\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# Allow TRACE method\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# Set to \"extended\" to also reflect the request body (only for testing and\u001b[0m
    \u001b[37m+# diagnostic purposes).\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+# Set to one of:  On | Off | extended\u001b[0m
    \u001b[37m+#\u001b[0m
    \u001b[37m+TraceEnable Off\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0m  * execute[a2enconf security.conf] action run
    \u001b[32m- execute /usr/sbin/a2enconf security.conf\u001b[0m
\u001b[0m  * file[/etc/httpd/conf-available/charset] action delete (up to date)
  * template[/etc/httpd/conf-available/charset.conf] action create
    \u001b[32m- create new file /etc/httpd/conf-available/charset.conf\u001b[0m
    \u001b[32m- update content in file /etc/httpd/conf-available/charset.conf from none to 543c6c\u001b[0m
    \u001b[37m--- /etc/httpd/conf-available/charset.conf\t2019-04-26 14:50:56.436808061 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/conf-available/.chef-charset20190426-67198-1mb7zsg.conf\t2019-04-26 14:50:56.436808061 +0000\u001b[0m
    \u001b[37m@@ -1 +1,7 @@\u001b[0m
    \u001b[37m+# Read the documentation before enabling AddDefaultCharset.\u001b[0m
    \u001b[37m+# In general, it is only a good idea if you know that all your files\u001b[0m
    \u001b[37m+# have this encoding. It will override any encoding given in the files\u001b[0m
    \u001b[37m+# in meta http-equiv or xml encoding tags.\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+#AddDefaultCharset UTF-8\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0m  * execute[a2enconf charset.conf] action run
    \u001b[32m- execute /usr/sbin/a2enconf charset.conf\u001b[0m
\u001b[0m  * file[/etc/httpd/ports] action delete (up to date)
  * template[/etc/httpd/ports.conf] action create
    \u001b[32m- create new file /etc/httpd/ports.conf\u001b[0m
    \u001b[32m- update content in file /etc/httpd/ports.conf from none to eed992\u001b[0m
    \u001b[37m--- /etc/httpd/ports.conf\t2019-04-26 14:50:56.487809904 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/.chef-ports20190426-67198-t5kqf3.conf\t2019-04-26 14:50:56.487809904 +0000\u001b[0m
    \u001b[37m@@ -1 +1,7 @@\u001b[0m
    \u001b[37m+# This file was generated by Chef for openstack-centos-mstr1.\u001b[0m
    \u001b[37m+# Do NOT modify this file by hand!\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+Listen 147.75.201.110:5000\u001b[0m
    \u001b[37m+Listen 0.0.0.0:80\u001b[0m
    \u001b[37m+Listen 0.0.0.0:443\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0mRecipe: apache2::mpm_prefork\u001b[0m
  * file[/etc/httpd/mods-available/mpm_event.load] action create
    \u001b[32m- create new file /etc/httpd/mods-available/mpm_event.load\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/mpm_event.load from none to 53c7f3\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/mpm_event.load\t2019-04-26 14:50:56.491810048 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-mpm_event20190426-67198-1x2ihmu.load\t2019-04-26 14:50:56.491810048 +0000\u001b[0m
    \u001b[37m@@ -1 +1,2 @@\u001b[0m
    \u001b[37m+LoadModule mpm_event_module /usr/lib64/httpd/modules/mod_mpm_event.so\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * execute[a2dismod mpm_event] action run (skipped due to only_if)
  * file[/etc/httpd/mods-available/mpm_worker.load] action create
    \u001b[32m- create new file /etc/httpd/mods-available/mpm_worker.load\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/mpm_worker.load from none to e206b7\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/mpm_worker.load\t2019-04-26 14:50:56.494810157 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-mpm_worker20190426-67198-5a83y5.load\t2019-04-26 14:50:56.494810157 +0000\u001b[0m
    \u001b[37m@@ -1 +1,2 @@\u001b[0m
    \u001b[37m+LoadModule mpm_worker_module /usr/lib64/httpd/modules/mod_mpm_worker.so\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * execute[a2dismod mpm_worker] action run (skipped due to only_if)
  * template[/etc/httpd/mods-available/mpm_prefork.conf] action create
    \u001b[32m- create new file /etc/httpd/mods-available/mpm_prefork.conf\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/mpm_prefork.conf from none to a6980c\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/mpm_prefork.conf\t2019-04-26 14:50:56.499810337 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-mpm_prefork20190426-67198-1p8vda7.conf\t2019-04-26 14:50:56.499810337 +0000\u001b[0m
    \u001b[37m@@ -1 +1,15 @@\u001b[0m
    \u001b[37m+# prefork MPM\u001b[0m
    \u001b[37m+<IfModule mpm_prefork_module>\u001b[0m
    \u001b[37m+  # StartServers: number of server processes to start\u001b[0m
    \u001b[37m+  # MinSpareServers: minimum number of server processes which are kept spare\u001b[0m
    \u001b[37m+  # MaxSpareServers: maximum number of server processes which are kept spare\u001b[0m
    \u001b[37m+  # MaxRequestWorkers: maximum number of server processes allowed to start\u001b[0m
    \u001b[37m+  # MaxConnectionsPerChild: maximum number of requests a server process serves\u001b[0m
    \u001b[37m+  StartServers           16\u001b[0m
    \u001b[37m+  MinSpareServers        16\u001b[0m
    \u001b[37m+  MaxSpareServers        32\u001b[0m
    \u001b[37m+  ServerLimit            256\u001b[0m
    \u001b[37m+  MaxRequestWorkers      256\u001b[0m
    \u001b[37m+  MaxConnectionsPerChild 10000\u001b[0m
    \u001b[37m+</IfModule>\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * file[/etc/httpd/mods-available/mpm_prefork.load] action create
    \u001b[32m- create new file /etc/httpd/mods-available/mpm_prefork.load\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/mpm_prefork.load from none to 00691d\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/mpm_prefork.load\t2019-04-26 14:50:56.502810446 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-mpm_prefork20190426-67198-h0vah7.load\t2019-04-26 14:50:56.502810446 +0000\u001b[0m
    \u001b[37m@@ -1 +1,2 @@\u001b[0m
    \u001b[37m+LoadModule mpm_prefork_module /usr/lib64/httpd/modules/mod_mpm_prefork.so\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * execute[a2enmod mpm_prefork] action run
    \u001b[32m- execute /usr/sbin/a2enmod mpm_prefork\u001b[0m
\u001b[0mRecipe: apache2::mod_status\u001b[0m
  * template[/etc/httpd/mods-available/status.conf] action create
    \u001b[32m- create new file /etc/httpd/mods-available/status.conf\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/status.conf from none to ed62d0\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/status.conf\t2019-04-26 14:50:56.552812253 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-status20190426-67198-1d4ayvg.conf\t2019-04-26 14:50:56.552812253 +0000\u001b[0m
    \u001b[37m@@ -1 +1,31 @@\u001b[0m
    \u001b[37m+<IfModule mod_status.c>\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # Allow server status reports generated by mod_status,\u001b[0m
    \u001b[37m+  # with the URL of http://servername/server-status\u001b[0m
    \u001b[37m+  # Uncomment and change the \".example.com\" to allow\u001b[0m
    \u001b[37m+  # access from other hosts.\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  <Location /server-status>\u001b[0m
    \u001b[37m+    SetHandler server-status\u001b[0m
    \u001b[37m+    Require local\u001b[0m
    \u001b[37m+    Require ip 127.0.0.1 ::1\u001b[0m
    \u001b[37m+  </Location>\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # ExtendedStatus controls whether Apache will generate \"full\" status\u001b[0m
    \u001b[37m+  # information (ExtendedStatus On) or just basic information (ExtendedStatus\u001b[0m
    \u001b[37m+  # Off) when the \"server-status\" handler is called. The default is Off.\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  ExtendedStatus Off\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+  # Determine if mod_status displays the first 63 characters of a request or\u001b[0m
    \u001b[37m+  # the last 63, assuming the request itself is greater than 63 chars.\u001b[0m
    \u001b[37m+  # Default: Off\u001b[0m
    \u001b[37m+  #SeeRequestTail On\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+  <IfModule mod_proxy.c>\u001b[0m
    \u001b[37m+     # Show Proxy LoadBalancer status in mod_status\u001b[0m
    \u001b[37m+     ProxyStatus On\u001b[0m
    \u001b[37m+  </IfModule>\u001b[0m
    \u001b[37m+</IfModule>\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * file[/etc/httpd/mods-available/status.load] action create
    \u001b[32m- create new file /etc/httpd/mods-available/status.load\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/status.load from none to 4fdc51\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/status.load\t2019-04-26 14:50:56.556812397 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-status20190426-67198-qi0qbt.load\t2019-04-26 14:50:56.556812397 +0000\u001b[0m
    \u001b[37m@@ -1 +1,2 @@\u001b[0m
    \u001b[37m+LoadModule status_module /usr/lib64/httpd/modules/mod_status.so\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * execute[a2enmod status] action run
    \u001b[32m- execute /usr/sbin/a2enmod status\u001b[0m
\u001b[0mRecipe: apache2::mod_alias\u001b[0m
  * template[/etc/httpd/mods-available/alias.conf] action create
    \u001b[32m- create new file /etc/httpd/mods-available/alias.conf\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/alias.conf from none to e275d5\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/alias.conf\t2019-04-26 14:50:56.606814204 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-alias20190426-67198-5bk9pi.conf\t2019-04-26 14:50:56.606814204 +0000\u001b[0m
    \u001b[37m@@ -1 +1,23 @@\u001b[0m
    \u001b[37m+<IfModule alias_module>\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # Aliases: Add here as many aliases as you need (with no limit). The format is\u001b[0m
    \u001b[37m+  # Alias fakename realname\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # Note that if you include a trailing / on fakename then the server will\u001b[0m
    \u001b[37m+  # require it to be present in the URL.  So \"/icons\" isn't aliased in this\u001b[0m
    \u001b[37m+  # example, only \"/icons/\".  If the fakename is slash-terminated, then the\u001b[0m
    \u001b[37m+  # realname must also be slash terminated, and if the fakename omits the\u001b[0m
    \u001b[37m+  # trailing slash, the realname must also omit it.\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # We include the /icons/ alias for FancyIndexed directory listings.  If\u001b[0m
    \u001b[37m+  # you do not use FancyIndexing, you may comment this out.\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  Alias /icons/ \"/usr/share/httpd/icons/\"\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+  <Directory \"/usr/share/httpd/icons\">\u001b[0m
    \u001b[37m+    Options Indexes MultiViews\u001b[0m
    \u001b[37m+    AllowOverride None\u001b[0m
    \u001b[37m+    Require all granted\u001b[0m
    \u001b[37m+  </Directory>\u001b[0m
    \u001b[37m+</IfModule>\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * file[/etc/httpd/mods-available/alias.load] action create
    \u001b[32m- create new file /etc/httpd/mods-available/alias.load\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/alias.load from none to aceb16\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/alias.load\t2019-04-26 14:50:56.609814313 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-alias20190426-67198-15c9l44.load\t2019-04-26 14:50:56.609814313 +0000\u001b[0m
    \u001b[37m@@ -1 +1,2 @@\u001b[0m
    \u001b[37m+LoadModule alias_module /usr/lib64/httpd/modules/mod_alias.so\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * execute[a2enmod alias] action run
    \u001b[32m- execute /usr/sbin/a2enmod alias\u001b[0m
\u001b[0mRecipe: apache2::mod_auth_basic\u001b[0m
  * file[/etc/httpd/mods-available/auth_basic.load] action create
    \u001b[32m- create new file /etc/httpd/mods-available/auth_basic.load\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/auth_basic.load from none to 053e14\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/auth_basic.load\t2019-04-26 14:50:56.656816011 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-auth_basic20190426-67198-1h4j3k7.load\t2019-04-26 14:50:56.656816011 +0000\u001b[0m
    \u001b[37m@@ -1 +1,2 @@\u001b[0m
    \u001b[37m+LoadModule auth_basic_module /usr/lib64/httpd/modules/mod_auth_basic.so\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * execute[a2enmod auth_basic] action run
    \u001b[32m- execute /usr/sbin/a2enmod auth_basic\u001b[0m
\u001b[0mRecipe: apache2::mod_authn_core\u001b[0m
  * file[/etc/httpd/mods-available/authn_core.load] action create
    \u001b[32m- create new file /etc/httpd/mods-available/authn_core.load\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/authn_core.load from none to b063ef\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/authn_core.load\t2019-04-26 14:50:56.703817710 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-authn_core20190426-67198-13lyyb8.load\t2019-04-26 14:50:56.702817674 +0000\u001b[0m
    \u001b[37m@@ -1 +1,2 @@\u001b[0m
    \u001b[37m+LoadModule authn_core_module /usr/lib64/httpd/modules/mod_authn_core.so\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * execute[a2enmod authn_core] action run
    \u001b[32m- execute /usr/sbin/a2enmod authn_core\u001b[0m
\u001b[0mRecipe: apache2::mod_authn_file\u001b[0m
  * file[/etc/httpd/mods-available/authn_file.load] action create
    \u001b[32m- create new file /etc/httpd/mods-available/authn_file.load\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/authn_file.load from none to d22bea\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/authn_file.load\t2019-04-26 14:50:56.749819372 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-authn_file20190426-67198-s2g4eq.load\t2019-04-26 14:50:56.749819372 +0000\u001b[0m
    \u001b[37m@@ -1 +1,2 @@\u001b[0m
    \u001b[37m+LoadModule authn_file_module /usr/lib64/httpd/modules/mod_authn_file.so\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * execute[a2enmod authn_file] action run
    \u001b[32m- execute /usr/sbin/a2enmod authn_file\u001b[0m
\u001b[0mRecipe: apache2::mod_authz_core\u001b[0m
  * file[/etc/httpd/mods-available/authz_core.load] action create
    \u001b[32m- create new file /etc/httpd/mods-available/authz_core.load\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/authz_core.load from none to 8b988f\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/authz_core.load\t2019-04-26 14:50:56.795821035 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-authz_core20190426-67198-8dehso.load\t2019-04-26 14:50:56.795821035 +0000\u001b[0m
    \u001b[37m@@ -1 +1,2 @@\u001b[0m
    \u001b[37m+LoadModule authz_core_module /usr/lib64/httpd/modules/mod_authz_core.so\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * execute[a2enmod authz_core] action run
    \u001b[32m- execute /usr/sbin/a2enmod authz_core\u001b[0m
\u001b[0mRecipe: apache2::mod_authz_groupfile\u001b[0m
  * file[/etc/httpd/mods-available/authz_groupfile.load] action create
    \u001b[32m- create new file /etc/httpd/mods-available/authz_groupfile.load\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/authz_groupfile.load from none to 4f60ac\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/authz_groupfile.load\t2019-04-26 14:50:56.841822697 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-authz_groupfile20190426-67198-1sslgfk.load\t2019-04-26 14:50:56.841822697 +0000\u001b[0m
    \u001b[37m@@ -1 +1,2 @@\u001b[0m
    \u001b[37m+LoadModule authz_groupfile_module /usr/lib64/httpd/modules/mod_authz_groupfile.so\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * execute[a2enmod authz_groupfile] action run
    \u001b[32m- execute /usr/sbin/a2enmod authz_groupfile\u001b[0m
\u001b[0mRecipe: apache2::mod_authz_host\u001b[0m
  * file[/etc/httpd/mods-available/authz_host.load] action create
    \u001b[32m- create new file /etc/httpd/mods-available/authz_host.load\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/authz_host.load from none to bb59ea\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/authz_host.load\t2019-04-26 14:50:56.888824396 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-authz_host20190426-67198-19vkvq9.load\t2019-04-26 14:50:56.888824396 +0000\u001b[0m
    \u001b[37m@@ -1 +1,2 @@\u001b[0m
    \u001b[37m+LoadModule authz_host_module /usr/lib64/httpd/modules/mod_authz_host.so\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * execute[a2enmod authz_host] action run
    \u001b[32m- execute /usr/sbin/a2enmod authz_host\u001b[0m
\u001b[0mRecipe: apache2::mod_authz_user\u001b[0m
  * file[/etc/httpd/mods-available/authz_user.load] action create
    \u001b[32m- create new file /etc/httpd/mods-available/authz_user.load\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/authz_user.load from none to a4603f\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/authz_user.load\t2019-04-26 14:50:56.935826094 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-authz_user20190426-67198-xpij78.load\t2019-04-26 14:50:56.935826094 +0000\u001b[0m
    \u001b[37m@@ -1 +1,2 @@\u001b[0m
    \u001b[37m+LoadModule authz_user_module /usr/lib64/httpd/modules/mod_authz_user.so\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * execute[a2enmod authz_user] action run
    \u001b[32m- execute /usr/sbin/a2enmod authz_user\u001b[0m
\u001b[0mRecipe: apache2::mod_autoindex\u001b[0m
  * template[/etc/httpd/mods-available/autoindex.conf] action create
    \u001b[32m- create new file /etc/httpd/mods-available/autoindex.conf\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/autoindex.conf from none to 8e7e44\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/autoindex.conf\t2019-04-26 14:50:56.984827865 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-autoindex20190426-67198-13fjyvx.conf\t2019-04-26 14:50:56.984827865 +0000\u001b[0m
    \u001b[37m@@ -1 +1,101 @@\u001b[0m
    \u001b[37m+<IfModule mod_autoindex.c>\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # Directives controlling the display of server-generated directory listings.\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # IndexOptions: Controls the appearance of server-generated directory\u001b[0m
    \u001b[37m+  # listings.\u001b[0m
    \u001b[37m+  # Remove/replace the \"Charset=UTF-8\" if you don't use UTF-8 for your filenames.\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  IndexOptions FancyIndexing VersionSort HTMLTable NameWidth=* DescriptionWidth=* Charset=UTF-8\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # AddIcon* directives tell the server which icon to show for different\u001b[0m
    \u001b[37m+  # files or filename extensions.  These are only displayed for\u001b[0m
    \u001b[37m+  # FancyIndexed directories.\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  AddIconByEncoding (CMP,/icons/compressed.gif) x-compress x-gzip x-bzip2\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+  AddIconByType (TXT,/icons/text.gif) text/*\u001b[0m
    \u001b[37m+  AddIconByType (IMG,/icons/image2.gif) image/*\u001b[0m
    \u001b[37m+  AddIconByType (SND,/icons/sound2.gif) audio/*\u001b[0m
    \u001b[37m+  AddIconByType (VID,/icons/movie.gif) video/*\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+  AddIcon /icons/binary.gif .bin .exe\u001b[0m
    \u001b[37m+  AddIcon /icons/binhex.gif .hqx\u001b[0m
    \u001b[37m+  AddIcon /icons/tar.gif .tar\u001b[0m
    \u001b[37m+  AddIcon /icons/world2.gif .wrl .wrl.gz .vrml .vrm .iv\u001b[0m
    \u001b[37m+  AddIcon /icons/compressed.gif .Z .z .tgz .gz .zip\u001b[0m
    \u001b[37m+  AddIcon /icons/a.gif .ps .ai .eps\u001b[0m
    \u001b[37m+  AddIcon /icons/layout.gif .html .shtml .htm .pdf\u001b[0m
    \u001b[37m+  AddIcon /icons/text.gif .txt\u001b[0m
    \u001b[37m+  AddIcon /icons/c.gif .c\u001b[0m
    \u001b[37m+  AddIcon /icons/p.gif .pl .py\u001b[0m
    \u001b[37m+  AddIcon /icons/f.gif .for\u001b[0m
    \u001b[37m+  AddIcon /icons/dvi.gif .dvi\u001b[0m
    \u001b[37m+  AddIcon /icons/uuencoded.gif .uu\u001b[0m
    \u001b[37m+  AddIcon /icons/script.gif .conf .sh .shar .csh .ksh .tcl\u001b[0m
    \u001b[37m+  AddIcon /icons/tex.gif .tex\u001b[0m
    \u001b[37m+  # It's a suffix rule, so simply matching \"core\" matches \"score\" as well !\u001b[0m
    \u001b[37m+  AddIcon /icons/bomb.gif /core\u001b[0m
    \u001b[37m+  AddIcon (SND,/icons/sound2.gif) .ogg\u001b[0m
    \u001b[37m+  AddIcon (VID,/icons/movie.gif) .ogm\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+  AddIcon /icons/back.gif ..\u001b[0m
    \u001b[37m+  AddIcon /icons/hand.right.gif README\u001b[0m
    \u001b[37m+  AddIcon /icons/folder.gif ^^DIRECTORY^^\u001b[0m
    \u001b[37m+  AddIcon /icons/blank.gif ^^BLANKICON^^\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+  # Default icons for OpenDocument format\u001b[0m
    \u001b[37m+  AddIcon /icons/odf6odt-20x22.png .odt\u001b[0m
    \u001b[37m+  AddIcon /icons/odf6ods-20x22.png .ods\u001b[0m
    \u001b[37m+  AddIcon /icons/odf6odp-20x22.png .odp\u001b[0m
    \u001b[37m+  AddIcon /icons/odf6odg-20x22.png .odg\u001b[0m
    \u001b[37m+  AddIcon /icons/odf6odc-20x22.png .odc\u001b[0m
    \u001b[37m+  AddIcon /icons/odf6odf-20x22.png .odf\u001b[0m
    \u001b[37m+  AddIcon /icons/odf6odb-20x22.png .odb\u001b[0m
    \u001b[37m+  AddIcon /icons/odf6odi-20x22.png .odi\u001b[0m
    \u001b[37m+  AddIcon /icons/odf6odm-20x22.png .odm\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+  AddIcon /icons/odf6ott-20x22.png .ott\u001b[0m
    \u001b[37m+  AddIcon /icons/odf6ots-20x22.png .ots\u001b[0m
    \u001b[37m+  AddIcon /icons/odf6otp-20x22.png .otp\u001b[0m
    \u001b[37m+  AddIcon /icons/odf6otg-20x22.png .otg\u001b[0m
    \u001b[37m+  AddIcon /icons/odf6otc-20x22.png .otc\u001b[0m
    \u001b[37m+  AddIcon /icons/odf6otf-20x22.png .otf\u001b[0m
    \u001b[37m+  AddIcon /icons/odf6oti-20x22.png .oti\u001b[0m
    \u001b[37m+  AddIcon /icons/odf6oth-20x22.png .oth\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # DefaultIcon is which icon to show for files which do not have an icon\u001b[0m
    \u001b[37m+  # explicitly set.\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  DefaultIcon /icons/unknown.gif\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # AddDescription allows you to place a short description after a file in\u001b[0m
    \u001b[37m+  # server-generated indexes.  These are only displayed for FancyIndexed\u001b[0m
    \u001b[37m+  # directories.\u001b[0m
    \u001b[37m+  # Format: AddDescription \"description\" filename\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  #AddDescription \"GZIP compressed document\" .gz\u001b[0m
    \u001b[37m+  #AddDescription \"tar archive\" .tar\u001b[0m
    \u001b[37m+  #AddDescription \"GZIP compressed tar archive\" .tgz\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # ReadmeName is the name of the README file the server will look for by\u001b[0m
    \u001b[37m+  # default, and append to directory listings.\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # HeaderName is the name of a file which should be prepended to\u001b[0m
    \u001b[37m+  # directory indexes.\u001b[0m
    \u001b[37m+  ReadmeName README.html\u001b[0m
    \u001b[37m+  HeaderName HEADER.html\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # IndexIgnore is a set of filenames which directory indexing should ignore\u001b[0m
    \u001b[37m+  # and not include in the listing.  Shell-style wildcarding is permitted.\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  IndexIgnore .??* *~ *# RCS CVS *,v *,t\u001b[0m
    \u001b[37m+</IfModule>\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * file[/etc/httpd/mods-available/autoindex.load] action create
    \u001b[32m- create new file /etc/httpd/mods-available/autoindex.load\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/autoindex.load from none to a4888e\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/autoindex.load\t2019-04-26 14:50:56.992828154 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-autoindex20190426-67198-1nbpc15.load\t2019-04-26 14:50:56.992828154 +0000\u001b[0m
    \u001b[37m@@ -1 +1,2 @@\u001b[0m
    \u001b[37m+LoadModule autoindex_module /usr/lib64/httpd/modules/mod_autoindex.so\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * execute[a2enmod autoindex] action run
    \u001b[32m- execute /usr/sbin/a2enmod autoindex\u001b[0m
\u001b[0mRecipe: apache2::mod_deflate\u001b[0m
  * template[/etc/httpd/mods-available/deflate.conf] action create
    \u001b[32m- create new file /etc/httpd/mods-available/deflate.conf\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/deflate.conf from none to c8749f\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/deflate.conf\t2019-04-26 14:50:57.044830034 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-deflate20190426-67198-qn04im.conf\t2019-04-26 14:50:57.044830034 +0000\u001b[0m
    \u001b[37m@@ -1 +1,19 @@\u001b[0m
    \u001b[37m+<IfModule mod_deflate.c>\u001b[0m
    \u001b[37m+  <IfModule mod_filter.c>\u001b[0m
    \u001b[37m+     # these are known to be safe with MSIE 6\u001b[0m
    \u001b[37m+     AddOutputFilterByType DEFLATE text/html text/plain text/xml\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+     # everything else may cause problems with MSIE 6\u001b[0m
    \u001b[37m+     AddOutputFilterByType DEFLATE text/css\u001b[0m
    \u001b[37m+     AddOutputFilterByType DEFLATE application/x-javascript application/javascript application/ecmascript\u001b[0m
    \u001b[37m+     AddOutputFilterByType DEFLATE application/rss+xml\u001b[0m
    \u001b[37m+     AddOutputFilterByType DEFLATE application/xml\u001b[0m
    \u001b[37m+     AddOutputFilterByType DEFLATE application/xhtml+xml\u001b[0m
    \u001b[37m+     AddOutputFilterByType DEFLATE image/svg+xml\u001b[0m
    \u001b[37m+     AddOutputFilterByType DEFLATE application/atom_xml\u001b[0m
    \u001b[37m+     AddOutputFilterByType DEFLATE application/x-httpd-php\u001b[0m
    \u001b[37m+     AddOutputFilterByType DEFLATE application/x-httpd-fastphp\u001b[0m
    \u001b[37m+     AddOutputFilterByType DEFLATE application/x-httpd-eruby\u001b[0m
    \u001b[37m+  </IfModule>\u001b[0m
    \u001b[37m+</IfModule>\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * file[/etc/httpd/mods-available/deflate.load] action create
    \u001b[32m- create new file /etc/httpd/mods-available/deflate.load\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/deflate.load from none to d20592\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/deflate.load\t2019-04-26 14:50:57.047830142 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-deflate20190426-67198-1xbt0gv.load\t2019-04-26 14:50:57.047830142 +0000\u001b[0m
    \u001b[37m@@ -1 +1,2 @@\u001b[0m
    \u001b[37m+LoadModule deflate_module /usr/lib64/httpd/modules/mod_deflate.so\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * execute[a2enmod deflate] action run
    \u001b[32m- execute /usr/sbin/a2enmod deflate\u001b[0m
\u001b[0mRecipe: apache2::mod_dir\u001b[0m
  * template[/etc/httpd/mods-available/dir.conf] action create
    \u001b[32m- create new file /etc/httpd/mods-available/dir.conf\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/dir.conf from none to 5d2651\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/dir.conf\t2019-04-26 14:50:57.095831877 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-dir20190426-67198-1jvwpd5.conf\t2019-04-26 14:50:57.094831841 +0000\u001b[0m
    \u001b[37m@@ -1 +1,4 @@\u001b[0m
    \u001b[37m+<IfModule mod_dir.c>\u001b[0m
    \u001b[37m+  DirectoryIndex index.html index.cgi index.pl index.php index.xhtml index.htm\u001b[0m
    \u001b[37m+</IfModule>\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * file[/etc/httpd/mods-available/dir.load] action create
    \u001b[32m- create new file /etc/httpd/mods-available/dir.load\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/dir.load from none to 846d55\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/dir.load\t2019-04-26 14:50:57.096831913 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-dir20190426-67198-orq541.load\t2019-04-26 14:50:57.096831913 +0000\u001b[0m
    \u001b[37m@@ -1 +1,2 @@\u001b[0m
    \u001b[37m+LoadModule dir_module /usr/lib64/httpd/modules/mod_dir.so\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * execute[a2enmod dir] action run
    \u001b[32m- execute /usr/sbin/a2enmod dir\u001b[0m
\u001b[0mRecipe: apache2::mod_env\u001b[0m
  * file[/etc/httpd/mods-available/env.load] action create
    \u001b[32m- create new file /etc/httpd/mods-available/env.load\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/env.load from none to bac691\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/env.load\t2019-04-26 14:50:57.142833575 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-env20190426-67198-wv69fp.load\t2019-04-26 14:50:57.142833575 +0000\u001b[0m
    \u001b[37m@@ -1 +1,2 @@\u001b[0m
    \u001b[37m+LoadModule env_module /usr/lib64/httpd/modules/mod_env.so\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * execute[a2enmod env] action run
    \u001b[32m- execute /usr/sbin/a2enmod env\u001b[0m
\u001b[0mRecipe: apache2::mod_mime\u001b[0m
  * template[/etc/httpd/mods-available/mime.conf] action create
    \u001b[32m- create new file /etc/httpd/mods-available/mime.conf\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/mime.conf from none to 76e7d0\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/mime.conf\t2019-04-26 14:50:57.193835418 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-mime20190426-67198-st53aj.conf\t2019-04-26 14:50:57.193835418 +0000\u001b[0m
    \u001b[37m@@ -1 +1,193 @@\u001b[0m
    \u001b[37m+<IfModule mod_mime.c>\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # TypesConfig points to the file containing the list of mappings from\u001b[0m
    \u001b[37m+  # filename extension to MIME-type.\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  TypesConfig /etc/mime.types\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # AddType allows you to add to or override the MIME configuration\u001b[0m
    \u001b[37m+  # file mime.types for specific file types.\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  #AddType application/x-gzip .tgz\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # AddEncoding allows you to have certain browsers uncompress\u001b[0m
    \u001b[37m+  # information on the fly. Note: Not all browsers support this.\u001b[0m
    \u001b[37m+  # Despite the name similarity, the following Add* directives have\u001b[0m
    \u001b[37m+  # nothing to do with the FancyIndexing customization directives above.\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  #AddEncoding x-compress .Z\u001b[0m
    \u001b[37m+  #AddEncoding x-gzip .gz .tgz\u001b[0m
    \u001b[37m+  #AddEncoding x-bzip2 .bz2\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # If the AddEncoding directives above are commented-out, then you\u001b[0m
    \u001b[37m+  # probably should define those extensions to indicate media types:\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  AddType application/x-compress .Z\u001b[0m
    \u001b[37m+  AddType application/x-gzip .gz .tgz\u001b[0m
    \u001b[37m+  AddType application/x-bzip2 .bz2\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+  AddType image/svg+xml svg svgz\u001b[0m
    \u001b[37m+  AddEncoding gzip svgz\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # DefaultLanguage and AddLanguage allows you to specify the language of\u001b[0m
    \u001b[37m+  # a document. You can then use content negotiation to give a browser a\u001b[0m
    \u001b[37m+  # file in a language the user can understand.\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # Specify a default language. This means that all data\u001b[0m
    \u001b[37m+  # going out without a specific language tag (see below) will\u001b[0m
    \u001b[37m+  # be marked with this one. You probably do NOT want to set\u001b[0m
    \u001b[37m+  # this unless you are sure it is correct for all cases.\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # * It is generally better to not mark a page as\u001b[0m
    \u001b[37m+  # * being a certain language than marking it with the wrong\u001b[0m
    \u001b[37m+  # * language!\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # DefaultLanguage nl\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # Note 1: The suffix does not have to be the same as the language\u001b[0m
    \u001b[37m+  # keyword --- those with documents in Polish (whose net-standard\u001b[0m
    \u001b[37m+  # language code is pl) may wish to use \"AddLanguage pl .po\" to\u001b[0m
    \u001b[37m+  # avoid the ambiguity with the common suffix for perl scripts.\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # Note 2: The example entries below illustrate that in some cases\u001b[0m
    \u001b[37m+  # the two character 'Language' abbreviation is not identical to\u001b[0m
    \u001b[37m+  # the two character 'Country' code for its country,\u001b[0m
    \u001b[37m+  # E.g. 'Danmark/dk' versus 'Danish/da'.\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # Note 3: In the case of 'ltz' we violate the RFC by using a three char\u001b[0m
    \u001b[37m+  # specifier. There is 'work in progress' to fix this and get\u001b[0m
    \u001b[37m+  # the reference data for rfc1766 cleaned up.\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # Catalan (ca) - Croatian (hr) - Czech (cs) - Danish (da) - Dutch (nl)\u001b[0m
    \u001b[37m+  # English (en) - Esperanto (eo) - Estonian (et) - French (fr) - German (de)\u001b[0m
    \u001b[37m+  # Greek-Modern (el) - Hebrew (he) - Italian (it) - Japanese (ja)\u001b[0m
    \u001b[37m+  # Korean (ko) - Luxembourgeois* (ltz) - Norwegian Nynorsk (nn)\u001b[0m
    \u001b[37m+  # Norwegian (no) - Polish (pl) - Portugese (pt)\u001b[0m
    \u001b[37m+  # Brazilian Portuguese (pt-BR) - Russian (ru) - Swedish (sv)\u001b[0m
    \u001b[37m+  # Simplified Chinese (zh-CN) - Spanish (es) - Traditional Chinese (zh-TW)\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  AddLanguage ca .ca\u001b[0m
    \u001b[37m+  AddLanguage cs .cz .cs\u001b[0m
    \u001b[37m+  AddLanguage da .dk\u001b[0m
    \u001b[37m+  AddLanguage de .de\u001b[0m
    \u001b[37m+  AddLanguage el .el\u001b[0m
    \u001b[37m+  AddLanguage en .en\u001b[0m
    \u001b[37m+  AddLanguage eo .eo\u001b[0m
    \u001b[37m+  # See README.Debian for Spanish\u001b[0m
    \u001b[37m+  AddLanguage es .es\u001b[0m
    \u001b[37m+  AddLanguage et .et\u001b[0m
    \u001b[37m+  AddLanguage fr .fr\u001b[0m
    \u001b[37m+  AddLanguage he .he\u001b[0m
    \u001b[37m+  AddLanguage hr .hr\u001b[0m
    \u001b[37m+  AddLanguage it .it\u001b[0m
    \u001b[37m+  AddLanguage ja .ja\u001b[0m
    \u001b[37m+  AddLanguage ko .ko\u001b[0m
    \u001b[37m+  AddLanguage ltz .ltz\u001b[0m
    \u001b[37m+  AddLanguage nl .nl\u001b[0m
    \u001b[37m+  AddLanguage nn .nn\u001b[0m
    \u001b[37m+  AddLanguage no .no\u001b[0m
    \u001b[37m+  AddLanguage pl .po\u001b[0m
    \u001b[37m+  AddLanguage pt .pt\u001b[0m
    \u001b[37m+  AddLanguage pt-BR .pt-br\u001b[0m
    \u001b[37m+  AddLanguage ru .ru\u001b[0m
    \u001b[37m+  AddLanguage sv .sv\u001b[0m
    \u001b[37m+  # See README.Debian for Turkish\u001b[0m
    \u001b[37m+  AddLanguage tr .tr\u001b[0m
    \u001b[37m+  AddLanguage zh-CN .zh-cn\u001b[0m
    \u001b[37m+  AddLanguage zh-TW .zh-tw\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # Commonly used filename extensions to character sets. You probably\u001b[0m
    \u001b[37m+  # want to avoid clashes with the language extensions, unless you\u001b[0m
    \u001b[37m+  # are good at carefully testing your setup after each change.\u001b[0m
    \u001b[37m+  # See http://www.iana.org/assignments/character-sets for the\u001b[0m
    \u001b[37m+  # official list of charset names and their respective RFCs.\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  AddCharset us-ascii    .ascii .us-ascii\u001b[0m
    \u001b[37m+  AddCharset ISO-8859-1  .iso8859-1  .latin1\u001b[0m
    \u001b[37m+  AddCharset ISO-8859-2  .iso8859-2  .latin2 .cen\u001b[0m
    \u001b[37m+  AddCharset ISO-8859-3  .iso8859-3  .latin3\u001b[0m
    \u001b[37m+  AddCharset ISO-8859-4  .iso8859-4  .latin4\u001b[0m
    \u001b[37m+  AddCharset ISO-8859-5  .iso8859-5  .cyr .iso-ru\u001b[0m
    \u001b[37m+  AddCharset ISO-8859-6  .iso8859-6  .arb .arabic\u001b[0m
    \u001b[37m+  AddCharset ISO-8859-7  .iso8859-7  .grk .greek\u001b[0m
    \u001b[37m+  AddCharset ISO-8859-8  .iso8859-8  .heb .hebrew\u001b[0m
    \u001b[37m+  AddCharset ISO-8859-9  .iso8859-9  .latin5 .trk\u001b[0m
    \u001b[37m+  AddCharset ISO-8859-10  .iso8859-10  .latin6\u001b[0m
    \u001b[37m+  AddCharset ISO-8859-13  .iso8859-13\u001b[0m
    \u001b[37m+  AddCharset ISO-8859-14  .iso8859-14  .latin8\u001b[0m
    \u001b[37m+  AddCharset ISO-8859-15  .iso8859-15  .latin9\u001b[0m
    \u001b[37m+  AddCharset ISO-8859-16  .iso8859-16  .latin10\u001b[0m
    \u001b[37m+  AddCharset ISO-2022-JP .iso2022-jp .jis\u001b[0m
    \u001b[37m+  AddCharset ISO-2022-KR .iso2022-kr .kis\u001b[0m
    \u001b[37m+  AddCharset ISO-2022-CN .iso2022-cn .cis\u001b[0m
    \u001b[37m+  AddCharset Big5        .Big5       .big5 .b5\u001b[0m
    \u001b[37m+  AddCharset cn-Big5     .cn-big5\u001b[0m
    \u001b[37m+  # For russian, more than one charset is used (depends on client, mostly):\u001b[0m
    \u001b[37m+  AddCharset WINDOWS-1251 .cp-1251   .win-1251\u001b[0m
    \u001b[37m+  AddCharset CP866       .cp866\u001b[0m
    \u001b[37m+  AddCharset KOI8      .koi8\u001b[0m
    \u001b[37m+  AddCharset KOI8-E      .koi8-e\u001b[0m
    \u001b[37m+  AddCharset KOI8-r      .koi8-r .koi8-ru\u001b[0m
    \u001b[37m+  AddCharset KOI8-U      .koi8-u\u001b[0m
    \u001b[37m+  AddCharset KOI8-ru     .koi8-uk .ua\u001b[0m
    \u001b[37m+  AddCharset ISO-10646-UCS-2 .ucs2\u001b[0m
    \u001b[37m+  AddCharset ISO-10646-UCS-4 .ucs4\u001b[0m
    \u001b[37m+  AddCharset UTF-7       .utf7\u001b[0m
    \u001b[37m+  AddCharset UTF-8       .utf8\u001b[0m
    \u001b[37m+  AddCharset UTF-16      .utf16\u001b[0m
    \u001b[37m+  AddCharset UTF-16BE    .utf16be\u001b[0m
    \u001b[37m+  AddCharset UTF-16LE    .utf16le\u001b[0m
    \u001b[37m+  AddCharset UTF-32      .utf32\u001b[0m
    \u001b[37m+  AddCharset UTF-32BE    .utf32be\u001b[0m
    \u001b[37m+  AddCharset UTF-32LE    .utf32le\u001b[0m
    \u001b[37m+  AddCharset euc-cn      .euc-cn\u001b[0m
    \u001b[37m+  AddCharset euc-gb      .euc-gb\u001b[0m
    \u001b[37m+  AddCharset euc-jp      .euc-jp\u001b[0m
    \u001b[37m+  AddCharset euc-kr      .euc-kr\u001b[0m
    \u001b[37m+  #Not sure how euc-tw got in - IANA doesn't list it???\u001b[0m
    \u001b[37m+  AddCharset EUC-TW      .euc-tw\u001b[0m
    \u001b[37m+  AddCharset gb2312      .gb2312 .gb\u001b[0m
    \u001b[37m+  AddCharset iso-10646-ucs-2 .ucs-2 .iso-10646-ucs-2\u001b[0m
    \u001b[37m+  AddCharset iso-10646-ucs-4 .ucs-4 .iso-10646-ucs-4\u001b[0m
    \u001b[37m+  AddCharset shift_jis   .shift_jis .sjis\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # AddHandler allows you to map certain file extensions to \"handlers\":\u001b[0m
    \u001b[37m+  # actions unrelated to filetype. These can be either built into the server\u001b[0m
    \u001b[37m+  # or added with the Action directive (see below)\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # To use CGI scripts outside of ScriptAliased directories:\u001b[0m
    \u001b[37m+  # (You will also need to add \"ExecCGI\" to the \"Options\" directive.)\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  #AddHandler cgi-script .cgi\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # For files that include their own HTTP headers:\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  #AddHandler send-as-is asis\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # For server-parsed imagemap files:\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  #AddHandler imap-file map\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # For type maps (negotiated resources):\u001b[0m
    \u001b[37m+  # (This is enabled by default to allow the Apache \"It Worked\" page\u001b[0m
    \u001b[37m+  #  to be distributed in multiple languages.)\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  AddHandler type-map var\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # Filters allow you to process content before it is sent to the client.\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # To parse .shtml files for server-side includes (SSI):\u001b[0m
    \u001b[37m+  # (You will also need to add \"Includes\" to the \"Options\" directive.)\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  AddType text/html .shtml\u001b[0m
    \u001b[37m+  AddOutputFilter INCLUDES .shtml\u001b[0m
    \u001b[37m+</IfModule>\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * file[/etc/httpd/mods-available/mime.load] action create
    \u001b[32m- create new file /etc/httpd/mods-available/mime.load\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/mime.load from none to 37c2d3\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/mime.load\t2019-04-26 14:50:57.202835744 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-mime20190426-67198-s5s41y.load\t2019-04-26 14:50:57.202835744 +0000\u001b[0m
    \u001b[37m@@ -1 +1,2 @@\u001b[0m
    \u001b[37m+LoadModule mime_module /usr/lib64/httpd/modules/mod_mime.so\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * execute[a2enmod mime] action run
    \u001b[32m- execute /usr/sbin/a2enmod mime\u001b[0m
\u001b[0mRecipe: apache2::mod_negotiation\u001b[0m
  * template[/etc/httpd/mods-available/negotiation.conf] action create
    \u001b[32m- create new file /etc/httpd/mods-available/negotiation.conf\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/negotiation.conf from none to 3ad8fd\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/negotiation.conf\t2019-04-26 14:50:57.250837478 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-negotiation20190426-67198-dsuxy3.conf\t2019-04-26 14:50:57.250837478 +0000\u001b[0m
    \u001b[37m@@ -1 +1,18 @@\u001b[0m
    \u001b[37m+<IfModule mod_negotiation.c>\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # LanguagePriority allows you to give precedence to some languages\u001b[0m
    \u001b[37m+  # in case of a tie during content negotiation.\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # Just list the languages in decreasing order of preference. We have\u001b[0m
    \u001b[37m+  # more or less alphabetized them here. You probably want to change this.\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  LanguagePriority en ca cs da de el eo es et fr he hr it ja ko ltz nl nn no pl pt pt-BR ru sv tr zh-CN zh-TW\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # ForceLanguagePriority allows you to serve a result page rather than\u001b[0m
    \u001b[37m+  # MULTIPLE CHOICES (Prefer) [in case of a tie] or NOT ACCEPTABLE (Fallback)\u001b[0m
    \u001b[37m+  # [in case no accepted languages matched the available variants]\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  ForceLanguagePriority Prefer Fallback\u001b[0m
    \u001b[37m+</IfModule>\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * file[/etc/httpd/mods-available/negotiation.load] action create
    \u001b[32m- create new file /etc/httpd/mods-available/negotiation.load\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/negotiation.load from none to 114b49\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/negotiation.load\t2019-04-26 14:50:57.254837623 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-negotiation20190426-67198-14o72dm.load\t2019-04-26 14:50:57.254837623 +0000\u001b[0m
    \u001b[37m@@ -1 +1,2 @@\u001b[0m
    \u001b[37m+LoadModule negotiation_module /usr/lib64/httpd/modules/mod_negotiation.so\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * execute[a2enmod negotiation] action run
    \u001b[32m- execute /usr/sbin/a2enmod negotiation\u001b[0m
\u001b[0mRecipe: apache2::mod_setenvif\u001b[0m
  * template[/etc/httpd/mods-available/setenvif.conf] action create
    \u001b[32m- create new file /etc/httpd/mods-available/setenvif.conf\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/setenvif.conf from none to fb5a27\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/setenvif.conf\t2019-04-26 14:50:57.302839358 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-setenvif20190426-67198-1pmtbf8.conf\t2019-04-26 14:50:57.302839358 +0000\u001b[0m
    \u001b[37m@@ -1 +1,29 @@\u001b[0m
    \u001b[37m+<IfModule mod_setenvif.c>\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # The following directives modify normal HTTP response behavior to\u001b[0m
    \u001b[37m+  # handle known problems with browser implementations.\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  BrowserMatch \"Mozilla/2\" nokeepalive\u001b[0m
    \u001b[37m+  BrowserMatch \"MSIE 4\\.0b2;\" nokeepalive downgrade-1.0 force-response-1.0\u001b[0m
    \u001b[37m+  BrowserMatch \"RealPlayer 4\\.0\" force-response-1.0\u001b[0m
    \u001b[37m+  BrowserMatch \"Java/1\\.0\" force-response-1.0\u001b[0m
    \u001b[37m+  BrowserMatch \"JDK/1\\.0\" force-response-1.0\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  # The following directive disables redirects on non-GET requests for\u001b[0m
    \u001b[37m+  # a directory that does not include the trailing slash.  This fixes a\u001b[0m
    \u001b[37m+  # problem with Microsoft WebFolders which does not appropriately handle\u001b[0m
    \u001b[37m+  # redirects for folders with DAV methods.\u001b[0m
    \u001b[37m+  # Same deal with Apple's DAV filesystem and Gnome VFS support for DAV.\u001b[0m
    \u001b[37m+  #\u001b[0m
    \u001b[37m+  BrowserMatch \"Microsoft Data Access Internet Publishing Provider\" redirect-carefully\u001b[0m
    \u001b[37m+  BrowserMatch \"MS FrontPage\" redirect-carefully\u001b[0m
    \u001b[37m+  BrowserMatch \"^WebDrive\" redirect-carefully\u001b[0m
    \u001b[37m+  BrowserMatch \"^WebDAVFS/1.[012]\" redirect-carefully\u001b[0m
    \u001b[37m+  BrowserMatch \"^gnome-vfs/1.0\" redirect-carefully\u001b[0m
    \u001b[37m+  BrowserMatch \"^gvfs/1\" redirect-carefully\u001b[0m
    \u001b[37m+  BrowserMatch \"^XML Spy\" redirect-carefully\u001b[0m
    \u001b[37m+  BrowserMatch \"^Dreamweaver-WebDAV-SCM1\" redirect-carefully\u001b[0m
    \u001b[37m+  BrowserMatch \" Konqueror/4\" redirect-carefully\u001b[0m
    \u001b[37m+</IfModule>\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * file[/etc/httpd/mods-available/setenvif.load] action create
    \u001b[32m- create new file /etc/httpd/mods-available/setenvif.load\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/setenvif.load from none to 3b5f9f\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/setenvif.load\t2019-04-26 14:50:57.306839502 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-setenvif20190426-67198-chlgcq.load\t2019-04-26 14:50:57.305839466 +0000\u001b[0m
    \u001b[37m@@ -1 +1,2 @@\u001b[0m
    \u001b[37m+LoadModule setenvif_module /usr/lib64/httpd/modules/mod_setenvif.so\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * execute[a2enmod setenvif] action run
    \u001b[32m- execute /usr/sbin/a2enmod setenvif\u001b[0m
\u001b[0mRecipe: apache2::mod_log_config\u001b[0m
  * file[/etc/httpd/mods-available/log_config.load] action create
    \u001b[32m- create new file /etc/httpd/mods-available/log_config.load\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/log_config.load from none to 73d95c\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/log_config.load\t2019-04-26 14:50:57.352841165 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-log_config20190426-67198-weast5.load\t2019-04-26 14:50:57.352841165 +0000\u001b[0m
    \u001b[37m@@ -1 +1,2 @@\u001b[0m
    \u001b[37m+LoadModule log_config_module /usr/lib64/httpd/modules/mod_log_config.so\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * execute[a2enmod log_config] action run
    \u001b[32m- execute /usr/sbin/a2enmod log_config\u001b[0m
\u001b[0mRecipe: apache2::mod_logio\u001b[0m
  * file[/etc/httpd/mods-available/logio.load] action create
    \u001b[32m- create new file /etc/httpd/mods-available/logio.load\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/logio.load from none to d7e67c\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/logio.load\t2019-04-26 14:50:57.398842827 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-logio20190426-67198-hc4477.load\t2019-04-26 14:50:57.398842827 +0000\u001b[0m
    \u001b[37m@@ -1 +1,2 @@\u001b[0m
    \u001b[37m+LoadModule logio_module /usr/lib64/httpd/modules/mod_logio.so\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * execute[a2enmod logio] action run
    \u001b[32m- execute /usr/sbin/a2enmod logio\u001b[0m
\u001b[0mRecipe: apache2::mod_unixd\u001b[0m
  * file[/etc/httpd/mods-available/unixd.load] action create
    \u001b[32m- create new file /etc/httpd/mods-available/unixd.load\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/unixd.load from none to 4cb8ec\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/unixd.load\t2019-04-26 14:50:57.444844490 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-unixd20190426-67198-19v4f8v.load\t2019-04-26 14:50:57.444844490 +0000\u001b[0m
    \u001b[37m@@ -1 +1,2 @@\u001b[0m
    \u001b[37m+LoadModule unixd_module /usr/lib64/httpd/modules/mod_unixd.so\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * execute[a2enmod unixd] action run
    \u001b[32m- execute /usr/sbin/a2enmod unixd\u001b[0m
\u001b[0mRecipe: apache2::mod_systemd\u001b[0m
  * file[/etc/httpd/mods-available/systemd.load] action create
    \u001b[32m- create new file /etc/httpd/mods-available/systemd.load\u001b[0m
    \u001b[32m- update content in file /etc/httpd/mods-available/systemd.load from none to f75665\u001b[0m
    \u001b[37m--- /etc/httpd/mods-available/systemd.load\t2019-04-26 14:50:57.490846152 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/mods-available/.chef-systemd20190426-67198-7sl6li.load\t2019-04-26 14:50:57.490846152 +0000\u001b[0m
    \u001b[37m@@ -1 +1,2 @@\u001b[0m
    \u001b[37m+LoadModule systemd_module /usr/lib64/httpd/modules/mod_systemd.so\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
\u001b[0m  * execute[a2enmod systemd] action run
    \u001b[32m- execute /usr/sbin/a2enmod systemd\u001b[0m
\u001b[0mRecipe: apache2::default\u001b[0m
  * service[apache2] action enable
    \u001b[32m- enable service service[apache2]\u001b[0m
\u001b[0mRecipe: openstack-dashboard::horizon\u001b[0m
  * file[/usr/share/openstack-dashboard/openstack_dashboard/local/.secret_key_store] action create (skipped due to only_if)
Recipe: apache2::default\u001b[0m
  * service[apache2] action start
    \u001b[32m- start service service[apache2]\u001b[0m
\u001b[0mRecipe: openstack-dashboard::horizon\u001b[0m
  * file[/usr/share/openstack-dashboard/openstack_dashboard/local/.secret_key_store] action create (skipped due to only_if)
Recipe: apache2::mod_wsgi\u001b[0m
  * yum_package[mod_wsgi] action install
    \u001b[32m- install version 0:3.4-18.el7.x86_64 of package mod_wsgi\u001b[0m
\u001b[0mRecipe: apache2::default\u001b[0m
  * execute[generate-module-list] action run
    \u001b[32m- execute /usr/local/bin/apache2_module_conf_generate.pl /usr/lib64/httpd /etc/httpd/mods-available\u001b[0m
\u001b[0mRecipe: apache2::mod_wsgi\u001b[0m
  * file[/etc/httpd/conf.d/wsgi.conf] action create
    \u001b[32m- create new file /etc/httpd/conf.d/wsgi.conf\u001b[0m
    \u001b[32m- update content in file /etc/httpd/conf.d/wsgi.conf from none to 7b8a87\u001b[0m
    \u001b[37m--- /etc/httpd/conf.d/wsgi.conf\t2019-04-26 14:50:59.815930177 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/conf.d/.chef-wsgi20190426-67198-1l9gaje.conf\t2019-04-26 14:50:59.815930177 +0000\u001b[0m
    \u001b[37m@@ -1 +1,2 @@\u001b[0m
    \u001b[37m+# conf is under mods-available/wsgi.conf - apache2 cookbook\
\u001b[0m
\u001b[0m  * file[/etc/httpd/mods-available/wsgi.load] action create (up to date)
  * execute[a2enmod wsgi] action run
    \u001b[32m- execute /usr/sbin/a2enmod wsgi\u001b[0m
\u001b[0mRecipe: openstack-identity::server-apache\u001b[0m
  * directory[/var/www/html/keystone] action create
    \u001b[32m- create new directory /var/www/html/keystone\u001b[0m
    \u001b[32m- change mode from '' to '0755'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0mRecipe: apache2::mod_rewrite\u001b[0m
  * file[/etc/httpd/mods-available/rewrite.load] action create (up to date)
  * execute[a2enmod rewrite] action run
    \u001b[32m- execute /usr/sbin/a2enmod rewrite\u001b[0m
\u001b[0mRecipe: apache2::mod_headers\u001b[0m
  * file[/etc/httpd/mods-available/headers.load] action create (up to date)
  * execute[a2enmod headers] action run
    \u001b[32m- execute /usr/sbin/a2enmod headers\u001b[0m
\u001b[0mRecipe: openstack-identity::server-apache\u001b[0m
  * template[/etc/httpd/sites-available/identity.conf] action create
    \u001b[32m- create new file /etc/httpd/sites-available/identity.conf\u001b[0m
    \u001b[32m- update content in file /etc/httpd/sites-available/identity.conf from none to 382e53\u001b[0m
    \u001b[37m--- /etc/httpd/sites-available/identity.conf\t2019-04-26 14:50:59.968935707 +0000\u001b[0m
    \u001b[37m+++ /etc/httpd/sites-available/.chef-identity20190426-67198-1bwsftc.conf\t2019-04-26 14:50:59.968935707 +0000\u001b[0m
    \u001b[37m@@ -1 +1,22 @@\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+# This file is automatically generated by Chef\u001b[0m
    \u001b[37m+# Any changes will be overwritten\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+<VirtualHost 147.75.201.110:5000>\u001b[0m
    \u001b[37m+    WSGIDaemonProcess identity processes=5 threads=1 user=keystone group=keystone display-name=%{GROUP}\u001b[0m
    \u001b[37m+    WSGIProcessGroup identity\u001b[0m
    \u001b[37m+    WSGIScriptAlias / /usr/bin/keystone-wsgi-public\u001b[0m
    \u001b[37m+    WSGIApplicationGroup %{GLOBAL}\u001b[0m
    \u001b[37m+    WSGIPassAuthorization On\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    ErrorLogFormat \"%{cu}t %M\"\u001b[0m
    \u001b[37m+    ErrorLog /var/log/httpd/identity.log\u001b[0m
    \u001b[37m+    CustomLog /var/log/httpd/identity_access.log combined\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+    <Directory /usr/bin>\u001b[0m
    \u001b[37m+        Require all granted\u001b[0m
    \u001b[37m+    </Directory>\u001b[0m
    \u001b[37m+\u001b[0m
    \u001b[37m+</VirtualHost>\u001b[0m
    \u001b[32m- change mode from '' to '0644'\u001b[0m
    \u001b[32m- change owner from '' to 'root'\u001b[0m
    \u001b[32m- change group from '' to 'root'\u001b[0m
\u001b[0m  * execute[a2ensite identity.conf] action run
    \u001b[32m- execute /usr/sbin/a2ensite identity.conf\u001b[0m
\u001b[0m  * execute[a2dissite keystone.conf] action run (skipped due to only_if)
  * execute[Keystone apache restart] action run
    \u001b[32m- execute uname\u001b[0m
\u001b[0mRecipe: openstack-dashboard::apache2-server\u001b[0m
  * execute[restore-selinux-context] action run (skipped due to only_if)
Recipe: apache2::default\u001b[0m
  * service[apache2] action restart
    \u001b[32m- restart service service[apache2]\u001b[0m
\u001b[0mRecipe: openstack-dashboard::horizon\u001b[0m
  * file[/usr/share/openstack-dashboard/openstack_dashboard/local/.secret_key_store] action create (skipped due to only_if)
Recipe: openstack-identity::server-apache\u001b[0m
  * execute[restore-selinux-context] action nothing (skipped due to action :nothing)
Recipe: openstack-identity::registration\u001b[0m
  * ruby_block[wait for identity endpoint] action run
    \u001b[32m- execute the ruby block wait for identity endpoint\u001b[0m
\u001b[0m  * openstack_domain[identity] action create
    \u001b[0m
    ================================================================================\u001b[0m
    \u001b[31mError executing action `create` on resource 'openstack_domain[identity]'\u001b[0m
    ================================================================================\u001b[0m
    
\u001b[0m    Excon::Error::NotFound\u001b[0m
    ----------------------\u001b[0m
    Expected([200, 201]) <=> Actual(404 Not Found)
\u001b[0m    excon.error.response
\u001b[0m      :body          => \"{\\\"error\\\": {\\\"message\\\": \\\"(http://147.75.201.110:5000/v3/auth/tokens/auth/tokens): The resource could not be found.\\\", \\\"code\\\": 404, \\\"title\\\": \\\"Not Found\\\"}}\"
\u001b[0m      :cookies       => [
\u001b[0m      ]
\u001b[0m      :headers       => {
\u001b[0m        \"Content-Length\"         => \"150\"
\u001b[0m        \"Content-Type\"           => \"application/json\"
\u001b[0m        \"Date\"                   => \"Fri, 26 Apr 2019 14:51:02 GMT\"
\u001b[0m        \"Server\"                 => \"Apache\"
\u001b[0m        \"Vary\"                   => \"X-Auth-Token\"
\u001b[0m        \"x-openstack-request-id\" => \"req-69746a7d-6d7c-4a10-a9e7-f0a55f653425\"
\u001b[0m      }
\u001b[0m      :host          => \"147.75.201.110\"
\u001b[0m      :local_address => \"147.75.201.110\"
\u001b[0m      :local_port    => 41684
\u001b[0m      :path          => \"/v3/auth/tokens/auth/tokens\"
\u001b[0m      :port          => 5000
\u001b[0m      :reason_phrase => \"Not Found\"
\u001b[0m      :remote_ip     => \"147.75.201.110\"
\u001b[0m      :status        => 404
\u001b[0m      :status_line   => \"HTTP/1.1 404 Not Found\\r\
\"
\u001b[0m    
\u001b[0m    Cookbook Trace:\u001b[0m
    ---------------\u001b[0m
    /root/.chef/local-mode-cache/cache/cookbooks/openstackclient/libraries/openstack_base.rb:21:in `connection'
\u001b[0m    /root/.chef/local-mode-cache/cache/cookbooks/openstackclient/libraries/openstack_domain.rb:28:in `block in <class:OpenstackDomain>'\u001b[0m
    
\u001b[0m    Resource Declaration:\u001b[0m
    ---------------------\u001b[0m
    # In /root/.chef/local-mode-cache/cache/cookbooks/openstack-identity/recipes/registration.rb
\u001b[0m    
\u001b[0m     68: openstack_domain 'identity' do
\u001b[0m     69:   connection_params connection_params
\u001b[0m     70: end
\u001b[0m     71: 
\u001b[0m    
\u001b[0m    Compiled Resource:\u001b[0m
    ------------------\u001b[0m
    # Declared in /root/.chef/local-mode-cache/cache/cookbooks/openstack-identity/recipes/registration.rb:68:in `from_file'
\u001b[0m    
\u001b[0m    openstack_domain(\"identity\") do
\u001b[0m      action [:create]
\u001b[0m      default_guard_interpreter :default
\u001b[0m      declared_type :openstack_domain
\u001b[0m      cookbook_name \"openstack-identity\"
\u001b[0m      recipe_name \"registration\"
\u001b[0m      connection_params {:openstack_auth_url=>\"http://147.75.201.110:5000/v3/auth/tokens\", :openstack_username=>\"admin\", :openstack_api_key=>\"mypass\", :openstack_project_name=>\"admin\", :openstack_domain_id=>\"default\"}
\u001b[0m      domain_name \"identity\"
\u001b[0m    end
\u001b[0m    
\u001b[0m    System Info:\u001b[0m
    ------------\u001b[0m
    chef_version=14.6.47
\u001b[0m    platform=centos
\u001b[0m    platform_version=7.6.1810
\u001b[0m    ruby=ruby 2.5.3p105 (2018-10-18 revision 65156) [x86_64-linux]
\u001b[0m    program_name=/usr/bin/chef-client
\u001b[0m    executable=/opt/chefdk/bin/chef-client\u001b[0m
    
\u001b[0mRecipe: mariadb::server\u001b[0m
  * service[mysql] action restart
    \u001b[32m- restart service service[mysql]\u001b[0m
\u001b[0mRecipe: rabbitmq::default\u001b[0m
  * service[rabbitmq-server] action restart
    \u001b[32m- restart service service[rabbitmq-server]\u001b[0m
\u001b[0mRecipe: apache2::default\u001b[0m
  * service[apache2] action restart
    \u001b[32m- restart service service[apache2]\u001b[0m
\u001b[0mRecipe: openstack-dashboard::horizon\u001b[0m
  * file[/usr/share/openstack-dashboard/openstack_dashboard/local/.secret_key_store] action create (skipped due to only_if)
Recipe: apache2::default\u001b[0m
  * service[apache2] action reload
    \u001b[32m- reload service service[apache2]\u001b[0m
\u001b[0mRecipe: openstack-dashboard::horizon\u001b[0m
  * file[/usr/share/openstack-dashboard/openstack_dashboard/local/.secret_key_store] action create (skipped due to only_if)
\u001b[0m
Running handlers:\u001b[0m
[2019-04-26T14:51:17+00:00] ERROR: Running exception handlers
Running handlers complete
\u001b[0m[2019-04-26T14:51:17+00:00] ERROR: Exception handlers complete
Chef Client failed. 250 resources updated in 04 minutes 09 seconds\u001b[0m
[2019-04-26T14:51:17+00:00] FATAL: Stacktrace dumped to /root/.chef/local-mode-cache/cache/chef-stacktrace.out
[2019-04-26T14:51:17+00:00] FATAL: Please provide the contents of the stacktrace.out file if you file a bug report
[2019-04-26T14:51:17+00:00] FATAL: Excon::Error::NotFound: openstack_domain[identity] (openstack-identity::registration line 68) had an error: Excon::Error::NotFound: Expected([200, 201]) <=> Actual(404 Not Found)
excon.error.response
  :body          => \"{\\\"error\\\": {\\\"message\\\": \\\"(http://147.75.201.110:5000/v3/auth/tokens/auth/tokens): The resource could not be found.\\\", \\\"code\\\": 404, \\\"title\\\": \\\"Not Found\\\"}}\"
  :cookies       => [
  ]
  :headers       => {
    \"Content-Length\"         => \"150\"
    \"Content-Type\"           => \"application/json\"
    \"Date\"                   => \"Fri, 26 Apr 2019 14:51:02 GMT\"
    \"Server\"                 => \"Apache\"
    \"Vary\"                   => \"X-Auth-Token\"
    \"x-openstack-request-id\" => \"req-69746a7d-6d7c-4a10-a9e7-f0a55f653425\"
  }
  :host          => \"147.75.201.110\"
  :local_address => \"147.75.201.110\"
  :local_port    => 41684
  :path          => \"/v3/auth/tokens/auth/tokens\"
  :port          => 5000
  :reason_phrase => \"Not Found\"
  :remote_ip     => \"147.75.201.110\"
  :status        => 404
  :status_line   => \"HTTP/1.1 404 Not Found\\r\
\"", "stdout_lines": ["[2019-04-26T14:47:07+00:00] WARN: No config file found or specified on command line, using command line options.", "Starting Chef Client, version 14.6.47\u001b[0m", "resolving cookbooks for run list: [\"build-essential\", \"openstack-common\", \"openstack-common::logging\", \"openstack-common::sysctl\", \"openstack-common::python\", \"openstack-common::client\", \"openstack-ops-database::server\", \"openstack-ops-database::openstack-db\", \"openstack-ops-messaging::rabbitmq-server\", \"openstack-identity::server-apache\", \"openstack-identity::registration\", \"openstack-identity::openrc\", \"openstack-image::api\", \"openstack-image::registry\", \"openstack-image::identity_registration\", \"openstack-network\", \"openstack-network::server\", \"openstack-network::ml2_core_plugin\", \"openstack-network::dhcp_agent\", \"openstack-network::metadata_agent\", \"openstack-compute::nova-setup\", \"openstack-compute::identity_registration\", \"openstack-compute::conductor\", \"openstack-compute::api-os-compute\", \"openstack-compute::api-metadata\", \"openstack-compute::placement_api\", \"openstack-compute::scheduler\", \"openstack-compute::vncproxy\", \"openstack-orchestration::engine\", \"openstack-orchestration::api\", \"openstack-orchestration::api-cfn\", \"openstack-orchestration::identity_registration\", \"openstack-image::image_upload\", \"openstack-dashboard::horizon\"]\u001b[0m", "Synchronizing Cookbooks:\u001b[0m", "  - build-essential (8.2.1)\u001b[0m", "  - openstack-common (18.0.0)\u001b[0m", "  - openstack-ops-database (18.0.0)\u001b[0m", "  - openstack-ops-messaging (18.0.0)\u001b[0m", "  - openstack-identity (18.0.0)\u001b[0m", "  - openstack-image (18.0.0)\u001b[0m", "  - openstack-network (18.0.0)\u001b[0m", "  - openstack-compute (18.0.0)\u001b[0m", "  - openstack-orchestration (18.0.0)\u001b[0m", "  - openstack-dashboard (18.0.0)\u001b[0m", "  - seven_zip (3.1.0)\u001b[0m", "  - mingw (2.1.0)\u001b[0m", "  - etcd (5.6.0)\u001b[0m", "  - mariadb (1.5.4)\u001b[0m", "  - memcached (4.1.0)\u001b[0m", "  - mysql (8.5.1)\u001b[0m", "  - poise-python (1.7.0)\u001b[0m", "  - selinux (2.1.1)\u001b[0m", "  - mysql2_chef_gem (2.1.0)\u001b[0m", "  - rabbitmq (5.8.0)\u001b[0m", "  - openstackclient (18.0.0)\u001b[0m", "  - apache2 (5.0.1)\u001b[0m", "  - windows (6.0.0)\u001b[0m", "  - docker (4.9.2)\u001b[0m", "  - apt (7.1.1)\u001b[0m", "  - selinux_policy (2.3.4)\u001b[0m", "  - yum (5.1.0)\u001b[0m", "  - yum-epel (3.3.0)\u001b[0m", "  - yum-scl (0.2.0)\u001b[0m", "  - runit (5.1.0)\u001b[0m", "  - poise (2.8.2)\u001b[0m", "  - poise-languages (2.1.2)\u001b[0m", "  - erlang (7.0.0)\u001b[0m", "  - yum-erlang_solutions (2.0.0)\u001b[0m", "  - dpkg_autostart (0.2.0)\u001b[0m", "  - logrotate (2.2.0)\u001b[0m", "  - inifile_chef_gem (0.1.0)\u001b[0m", "  - packagecloud (1.0.1)\u001b[0m", "  - poise-archive (1.5.0)\u001b[0m", "Installing Cookbook Gems:\u001b[0m", "Compiling Cookbooks...\u001b[0m", "Converging 391 resources\u001b[0m", "Recipe: build-essential::default\u001b[0m", "  * build_essential[install_packages] action install", "    * yum_package[autoconf, bison, flex, gcc, gcc-c++, gettext, kernel-devel, make, m4, ncurses-devel, patch] action install", "      \u001b[32m- install version 0:2.69-11.el7.noarch of package autoconf\u001b[0m", "      \u001b[32m- install version 0:3.0.4-2.el7.x86_64 of package bison\u001b[0m", "      \u001b[32m- install version 0:2.5.37-6.el7.x86_64 of package flex\u001b[0m", "      \u001b[32m- install version 0:4.8.5-36.el7_6.1.x86_64 of package gcc\u001b[0m", "      \u001b[32m- install version 0:4.8.5-36.el7_6.1.x86_64 of package gcc-c++\u001b[0m", "      \u001b[32m- install version 0:3.10.0-957.10.1.el7.x86_64 of package kernel-devel\u001b[0m", "      \u001b[32m- install version 0:5.9-14.20130511.el7_4.x86_64 of package ncurses-devel\u001b[0m", "\u001b[0m  ", "\u001b[0mRecipe: openstack-common::default\u001b[0m", "  * yum_repository[RDO-rocky] action add", "    * template[/etc/yum.repos.d/RDO-rocky.repo] action create", "      \u001b[32m- create new file /etc/yum.repos.d/RDO-rocky.repo\u001b[0m", "      \u001b[32m- update content in file /etc/yum.repos.d/RDO-rocky.repo from none to 1643ff\u001b[0m", "      \u001b[37m--- /etc/yum.repos.d/RDO-rocky.repo\t2019-04-26 14:47:46.273942913 +0000\u001b[0m", "      \u001b[37m+++ /etc/yum.repos.d/.chef-RDO-rocky20190426-67198-1mfvex5.repo\t2019-04-26 14:47:46.272942877 +0000\u001b[0m", "      \u001b[37m@@ -1 +1,11 @@\u001b[0m", "      \u001b[37m+# This file was generated by Chef\u001b[0m", "      \u001b[37m+# Do NOT modify this file by hand.\u001b[0m", "      \u001b[37m+\u001b[0m", "      \u001b[37m+[RDO-rocky]\u001b[0m", "      \u001b[37m+name=OpenStack RDO repo for rocky\u001b[0m", "      \u001b[37m+baseurl=http://mirror.centos.org/centos/$releasever/cloud/$basearch/openstack-rocky\u001b[0m", "      \u001b[37m+enabled=1\u001b[0m", "      \u001b[37m+fastestmirror_enabled=0\u001b[0m", "      \u001b[37m+gpgcheck=1\u001b[0m", "      \u001b[37m+gpgkey=https://github.com/rdo-infra/rdo-release/raw/rocky-rdo/RPM-GPG-KEY-CentOS-SIG-Cloud\u001b[0m", "      \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m    * execute[yum clean metadata RDO-rocky] action run", "      \u001b[32m- execute yum clean metadata --disablerepo=* --enablerepo=RDO-rocky\u001b[0m", "\u001b[0m    * execute[yum-makecache-RDO-rocky] action run", "      \u001b[32m- execute yum -q -y makecache --disablerepo=* --enablerepo=RDO-rocky\u001b[0m", "\u001b[0m    * ruby_block[package-cache-reload-RDO-rocky] action create", "      \u001b[32m- execute the ruby block package-cache-reload-RDO-rocky\u001b[0m", "\u001b[0m    * execute[yum clean metadata RDO-rocky] action nothing (skipped due to action :nothing)", "    * execute[yum-makecache-RDO-rocky] action nothing (skipped due to action :nothing)", "    * ruby_block[package-cache-reload-RDO-rocky] action nothing (skipped due to action :nothing)", "  ", "\u001b[0m  * yum_repository[RDO-rocky-deps] action remove", "    * execute[yum clean all RDO-rocky-deps] action run (skipped due to only_if)", "    * file[/etc/yum.repos.d/RDO-rocky-deps.repo] action delete (up to date)", "    * ruby_block[package-cache-reload-RDO-rocky-deps] action nothing (skipped due to action :nothing)", "     (up to date)", "  * bash[yum_contentdir] action run (skipped due to not_if)", "  * yum_package[centos-release-qemu-ev] action upgrade", "    \u001b[32m- upgrade package centos-release-qemu-ev from uninstalled to 0:1.0-4.el7.centos.noarch\u001b[0m", "\u001b[0m  * python_runtime[2] action install", "    * poise_languages_system[python] action install", "      \u001b[32m- install version 0:2.7.5-77.el7_6.x86_64 of package python-devel\u001b[0m", "\u001b[0m    * yum_package[python, python-devel] action nothing (skipped due to action :nothing)", "  ", "\u001b[0m  * python_runtime_pip[2] action install", "    * python_package[pip] action upgrade", "      \u001b[32m- upgrade(allow_downgrade) package pip from 8.1.2 to 18.0\u001b[0m", "\u001b[0m  ", "\u001b[0m  * python_package[setuptools] action install", "    \u001b[32m- install version 40.0.0 of package setuptools\u001b[0m", "\u001b[0m  * python_package[wheel] action install", "    \u001b[32m- install version 0.31.1 of package wheel\u001b[0m", "\u001b[0m  * python_package[virtualenv] action install", "    \u001b[32m- install version 16.5.0 of package virtualenv\u001b[0m", "\u001b[0m", "\u001b[0mRecipe: openstack-common::logging\u001b[0m", "  * directory[/etc/openstack] action create", "    \u001b[32m- create new directory /etc/openstack\u001b[0m", "    \u001b[32m- change mode from '' to '0755'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0m  * template[/etc/openstack/logging.conf] action create", "    \u001b[32m- create new file /etc/openstack/logging.conf\u001b[0m", "    \u001b[32m- update content in file /etc/openstack/logging.conf from none to d41178\u001b[0m", "    \u001b[37m--- /etc/openstack/logging.conf\t2019-04-26 14:48:10.275809189 +0000\u001b[0m", "    \u001b[37m+++ /etc/openstack/.chef-logging20190426-67198-h1582g.conf\t2019-04-26 14:48:10.274809153 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,135 @@\u001b[0m", "    \u001b[37m+[loggers]\u001b[0m", "    \u001b[37m+keys=root,ceilometer,cinder,glance,horizon,keystone,nova,neutron,trove,amqplib,sqlalchemy,boto,suds,eventletwsgi,nova_api_openstack_wsgi,nova_osapi_compute_wsgi_server\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[formatters]\u001b[0m", "    \u001b[37m+keys=normal,normal_with_name,debug,syslog_with_name,syslog_debug\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[handlers]\u001b[0m", "    \u001b[37m+keys=stderr,devel,prod,debug\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+## LOGGERS ##\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_root]\u001b[0m", "    \u001b[37m+level=NOTSET\u001b[0m", "    \u001b[37m+handlers=devel\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_ceilometer]\u001b[0m", "    \u001b[37m+level=DEBUG\u001b[0m", "    \u001b[37m+handlers=prod,debug\u001b[0m", "    \u001b[37m+qualname=ceilometer\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_cinder]\u001b[0m", "    \u001b[37m+level=DEBUG\u001b[0m", "    \u001b[37m+handlers=prod,debug\u001b[0m", "    \u001b[37m+qualname=cinder\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_glance]\u001b[0m", "    \u001b[37m+level=DEBUG\u001b[0m", "    \u001b[37m+handlers=prod,debug\u001b[0m", "    \u001b[37m+qualname=glance\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_horizon]\u001b[0m", "    \u001b[37m+level=DEBUG\u001b[0m", "    \u001b[37m+handlers=prod,debug\u001b[0m", "    \u001b[37m+qualname=horizon\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_keystone]\u001b[0m", "    \u001b[37m+level=DEBUG\u001b[0m", "    \u001b[37m+handlers=prod,debug\u001b[0m", "    \u001b[37m+qualname=keystone\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_nova]\u001b[0m", "    \u001b[37m+level=DEBUG\u001b[0m", "    \u001b[37m+handlers=prod,debug\u001b[0m", "    \u001b[37m+qualname=nova\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_neutron]\u001b[0m", "    \u001b[37m+level=DEBUG\u001b[0m", "    \u001b[37m+handlers=prod,debug\u001b[0m", "    \u001b[37m+qualname=neutron\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_trove]\u001b[0m", "    \u001b[37m+level=DEBUG\u001b[0m", "    \u001b[37m+handlers=prod,debug\u001b[0m", "    \u001b[37m+qualname=trove\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_amqplib]\u001b[0m", "    \u001b[37m+level=WARNING\u001b[0m", "    \u001b[37m+handlers=stderr\u001b[0m", "    \u001b[37m+qualname=amqplib\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_sqlalchemy]\u001b[0m", "    \u001b[37m+level=WARNING\u001b[0m", "    \u001b[37m+handlers=stderr\u001b[0m", "    \u001b[37m+qualname=sqlalchemy\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_boto]\u001b[0m", "    \u001b[37m+level=WARNING\u001b[0m", "    \u001b[37m+handlers=stderr\u001b[0m", "    \u001b[37m+qualname=boto\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_suds]\u001b[0m", "    \u001b[37m+level=INFO\u001b[0m", "    \u001b[37m+handlers=stderr\u001b[0m", "    \u001b[37m+qualname=suds\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_eventletwsgi]\u001b[0m", "    \u001b[37m+level=WARNING\u001b[0m", "    \u001b[37m+handlers=stderr\u001b[0m", "    \u001b[37m+qualname=eventlet.wsgi.server\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_nova_api_openstack_wsgi]\u001b[0m", "    \u001b[37m+level=WARNING\u001b[0m", "    \u001b[37m+handlers=prod,debug\u001b[0m", "    \u001b[37m+qualname=nova.api.openstack.wsgi\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[logger_nova_osapi_compute_wsgi_server]\u001b[0m", "    \u001b[37m+level=WARNING\u001b[0m", "    \u001b[37m+handlers=prod,debug\u001b[0m", "    \u001b[37m+qualname=nova.osapi_compute.wsgi.server\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+## FORMATTERS ##\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[formatter_normal]\u001b[0m", "    \u001b[37m+format=%(asctime)s %(levelname)s %(message)s\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[formatter_normal_with_name]\u001b[0m", "    \u001b[37m+format=[%(name)s]: %(asctime)s %(levelname)s %(message)s\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[formatter_debug]\u001b[0m", "    \u001b[37m+format=[%(name)s]: %(asctime)s %(levelname)s %(module)s.%(funcName)s %(message)s\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[formatter_syslog_with_name]\u001b[0m", "    \u001b[37m+format=%(name)s: %(levelname)s %(message)s\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[formatter_syslog_debug]\u001b[0m", "    \u001b[37m+format=%(name)s: %(levelname)s %(module)s.%(funcName)s %(message)s\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+## HANDLERS ##\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[handler_stderr]\u001b[0m", "    \u001b[37m+args=(sys.stderr,)\u001b[0m", "    \u001b[37m+class=StreamHandler\u001b[0m", "    \u001b[37m+formatter=debug\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[handler_devel]\u001b[0m", "    \u001b[37m+args=(sys.stdout,)\u001b[0m", "    \u001b[37m+class=StreamHandler\u001b[0m", "    \u001b[37m+formatter=debug\u001b[0m", "    \u001b[37m+level=NOTSET\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[handler_prod]\u001b[0m", "    \u001b[37m+args=(('/dev/log'), handlers.SysLogHandler.LOG_LOCAL0)\u001b[0m", "    \u001b[37m+class=handlers.SysLogHandler\u001b[0m", "    \u001b[37m+formatter=syslog_with_name\u001b[0m", "    \u001b[37m+level=INFO\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[handler_debug]\u001b[0m", "    \u001b[37m+args=(('/dev/log'), handlers.SysLogHandler.LOG_LOCAL1)\u001b[0m", "    \u001b[37m+class=handlers.SysLogHandler\u001b[0m", "    \u001b[37m+formatter=syslog_debug\u001b[0m", "    \u001b[37m+level=DEBUG\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0mRecipe: openstack-common::sysctl\u001b[0m", "  * directory[/etc/sysctl.d] action create (up to date)", "  * template[/etc/sysctl.d/60-openstack.conf] action create", "    \u001b[32m- create new file /etc/sysctl.d/60-openstack.conf\u001b[0m", "    \u001b[32m- update content in file /etc/sysctl.d/60-openstack.conf from none to 8fa39c\u001b[0m", "    \u001b[37m--- /etc/sysctl.d/60-openstack.conf\t2019-04-26 14:48:10.287809622 +0000\u001b[0m", "    \u001b[37m+++ /etc/sysctl.d/.chef-60-openstack20190426-67198-1u7hunt.conf\t2019-04-26 14:48:10.287809622 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,6 @@\u001b[0m", "    \u001b[37m+# Managed by Chef\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+net.ipv4.conf.all.rp_filter = 0\u001b[0m", "    \u001b[37m+net.ipv4.conf.default.rp_filter = 0\u001b[0m", "    \u001b[37m+net.ipv4.ip_forward = 1\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0m  * execute[sysctl -p /etc/sysctl.d/60-openstack.conf] action run", "    \u001b[32m- execute sysctl -p /etc/sysctl.d/60-openstack.conf\u001b[0m", "\u001b[0m  * execute[sysctl -p /etc/sysctl.d/60-openstack.conf] action nothing (skipped due to action :nothing)", "Recipe: openstack-common::python\u001b[0m", "  * python_runtime[3.5] action install", "    * poise_languages_scl[rh-python35] action install", "      * yum_package[centos-release-scl-rh] action upgrade", "        \u001b[32m- upgrade package centos-release-scl-rh from uninstalled to 0:2-3.el7.centos.noarch\u001b[0m", "\u001b[0m      * ruby_block[flush_yum_cache] action run", "        \u001b[32m- execute the ruby block flush_yum_cache\u001b[0m", "\u001b[0m      * yum_package[rh-python35] action install", "        \u001b[32m- install version 0:2.0-2.el7.x86_64 of package rh-python35\u001b[0m", "\u001b[0m      * yum_package[rh-python35-python-devel] action install (up to date)", "    ", "\u001b[0m    * python_runtime_pip[3.5] action install", "      * python_package[pip] action upgrade", "        \u001b[32m- upgrade(allow_downgrade) package pip from 7.1.0 to 18.0\u001b[0m", "\u001b[0m    ", "\u001b[0m    * python_package[setuptools] action install", "      \u001b[32m- install version 40.0.0 of package setuptools\u001b[0m", "\u001b[0m    * python_package[wheel] action install", "      \u001b[32m- install version 0.31.1 of package wheel\u001b[0m", "\u001b[0m  ", "\u001b[0mRecipe: openstack-common::client\u001b[0m", "  * yum_package[python-openstackclient] action upgrade", "    \u001b[32m- upgrade package python-openstackclient from uninstalled to 0:3.16.2-1.el7.noarch\u001b[0m", "\u001b[0mRecipe: yum::default\u001b[0m", "  * yum_globalconfig[/etc/yum.conf] action create", "    * template[/etc/yum.conf] action create", "      \u001b[32m- update content in file /etc/yum.conf from 732348 to f32996\u001b[0m", "      \u001b[37m--- /etc/yum.conf\t2019-04-26 14:21:43.502398501 +0000\u001b[0m", "      \u001b[37m+++ /etc/.chef-yum20190426-67198-d3tc4e.conf\t2019-04-26 14:48:39.700871200 +0000\u001b[0m", "      \u001b[37m@@ -1,28 +1,16 @@\u001b[0m", "      \u001b[37m+# This file was generated by Chef\u001b[0m", "      \u001b[37m+# Do NOT modify this file by hand.\u001b[0m", "      \u001b[37m+\u001b[0m", "      \u001b[37m [main]\u001b[0m", "      \u001b[37m cachedir=/var/cache/yum/$basearch/$releasever\u001b[0m", "      \u001b[37m-keepcache=0\u001b[0m", "      \u001b[37m debuglevel=2\u001b[0m", "      \u001b[37m-logfile=/var/log/yum.log\u001b[0m", "      \u001b[37m+distroverpkg=centos-release\u001b[0m", "      \u001b[37m exactarch=1\u001b[0m", "      \u001b[37m-obsoletes=1\u001b[0m", "      \u001b[37m gpgcheck=1\u001b[0m", "      \u001b[37m+installonly_limit=3\u001b[0m", "      \u001b[37m+keepcache=0\u001b[0m", "      \u001b[37m+localpkg_gpgcheck=0\u001b[0m", "      \u001b[37m+logfile=/var/log/yum.log\u001b[0m", "      \u001b[37m+obsoletes=1\u001b[0m", "      \u001b[37m plugins=1\u001b[0m", "      \u001b[37m-installonly_limit=5\u001b[0m", "      \u001b[37m-bugtracker_url=http://bugs.centos.org/set_project.php?project_id=23&ref=http://bugs.centos.org/bug_report_page.php?category=yum\u001b[0m", "      \u001b[37m-distroverpkg=centos-release\u001b[0m", "      \u001b[37m-exclude=microcode_ctl  ibutils-libs*\u001b[0m", "      \u001b[37m-\u001b[0m", "      \u001b[37m-\u001b[0m", "      \u001b[37m-#  This is the default, if you make this bigger yum won't see if the metadata\u001b[0m", "      \u001b[37m-# is newer on the remote and so you'll \"gain\" the bandwidth of not having to\u001b[0m", "      \u001b[37m-# download the new metadata and \"pay\" for it by yum not having correct\u001b[0m", "      \u001b[37m-# information.\u001b[0m", "      \u001b[37m-#  It is esp. important, to have correct metadata, for distributions like\u001b[0m", "      \u001b[37m-# Fedora which don't keep old packages around. If you don't like this checking\u001b[0m", "      \u001b[37m-# interupting your command line usage, it's much better to have something\u001b[0m", "      \u001b[37m-# manually check the metadata once an hour (yum-updatesd will do this).\u001b[0m", "      \u001b[37m-# metadata_expire=90m\u001b[0m", "      \u001b[37m-\u001b[0m", "      \u001b[37m-# PUT YOUR REPOS HERE OR IN separate files named file.repo\u001b[0m", "      \u001b[37m-# in /etc/yum.repos.d\u001b[0m", "\u001b[0m  ", "\u001b[0mRecipe: mariadb::repository\u001b[0m", "  * yum_repository[mariadb-10.0] action create", "    * template[/etc/yum.repos.d/mariadb-10.0.repo] action create", "      \u001b[32m- create new file /etc/yum.repos.d/mariadb-10.0.repo\u001b[0m", "      \u001b[32m- update content in file /etc/yum.repos.d/mariadb-10.0.repo from none to 7b7062\u001b[0m", "      \u001b[37m--- /etc/yum.repos.d/mariadb-10.0.repo\t2019-04-26 14:48:39.710871561 +0000\u001b[0m", "      \u001b[37m+++ /etc/yum.repos.d/.chef-mariadb-1020190426-67198-1l46lh6.0.repo\t2019-04-26 14:48:39.710871561 +0000\u001b[0m", "      \u001b[37m@@ -1 +1,11 @@\u001b[0m", "      \u001b[37m+# This file was generated by Chef\u001b[0m", "      \u001b[37m+# Do NOT modify this file by hand.\u001b[0m", "      \u001b[37m+\u001b[0m", "      \u001b[37m+[mariadb-10.0]\u001b[0m", "      \u001b[37m+name=MariaDB Official Repository\u001b[0m", "      \u001b[37m+baseurl=http://yum.mariadb.org/10.0/centos7-amd64\u001b[0m", "      \u001b[37m+enabled=1\u001b[0m", "      \u001b[37m+fastestmirror_enabled=0\u001b[0m", "      \u001b[37m+gpgcheck=1\u001b[0m", "      \u001b[37m+gpgkey=https://yum.mariadb.org/RPM-GPG-KEY-MariaDB\u001b[0m", "      \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m    * execute[yum clean metadata mariadb-10.0] action run", "      \u001b[32m- execute yum clean metadata --disablerepo=* --enablerepo=mariadb-10.0\u001b[0m", "\u001b[0m    * execute[yum-makecache-mariadb-10.0] action run", "      \u001b[32m- execute yum -q -y makecache --disablerepo=* --enablerepo=mariadb-10.0\u001b[0m", "\u001b[0m    * ruby_block[package-cache-reload-mariadb-10.0] action create", "      \u001b[32m- execute the ruby block package-cache-reload-mariadb-10.0\u001b[0m", "\u001b[0m    * execute[yum clean metadata mariadb-10.0] action nothing (skipped due to action :nothing)", "    * execute[yum-makecache-mariadb-10.0] action nothing (skipped due to action :nothing)", "    * ruby_block[package-cache-reload-mariadb-10.0] action nothing (skipped due to action :nothing)", "  ", "\u001b[0mRecipe: yum-epel::default\u001b[0m", "  * yum_repository[epel] action create", "    * template[/etc/yum.repos.d/epel.repo] action create", "      \u001b[32m- update content in file /etc/yum.repos.d/epel.repo from dfa0c7 to 490677\u001b[0m", "      \u001b[37m--- /etc/yum.repos.d/epel.repo\t2017-10-02 17:44:08.000000000 +0000\u001b[0m", "      \u001b[37m+++ /etc/yum.repos.d/.chef-epel20190426-67198-1n861uf.repo\t2019-04-26 14:48:41.068920575 +0000\u001b[0m", "      \u001b[37m@@ -1,27 +1,12 @@\u001b[0m", "      \u001b[37m-[epel]\u001b[0m", "      \u001b[37m-name=Extra Packages for Enterprise Linux 7 - $basearch\u001b[0m", "      \u001b[37m-#baseurl=http://download.fedoraproject.org/pub/epel/7/$basearch\u001b[0m", "      \u001b[37m-metalink=https://mirrors.fedoraproject.org/metalink?repo=epel-7&arch=$basearch\u001b[0m", "      \u001b[37m-failovermethod=priority\u001b[0m", "      \u001b[37m-enabled=1\u001b[0m", "      \u001b[37m-gpgcheck=1\u001b[0m", "      \u001b[37m-gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7\u001b[0m", "      \u001b[37m+# This file was generated by Chef\u001b[0m", "      \u001b[37m+# Do NOT modify this file by hand.\u001b[0m", "      \u001b[37m \u001b[0m", "      \u001b[37m-[epel-debuginfo]\u001b[0m", "      \u001b[37m-name=Extra Packages for Enterprise Linux 7 - $basearch - Debug\u001b[0m", "      \u001b[37m-#baseurl=http://download.fedoraproject.org/pub/epel/7/$basearch/debug\u001b[0m", "      \u001b[37m-metalink=https://mirrors.fedoraproject.org/metalink?repo=epel-debug-7&arch=$basearch\u001b[0m", "      \u001b[37m-failovermethod=priority\u001b[0m", "      \u001b[37m+[epel]\u001b[0m", "      \u001b[37m+name=Extra Packages for 7 - $basearch\u001b[0m", "      \u001b[37m enabled=0\u001b[0m", "      \u001b[37m-gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7\u001b[0m", "      \u001b[37m-gpgcheck=1\u001b[0m", "      \u001b[37m-\u001b[0m", "      \u001b[37m-[epel-source]\u001b[0m", "      \u001b[37m-name=Extra Packages for Enterprise Linux 7 - $basearch - Source\u001b[0m", "      \u001b[37m-#baseurl=http://download.fedoraproject.org/pub/epel/7/SRPMS\u001b[0m", "      \u001b[37m-metalink=https://mirrors.fedoraproject.org/metalink?repo=epel-source-7&arch=$basearch\u001b[0m", "      \u001b[37m failovermethod=priority\u001b[0m", "      \u001b[37m-enabled=0\u001b[0m", "      \u001b[37m-gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7\u001b[0m", "      \u001b[37m+fastestmirror_enabled=0\u001b[0m", "      \u001b[37m gpgcheck=1\u001b[0m", "      \u001b[37m+gpgkey=https://download.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-7\u001b[0m", "      \u001b[37m+mirrorlist=http://mirrors.fedoraproject.org/mirrorlist?repo=epel-7&arch=$basearch\u001b[0m", "\u001b[0m    * execute[yum clean metadata epel] action run", "      \u001b[32m- execute yum clean metadata --disablerepo=* --enablerepo=epel\u001b[0m", "\u001b[0m    * execute[yum-makecache-epel] action run (skipped due to only_if)", "    * ruby_block[package-cache-reload-epel] action create", "      \u001b[32m- execute the ruby block package-cache-reload-epel\u001b[0m", "\u001b[0m    * execute[yum clean metadata epel] action nothing (skipped due to action :nothing)", "    * execute[yum-makecache-epel] action nothing (skipped due to action :nothing)", "    * ruby_block[package-cache-reload-epel] action nothing (skipped due to action :nothing)", "  ", "\u001b[0mRecipe: mariadb::_redhat_client\u001b[0m", "  * yum_package[mysql-libs] action remove (skipped due to not_if)", "Recipe: mariadb::client\u001b[0m", "  * yum_package[MariaDB-client] action install", "    \u001b[32m- install version 0:10.0.38-1.el7.centos.x86_64 of package MariaDB-client\u001b[0m", "\u001b[0mRecipe: mariadb::devel\u001b[0m", "  * yum_package[MariaDB-devel] action install", "    \u001b[32m- install version 0:10.0.38-1.el7.centos.x86_64 of package MariaDB-devel\u001b[0m", "\u001b[0mRecipe: openstack-ops-database::mariadb-client\u001b[0m", "  * mysql2_chef_gem_mysql2_chef_gem_mariadb[default] action install", "    \u001b[32m- evaluate block and run any associated actions\u001b[0m", "    \u001b[32m- evaluate block and run any associated actions\u001b[0m", "    * gem_package[mysql2] action install", "      \u001b[32m- install version 0.4.9 of package mysql2\u001b[0m", "\u001b[0m  ", "\u001b[0m  * yum_package[MySQL-python] action install", "    \u001b[32m- install version 0:1.2.5-1.el7.x86_64 of package MySQL-python\u001b[0m", "\u001b[0mRecipe: mariadb::_redhat_server_preinstall\u001b[0m", "  * yum_package[MariaDB-shared] action install (up to date)", "Recipe: mariadb::server\u001b[0m", "  * yum_package[MariaDB-server] action install", "    \u001b[32m- install version 0:10.0.38-1.el7.centos.x86_64 of package MariaDB-server\u001b[0m", "\u001b[0m  * ruby_block[restart_mysql] action run", "    \u001b[32m- execute the ruby block restart_mysql\u001b[0m", "\u001b[0mRecipe: mariadb::config\u001b[0m", "  * template[/root/.my.cnf] action create (skipped due to only_if)", "  * template[/etc/my.cnf] action create", "    \u001b[32m- update content in file /etc/my.cnf from a9b0e4 to 0171a3\u001b[0m", "    \u001b[37m--- /etc/my.cnf\t2019-01-29 18:39:42.000000000 +0000\u001b[0m", "    \u001b[37m+++ /etc/.chef-my20190426-67198-12qxvzm.cnf\t2019-04-26 14:49:45.191234880 +0000\u001b[0m", "    \u001b[37m@@ -1,12 +1,159 @@\u001b[0m", "    \u001b[37m+# DEPLOYED BY CHEF\u001b[0m", "    \u001b[37m+# MariaDB database server configuration file.\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-# This group is read both both by the client and the server\u001b[0m", "    \u001b[37m-# use it for options that affect everything\u001b[0m", "    \u001b[37m+# You can copy this file to one of:\u001b[0m", "    \u001b[37m+# - \"/etc/mysql/my.cnf\" to set global options,\u001b[0m", "    \u001b[37m+# - \"~/.my.cnf\" to set user-specific options.\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-[client-server]\u001b[0m", "    \u001b[37m+# One can use all long options that the program supports.\u001b[0m", "    \u001b[37m+# Run program with --help to get a list of available options and with\u001b[0m", "    \u001b[37m+# --print-defaults to see which it would actually understand and use.\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# For explanations see\u001b[0m", "    \u001b[37m+# http://dev.mysql.com/doc/mysql/en/server-system-variables.html\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m+# This will be passed to all mysql clients\u001b[0m", "    \u001b[37m+# It has been reported that passwords should be enclosed with ticks/quotes\u001b[0m", "    \u001b[37m+# escpecially if they contain \"#\" chars...\u001b[0m", "    \u001b[37m+# Remember to edit /etc/mysql/debian.cnf when changing the socket location.\u001b[0m", "    \u001b[37m+[client]\u001b[0m", "    \u001b[37m+port\t\t= 3306\u001b[0m", "    \u001b[37m+socket\t\t= /var/lib/mysql/mysql.sock\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+# Here is entries for some specific programs\u001b[0m", "    \u001b[37m+# The following values assume you have at least 32M ram\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+# This was formally known as [safe_mysqld]. Both versions are currently parsed.\u001b[0m", "    \u001b[37m+[mysqld_safe]\u001b[0m", "    \u001b[37m+socket\t\t= /var/lib/mysql/mysql.sock\u001b[0m", "    \u001b[37m+nice\t\t= 0\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[mysqld]\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-# include all files from the config directory\u001b[0m", "    \u001b[37m+# * Basic Settings\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-!includedir /etc/my.cnf.d\u001b[0m", "    \u001b[37m+user\t\t= mysql\u001b[0m", "    \u001b[37m+socket\t\t= /var/lib/mysql/mysql.sock\u001b[0m", "    \u001b[37m+port\t\t= 3306\u001b[0m", "    \u001b[37m+basedir\t\t= /usr\u001b[0m", "    \u001b[37m+datadir\t\t= /var/lib/mysql\u001b[0m", "    \u001b[37m+tmpdir\t\t= /var/tmp\u001b[0m", "    \u001b[37m+lc_messages_dir\t= /usr/share/mysql\u001b[0m", "    \u001b[37m+lc_messages\t= en_US\u001b[0m", "    \u001b[37m+skip-external-locking\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# Instead of skip-networking the default is now to listen only on\u001b[0m", "    \u001b[37m+# localhost which is more compatible and is not less secure.\u001b[0m", "    \u001b[37m+bind-address\t\t= 147.75.201.110\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# * Fine Tuning\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+max_connections\t\t= 307\u001b[0m", "    \u001b[37m+connect_timeout\t\t= 5\u001b[0m", "    \u001b[37m+wait_timeout\t\t= 600\u001b[0m", "    \u001b[37m+max_allowed_packet\t= 16M\u001b[0m", "    \u001b[37m+thread_cache_size       = 128\u001b[0m", "    \u001b[37m+sort_buffer_size\t= 4M\u001b[0m", "    \u001b[37m+bulk_insert_buffer_size\t= 16M\u001b[0m", "    \u001b[37m+tmp_table_size\t\t= 32M\u001b[0m", "    \u001b[37m+max_heap_table_size\t= 32M\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# * MyISAM\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# This replaces the startup script and checks MyISAM tables if needed\u001b[0m", "    \u001b[37m+# the first time they are touched. On error, make copy and try a repair.\u001b[0m", "    \u001b[37m+myisam_recover          = BACKUP\u001b[0m", "    \u001b[37m+key_buffer_size\t\t= 128M\u001b[0m", "    \u001b[37m+table_open_cache\t= 400\u001b[0m", "    \u001b[37m+myisam_sort_buffer_size\t= 512M\u001b[0m", "    \u001b[37m+concurrent_insert\t= 2\u001b[0m", "    \u001b[37m+read_buffer_size\t= 2M\u001b[0m", "    \u001b[37m+read_rnd_buffer_size\t= 1M\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# * Query Cache Configuration\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# Cache only tiny result sets, so we can fit more in the query cache.\u001b[0m", "    \u001b[37m+query_cache_limit\t\t= 128K\u001b[0m", "    \u001b[37m+query_cache_size\t\t= 64M\u001b[0m", "    \u001b[37m+# for more write intensive setups, set to DEMAND or OFF\u001b[0m", "    \u001b[37m+#query_cache_type\t\t= DEMAND\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# * Logging and Replication\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# Both location gets rotated by the cronjob.\u001b[0m", "    \u001b[37m+# Be aware that this log type is a performance killer.\u001b[0m", "    \u001b[37m+# As of 5.1 you can enable the log at runtime!\u001b[0m", "    \u001b[37m+general_log_file        = /var/log/mysql/mysql.log\u001b[0m", "    \u001b[37m+general_log             = 0\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# Error logging goes to syslog due to /etc/mysql/conf.d/mysqld_safe_syslog.cnf.\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# we do want to know about network errors and such\u001b[0m", "    \u001b[37m+log_warnings\t\t= 2\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# Enable the slow query log to see queries with especially long duration\u001b[0m", "    \u001b[37m+#slow_query_log[={0|1}]\u001b[0m", "    \u001b[37m+slow_query_log = 0\u001b[0m", "    \u001b[37m+slow_query_log_file\t= /var/log/mysql/mariadb-slow.log\u001b[0m", "    \u001b[37m+long_query_time = 10\u001b[0m", "    \u001b[37m+log_slow_rate_limit\t= 1000\u001b[0m", "    \u001b[37m+log_slow_verbosity\t= query_plan\u001b[0m", "    \u001b[37m+# Logging output type\u001b[0m", "    \u001b[37m+log_output = FILE\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m+#log-queries-not-using-indexes\u001b[0m", "    \u001b[37m+#log_slow_admin_statements\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# The following can be used as easy to replay backup logs or for replication.\u001b[0m", "    \u001b[37m+# note: if you are setting up a replication slave, see README.Debian about\u001b[0m", "    \u001b[37m+#       other settings you may need to change.\u001b[0m", "    \u001b[37m+#report_host\t\t= master1\u001b[0m", "    \u001b[37m+#auto_increment_increment = 2\u001b[0m", "    \u001b[37m+#auto_increment_offset\t= 1\u001b[0m", "    \u001b[37m+# not fab for performance, but safer\u001b[0m", "    \u001b[37m+#sync_binlog\t\t= 1\u001b[0m", "    \u001b[37m+# slaves\u001b[0m", "    \u001b[37m+#relay_log\t\t= /var/log/mysql/relay-bin\u001b[0m", "    \u001b[37m+#relay_log_index\t= /var/log/mysql/relay-bin.index\u001b[0m", "    \u001b[37m+#relay_log_info_file\t= /var/log/mysql/relay-bin.info\u001b[0m", "    \u001b[37m+#log_slave_updates\u001b[0m", "    \u001b[37m+#read_only\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# If applications support it, this stricter sql_mode prevents some\u001b[0m", "    \u001b[37m+# mistakes like inserting invalid dates etc.\u001b[0m", "    \u001b[37m+#sql_mode\t\t= NO_ENGINE_SUBSTITUTION,TRADITIONAL\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+default_storage_engine\t= InnoDB\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# * Security Features\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# Read the manual, too, if you want chroot!\u001b[0m", "    \u001b[37m+# chroot = /var/lib/mysql/\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# For generating SSL certificates I recommend the OpenSSL GUI \"tinyca\".\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# ssl-ca=/etc/mysql/cacert.pem\u001b[0m", "    \u001b[37m+# ssl-cert=/etc/mysql/server-cert.pem\u001b[0m", "    \u001b[37m+# ssl-key=/etc/mysql/server-key.pem\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# * Plugins Options\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[mysqldump]\u001b[0m", "    \u001b[37m+max_allowed_packet\t= 16M\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[mysql]\u001b[0m", "    \u001b[37m+#no-auto-rehash\t# faster start of mysql but no tab completition\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[isamchk]\u001b[0m", "    \u001b[37m+key_buffer\t\t= 16M\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# * IMPORTANT: Additional settings that can override those from this file!\u001b[0m", "    \u001b[37m+#   The files must end with '.cnf', otherwise they'll be ignored.\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+!includedir /etc/my.cnf.d/\u001b[0m", "\u001b[0m  * directory[/etc/my.cnf.d] action create (skipped due to not_if)", "  * mariadb_configuration[20-innodb] action add", "    * template[/etc/my.cnf.d/20-innodb.cnf] action create", "      \u001b[32m- create new file /etc/my.cnf.d/20-innodb.cnf\u001b[0m", "      \u001b[32m- update content in file /etc/my.cnf.d/20-innodb.cnf from none to 36e5ec\u001b[0m", "      \u001b[32m- suppressed sensitive resource\u001b[0m", "      \u001b[32m- change mode from '' to '0640'\u001b[0m", "      \u001b[32m- change owner from '' to 'root'\u001b[0m", "      \u001b[32m- change group from '' to 'mysql'\u001b[0m", "\u001b[0m  ", "\u001b[0m  * mariadb_configuration[30-replication] action add", "    * template[/etc/my.cnf.d/30-replication.cnf] action create", "      \u001b[32m- create new file /etc/my.cnf.d/30-replication.cnf\u001b[0m", "      \u001b[32m- update content in file /etc/my.cnf.d/30-replication.cnf from none to b2d844\u001b[0m", "      \u001b[32m- suppressed sensitive resource\u001b[0m", "      \u001b[32m- change mode from '' to '0640'\u001b[0m", "      \u001b[32m- change owner from '' to 'root'\u001b[0m", "      \u001b[32m- change group from '' to 'mysql'\u001b[0m", "\u001b[0m  ", "\u001b[0mRecipe: mariadb::server\u001b[0m", "  * directory[/var/log/mysql] action create", "    \u001b[32m- create new directory /var/log/mysql\u001b[0m", "    \u001b[32m- change mode from '' to '0755'\u001b[0m", "    \u001b[32m- change owner from '' to 'mysql'\u001b[0m", "    \u001b[32m- change group from '' to 'mysql'\u001b[0m", "\u001b[0m  * execute[mariadb-service-restart-needed] action run", "    \u001b[32m- execute true\u001b[0m", "\u001b[0m  * ruby_block[restart_mysql] action run", "    \u001b[32m- execute the ruby block restart_mysql\u001b[0m", "\u001b[0m  * service[mysql] action enable (up to date)", "  * service[mysql] action restart", "    \u001b[32m- restart service service[mysql]\u001b[0m", "\u001b[0m  * ruby_block[restart_mysql] action nothing (skipped due to action :nothing)", "Recipe: mariadb::_redhat_server_postinstall\u001b[0m", "  * execute[change first install root password] action run", "    \u001b[32m- execute sensitive resource\u001b[0m", "\u001b[0mRecipe: mariadb::_mariadb_postinstall\u001b[0m", "  * file[/etc/mysql_root_change] action create", "    \u001b[32m- create new file /etc/mysql_root_change\u001b[0m", "    \u001b[32m- update content in file /etc/mysql_root_change from none to f8cd5c\u001b[0m", "    \u001b[37m--- /etc/mysql_root_change\t2019-04-26 14:49:46.546283787 +0000\u001b[0m", "    \u001b[37m+++ /etc/.chef-mysql_root_change20190426-67198-1akke0r\t2019-04-26 14:49:46.545283751 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,2 @@\u001b[0m", "    \u001b[37m+a029d0df84eb5549c641e04a9ef389e5\u001b[0m", "\u001b[0m  * execute[install-grants] action run (skipped due to only_if)", "  * execute[install-grants] action nothing (skipped due to action :nothing)", "  * template[/etc/mariadb_grants] action create", "    \u001b[32m- create new file /etc/mariadb_grants\u001b[0m", "    \u001b[32m- update content in file /etc/mariadb_grants from none to b25da0\u001b[0m", "    \u001b[32m- suppressed sensitive resource\u001b[0m", "    \u001b[32m- change mode from '' to '0600'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0m  * execute[install-grants] action run", "    \u001b[32m- execute sensitive resource\u001b[0m", "\u001b[0mRecipe: openstack-ops-database::mariadb-server\u001b[0m", "  * template[/etc/my.cnf.d/openstack.cnf] action create", "    \u001b[32m- create new file /etc/my.cnf.d/openstack.cnf\u001b[0m", "    \u001b[32m- update content in file /etc/my.cnf.d/openstack.cnf from none to 3f1fa5\u001b[0m", "    \u001b[37m--- /etc/my.cnf.d/openstack.cnf\t2019-04-26 14:49:46.611286133 +0000\u001b[0m", "    \u001b[37m+++ /etc/my.cnf.d/.chef-openstack20190426-67198-1opqyy2.cnf\t2019-04-26 14:49:46.611286133 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,19 @@\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+# This file is automatically generated by Chef\u001b[0m", "    \u001b[37m+# Any changes will be overwritten\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+[mysqld]\u001b[0m", "    \u001b[37m+default-storage-engine = InnoDB\u001b[0m", "    \u001b[37m+innodb_autoinc_lock_mode = 1\u001b[0m", "    \u001b[37m+innodb_file_per_table = OFF\u001b[0m", "    \u001b[37m+innodb_thread_concurrency = 0\u001b[0m", "    \u001b[37m+innodb_commit_concurrency = 0\u001b[0m", "    \u001b[37m+innodb_read_io_threads = 4\u001b[0m", "    \u001b[37m+innodb_flush_log_at_trx_commit = 1\u001b[0m", "    \u001b[37m+innodb_buffer_pool_size = 134217728\u001b[0m", "    \u001b[37m+innodb_log_file_size = 5242880\u001b[0m", "    \u001b[37m+innodb_log_buffer_size = 8388608\u001b[0m", "    \u001b[37m+character-set-server = latin1\u001b[0m", "    \u001b[37m+query_cache_size = 0\u001b[0m", "    \u001b[37m+max_connections = 307\u001b[0m", "    \u001b[32m- change owner from '' to 'mysql'\u001b[0m", "    \u001b[32m- change group from '' to 'mysql'\u001b[0m", "\u001b[0mRecipe: openstack-ops-database::openstack-db\u001b[0m", "  * log[No databag item containing the database password for aodh was found, so no database was created] action write", "  ", "\u001b[0m  * openstack_common_database[bare_metal] action create", "    * database[create database ironic] action create", "      \u001b[32m- Creating schema 'ironic'\u001b[0m", "\u001b[0m    * database_user[create database user ironic] action create", "      \u001b[32m- Creating user 'ironic'@'localhost'\u001b[0m", "\u001b[0m    * database_user[grant database user ironic] action grant", "      \u001b[32m- Granting privs for 'ironic'@'%'\u001b[0m", "\u001b[0m  ", "\u001b[0m  * openstack_common_database[block_storage] action create", "    * database[create database cinder] action create", "      \u001b[32m- Creating schema 'cinder'\u001b[0m", "\u001b[0m    * database_user[create database user cinder] action create", "      \u001b[32m- Creating user 'cinder'@'localhost'\u001b[0m", "\u001b[0m    * database_user[grant database user cinder] action grant", "      \u001b[32m- Granting privs for 'cinder'@'%'\u001b[0m", "\u001b[0m  ", "\u001b[0m  * openstack_common_database[compute] action create", "    * database[create database nova] action create", "      \u001b[32m- Creating schema 'nova'\u001b[0m", "\u001b[0m    * database_user[create database user nova] action create", "      \u001b[32m- Creating user 'nova'@'localhost'\u001b[0m", "\u001b[0m    * database_user[grant database user nova] action grant", "      \u001b[32m- Granting privs for 'nova'@'%'\u001b[0m", "\u001b[0m  ", "\u001b[0m  * openstack_common_database[compute_api] action create", "    * database[create database nova_api] action create", "      \u001b[32m- Creating schema 'nova_api'\u001b[0m", "\u001b[0m    * database_user[create database user nova_api] action create", "      \u001b[32m- Creating user 'nova_api'@'localhost'\u001b[0m", "\u001b[0m    * database_user[grant database user nova_api] action grant", "      \u001b[32m- Granting privs for 'nova_api'@'%'\u001b[0m", "\u001b[0m  ", "\u001b[0m  * openstack_common_database[compute_cell0] action create", "    * database[create database nova_cell0] action create", "      \u001b[32m- Creating schema 'nova_cell0'\u001b[0m", "\u001b[0m    * database_user[create database user nova_cell0] action create", "      \u001b[32m- Creating user 'nova_cell0'@'localhost'\u001b[0m", "\u001b[0m    * database_user[grant database user nova_cell0] action grant", "      \u001b[32m- Granting privs for 'nova_cell0'@'%'\u001b[0m", "\u001b[0m  ", "\u001b[0m  * openstack_common_database[dashboard] action create", "    * database[create database horizon] action create", "      \u001b[32m- Creating schema 'horizon'\u001b[0m", "\u001b[0m    * database_user[create database user horizon] action create", "      \u001b[32m- Creating user 'horizon'@'localhost'\u001b[0m", "\u001b[0m    * database_user[grant database user horizon] action grant", "      \u001b[32m- Granting privs for 'horizon'@'%'\u001b[0m", "\u001b[0m  ", "\u001b[0m  * log[No databag item containing the database password for trove was found, so no database was created] action write", "  ", "\u001b[0m  * openstack_common_database[dns] action create", "    * database[create database designate] action create", "      \u001b[32m- Creating schema 'designate'\u001b[0m", "\u001b[0m    * database_user[create database user designate] action create", "      \u001b[32m- Creating user 'designate'@'localhost'\u001b[0m", "\u001b[0m    * database_user[grant database user designate] action grant", "      \u001b[32m- Granting privs for 'designate'@'%'\u001b[0m", "\u001b[0m  ", "\u001b[0m  * openstack_common_database[identity] action create", "    * database[create database keystone] action create", "      \u001b[32m- Creating schema 'keystone'\u001b[0m", "\u001b[0m    * database_user[create database user keystone] action create", "      \u001b[32m- Creating user 'keystone'@'localhost'\u001b[0m", "\u001b[0m    * database_user[grant database user keystone] action grant", "      \u001b[32m- Granting privs for 'keystone'@'%'\u001b[0m", "\u001b[0m  ", "\u001b[0m  * openstack_common_database[image] action create", "    * database[create database glance] action create", "      \u001b[32m- Creating schema 'glance'\u001b[0m", "\u001b[0m    * database_user[create database user glance] action create", "      \u001b[32m- Creating user 'glance'@'localhost'\u001b[0m", "\u001b[0m    * database_user[grant database user glance] action grant", "      \u001b[32m- Granting privs for 'glance'@'%'\u001b[0m", "\u001b[0m  ", "\u001b[0m  * openstack_common_database[network] action create", "    * database[create database neutron] action create", "      \u001b[32m- Creating schema 'neutron'\u001b[0m", "\u001b[0m    * database_user[create database user neutron] action create", "      \u001b[32m- Creating user 'neutron'@'localhost'\u001b[0m", "\u001b[0m    * database_user[grant database user neutron] action grant", "      \u001b[32m- Granting privs for 'neutron'@'%'\u001b[0m", "\u001b[0m  ", "\u001b[0m  * log[No databag item containing the database password for swift was found, so no database was created] action write", "  ", "\u001b[0m  * openstack_common_database[orchestration] action create", "    * database[create database heat] action create", "      \u001b[32m- Creating schema 'heat'\u001b[0m", "\u001b[0m    * database_user[create database user heat] action create", "      \u001b[32m- Creating user 'heat'@'localhost'\u001b[0m", "\u001b[0m    * database_user[grant database user heat] action grant", "      \u001b[32m- Granting privs for 'heat'@'%'\u001b[0m", "\u001b[0m  ", "\u001b[0m  * openstack_common_database[telemetry] action create", "    * database[create database ceilometer] action create", "      \u001b[32m- Creating schema 'ceilometer'\u001b[0m", "\u001b[0m    * database_user[create database user ceilometer] action create", "      \u001b[32m- Creating user 'ceilometer'@'localhost'\u001b[0m", "\u001b[0m    * database_user[grant database user ceilometer] action grant", "      \u001b[32m- Granting privs for 'ceilometer'@'%'\u001b[0m", "\u001b[0m  ", "\u001b[0m  * openstack_common_database[telemetry_metric] action create", "    * database[create database gnocchi] action create", "      \u001b[32m- Creating schema 'gnocchi'\u001b[0m", "\u001b[0m    * database_user[create database user gnocchi] action create", "      \u001b[32m- Creating user 'gnocchi'@'localhost'\u001b[0m", "\u001b[0m    * database_user[grant database user gnocchi] action grant", "      \u001b[32m- Granting privs for 'gnocchi'@'%'\u001b[0m", "\u001b[0m  ", "\u001b[0m  * log[No databag item containing the database password for murano was found, so no database was created] action write", "  ", "\u001b[0mRecipe: erlang::package\u001b[0m", "  * yum_package[erlang] action install (up to date)", "Recipe: rabbitmq::default\u001b[0m", "  * directory[/etc/rabbitmq] action create", "    \u001b[32m- create new directory /etc/rabbitmq\u001b[0m", "    \u001b[32m- change mode from '' to '0755'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0m  * yum_package[logrotate] action install (up to date)", "  * yum_package[socat] action install (up to date)", "  * remote_file[/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm] action create_if_missing", "    \u001b[32m- create new file /root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm\u001b[0m", "    \u001b[32m- update content in file /root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm from none to 8addbc\u001b[0m", "    \u001b[37m(new content is binary, diff output suppressed)\u001b[0m", "\u001b[0m  * rpm_package[/root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm] action install", "    \u001b[32m- install version 3.7.14-1.el7 of package /root/.chef/local-mode-cache/cache/rabbitmq-server-3.7.14-1.el7.noarch.rpm\u001b[0m", "\u001b[0m  * directory[/var/lib/rabbitmq/mnesia] action create", "    \u001b[32m- change mode from '0750' to '0775'\u001b[0m", "\u001b[0m  * template[/etc/rabbitmq/rabbitmq-env.conf] action create", "    \u001b[32m- create new file /etc/rabbitmq/rabbitmq-env.conf\u001b[0m", "    \u001b[32m- update content in file /etc/rabbitmq/rabbitmq-env.conf from none to b81dab\u001b[0m", "    \u001b[37m--- /etc/rabbitmq/rabbitmq-env.conf\t2019-04-26 14:49:48.001336302 +0000\u001b[0m", "    \u001b[37m+++ /etc/rabbitmq/.chef-rabbitmq-env20190426-67198-u9y7qz.conf\t2019-04-26 14:49:48.000336266 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,13 @@\u001b[0m", "    \u001b[37m+###\u001b[0m", "    \u001b[37m+# Generated by Chef\u001b[0m", "    \u001b[37m+###\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+NODE_IP_ADDRESS=147.75.201.110\u001b[0m", "    \u001b[37m+NODENAME=admin@openstack-centos-mstr1\u001b[0m", "    \u001b[37m+NODE_PORT=5672\u001b[0m", "    \u001b[37m+CONFIG_FILE=/etc/rabbitmq/rabbitmq.config\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+MNESIA_BASE=/var/lib/rabbitmq/mnesia\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0m  * template[/etc/rabbitmq/rabbitmq.config] action create", "    \u001b[32m- create new file /etc/rabbitmq/rabbitmq.config\u001b[0m", "    \u001b[32m- update content in file /etc/rabbitmq/rabbitmq.config from none to 3870dc\u001b[0m", "    \u001b[32m- suppressed sensitive resource\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0m  * template[/etc/default/rabbitmq-server] action create", "    \u001b[32m- create new file /etc/default/rabbitmq-server\u001b[0m", "    \u001b[32m- update content in file /etc/default/rabbitmq-server from none to 2b28a9\u001b[0m", "    \u001b[37m--- /etc/default/rabbitmq-server\t2019-04-26 14:49:48.014336772 +0000\u001b[0m", "    \u001b[37m+++ /etc/default/.chef-rabbitmq-server20190426-67198-1qeyorf\t2019-04-26 14:49:48.014336772 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,12 @@\u001b[0m", "    \u001b[37m+###\u001b[0m", "    \u001b[37m+# Generated by Chef\u001b[0m", "    \u001b[37m+###\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+# This file is sourced by /etc/init.d/rabbitmq-server. Its primary\u001b[0m", "    \u001b[37m+# reason for existing is to allow minor system and environment adjustment for the\u001b[0m", "    \u001b[37m+# rabbitmq-server process.\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# On modern distributions system limits are managed by systemd, see rabbitmq:systemd_limits and\u001b[0m", "    \u001b[37m+# https://www.rabbitmq.com/networking.html#open-file-handle-limit.\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0m  * service[rabbitmq-server] action enable", "    \u001b[32m- enable service service[rabbitmq-server]\u001b[0m", "\u001b[0m  * service[rabbitmq-server] action start", "    \u001b[32m- start service service[rabbitmq-server]\u001b[0m", "\u001b[0m  * ohai[reload_packages] action reload", "    \u001b[32m- re-run ohai and merge results into node attributes\u001b[0m", "\u001b[0mRecipe: rabbitmq::management_ui\u001b[0m", "  * rabbitmq_plugin[rabbitmq_management] action enable", "    * execute[rabbitmq-plugins enable rabbitmq_management] action run", "      \u001b[32m- execute rabbitmq-plugins enable rabbitmq_management\u001b[0m", "\u001b[0m  ", "\u001b[0mRecipe: rabbitmq::default\u001b[0m", "  * service[rabbitmq-server] action restart", "    \u001b[32m- restart service service[rabbitmq-server]\u001b[0m", "\u001b[0mRecipe: openstack-ops-messaging::rabbitmq-server\u001b[0m", "  * rabbitmq_user[add openstack rabbit user] action add", "    * execute[rabbitmqctl -q add_user admin] action run", "      \u001b[32m- execute sensitive resource\u001b[0m", "\u001b[0m  ", "\u001b[0m  * rabbitmq_user[change openstack rabbit user password] action change_password", "    * execute[rabbitmqctl -q change_password admin] action run", "      \u001b[32m- execute sensitive resource\u001b[0m", "\u001b[0m  ", "\u001b[0m  * rabbitmq_vhost[add openstack rabbit vhost] action add (up to date)", "  * rabbitmq_user[set openstack user permissions] action set_permissions", "    * execute[rabbitmqctl -q set_permissions -p / admin \".*\" \".*\" \".*\"] action run", "      \u001b[32m- execute rabbitmqctl -q set_permissions -p / admin \".*\" \".*\" \".*\"\u001b[0m", "\u001b[0m  ", "\u001b[0m  * rabbitmq_user[set rabbit administrator tag] action set_tags", "    * execute[rabbitmqctl -q set_user_tags admin administrator] action run", "      \u001b[32m- execute rabbitmqctl -q set_user_tags admin administrator\u001b[0m", "\u001b[0m  ", "\u001b[0mRecipe: openstack-identity::server-apache\u001b[0m", "  * execute[set-selinux-permissive] action run (skipped due to only_if)", "  * yum_package[identity cookbook package MySQL-python] action upgrade (up to date)", "  * yum_package[identity cookbook package python-memcached] action upgrade", "    \u001b[32m- upgrade package python-memcached from uninstalled to 0:1.58-1.el7.noarch\u001b[0m", "\u001b[0m  * yum_package[identity cookbook package openstack-keystone] action upgrade", "    \u001b[32m- upgrade package openstack-keystone from uninstalled to 1:14.1.0-1.el7.noarch\u001b[0m", "\u001b[0m  * yum_package[identity cookbook package openstack-selinux] action upgrade", "    \u001b[32m- upgrade package openstack-selinux from uninstalled to 0:0.8.14-1.el7.noarch\u001b[0m", "\u001b[0m  * service[keystone] action stop (up to date)", "  * service[keystone] action disable (up to date)", "  * directory[/etc/keystone] action create", "    \u001b[32m- change mode from '0750' to '0700'\u001b[0m", "    \u001b[32m- change owner from 'root' to 'keystone'\u001b[0m", "\u001b[0m  * directory[/etc/keystone/domains] action create (skipped due to only_if)", "  * file[/var/lib/keystone/keystone.db] action delete (up to date)", "Recipe: openstack-identity::_credential_tokens\u001b[0m", "  * directory[/etc/keystone/credential-tokens] action create", "    \u001b[32m- create new directory /etc/keystone/credential-tokens\u001b[0m", "    \u001b[32m- change mode from '' to '0700'\u001b[0m", "    \u001b[32m- change owner from '' to 'keystone'\u001b[0m", "    \u001b[32m- change group from '' to 'keystone'\u001b[0m", "\u001b[0m  * file[/etc/keystone/credential-tokens/0] action create", "    \u001b[32m- create new file /etc/keystone/credential-tokens/0\u001b[0m", "    \u001b[32m- update content in file /etc/keystone/credential-tokens/0 from none to 2e2f33\u001b[0m", "    \u001b[32m- suppressed sensitive resource\u001b[0m", "    \u001b[32m- change mode from '' to '0400'\u001b[0m", "    \u001b[32m- change owner from '' to 'keystone'\u001b[0m", "    \u001b[32m- change group from '' to 'keystone'\u001b[0m", "\u001b[0m  * file[/etc/keystone/credential-tokens/1] action create", "    \u001b[32m- create new file /etc/keystone/credential-tokens/1\u001b[0m", "    \u001b[32m- update content in file /etc/keystone/credential-tokens/1 from none to 2e2f33\u001b[0m", "    \u001b[32m- suppressed sensitive resource\u001b[0m", "    \u001b[32m- change mode from '' to '0400'\u001b[0m", "    \u001b[32m- change owner from '' to 'keystone'\u001b[0m", "    \u001b[32m- change group from '' to 'keystone'\u001b[0m", "\u001b[0mRecipe: openstack-identity::_fernet_tokens\u001b[0m", "  * directory[/etc/keystone/fernet-tokens] action create", "    \u001b[32m- create new directory /etc/keystone/fernet-tokens\u001b[0m", "    \u001b[32m- change mode from '' to '0700'\u001b[0m", "    \u001b[32m- change owner from '' to 'keystone'\u001b[0m", "    \u001b[32m- change group from '' to 'keystone'\u001b[0m", "\u001b[0m  * file[/etc/keystone/fernet-tokens/0] action create", "    \u001b[32m- create new file /etc/keystone/fernet-tokens/0\u001b[0m", "    \u001b[32m- update content in file /etc/keystone/fernet-tokens/0 from none to 2e2f33\u001b[0m", "    \u001b[32m- suppressed sensitive resource\u001b[0m", "    \u001b[32m- change mode from '' to '0400'\u001b[0m", "    \u001b[32m- change owner from '' to 'keystone'\u001b[0m", "    \u001b[32m- change group from '' to 'keystone'\u001b[0m", "\u001b[0m  * file[/etc/keystone/fernet-tokens/1] action create", "    \u001b[32m- create new file /etc/keystone/fernet-tokens/1\u001b[0m", "    \u001b[32m- update content in file /etc/keystone/fernet-tokens/1 from none to 2e2f33\u001b[0m", "    \u001b[32m- suppressed sensitive resource\u001b[0m", "    \u001b[32m- change mode from '' to '0400'\u001b[0m", "    \u001b[32m- change owner from '' to 'keystone'\u001b[0m", "    \u001b[32m- change group from '' to 'keystone'\u001b[0m", "\u001b[0mRecipe: openstack-identity::server-apache\u001b[0m", "  * template[/etc/keystone/keystone-paste.ini] action create", "    \u001b[32m- update content in file /etc/keystone/keystone-paste.ini from 749c3b to d5e29a\u001b[0m", "    \u001b[37m--- /etc/keystone/keystone-paste.ini\t2019-04-04 14:24:59.000000000 +0000\u001b[0m", "    \u001b[37m+++ /etc/keystone/.chef-keystone-paste20190426-67198-1p9qwbu.ini\t2019-04-26 14:50:47.041468526 +0000\u001b[0m", "    \u001b[37m@@ -1,8 +1,8 @@\u001b[0m", "    \u001b[37m-# !!! WARNING: THIS FILE IS NO LONGER USED. KEYSTONE IS LOADED DIRECTLY AND\u001b[0m", "    \u001b[37m-# !!!          WILL IGNORE THIS FILE. THIS FILE WILL BE REMOVED IN THE STEIN\u001b[0m", "    \u001b[37m-# !!!          RELEASE. IT IS BEING MAINTAINED TO EASE THE TRANSITION OF THE\u001b[0m", "    \u001b[37m-# !!!          DEPLOYMENT TOOLING IN THE WILD.\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m+# This file is automatically generated by Chef\u001b[0m", "    \u001b[37m+# Any changes will be overwritten\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m # Keystone PasteDeploy configuration file.\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m [filter:debug]\u001b[0m", "    \u001b[37m@@ -14,6 +14,9 @@\u001b[0m", "    \u001b[37m [filter:build_auth_context]\u001b[0m", "    \u001b[37m use = egg:keystone#build_auth_context\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m+[filter:token_auth]\u001b[0m", "    \u001b[37m+use = egg:keystone#token_auth\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m [filter:json_body]\u001b[0m", "    \u001b[37m use = egg:keystone#json_body\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m@@ -55,19 +58,13 @@\u001b[0m", "    \u001b[37m use = egg:keystone#admin_service\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m [pipeline:public_api]\u001b[0m", "    \u001b[37m-# The last item in this pipeline must be public_service or an equivalent\u001b[0m", "    \u001b[37m-# application. It cannot be a filter.\u001b[0m", "    \u001b[37m-pipeline = healthcheck cors sizelimit http_proxy_to_wsgi osprofiler url_normalize request_id build_auth_context json_body ec2_extension public_service\u001b[0m", "    \u001b[37m+pipeline = healthcheck cors sizelimit http_proxy_to_wsgi osprofiler url_normalize request_id build_auth_context token_auth json_body ec2_extension public_service\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m [pipeline:admin_api]\u001b[0m", "    \u001b[37m-# The last item in this pipeline must be admin_service or an equivalent\u001b[0m", "    \u001b[37m-# application. It cannot be a filter.\u001b[0m", "    \u001b[37m-pipeline = healthcheck cors sizelimit http_proxy_to_wsgi osprofiler url_normalize request_id build_auth_context json_body ec2_extension s3_extension admin_service\u001b[0m", "    \u001b[37m+pipeline = healthcheck cors sizelimit http_proxy_to_wsgi osprofiler url_normalize request_id build_auth_context token_auth json_body ec2_extension s3_extension admin_service\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m [pipeline:api_v3]\u001b[0m", "    \u001b[37m-# The last item in this pipeline must be service_v3 or an equivalent\u001b[0m", "    \u001b[37m-# application. It cannot be a filter.\u001b[0m", "    \u001b[37m-pipeline = healthcheck cors sizelimit http_proxy_to_wsgi osprofiler url_normalize request_id build_auth_context json_body ec2_extension_v3 s3_extension service_v3\u001b[0m", "    \u001b[37m+pipeline = healthcheck cors sizelimit http_proxy_to_wsgi osprofiler url_normalize request_id build_auth_context token_auth json_body ec2_extension_v3 s3_extension service_v3\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m [app:public_version_service]\u001b[0m", "    \u001b[37m use = egg:keystone#public_version_service\u001b[0m", "    \u001b[37m@@ -92,4 +89,6 @@\u001b[0m", "    \u001b[37m /v2.0 = admin_api\u001b[0m", "    \u001b[37m /v3 = api_v3\u001b[0m", "    \u001b[37m / = admin_version_api\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[32m- change mode from '0640' to '0644'\u001b[0m", "    \u001b[32m- change owner from 'root' to 'keystone'\u001b[0m", "\u001b[0m  * template[/etc/keystone/keystone.conf] action create", "    \u001b[32m- update content in file /etc/keystone/keystone.conf from 397ad5 to 16ab7c\u001b[0m", "    \u001b[37m--- /etc/keystone/keystone.conf\t2019-04-05 03:13:21.000000000 +0000\u001b[0m", "    \u001b[37m+++ /etc/keystone/.chef-keystone20190426-67198-n95xuo.conf\t2019-04-26 14:50:47.050468851 +0000\u001b[0m", "    \u001b[37m@@ -1,2988 +1,33 @@\u001b[0m", "    \u001b[37m-[DEFAULT]\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m+# This file is automatically generated by Chef\u001b[0m", "    \u001b[37m+# Any changes will be overwritten\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m-# Using this feature is *NOT* recommended. Instead, use the `keystone-manage\u001b[0m", "    \u001b[37m-# bootstrap` command. The value of this option is treated as a \"shared secret\"\u001b[0m", "    \u001b[37m-# that can be used to bootstrap Keystone through the API. This \"token\" does not\u001b[0m", "    \u001b[37m-# represent a user (it has no identity), and carries no explicit authorization\u001b[0m", "    \u001b[37m-# (it effectively bypasses most authorization checks). If set to `None`, the\u001b[0m", "    \u001b[37m-# value is ignored and the `admin_token` middleware is effectively disabled.\u001b[0m", "    \u001b[37m-# (string value)\u001b[0m", "    \u001b[37m-#admin_token = <None>\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m-# The base public endpoint URL for Keystone that is advertised to clients\u001b[0m", "    \u001b[37m-# (NOTE: this does NOT affect how Keystone listens for connections). Defaults\u001b[0m", "    \u001b[37m-# to the base host URL of the request. For example, if keystone receives a\u001b[0m", "    \u001b[37m-# request to `http://server:5000/v3/users`, then this will option will be\u001b[0m", "    \u001b[37m-# automatically treated as `http://server:5000`. You should only need to set\u001b[0m", "    \u001b[37m-# option if either the value of the base URL contains a path that keystone does\u001b[0m", "    \u001b[37m-# not automatically infer (`/prefix/v3`), or if the endpoint should be found on\u001b[0m", "    \u001b[37m-# a different host. (uri value)\u001b[0m", "    \u001b[37m-#public_endpoint = <None>\u001b[0m", "    \u001b[37m+[fernet_tokens]\u001b[0m", "    \u001b[37m+key_repository = /etc/keystone/fernet-tokens\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m-# DEPRECATED: The base admin endpoint URL for Keystone that is advertised to\u001b[0m", "    \u001b[37m-# clients (NOTE: this does NOT affect how Keystone listens for connections).\u001b[0m", "    \u001b[37m-# Defaults to the base host URL of the request. For example, if keystone\u001b[0m", "    \u001b[37m-# receives a request to `http://server:35357/v3/users`, then this will option\u001b[0m", "    \u001b[37m-# will be automatically treated as `http://server:35357`. You should only need\u001b[0m", "    \u001b[37m-# to set option if either the value of the base URL contains a path that\u001b[0m", "    \u001b[37m-# keystone does not automatically infer (`/prefix/v3`), or if the endpoint\u001b[0m", "    \u001b[37m-# should be found on a different host. (uri value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal since R.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: With the removal of the 2.0 API keystone does not distinguish between\u001b[0m", "    \u001b[37m-# admin and public endpoints.\u001b[0m", "    \u001b[37m-#admin_endpoint = <None>\u001b[0m", "    \u001b[37m+[credential]\u001b[0m", "    \u001b[37m+key_repository = /etc/keystone/credential-tokens\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m-# Maximum depth of the project hierarchy, excluding the project acting as a\u001b[0m", "    \u001b[37m-# domain at the top of the hierarchy. WARNING: Setting it to a large value may\u001b[0m", "    \u001b[37m-# adversely impact performance. (integer value)\u001b[0m", "    \u001b[37m-#max_project_tree_depth = 5\u001b[0m", "    \u001b[37m+[DEFAULT]\u001b[0m", "    \u001b[37m+log_dir = /var/log/keystone\u001b[0m", "    \u001b[37m+public_endpoint = http://147.75.201.110:5000/\u001b[0m", "    \u001b[37m+admin_endpoint = http://147.75.201.110:5000/\u001b[0m", "    \u001b[37m+transport_url = rabbit://admin:mypass@147.75.201.110:5672/\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m-# Limit the sizes of user & project ID/names. (integer value)\u001b[0m", "    \u001b[37m-#max_param_size = 64\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Similar to `[DEFAULT] max_param_size`, but provides an exception for token\u001b[0m", "    \u001b[37m-# values. With Fernet tokens, this can be set as low as 255. With UUID tokens,\u001b[0m", "    \u001b[37m-# this should be set to 32). (integer value)\u001b[0m", "    \u001b[37m-#max_token_size = 255\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: Similar to the `[DEFAULT] member_role_name` option, this\u001b[0m", "    \u001b[37m-# represents the default role ID used to associate users with their default\u001b[0m", "    \u001b[37m-# projects in the v2 API. This will be used as the explicit role where one is\u001b[0m", "    \u001b[37m-# not specified by the v2 API. You do not need to set this value unless you\u001b[0m", "    \u001b[37m-# want keystone to use an existing role with a different ID, other than the\u001b[0m", "    \u001b[37m-# arbitrarily defined `_member_` role (in which case, you should set `[DEFAULT]\u001b[0m", "    \u001b[37m-# member_role_name` as well). (string value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal since Q.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: This option was used to create a default member role for keystone v2\u001b[0m", "    \u001b[37m-# role assignments, but with the removal of the v2 API it is no longer\u001b[0m", "    \u001b[37m-# necessary to create this default role. This option is deprecated and will be\u001b[0m", "    \u001b[37m-# removed in the S release. If you are depending on having a predictable role\u001b[0m", "    \u001b[37m-# name and ID for this member role you will need to update your tooling.\u001b[0m", "    \u001b[37m-#member_role_id = 9fe2ff9ee4384b1894a90878d3e92bab\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: This is the role name used in combination with the `[DEFAULT]\u001b[0m", "    \u001b[37m-# member_role_id` option; see that option for more detail. You do not need to\u001b[0m", "    \u001b[37m-# set this option unless you want keystone to use an existing role (in which\u001b[0m", "    \u001b[37m-# case, you should set `[DEFAULT] member_role_id` as well). (string value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal since Q.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: This option was used to create a default member role for keystone v2\u001b[0m", "    \u001b[37m-# role assignments, but with the removal of the v2 API it is no longer\u001b[0m", "    \u001b[37m-# necessary to create this default role. This option is deprecated and will be\u001b[0m", "    \u001b[37m-# removed in the S release. If you are depending on having a predictable role\u001b[0m", "    \u001b[37m-# name and ID for this member role you will need to update your tooling.\u001b[0m", "    \u001b[37m-#member_role_name = _member_\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The value passed as the keyword \"rounds\" to passlib's encrypt method. This\u001b[0m", "    \u001b[37m-# option represents a trade off between security and performance. Higher values\u001b[0m", "    \u001b[37m-# lead to slower performance, but higher security. Changing this option will\u001b[0m", "    \u001b[37m-# only affect newly created passwords as existing password hashes already have\u001b[0m", "    \u001b[37m-# a fixed number of rounds applied, so it is safe to tune this option in a\u001b[0m", "    \u001b[37m-# running cluster. For more information, see\u001b[0m", "    \u001b[37m-# https://pythonhosted.org/passlib/password_hash_api.html#choosing-the-right-\u001b[0m", "    \u001b[37m-# rounds-value (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 1000\u001b[0m", "    \u001b[37m-# Maximum value: 100000\u001b[0m", "    \u001b[37m-#crypt_strength = 10000\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The maximum number of entities that will be returned in a collection. This\u001b[0m", "    \u001b[37m-# global limit may be then overridden for a specific driver, by specifying a\u001b[0m", "    \u001b[37m-# list_limit in the appropriate section (for example, `[assignment]`). No limit\u001b[0m", "    \u001b[37m-# is set by default. In larger deployments, it is recommended that you set this\u001b[0m", "    \u001b[37m-# to a reasonable number to prevent operations like listing all users and\u001b[0m", "    \u001b[37m-# projects from placing an unnecessary load on the system. (integer value)\u001b[0m", "    \u001b[37m-#list_limit = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# If set to true, strict password length checking is performed for password\u001b[0m", "    \u001b[37m-# manipulation. If a password exceeds the maximum length, the operation will\u001b[0m", "    \u001b[37m-# fail with an HTTP 403 Forbidden error. If set to false, passwords are\u001b[0m", "    \u001b[37m-# automatically truncated to the maximum length. (boolean value)\u001b[0m", "    \u001b[37m-#strict_password_check = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: The HTTP header used to determine the scheme for the original\u001b[0m", "    \u001b[37m-# request, even if it was removed by an SSL terminating proxy. (string value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal since N.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: This option has been deprecated in the N release and will be removed\u001b[0m", "    \u001b[37m-# in the P release. Use oslo.middleware.http_proxy_to_wsgi configuration\u001b[0m", "    \u001b[37m-# instead.\u001b[0m", "    \u001b[37m-#secure_proxy_ssl_header = HTTP_X_FORWARDED_PROTO\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# If set to true, then the server will return information in HTTP responses\u001b[0m", "    \u001b[37m-# that may allow an unauthenticated or authenticated user to get more\u001b[0m", "    \u001b[37m-# information than normal, such as additional details about why authentication\u001b[0m", "    \u001b[37m-# failed. This may be useful for debugging but is insecure. (boolean value)\u001b[0m", "    \u001b[37m-#insecure_debug = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Default `publisher_id` for outgoing notifications. If left undefined,\u001b[0m", "    \u001b[37m-# Keystone will default to using the server's host name. (string value)\u001b[0m", "    \u001b[37m-#default_publisher_id = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Define the notification format for identity service events. A `basic`\u001b[0m", "    \u001b[37m-# notification only has information about the resource being operated on. A\u001b[0m", "    \u001b[37m-# `cadf` notification has the same information, as well as information about\u001b[0m", "    \u001b[37m-# the initiator of the event. The `cadf` option is entirely backwards\u001b[0m", "    \u001b[37m-# compatible with the `basic` option, but is fully CADF-compliant, and is\u001b[0m", "    \u001b[37m-# recommended for auditing use cases. (string value)\u001b[0m", "    \u001b[37m-# Possible values:\u001b[0m", "    \u001b[37m-# basic - <No description provided>\u001b[0m", "    \u001b[37m-# cadf - <No description provided>\u001b[0m", "    \u001b[37m-#notification_format = cadf\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# You can reduce the number of notifications keystone emits by explicitly\u001b[0m", "    \u001b[37m-# opting out. Keystone will not emit notifications that match the patterns\u001b[0m", "    \u001b[37m-# expressed in this list. Values are expected to be in the form of\u001b[0m", "    \u001b[37m-# `identity.<resource_type>.<operation>`. By default, all notifications related\u001b[0m", "    \u001b[37m-# to authentication are automatically suppressed. This field can be set\u001b[0m", "    \u001b[37m-# multiple times in order to opt-out of multiple notification topics. For\u001b[0m", "    \u001b[37m-# example, the following suppresses notifications describing user creation or\u001b[0m", "    \u001b[37m-# successful authentication events: notification_opt_out=identity.user.create\u001b[0m", "    \u001b[37m-# notification_opt_out=identity.authenticate.success (multi valued)\u001b[0m", "    \u001b[37m-#notification_opt_out = identity.authenticate.success\u001b[0m", "    \u001b[37m-#notification_opt_out = identity.authenticate.pending\u001b[0m", "    \u001b[37m-#notification_opt_out = identity.authenticate.failed\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From oslo.log\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# If set to true, the logging level will be set to DEBUG instead of the default\u001b[0m", "    \u001b[37m-# INFO level. (boolean value)\u001b[0m", "    \u001b[37m-# Note: This option can be changed without restarting.\u001b[0m", "    \u001b[37m-#debug = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The name of a logging configuration file. This file is appended to any\u001b[0m", "    \u001b[37m-# existing logging configuration files. For details about logging configuration\u001b[0m", "    \u001b[37m-# files, see the Python logging module documentation. Note that when logging\u001b[0m", "    \u001b[37m-# configuration files are used then all logging configuration is set in the\u001b[0m", "    \u001b[37m-# configuration file and other logging configuration options are ignored (for\u001b[0m", "    \u001b[37m-# example, logging_context_format_string). (string value)\u001b[0m", "    \u001b[37m-# Note: This option can be changed without restarting.\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/log_config\u001b[0m", "    \u001b[37m-#log_config_append = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Defines the format string for %%(asctime)s in log records. Default:\u001b[0m", "    \u001b[37m-# %(default)s . This option is ignored if log_config_append is set. (string\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#log_date_format = %Y-%m-%d %H:%M:%S\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# (Optional) Name of log file to send logging output to. If no default is set,\u001b[0m", "    \u001b[37m-# logging will go to stderr as defined by use_stderr. This option is ignored if\u001b[0m", "    \u001b[37m-# log_config_append is set. (string value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/logfile\u001b[0m", "    \u001b[37m-#log_file = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# (Optional) The base directory used for relative log_file  paths. This option\u001b[0m", "    \u001b[37m-# is ignored if log_config_append is set. (string value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/logdir\u001b[0m", "    \u001b[37m-#log_dir = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Uses logging handler designed to watch file system. When log file is moved or\u001b[0m", "    \u001b[37m-# removed this handler will open a new log file with specified path\u001b[0m", "    \u001b[37m-# instantaneously. It makes sense only if log_file option is specified and\u001b[0m", "    \u001b[37m-# Linux platform is used. This option is ignored if log_config_append is set.\u001b[0m", "    \u001b[37m-# (boolean value)\u001b[0m", "    \u001b[37m-#watch_log_file = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Use syslog for logging. Existing syslog format is DEPRECATED and will be\u001b[0m", "    \u001b[37m-# changed later to honor RFC5424. This option is ignored if log_config_append\u001b[0m", "    \u001b[37m-# is set. (boolean value)\u001b[0m", "    \u001b[37m-#use_syslog = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Enable journald for logging. If running in a systemd environment you may wish\u001b[0m", "    \u001b[37m-# to enable journal support. Doing so will use the journal native protocol\u001b[0m", "    \u001b[37m-# which includes structured metadata in addition to log messages.This option is\u001b[0m", "    \u001b[37m-# ignored if log_config_append is set. (boolean value)\u001b[0m", "    \u001b[37m-#use_journal = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Syslog facility to receive log lines. This option is ignored if\u001b[0m", "    \u001b[37m-# log_config_append is set. (string value)\u001b[0m", "    \u001b[37m-#syslog_log_facility = LOG_USER\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Use JSON formatting for logging. This option is ignored if log_config_append\u001b[0m", "    \u001b[37m-# is set. (boolean value)\u001b[0m", "    \u001b[37m-#use_json = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Log output to standard error. This option is ignored if log_config_append is\u001b[0m", "    \u001b[37m-# set. (boolean value)\u001b[0m", "    \u001b[37m-#use_stderr = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Format string to use for log messages with context. (string value)\u001b[0m", "    \u001b[37m-#logging_context_format_string = %(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user_identity)s] %(instance)s%(message)s\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Format string to use for log messages when context is undefined. (string\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#logging_default_format_string = %(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [-] %(instance)s%(message)s\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Additional data to append to log message when logging level for the message\u001b[0m", "    \u001b[37m-# is DEBUG. (string value)\u001b[0m", "    \u001b[37m-#logging_debug_format_suffix = %(funcName)s %(pathname)s:%(lineno)d\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Prefix each line of exception output with this format. (string value)\u001b[0m", "    \u001b[37m-#logging_exception_prefix = %(asctime)s.%(msecs)03d %(process)d ERROR %(name)s %(instance)s\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Defines the format string for %(user_identity)s that is used in\u001b[0m", "    \u001b[37m-# logging_context_format_string. (string value)\u001b[0m", "    \u001b[37m-#logging_user_identity_format = %(user)s %(tenant)s %(domain)s %(user_domain)s %(project_domain)s\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# List of package logging levels in logger=LEVEL pairs. This option is ignored\u001b[0m", "    \u001b[37m-# if log_config_append is set. (list value)\u001b[0m", "    \u001b[37m-#default_log_levels = amqp=WARN,amqplib=WARN,boto=WARN,qpid=WARN,sqlalchemy=WARN,suds=INFO,oslo.messaging=INFO,oslo_messaging=INFO,iso8601=WARN,requests.packages.urllib3.connectionpool=WARN,urllib3.connectionpool=WARN,websocket=WARN,requests.packages.urllib3.util.retry=WARN,urllib3.util.retry=WARN,keystonemiddleware=WARN,routes.middleware=WARN,stevedore=WARN,taskflow=WARN,keystoneauth=WARN,oslo.cache=INFO,dogpile.core.dogpile=INFO\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Enables or disables publication of error events. (boolean value)\u001b[0m", "    \u001b[37m-#publish_errors = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The format for an instance that is passed with the log message. (string\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#instance_format = \"[instance: %(uuid)s] \"\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The format for an instance UUID that is passed with the log message. (string\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#instance_uuid_format = \"[instance: %(uuid)s] \"\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Interval, number of seconds, of log rate limiting. (integer value)\u001b[0m", "    \u001b[37m-#rate_limit_interval = 0\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Maximum number of logged messages per rate_limit_interval. (integer value)\u001b[0m", "    \u001b[37m-#rate_limit_burst = 0\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Log level name used by rate limiting: CRITICAL, ERROR, INFO, WARNING, DEBUG\u001b[0m", "    \u001b[37m-# or empty string. Logs with level greater or equal to rate_limit_except_level\u001b[0m", "    \u001b[37m-# are not filtered. An empty string means that all levels are filtered. (string\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#rate_limit_except_level = CRITICAL\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Enables or disables fatal status of deprecations. (boolean value)\u001b[0m", "    \u001b[37m-#fatal_deprecations = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From oslo.messaging\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Size of RPC connection pool. (integer value)\u001b[0m", "    \u001b[37m-#rpc_conn_pool_size = 30\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The pool size limit for connections expiration policy (integer value)\u001b[0m", "    \u001b[37m-#conn_pool_min_size = 2\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The time-to-live in sec of idle connections in the pool (integer value)\u001b[0m", "    \u001b[37m-#conn_pool_ttl = 1200\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# ZeroMQ bind address. Should be a wildcard (*), an ethernet interface, or IP.\u001b[0m", "    \u001b[37m-# The \"host\" option should point or resolve to this address. (string value)\u001b[0m", "    \u001b[37m-#rpc_zmq_bind_address = *\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# MatchMaker driver. (string value)\u001b[0m", "    \u001b[37m-# Possible values:\u001b[0m", "    \u001b[37m-# redis - <No description provided>\u001b[0m", "    \u001b[37m-# sentinel - <No description provided>\u001b[0m", "    \u001b[37m-# dummy - <No description provided>\u001b[0m", "    \u001b[37m-#rpc_zmq_matchmaker = redis\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Number of ZeroMQ contexts, defaults to 1. (integer value)\u001b[0m", "    \u001b[37m-#rpc_zmq_contexts = 1\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Maximum number of ingress messages to locally buffer per topic. Default is\u001b[0m", "    \u001b[37m-# unlimited. (integer value)\u001b[0m", "    \u001b[37m-#rpc_zmq_topic_backlog = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Directory for holding IPC sockets. (string value)\u001b[0m", "    \u001b[37m-#rpc_zmq_ipc_dir = /var/run/openstack\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Name of this node. Must be a valid hostname, FQDN, or IP address. Must match\u001b[0m", "    \u001b[37m-# \"host\" option, if running Nova. (string value)\u001b[0m", "    \u001b[37m-#rpc_zmq_host = localhost\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Number of seconds to wait before all pending messages will be sent after\u001b[0m", "    \u001b[37m-# closing a socket. The default value of -1 specifies an infinite linger\u001b[0m", "    \u001b[37m-# period. The value of 0 specifies no linger period. Pending messages shall be\u001b[0m", "    \u001b[37m-# discarded immediately when the socket is closed. Positive values specify an\u001b[0m", "    \u001b[37m-# upper bound for the linger period. (integer value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/rpc_cast_timeout\u001b[0m", "    \u001b[37m-#zmq_linger = -1\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The default number of seconds that poll should wait. Poll raises timeout\u001b[0m", "    \u001b[37m-# exception when timeout expired. (integer value)\u001b[0m", "    \u001b[37m-#rpc_poll_timeout = 1\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Expiration timeout in seconds of a name service record about existing target\u001b[0m", "    \u001b[37m-# ( < 0 means no timeout). (integer value)\u001b[0m", "    \u001b[37m-#zmq_target_expire = 300\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Update period in seconds of a name service record about existing target.\u001b[0m", "    \u001b[37m-# (integer value)\u001b[0m", "    \u001b[37m-#zmq_target_update = 180\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Use PUB/SUB pattern for fanout methods. PUB/SUB always uses proxy. (boolean\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#use_pub_sub = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Use ROUTER remote proxy. (boolean value)\u001b[0m", "    \u001b[37m-#use_router_proxy = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# This option makes direct connections dynamic or static. It makes sense only\u001b[0m", "    \u001b[37m-# with use_router_proxy=False which means to use direct connections for direct\u001b[0m", "    \u001b[37m-# message types (ignored otherwise). (boolean value)\u001b[0m", "    \u001b[37m-#use_dynamic_connections = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# How many additional connections to a host will be made for failover reasons.\u001b[0m", "    \u001b[37m-# This option is actual only in dynamic connections mode. (integer value)\u001b[0m", "    \u001b[37m-#zmq_failover_connections = 2\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Minimal port number for random ports range. (port value)\u001b[0m", "    \u001b[37m-# Minimum value: 0\u001b[0m", "    \u001b[37m-# Maximum value: 65535\u001b[0m", "    \u001b[37m-#rpc_zmq_min_port = 49153\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Maximal port number for random ports range. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 1\u001b[0m", "    \u001b[37m-# Maximum value: 65536\u001b[0m", "    \u001b[37m-#rpc_zmq_max_port = 65536\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Number of retries to find free port number before fail with ZMQBindError.\u001b[0m", "    \u001b[37m-# (integer value)\u001b[0m", "    \u001b[37m-#rpc_zmq_bind_port_retries = 100\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Default serialization mechanism for serializing/deserializing\u001b[0m", "    \u001b[37m-# outgoing/incoming messages (string value)\u001b[0m", "    \u001b[37m-# Possible values:\u001b[0m", "    \u001b[37m-# json - <No description provided>\u001b[0m", "    \u001b[37m-# msgpack - <No description provided>\u001b[0m", "    \u001b[37m-#rpc_zmq_serialization = json\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# This option configures round-robin mode in zmq socket. True means not keeping\u001b[0m", "    \u001b[37m-# a queue when server side disconnects. False means to keep queue and messages\u001b[0m", "    \u001b[37m-# even if server is disconnected, when the server appears we send all\u001b[0m", "    \u001b[37m-# accumulated messages to it. (boolean value)\u001b[0m", "    \u001b[37m-#zmq_immediate = true\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Enable/disable TCP keepalive (KA) mechanism. The default value of -1 (or any\u001b[0m", "    \u001b[37m-# other negative value) means to skip any overrides and leave it to OS default;\u001b[0m", "    \u001b[37m-# 0 and 1 (or any other positive value) mean to disable and enable the option\u001b[0m", "    \u001b[37m-# respectively. (integer value)\u001b[0m", "    \u001b[37m-#zmq_tcp_keepalive = -1\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The duration between two keepalive transmissions in idle condition. The unit\u001b[0m", "    \u001b[37m-# is platform dependent, for example, seconds in Linux, milliseconds in Windows\u001b[0m", "    \u001b[37m-# etc. The default value of -1 (or any other negative value and 0) means to\u001b[0m", "    \u001b[37m-# skip any overrides and leave it to OS default. (integer value)\u001b[0m", "    \u001b[37m-#zmq_tcp_keepalive_idle = -1\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The number of retransmissions to be carried out before declaring that remote\u001b[0m", "    \u001b[37m-# end is not available. The default value of -1 (or any other negative value\u001b[0m", "    \u001b[37m-# and 0) means to skip any overrides and leave it to OS default. (integer\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#zmq_tcp_keepalive_cnt = -1\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The duration between two successive keepalive retransmissions, if\u001b[0m", "    \u001b[37m-# acknowledgement to the previous keepalive transmission is not received. The\u001b[0m", "    \u001b[37m-# unit is platform dependent, for example, seconds in Linux, milliseconds in\u001b[0m", "    \u001b[37m-# Windows etc. The default value of -1 (or any other negative value and 0)\u001b[0m", "    \u001b[37m-# means to skip any overrides and leave it to OS default. (integer value)\u001b[0m", "    \u001b[37m-#zmq_tcp_keepalive_intvl = -1\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Maximum number of (green) threads to work concurrently. (integer value)\u001b[0m", "    \u001b[37m-#rpc_thread_pool_size = 100\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Expiration timeout in seconds of a sent/received message after which it is\u001b[0m", "    \u001b[37m-# not tracked anymore by a client/server. (integer value)\u001b[0m", "    \u001b[37m-#rpc_message_ttl = 300\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Wait for message acknowledgements from receivers. This mechanism works only\u001b[0m", "    \u001b[37m-# via proxy without PUB/SUB. (boolean value)\u001b[0m", "    \u001b[37m-#rpc_use_acks = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Number of seconds to wait for an ack from a cast/call. After each retry\u001b[0m", "    \u001b[37m-# attempt this timeout is multiplied by some specified multiplier. (integer\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#rpc_ack_timeout_base = 15\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Number to multiply base ack timeout by after each retry attempt. (integer\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#rpc_ack_timeout_multiplier = 2\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Default number of message sending attempts in case of any problems occurred:\u001b[0m", "    \u001b[37m-# positive value N means at most N retries, 0 means no retries, None or -1 (or\u001b[0m", "    \u001b[37m-# any other negative values) mean to retry forever. This option is used only if\u001b[0m", "    \u001b[37m-# acknowledgments are enabled. (integer value)\u001b[0m", "    \u001b[37m-#rpc_retry_attempts = 3\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# List of publisher hosts SubConsumer can subscribe on. This option has higher\u001b[0m", "    \u001b[37m-# priority then the default publishers list taken from the matchmaker. (list\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#subscribe_on =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Size of executor thread pool when executor is threading or eventlet. (integer\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/rpc_thread_pool_size\u001b[0m", "    \u001b[37m-#executor_thread_pool_size = 64\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Seconds to wait for a response from a call. (integer value)\u001b[0m", "    \u001b[37m-#rpc_response_timeout = 60\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The network address and optional user credentials for connecting to the\u001b[0m", "    \u001b[37m-# messaging backend, in URL format. The expected format is:\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# driver://[user:pass@]host:port[,[userN:passN@]hostN:portN]/virtual_host?query\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# Example: rabbit://rabbitmq:password@127.0.0.1:5672//\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# For full details on the fields in the URL see the documentation of\u001b[0m", "    \u001b[37m-# oslo_messaging.TransportURL at\u001b[0m", "    \u001b[37m-# https://docs.openstack.org/oslo.messaging/latest/reference/transport.html\u001b[0m", "    \u001b[37m-# (string value)\u001b[0m", "    \u001b[37m-#transport_url = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: The messaging driver to use, defaults to rabbit. Other drivers\u001b[0m", "    \u001b[37m-# include amqp and zmq. (string value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: Replaced by [DEFAULT]/transport_url\u001b[0m", "    \u001b[37m-#rpc_backend = rabbit\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The default exchange under which topics are scoped. May be overridden by an\u001b[0m", "    \u001b[37m-# exchange name specified in the transport_url option. (string value)\u001b[0m", "    \u001b[37m-#control_exchange = keystone\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[application_credential]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Entry point for the application credential backend driver in the\u001b[0m", "    \u001b[37m-# `keystone.application_credential` namespace.  Keystone only provides a `sql`\u001b[0m", "    \u001b[37m-# driver, so there is no reason to change this unless you are providing a\u001b[0m", "    \u001b[37m-# custom entry point. (string value)\u001b[0m", "    \u001b[37m-#driver = sql\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Toggle for application credential caching. This has no effect unless global\u001b[0m", "    \u001b[37m-# caching is enabled. (boolean value)\u001b[0m", "    \u001b[37m-#caching = true\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Time to cache application credential data in seconds. This has no effect\u001b[0m", "    \u001b[37m-# unless global caching is enabled. (integer value)\u001b[0m", "    \u001b[37m-#cache_time = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Maximum number of application credentials a user is permitted to create. A\u001b[0m", "    \u001b[37m-# value of -1 means unlimited. If a limit is not set, users are permitted to\u001b[0m", "    \u001b[37m-# create application credentials at will, which could lead to bloat in the\u001b[0m", "    \u001b[37m-# keystone database or open keystone to a DoS attack. (integer value)\u001b[0m", "    \u001b[37m-#user_limit = -1\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m [assignment]\u001b[0m", "    \u001b[37m+driver = sql\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Entry point for the assignment backend driver (where role assignments are\u001b[0m", "    \u001b[37m-# stored) in the `keystone.assignment` namespace. Only a SQL driver is supplied\u001b[0m", "    \u001b[37m-# by keystone itself. Unless you are writing proprietary drivers for keystone,\u001b[0m", "    \u001b[37m-# you do not need to set this option. (string value)\u001b[0m", "    \u001b[37m-#driver = sql\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# A list of role names which are prohibited from being an implied role. (list\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#prohibited_implied_role = admin\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[auth]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Allowed authentication methods. Note: You should disable the `external` auth\u001b[0m", "    \u001b[37m-# method if you are currently using federation. External auth and federation\u001b[0m", "    \u001b[37m-# both use the REMOTE_USER variable. Since both the mapped and external plugin\u001b[0m", "    \u001b[37m-# are being invoked to validate attributes in the request environment, it can\u001b[0m", "    \u001b[37m-# cause conflicts. (list value)\u001b[0m", "    \u001b[37m-#methods = external,password,token,oauth1,mapped,application_credential\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Entry point for the password auth plugin module in the\u001b[0m", "    \u001b[37m-# `keystone.auth.password` namespace. You do not need to set this unless you\u001b[0m", "    \u001b[37m-# are overriding keystone's own password authentication plugin. (string value)\u001b[0m", "    \u001b[37m-#password = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Entry point for the token auth plugin module in the `keystone.auth.token`\u001b[0m", "    \u001b[37m-# namespace. You do not need to set this unless you are overriding keystone's\u001b[0m", "    \u001b[37m-# own token authentication plugin. (string value)\u001b[0m", "    \u001b[37m-#token = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Entry point for the external (`REMOTE_USER`) auth plugin module in the\u001b[0m", "    \u001b[37m-# `keystone.auth.external` namespace. Supplied drivers are `DefaultDomain` and\u001b[0m", "    \u001b[37m-# `Domain`. The default driver is `DefaultDomain`, which assumes that all users\u001b[0m", "    \u001b[37m-# identified by the username specified to keystone in the `REMOTE_USER`\u001b[0m", "    \u001b[37m-# variable exist within the context of the default domain. The `Domain` option\u001b[0m", "    \u001b[37m-# expects an additional environment variable be presented to keystone,\u001b[0m", "    \u001b[37m-# `REMOTE_DOMAIN`, containing the domain name of the `REMOTE_USER` (if\u001b[0m", "    \u001b[37m-# `REMOTE_DOMAIN` is not set, then the default domain will be used instead).\u001b[0m", "    \u001b[37m-# You do not need to set this unless you are taking advantage of \"external\u001b[0m", "    \u001b[37m-# authentication\", where the application server (such as Apache) is handling\u001b[0m", "    \u001b[37m-# authentication instead of keystone. (string value)\u001b[0m", "    \u001b[37m-#external = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Entry point for the OAuth 1.0a auth plugin module in the\u001b[0m", "    \u001b[37m-# `keystone.auth.oauth1` namespace. You do not need to set this unless you are\u001b[0m", "    \u001b[37m-# overriding keystone's own `oauth1` authentication plugin. (string value)\u001b[0m", "    \u001b[37m-#oauth1 = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Entry point for the mapped auth plugin module in the `keystone.auth.mapped`\u001b[0m", "    \u001b[37m-# namespace. You do not need to set this unless you are overriding keystone's\u001b[0m", "    \u001b[37m-# own `mapped` authentication plugin. (string value)\u001b[0m", "    \u001b[37m-#mapped = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Entry point for the application_credential auth plugin module in the\u001b[0m", "    \u001b[37m-# `keystone.auth.application_credential` namespace. You do not need to set this\u001b[0m", "    \u001b[37m-# unless you are overriding keystone's own `application_credential`\u001b[0m", "    \u001b[37m-# authentication plugin. (string value)\u001b[0m", "    \u001b[37m-#application_credential = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m [cache]\u001b[0m", "    \u001b[37m+enabled = true\u001b[0m", "    \u001b[37m+backend = oslo_cache.memcache_pool\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From oslo.cache\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m+[policy]\u001b[0m", "    \u001b[37m+driver = sql\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m-# Prefix for building the configuration dictionary for the cache region. This\u001b[0m", "    \u001b[37m-# should not need to be changed unless there is another dogpile.cache region\u001b[0m", "    \u001b[37m-# with the same configuration name. (string value)\u001b[0m", "    \u001b[37m-#config_prefix = cache.oslo\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Default TTL, in seconds, for any cached item in the dogpile.cache region.\u001b[0m", "    \u001b[37m-# This applies to any cached method that doesn't have an explicit cache\u001b[0m", "    \u001b[37m-# expiration time defined for it. (integer value)\u001b[0m", "    \u001b[37m-#expiration_time = 600\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Cache backend module. For eventlet-based or environments with hundreds of\u001b[0m", "    \u001b[37m-# threaded servers, Memcache with pooling (oslo_cache.memcache_pool) is\u001b[0m", "    \u001b[37m-# recommended. For environments with less than 100 threaded servers, Memcached\u001b[0m", "    \u001b[37m-# (dogpile.cache.memcached) or Redis (dogpile.cache.redis) is recommended. Test\u001b[0m", "    \u001b[37m-# environments with a single instance of the server can use the\u001b[0m", "    \u001b[37m-# dogpile.cache.memory backend. (string value)\u001b[0m", "    \u001b[37m-# Possible values:\u001b[0m", "    \u001b[37m-# oslo_cache.memcache_pool - <No description provided>\u001b[0m", "    \u001b[37m-# oslo_cache.dict - <No description provided>\u001b[0m", "    \u001b[37m-# oslo_cache.mongo - <No description provided>\u001b[0m", "    \u001b[37m-# oslo_cache.etcd3gw - <No description provided>\u001b[0m", "    \u001b[37m-# dogpile.cache.memcached - <No description provided>\u001b[0m", "    \u001b[37m-# dogpile.cache.pylibmc - <No description provided>\u001b[0m", "    \u001b[37m-# dogpile.cache.bmemcached - <No description provided>\u001b[0m", "    \u001b[37m-# dogpile.cache.dbm - <No description provided>\u001b[0m", "    \u001b[37m-# dogpile.cache.redis - <No description provided>\u001b[0m", "    \u001b[37m-# dogpile.cache.memory - <No description provided>\u001b[0m", "    \u001b[37m-# dogpile.cache.memory_pickle - <No description provided>\u001b[0m", "    \u001b[37m-# dogpile.cache.null - <No description provided>\u001b[0m", "    \u001b[37m-#backend = dogpile.cache.null\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Arguments supplied to the backend module. Specify this option once per\u001b[0m", "    \u001b[37m-# argument to be passed to the dogpile.cache backend. Example format:\u001b[0m", "    \u001b[37m-# \"<argname>:<value>\". (multi valued)\u001b[0m", "    \u001b[37m-#backend_argument =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Proxy classes to import that will affect the way the dogpile.cache backend\u001b[0m", "    \u001b[37m-# functions. See the dogpile.cache documentation on changing-backend-behavior.\u001b[0m", "    \u001b[37m-# (list value)\u001b[0m", "    \u001b[37m-#proxies =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Global toggle for caching. (boolean value)\u001b[0m", "    \u001b[37m-#enabled = true\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Extra debugging from the cache backend (cache keys, get/set/delete/etc\u001b[0m", "    \u001b[37m-# calls). This is only really useful if you need to see the specific cache-\u001b[0m", "    \u001b[37m-# backend get/set/delete calls with the keys/values.  Typically this should be\u001b[0m", "    \u001b[37m-# left set to false. (boolean value)\u001b[0m", "    \u001b[37m-#debug_cache_backend = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Memcache servers in the format of \"host:port\". (dogpile.cache.memcache and\u001b[0m", "    \u001b[37m-# oslo_cache.memcache_pool backends only). (list value)\u001b[0m", "    \u001b[37m-#memcache_servers = localhost:11211\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Number of seconds memcached server is considered dead before it is tried\u001b[0m", "    \u001b[37m-# again. (dogpile.cache.memcache and oslo_cache.memcache_pool backends only).\u001b[0m", "    \u001b[37m-# (integer value)\u001b[0m", "    \u001b[37m-#memcache_dead_retry = 300\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Timeout in seconds for every call to a server. (dogpile.cache.memcache and\u001b[0m", "    \u001b[37m-# oslo_cache.memcache_pool backends only). (floating point value)\u001b[0m", "    \u001b[37m-#memcache_socket_timeout = 3.0\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Max total number of open connections to every memcached server.\u001b[0m", "    \u001b[37m-# (oslo_cache.memcache_pool backend only). (integer value)\u001b[0m", "    \u001b[37m-#memcache_pool_maxsize = 10\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Number of seconds a connection to memcached is held unused in the pool before\u001b[0m", "    \u001b[37m-# it is closed. (oslo_cache.memcache_pool backend only). (integer value)\u001b[0m", "    \u001b[37m-#memcache_pool_unused_timeout = 60\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Number of seconds that an operation will wait to get a memcache client\u001b[0m", "    \u001b[37m-# connection. (integer value)\u001b[0m", "    \u001b[37m-#memcache_pool_connection_get_timeout = 10\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[catalog]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Absolute path to the file used for the templated catalog backend. This option\u001b[0m", "    \u001b[37m-# is only used if the `[catalog] driver` is set to `templated`. (string value)\u001b[0m", "    \u001b[37m-#template_file = default_catalog.templates\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Entry point for the catalog driver in the `keystone.catalog` namespace.\u001b[0m", "    \u001b[37m-# Keystone provides a `sql` option (which supports basic CRUD operations\u001b[0m", "    \u001b[37m-# through SQL), a `templated` option (which loads the catalog from a templated\u001b[0m", "    \u001b[37m-# catalog file on disk), and a `endpoint_filter.sql` option (which supports\u001b[0m", "    \u001b[37m-# arbitrary service catalogs per project). (string value)\u001b[0m", "    \u001b[37m-#driver = sql\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Toggle for catalog caching. This has no effect unless global caching is\u001b[0m", "    \u001b[37m-# enabled. In a typical deployment, there is no reason to disable this.\u001b[0m", "    \u001b[37m-# (boolean value)\u001b[0m", "    \u001b[37m-#caching = true\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Time to cache catalog data (in seconds). This has no effect unless global and\u001b[0m", "    \u001b[37m-# catalog caching are both enabled. Catalog data (services, endpoints, etc.)\u001b[0m", "    \u001b[37m-# typically does not change frequently, and so a longer duration than the\u001b[0m", "    \u001b[37m-# global default may be desirable. (integer value)\u001b[0m", "    \u001b[37m-#cache_time = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Maximum number of entities that will be returned in a catalog collection.\u001b[0m", "    \u001b[37m-# There is typically no reason to set this, as it would be unusual for a\u001b[0m", "    \u001b[37m-# deployment to have enough services or endpoints to exceed a reasonable limit.\u001b[0m", "    \u001b[37m-# (integer value)\u001b[0m", "    \u001b[37m-#list_limit = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[cors]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From oslo.middleware\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Indicate whether this resource may be shared with the domain received in the\u001b[0m", "    \u001b[37m-# requests \"origin\" header. Format: \"<protocol>://<host>[:<port>]\", no trailing\u001b[0m", "    \u001b[37m-# slash. Example: https://horizon.example.com (list value)\u001b[0m", "    \u001b[37m-#allowed_origin = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Indicate that the actual request can include user credentials (boolean value)\u001b[0m", "    \u001b[37m-#allow_credentials = true\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Indicate which headers are safe to expose to the API. Defaults to HTTP Simple\u001b[0m", "    \u001b[37m-# Headers. (list value)\u001b[0m", "    \u001b[37m-#expose_headers = X-Auth-Token,X-Openstack-Request-Id,X-Subject-Token\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Maximum cache age of CORS preflight requests. (integer value)\u001b[0m", "    \u001b[37m-#max_age = 3600\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Indicate which methods can be used during the actual request. (list value)\u001b[0m", "    \u001b[37m-#allow_methods = GET,PUT,POST,DELETE,PATCH\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Indicate which header field names may be used during the actual request.\u001b[0m", "    \u001b[37m-# (list value)\u001b[0m", "    \u001b[37m-#allow_headers = X-Auth-Token,X-Openstack-Request-Id,X-Subject-Token,X-Project-Id,X-Project-Name,X-Project-Domain-Id,X-Project-Domain-Name,X-Domain-Id,X-Domain-Name\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[credential]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Entry point for the credential backend driver in the `keystone.credential`\u001b[0m", "    \u001b[37m-# namespace. Keystone only provides a `sql` driver, so there's no reason to\u001b[0m", "    \u001b[37m-# change this unless you are providing a custom entry point. (string value)\u001b[0m", "    \u001b[37m-#driver = sql\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Entry point for credential encryption and decryption operations in the\u001b[0m", "    \u001b[37m-# `keystone.credential.provider` namespace. Keystone only provides a `fernet`\u001b[0m", "    \u001b[37m-# driver, so there's no reason to change this unless you are providing a custom\u001b[0m", "    \u001b[37m-# entry point to encrypt and decrypt credentials. (string value)\u001b[0m", "    \u001b[37m-#provider = fernet\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Directory containing Fernet keys used to encrypt and decrypt credentials\u001b[0m", "    \u001b[37m-# stored in the credential backend. Fernet keys used to encrypt credentials\u001b[0m", "    \u001b[37m-# have no relationship to Fernet keys used to encrypt Fernet tokens. Both sets\u001b[0m", "    \u001b[37m-# of keys should be managed separately and require different rotation policies.\u001b[0m", "    \u001b[37m-# Do not share this repository with the repository used to manage keys for\u001b[0m", "    \u001b[37m-# Fernet tokens. (string value)\u001b[0m", "    \u001b[37m-#key_repository = /etc/keystone/credential-keys/\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[database]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From oslo.db\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# If True, SQLite uses synchronous mode. (boolean value)\u001b[0m", "    \u001b[37m-#sqlite_synchronous = true\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The back end to use for the database. (string value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/db_backend\u001b[0m", "    \u001b[37m-#backend = sqlalchemy\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The SQLAlchemy connection string to use to connect to the database. (string\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/sql_connection\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DATABASE]/sql_connection\u001b[0m", "    \u001b[37m-# Deprecated group/name - [sql]/connection\u001b[0m", "    \u001b[37m-#connection = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The SQLAlchemy connection string to use to connect to the slave database.\u001b[0m", "    \u001b[37m-# (string value)\u001b[0m", "    \u001b[37m-#slave_connection = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The SQL mode to be used for MySQL sessions. This option, including the\u001b[0m", "    \u001b[37m-# default, overrides any server-set SQL mode. To use whatever SQL mode is set\u001b[0m", "    \u001b[37m-# by the server configuration, set this to no value. Example: mysql_sql_mode=\u001b[0m", "    \u001b[37m-# (string value)\u001b[0m", "    \u001b[37m-#mysql_sql_mode = TRADITIONAL\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# If True, transparently enables support for handling MySQL Cluster (NDB).\u001b[0m", "    \u001b[37m-# (boolean value)\u001b[0m", "    \u001b[37m-#mysql_enable_ndb = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Connections which have been present in the connection pool longer than this\u001b[0m", "    \u001b[37m-# number of seconds will be replaced with a new one the next time they are\u001b[0m", "    \u001b[37m-# checked out from the pool. (integer value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DATABASE]/idle_timeout\u001b[0m", "    \u001b[37m-# Deprecated group/name - [database]/idle_timeout\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/sql_idle_timeout\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DATABASE]/sql_idle_timeout\u001b[0m", "    \u001b[37m-# Deprecated group/name - [sql]/idle_timeout\u001b[0m", "    \u001b[37m-#connection_recycle_time = 3600\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: Minimum number of SQL connections to keep open in a pool.\u001b[0m", "    \u001b[37m-# (integer value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/sql_min_pool_size\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DATABASE]/sql_min_pool_size\u001b[0m", "    \u001b[37m-# This option is deprecated for removal.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: The option to set the minimum pool size is not supported by\u001b[0m", "    \u001b[37m-# sqlalchemy.\u001b[0m", "    \u001b[37m-#min_pool_size = 1\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Maximum number of SQL connections to keep open in a pool. Setting a value of\u001b[0m", "    \u001b[37m-# 0 indicates no limit. (integer value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/sql_max_pool_size\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DATABASE]/sql_max_pool_size\u001b[0m", "    \u001b[37m-#max_pool_size = 5\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Maximum number of database connection retries during startup. Set to -1 to\u001b[0m", "    \u001b[37m-# specify an infinite retry count. (integer value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/sql_max_retries\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DATABASE]/sql_max_retries\u001b[0m", "    \u001b[37m-#max_retries = 10\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Interval between retries of opening a SQL connection. (integer value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/sql_retry_interval\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DATABASE]/reconnect_interval\u001b[0m", "    \u001b[37m-#retry_interval = 10\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# If set, use this value for max_overflow with SQLAlchemy. (integer value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/sql_max_overflow\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DATABASE]/sqlalchemy_max_overflow\u001b[0m", "    \u001b[37m-#max_overflow = 50\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Verbosity of SQL debugging information: 0=None, 100=Everything. (integer\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-# Minimum value: 0\u001b[0m", "    \u001b[37m-# Maximum value: 100\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/sql_connection_debug\u001b[0m", "    \u001b[37m-#connection_debug = 0\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Add Python stack traces to SQL as comment strings. (boolean value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/sql_connection_trace\u001b[0m", "    \u001b[37m-#connection_trace = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# If set, use this value for pool_timeout with SQLAlchemy. (integer value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DATABASE]/sqlalchemy_pool_timeout\u001b[0m", "    \u001b[37m-#pool_timeout = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Enable the experimental use of database reconnect on connection lost.\u001b[0m", "    \u001b[37m-# (boolean value)\u001b[0m", "    \u001b[37m-#use_db_reconnect = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Seconds between retries of a database transaction. (integer value)\u001b[0m", "    \u001b[37m-#db_retry_interval = 1\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# If True, increases the interval between retries of a database operation up to\u001b[0m", "    \u001b[37m-# db_max_retry_interval. (boolean value)\u001b[0m", "    \u001b[37m-#db_inc_retry_interval = true\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# If db_inc_retry_interval is set, the maximum seconds between retries of a\u001b[0m", "    \u001b[37m-# database operation. (integer value)\u001b[0m", "    \u001b[37m-#db_max_retry_interval = 10\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Maximum retries in case of connection error or deadlock error before error is\u001b[0m", "    \u001b[37m-# raised. Set to -1 to specify an infinite retry count. (integer value)\u001b[0m", "    \u001b[37m-#db_max_retries = 20\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Optional URL parameters to append onto the connection URL at connect time;\u001b[0m", "    \u001b[37m-# specify as param1=value1&param2=value2&... (string value)\u001b[0m", "    \u001b[37m-#connection_parameters =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[domain_config]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Entry point for the domain-specific configuration driver in the\u001b[0m", "    \u001b[37m-# `keystone.resource.domain_config` namespace. Only a `sql` option is provided\u001b[0m", "    \u001b[37m-# by keystone, so there is no reason to set this unless you are providing a\u001b[0m", "    \u001b[37m-# custom entry point. (string value)\u001b[0m", "    \u001b[37m-#driver = sql\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Toggle for caching of the domain-specific configuration backend. This has no\u001b[0m", "    \u001b[37m-# effect unless global caching is enabled. There is normally no reason to\u001b[0m", "    \u001b[37m-# disable this. (boolean value)\u001b[0m", "    \u001b[37m-#caching = true\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Time-to-live (TTL, in seconds) to cache domain-specific configuration data.\u001b[0m", "    \u001b[37m-# This has no effect unless `[domain_config] caching` is enabled. (integer\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#cache_time = 300\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[endpoint_filter]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Entry point for the endpoint filter driver in the `keystone.endpoint_filter`\u001b[0m", "    \u001b[37m-# namespace. Only a `sql` option is provided by keystone, so there is no reason\u001b[0m", "    \u001b[37m-# to set this unless you are providing a custom entry point. (string value)\u001b[0m", "    \u001b[37m-#driver = sql\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# This controls keystone's behavior if the configured endpoint filters do not\u001b[0m", "    \u001b[37m-# result in any endpoints for a user + project pair (and therefore a\u001b[0m", "    \u001b[37m-# potentially empty service catalog). If set to true, keystone will return the\u001b[0m", "    \u001b[37m-# entire service catalog. If set to false, keystone will return an empty\u001b[0m", "    \u001b[37m-# service catalog. (boolean value)\u001b[0m", "    \u001b[37m-#return_all_endpoints_if_no_filter = true\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[endpoint_policy]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Entry point for the endpoint policy driver in the `keystone.endpoint_policy`\u001b[0m", "    \u001b[37m-# namespace. Only a `sql` driver is provided by keystone, so there is no reason\u001b[0m", "    \u001b[37m-# to set this unless you are providing a custom entry point. (string value)\u001b[0m", "    \u001b[37m-#driver = sql\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[eventlet_server]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: The IP address of the network interface for the public service to\u001b[0m", "    \u001b[37m-# listen on. (host address value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/bind_host\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/public_bind_host\u001b[0m", "    \u001b[37m-# This option is deprecated for removal since K.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: Support for running keystone under eventlet has been removed in the\u001b[0m", "    \u001b[37m-# Newton release. These options remain for backwards compatibility because they\u001b[0m", "    \u001b[37m-# are used for URL substitutions.\u001b[0m", "    \u001b[37m-#public_bind_host = 0.0.0.0\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: The port number for the public service to listen on. (port value)\u001b[0m", "    \u001b[37m-# Minimum value: 0\u001b[0m", "    \u001b[37m-# Maximum value: 65535\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/public_port\u001b[0m", "    \u001b[37m-# This option is deprecated for removal since K.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: Support for running keystone under eventlet has been removed in the\u001b[0m", "    \u001b[37m-# Newton release. These options remain for backwards compatibility because they\u001b[0m", "    \u001b[37m-# are used for URL substitutions.\u001b[0m", "    \u001b[37m-#public_port = 5000\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: The IP address of the network interface for the admin service to\u001b[0m", "    \u001b[37m-# listen on. (host address value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/bind_host\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/admin_bind_host\u001b[0m", "    \u001b[37m-# This option is deprecated for removal since K.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: Support for running keystone under eventlet has been removed in the\u001b[0m", "    \u001b[37m-# Newton release. These options remain for backwards compatibility because they\u001b[0m", "    \u001b[37m-# are used for URL substitutions.\u001b[0m", "    \u001b[37m-#admin_bind_host = 0.0.0.0\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: The port number for the admin service to listen on. (port value)\u001b[0m", "    \u001b[37m-# Minimum value: 0\u001b[0m", "    \u001b[37m-# Maximum value: 65535\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/admin_port\u001b[0m", "    \u001b[37m-# This option is deprecated for removal since K.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: Support for running keystone under eventlet has been removed in the\u001b[0m", "    \u001b[37m-# Newton release. These options remain for backwards compatibility because they\u001b[0m", "    \u001b[37m-# are used for URL substitutions.\u001b[0m", "    \u001b[37m-#admin_port = 35357\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[federation]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Entry point for the federation backend driver in the `keystone.federation`\u001b[0m", "    \u001b[37m-# namespace. Keystone only provides a `sql` driver, so there is no reason to\u001b[0m", "    \u001b[37m-# set this option unless you are providing a custom entry point. (string value)\u001b[0m", "    \u001b[37m-#driver = sql\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Prefix to use when filtering environment variable names for federated\u001b[0m", "    \u001b[37m-# assertions. Matched variables are passed into the federated mapping engine.\u001b[0m", "    \u001b[37m-# (string value)\u001b[0m", "    \u001b[37m-#assertion_prefix =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Value to be used to obtain the entity ID of the Identity Provider from the\u001b[0m", "    \u001b[37m-# environment. For `mod_shib`, this would be `Shib-Identity-Provider`. For\u001b[0m", "    \u001b[37m-# `mod_auth_openidc`, this could be `HTTP_OIDC_ISS`. For `mod_auth_mellon`,\u001b[0m", "    \u001b[37m-# this could be `MELLON_IDP`. (string value)\u001b[0m", "    \u001b[37m-#remote_id_attribute = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# An arbitrary domain name that is reserved to allow federated ephemeral users\u001b[0m", "    \u001b[37m-# to have a domain concept. Note that an admin will not be able to create a\u001b[0m", "    \u001b[37m-# domain with this name or update an existing domain to this name. You are not\u001b[0m", "    \u001b[37m-# advised to change this value unless you really have to. (string value)\u001b[0m", "    \u001b[37m-#federated_domain_name = Federated\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# A list of trusted dashboard hosts. Before accepting a Single Sign-On request\u001b[0m", "    \u001b[37m-# to return a token, the origin host must be a member of this list. This\u001b[0m", "    \u001b[37m-# configuration option may be repeated for multiple values. You must set this\u001b[0m", "    \u001b[37m-# in order to use web-based SSO flows. For example:\u001b[0m", "    \u001b[37m-# trusted_dashboard=https://acme.example.com/auth/websso\u001b[0m", "    \u001b[37m-# trusted_dashboard=https://beta.example.com/auth/websso (multi valued)\u001b[0m", "    \u001b[37m-#trusted_dashboard =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Absolute path to an HTML file used as a Single Sign-On callback handler. This\u001b[0m", "    \u001b[37m-# page is expected to redirect the user from keystone back to a trusted\u001b[0m", "    \u001b[37m-# dashboard host, by form encoding a token in a POST request. Keystone's\u001b[0m", "    \u001b[37m-# default value should be sufficient for most deployments. (string value)\u001b[0m", "    \u001b[37m-#sso_callback_template = /etc/keystone/sso_callback_template.html\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Toggle for federation caching. This has no effect unless global caching is\u001b[0m", "    \u001b[37m-# enabled. There is typically no reason to disable this. (boolean value)\u001b[0m", "    \u001b[37m-#caching = true\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[fernet_tokens]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Directory containing Fernet token keys. This directory must exist before\u001b[0m", "    \u001b[37m-# using `keystone-manage fernet_setup` for the first time, must be writable by\u001b[0m", "    \u001b[37m-# the user running `keystone-manage fernet_setup` or `keystone-manage\u001b[0m", "    \u001b[37m-# fernet_rotate`, and of course must be readable by keystone's server process.\u001b[0m", "    \u001b[37m-# The repository may contain keys in one of three states: a single staged key\u001b[0m", "    \u001b[37m-# (always index 0) used for token validation, a single primary key (always the\u001b[0m", "    \u001b[37m-# highest index) used for token creation and validation, and any number of\u001b[0m", "    \u001b[37m-# secondary keys (all other index values) used for token validation. With\u001b[0m", "    \u001b[37m-# multiple keystone nodes, each node must share the same key repository\u001b[0m", "    \u001b[37m-# contents, with the exception of the staged key (index 0). It is safe to run\u001b[0m", "    \u001b[37m-# `keystone-manage fernet_rotate` once on any one node to promote a staged key\u001b[0m", "    \u001b[37m-# (index 0) to be the new primary (incremented from the previous highest\u001b[0m", "    \u001b[37m-# index), and produce a new staged key (a new key with index 0); the resulting\u001b[0m", "    \u001b[37m-# repository can then be atomically replicated to other nodes without any risk\u001b[0m", "    \u001b[37m-# of race conditions (for example, it is safe to run `keystone-manage\u001b[0m", "    \u001b[37m-# fernet_rotate` on host A, wait any amount of time, create a tarball of the\u001b[0m", "    \u001b[37m-# directory on host A, unpack it on host B to a temporary location, and\u001b[0m", "    \u001b[37m-# atomically move (`mv`) the directory into place on host B). Running\u001b[0m", "    \u001b[37m-# `keystone-manage fernet_rotate` *twice* on a key repository without syncing\u001b[0m", "    \u001b[37m-# other nodes will result in tokens that can not be validated by all nodes.\u001b[0m", "    \u001b[37m-# (string value)\u001b[0m", "    \u001b[37m-#key_repository = /etc/keystone/fernet-keys/\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# This controls how many keys are held in rotation by `keystone-manage\u001b[0m", "    \u001b[37m-# fernet_rotate` before they are discarded. The default value of 3 means that\u001b[0m", "    \u001b[37m-# keystone will maintain one staged key (always index 0), one primary key (the\u001b[0m", "    \u001b[37m-# highest numerical index), and one secondary key (every other index).\u001b[0m", "    \u001b[37m-# Increasing this value means that additional secondary keys will be kept in\u001b[0m", "    \u001b[37m-# the rotation. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 1\u001b[0m", "    \u001b[37m-#max_active_keys = 3\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[healthcheck]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From oslo.middleware\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: The path to respond to healtcheck requests on. (string value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-#path = /healthcheck\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Show more detailed information as part of the response (boolean value)\u001b[0m", "    \u001b[37m-#detailed = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Additional backends that can perform health checks and report that\u001b[0m", "    \u001b[37m-# information back as part of a request. (list value)\u001b[0m", "    \u001b[37m-#backends =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Check the presence of a file to determine if an application is running on a\u001b[0m", "    \u001b[37m-# port. Used by DisableByFileHealthcheck plugin. (string value)\u001b[0m", "    \u001b[37m-#disable_by_file_path = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Check the presence of a file based on a port to determine if an application\u001b[0m", "    \u001b[37m-# is running on a port. Expects a \"port:path\" list of strings. Used by\u001b[0m", "    \u001b[37m-# DisableByFilesPortsHealthcheck plugin. (list value)\u001b[0m", "    \u001b[37m-#disable_by_file_paths =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[identity]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# This references the domain to use for all Identity API v2 requests (which are\u001b[0m", "    \u001b[37m-# not aware of domains). A domain with this ID can optionally be created for\u001b[0m", "    \u001b[37m-# you by `keystone-manage bootstrap`. The domain referenced by this ID cannot\u001b[0m", "    \u001b[37m-# be deleted on the v3 API, to prevent accidentally breaking the v2 API. There\u001b[0m", "    \u001b[37m-# is nothing special about this domain, other than the fact that it must exist\u001b[0m", "    \u001b[37m-# to order to maintain support for your v2 clients. There is typically no\u001b[0m", "    \u001b[37m-# reason to change this value. (string value)\u001b[0m", "    \u001b[37m-#default_domain_id = default\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# A subset (or all) of domains can have their own identity driver, each with\u001b[0m", "    \u001b[37m-# their own partial configuration options, stored in either the resource\u001b[0m", "    \u001b[37m-# backend or in a file in a domain configuration directory (depending on the\u001b[0m", "    \u001b[37m-# setting of `[identity] domain_configurations_from_database`). Only values\u001b[0m", "    \u001b[37m-# specific to the domain need to be specified in this manner. This feature is\u001b[0m", "    \u001b[37m-# disabled by default, but may be enabled by default in a future release; set\u001b[0m", "    \u001b[37m-# to true to enable. (boolean value)\u001b[0m", "    \u001b[37m-#domain_specific_drivers_enabled = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# By default, domain-specific configuration data is read from files in the\u001b[0m", "    \u001b[37m-# directory identified by `[identity] domain_config_dir`. Enabling this\u001b[0m", "    \u001b[37m-# configuration option allows you to instead manage domain-specific\u001b[0m", "    \u001b[37m-# configurations through the API, which are then persisted in the backend\u001b[0m", "    \u001b[37m-# (typically, a SQL database), rather than using configuration files on disk.\u001b[0m", "    \u001b[37m-# (boolean value)\u001b[0m", "    \u001b[37m-#domain_configurations_from_database = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Absolute path where keystone should locate domain-specific `[identity]`\u001b[0m", "    \u001b[37m-# configuration files. This option has no effect unless `[identity]\u001b[0m", "    \u001b[37m-# domain_specific_drivers_enabled` is set to true. There is typically no reason\u001b[0m", "    \u001b[37m-# to change this value. (string value)\u001b[0m", "    \u001b[37m-#domain_config_dir = /etc/keystone/domains\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Entry point for the identity backend driver in the `keystone.identity`\u001b[0m", "    \u001b[37m-# namespace. Keystone provides a `sql` and `ldap` driver. This option is also\u001b[0m", "    \u001b[37m-# used as the default driver selection (along with the other configuration\u001b[0m", "    \u001b[37m-# variables in this section) in the event that `[identity]\u001b[0m", "    \u001b[37m-# domain_specific_drivers_enabled` is enabled, but no applicable domain-\u001b[0m", "    \u001b[37m-# specific configuration is defined for the domain in question. Unless your\u001b[0m", "    \u001b[37m-# deployment primarily relies on `ldap` AND is not using domain-specific\u001b[0m", "    \u001b[37m-# configuration, you should typically leave this set to `sql`. (string value)\u001b[0m", "    \u001b[37m-#driver = sql\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Toggle for identity caching. This has no effect unless global caching is\u001b[0m", "    \u001b[37m-# enabled. There is typically no reason to disable this. (boolean value)\u001b[0m", "    \u001b[37m-#caching = true\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Time to cache identity data (in seconds). This has no effect unless global\u001b[0m", "    \u001b[37m-# and identity caching are enabled. (integer value)\u001b[0m", "    \u001b[37m-#cache_time = 600\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Maximum allowed length for user passwords. Decrease this value to improve\u001b[0m", "    \u001b[37m-# performance. Changing this value does not effect existing passwords. (integer\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-# Maximum value: 4096\u001b[0m", "    \u001b[37m-#max_password_length = 4096\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Maximum number of entities that will be returned in an identity collection.\u001b[0m", "    \u001b[37m-# (integer value)\u001b[0m", "    \u001b[37m-#list_limit = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The password hashing algorithm to use for passwords stored within keystone.\u001b[0m", "    \u001b[37m-# (string value)\u001b[0m", "    \u001b[37m-# Possible values:\u001b[0m", "    \u001b[37m-# bcrypt - <No description provided>\u001b[0m", "    \u001b[37m-# scrypt - <No description provided>\u001b[0m", "    \u001b[37m-# pbkdf2_sha512 - <No description provided>\u001b[0m", "    \u001b[37m-#password_hash_algorithm = bcrypt\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# This option represents a trade off between security and performance. Higher\u001b[0m", "    \u001b[37m-# values lead to slower performance, but higher security. Changing this option\u001b[0m", "    \u001b[37m-# will only affect newly created passwords as existing password hashes already\u001b[0m", "    \u001b[37m-# have a fixed number of rounds applied, so it is safe to tune this option in a\u001b[0m", "    \u001b[37m-# running cluster.  The default for bcrypt is 12, must be between 4 and 31,\u001b[0m", "    \u001b[37m-# inclusive.  The default for scrypt is 16, must be within `range(1,32)`.  The\u001b[0m", "    \u001b[37m-# default for pbkdf_sha512 is 60000, must be within `range(1,1<<32)`  WARNING:\u001b[0m", "    \u001b[37m-# If using scrypt, increasing this value increases BOTH time AND memory\u001b[0m", "    \u001b[37m-# requirements to hash a password. (integer value)\u001b[0m", "    \u001b[37m-#password_hash_rounds = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Optional block size to pass to scrypt hash function (the `r` parameter).\u001b[0m", "    \u001b[37m-# Useful for tuning scrypt to optimal performance for your CPU architecture.\u001b[0m", "    \u001b[37m-# This option is only used when the `password_hash_algorithm` option is set to\u001b[0m", "    \u001b[37m-# `scrypt`. Defaults to 8. (integer value)\u001b[0m", "    \u001b[37m-#scrypt_block_size = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Optional parallelism to pass to scrypt hash function (the `p` parameter).\u001b[0m", "    \u001b[37m-# This option is only used when the `password_hash_algorithm` option is set to\u001b[0m", "    \u001b[37m-# `scrypt`. Defaults to 1. (integer value)\u001b[0m", "    \u001b[37m-#scrypt_parallelism = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Number of bytes to use in scrypt and pbkfd2_sha512 hashing salt.  Default for\u001b[0m", "    \u001b[37m-# scrypt is 16 bytes. Default for pbkfd2_sha512 is 16 bytes.  Limited to a\u001b[0m", "    \u001b[37m-# maximum of 96 bytes due to the size of the column used to store password\u001b[0m", "    \u001b[37m-# hashes. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 0\u001b[0m", "    \u001b[37m-# Maximum value: 96\u001b[0m", "    \u001b[37m-#salt_bytesize = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[identity_mapping]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Entry point for the identity mapping backend driver in the\u001b[0m", "    \u001b[37m-# `keystone.identity.id_mapping` namespace. Keystone only provides a `sql`\u001b[0m", "    \u001b[37m-# driver, so there is no reason to change this unless you are providing a\u001b[0m", "    \u001b[37m-# custom entry point. (string value)\u001b[0m", "    \u001b[37m-#driver = sql\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Entry point for the public ID generator for user and group entities in the\u001b[0m", "    \u001b[37m-# `keystone.identity.id_generator` namespace. The Keystone identity mapper only\u001b[0m", "    \u001b[37m-# supports generators that produce 64 bytes or less. Keystone only provides a\u001b[0m", "    \u001b[37m-# `sha256` entry point, so there is no reason to change this value unless\u001b[0m", "    \u001b[37m-# you're providing a custom entry point. (string value)\u001b[0m", "    \u001b[37m-#generator = sha256\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The format of user and group IDs changed in Juno for backends that do not\u001b[0m", "    \u001b[37m-# generate UUIDs (for example, LDAP), with keystone providing a hash mapping to\u001b[0m", "    \u001b[37m-# the underlying attribute in LDAP. By default this mapping is disabled, which\u001b[0m", "    \u001b[37m-# ensures that existing IDs will not change. Even when the mapping is enabled\u001b[0m", "    \u001b[37m-# by using domain-specific drivers (`[identity]\u001b[0m", "    \u001b[37m-# domain_specific_drivers_enabled`), any users and groups from the default\u001b[0m", "    \u001b[37m-# domain being handled by LDAP will still not be mapped to ensure their IDs\u001b[0m", "    \u001b[37m-# remain backward compatible. Setting this value to false will enable the new\u001b[0m", "    \u001b[37m-# mapping for all backends, including the default LDAP driver. It is only\u001b[0m", "    \u001b[37m-# guaranteed to be safe to enable this option if you do not already have\u001b[0m", "    \u001b[37m-# assignments for users and groups from the default LDAP domain, and you\u001b[0m", "    \u001b[37m-# consider it to be acceptable for Keystone to provide the different IDs to\u001b[0m", "    \u001b[37m-# clients than it did previously (existing IDs in the API will suddenly\u001b[0m", "    \u001b[37m-# change). Typically this means that the only time you can set this value to\u001b[0m", "    \u001b[37m-# false is when configuring a fresh installation, although that is the\u001b[0m", "    \u001b[37m-# recommended value. (boolean value)\u001b[0m", "    \u001b[37m-#backward_compatible_ids = true\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[ldap]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# URL(s) for connecting to the LDAP server. Multiple LDAP URLs may be specified\u001b[0m", "    \u001b[37m-# as a comma separated string. The first URL to successfully bind is used for\u001b[0m", "    \u001b[37m-# the connection. (string value)\u001b[0m", "    \u001b[37m-#url = ldap://localhost\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The user name of the administrator bind DN to use when querying the LDAP\u001b[0m", "    \u001b[37m-# server, if your LDAP server requires it. (string value)\u001b[0m", "    \u001b[37m-#user = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The password of the administrator bind DN to use when querying the LDAP\u001b[0m", "    \u001b[37m-# server, if your LDAP server requires it. (string value)\u001b[0m", "    \u001b[37m-#password = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The default LDAP server suffix to use, if a DN is not defined via either\u001b[0m", "    \u001b[37m-# `[ldap] user_tree_dn` or `[ldap] group_tree_dn`. (string value)\u001b[0m", "    \u001b[37m-#suffix = cn=example,cn=com\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The search scope which defines how deep to search within the search base. A\u001b[0m", "    \u001b[37m-# value of `one` (representing `oneLevel` or `singleLevel`) indicates a search\u001b[0m", "    \u001b[37m-# of objects immediately below to the base object, but does not include the\u001b[0m", "    \u001b[37m-# base object itself. A value of `sub` (representing `subtree` or\u001b[0m", "    \u001b[37m-# `wholeSubtree`) indicates a search of both the base object itself and the\u001b[0m", "    \u001b[37m-# entire subtree below it. (string value)\u001b[0m", "    \u001b[37m-# Possible values:\u001b[0m", "    \u001b[37m-# one - <No description provided>\u001b[0m", "    \u001b[37m-# sub - <No description provided>\u001b[0m", "    \u001b[37m-#query_scope = one\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Defines the maximum number of results per page that keystone should request\u001b[0m", "    \u001b[37m-# from the LDAP server when listing objects. A value of zero (`0`) disables\u001b[0m", "    \u001b[37m-# paging. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 0\u001b[0m", "    \u001b[37m-#page_size = 0\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The LDAP dereferencing option to use for queries involving aliases. A value\u001b[0m", "    \u001b[37m-# of `default` falls back to using default dereferencing behavior configured by\u001b[0m", "    \u001b[37m-# your `ldap.conf`. A value of `never` prevents aliases from being dereferenced\u001b[0m", "    \u001b[37m-# at all. A value of `searching` dereferences aliases only after name\u001b[0m", "    \u001b[37m-# resolution. A value of `finding` dereferences aliases only during name\u001b[0m", "    \u001b[37m-# resolution. A value of `always` dereferences aliases in all cases. (string\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-# Possible values:\u001b[0m", "    \u001b[37m-# never - <No description provided>\u001b[0m", "    \u001b[37m-# searching - <No description provided>\u001b[0m", "    \u001b[37m-# always - <No description provided>\u001b[0m", "    \u001b[37m-# finding - <No description provided>\u001b[0m", "    \u001b[37m-# default - <No description provided>\u001b[0m", "    \u001b[37m-#alias_dereferencing = default\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Sets the LDAP debugging level for LDAP calls. A value of 0 means that\u001b[0m", "    \u001b[37m-# debugging is not enabled. This value is a bitmask, consult your LDAP\u001b[0m", "    \u001b[37m-# documentation for possible values. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: -1\u001b[0m", "    \u001b[37m-#debug_level = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Sets keystone's referral chasing behavior across directory partitions. If\u001b[0m", "    \u001b[37m-# left unset, the system's default behavior will be used. (boolean value)\u001b[0m", "    \u001b[37m-#chase_referrals = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The search base to use for users. Defaults to the `[ldap] suffix` value.\u001b[0m", "    \u001b[37m-# (string value)\u001b[0m", "    \u001b[37m-#user_tree_dn = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The LDAP search filter to use for users. (string value)\u001b[0m", "    \u001b[37m-#user_filter = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The LDAP object class to use for users. (string value)\u001b[0m", "    \u001b[37m-#user_objectclass = inetOrgPerson\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The LDAP attribute mapped to user IDs in keystone. This must NOT be a\u001b[0m", "    \u001b[37m-# multivalued attribute. User IDs are expected to be globally unique across\u001b[0m", "    \u001b[37m-# keystone domains and URL-safe. (string value)\u001b[0m", "    \u001b[37m-#user_id_attribute = cn\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The LDAP attribute mapped to user names in keystone. User names are expected\u001b[0m", "    \u001b[37m-# to be unique only within a keystone domain and are not expected to be URL-\u001b[0m", "    \u001b[37m-# safe. (string value)\u001b[0m", "    \u001b[37m-#user_name_attribute = sn\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The LDAP attribute mapped to user descriptions in keystone. (string value)\u001b[0m", "    \u001b[37m-#user_description_attribute = description\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The LDAP attribute mapped to user emails in keystone. (string value)\u001b[0m", "    \u001b[37m-#user_mail_attribute = mail\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The LDAP attribute mapped to user passwords in keystone. (string value)\u001b[0m", "    \u001b[37m-#user_pass_attribute = userPassword\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The LDAP attribute mapped to the user enabled attribute in keystone. If\u001b[0m", "    \u001b[37m-# setting this option to `userAccountControl`, then you may be interested in\u001b[0m", "    \u001b[37m-# setting `[ldap] user_enabled_mask` and `[ldap] user_enabled_default` as well.\u001b[0m", "    \u001b[37m-# (string value)\u001b[0m", "    \u001b[37m-#user_enabled_attribute = enabled\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Logically negate the boolean value of the enabled attribute obtained from the\u001b[0m", "    \u001b[37m-# LDAP server. Some LDAP servers use a boolean lock attribute where \"true\"\u001b[0m", "    \u001b[37m-# means an account is disabled. Setting `[ldap] user_enabled_invert = true`\u001b[0m", "    \u001b[37m-# will allow these lock attributes to be used. This option will have no effect\u001b[0m", "    \u001b[37m-# if either the `[ldap] user_enabled_mask` or `[ldap] user_enabled_emulation`\u001b[0m", "    \u001b[37m-# options are in use. (boolean value)\u001b[0m", "    \u001b[37m-#user_enabled_invert = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Bitmask integer to select which bit indicates the enabled value if the LDAP\u001b[0m", "    \u001b[37m-# server represents \"enabled\" as a bit on an integer rather than as a discrete\u001b[0m", "    \u001b[37m-# boolean. A value of `0` indicates that the mask is not used. If this is not\u001b[0m", "    \u001b[37m-# set to `0` the typical value is `2`. This is typically used when `[ldap]\u001b[0m", "    \u001b[37m-# user_enabled_attribute = userAccountControl`. Setting this option causes\u001b[0m", "    \u001b[37m-# keystone to ignore the value of `[ldap] user_enabled_invert`. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 0\u001b[0m", "    \u001b[37m-#user_enabled_mask = 0\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The default value to enable users. This should match an appropriate integer\u001b[0m", "    \u001b[37m-# value if the LDAP server uses non-boolean (bitmask) values to indicate if a\u001b[0m", "    \u001b[37m-# user is enabled or disabled. If this is not set to `True`, then the typical\u001b[0m", "    \u001b[37m-# value is `512`. This is typically used when `[ldap] user_enabled_attribute =\u001b[0m", "    \u001b[37m-# userAccountControl`. (string value)\u001b[0m", "    \u001b[37m-#user_enabled_default = True\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# List of user attributes to ignore on create and update, or whether a specific\u001b[0m", "    \u001b[37m-# user attribute should be filtered for list or show user. (list value)\u001b[0m", "    \u001b[37m-#user_attribute_ignore = default_project_id\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The LDAP attribute mapped to a user's default_project_id in keystone. This is\u001b[0m", "    \u001b[37m-# most commonly used when keystone has write access to LDAP. (string value)\u001b[0m", "    \u001b[37m-#user_default_project_id_attribute = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# If enabled, keystone uses an alternative method to determine if a user is\u001b[0m", "    \u001b[37m-# enabled or not by checking if they are a member of the group defined by the\u001b[0m", "    \u001b[37m-# `[ldap] user_enabled_emulation_dn` option. Enabling this option causes\u001b[0m", "    \u001b[37m-# keystone to ignore the value of `[ldap] user_enabled_invert`. (boolean value)\u001b[0m", "    \u001b[37m-#user_enabled_emulation = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DN of the group entry to hold enabled users when using enabled emulation.\u001b[0m", "    \u001b[37m-# Setting this option has no effect unless `[ldap] user_enabled_emulation` is\u001b[0m", "    \u001b[37m-# also enabled. (string value)\u001b[0m", "    \u001b[37m-#user_enabled_emulation_dn = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Use the `[ldap] group_member_attribute` and `[ldap] group_objectclass`\u001b[0m", "    \u001b[37m-# settings to determine membership in the emulated enabled group. Enabling this\u001b[0m", "    \u001b[37m-# option has no effect unless `[ldap] user_enabled_emulation` is also enabled.\u001b[0m", "    \u001b[37m-# (boolean value)\u001b[0m", "    \u001b[37m-#user_enabled_emulation_use_group_config = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# A list of LDAP attribute to keystone user attribute pairs used for mapping\u001b[0m", "    \u001b[37m-# additional attributes to users in keystone. The expected format is\u001b[0m", "    \u001b[37m-# `<ldap_attr>:<user_attr>`, where `ldap_attr` is the attribute in the LDAP\u001b[0m", "    \u001b[37m-# object and `user_attr` is the attribute which should appear in the identity\u001b[0m", "    \u001b[37m-# API. (list value)\u001b[0m", "    \u001b[37m-#user_additional_attribute_mapping =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The search base to use for groups. Defaults to the `[ldap] suffix` value.\u001b[0m", "    \u001b[37m-# (string value)\u001b[0m", "    \u001b[37m-#group_tree_dn = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The LDAP search filter to use for groups. (string value)\u001b[0m", "    \u001b[37m-#group_filter = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The LDAP object class to use for groups. If setting this option to\u001b[0m", "    \u001b[37m-# `posixGroup`, you may also be interested in enabling the `[ldap]\u001b[0m", "    \u001b[37m-# group_members_are_ids` option. (string value)\u001b[0m", "    \u001b[37m-#group_objectclass = groupOfNames\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The LDAP attribute mapped to group IDs in keystone. This must NOT be a\u001b[0m", "    \u001b[37m-# multivalued attribute. Group IDs are expected to be globally unique across\u001b[0m", "    \u001b[37m-# keystone domains and URL-safe. (string value)\u001b[0m", "    \u001b[37m-#group_id_attribute = cn\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The LDAP attribute mapped to group names in keystone. Group names are\u001b[0m", "    \u001b[37m-# expected to be unique only within a keystone domain and are not expected to\u001b[0m", "    \u001b[37m-# be URL-safe. (string value)\u001b[0m", "    \u001b[37m-#group_name_attribute = ou\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The LDAP attribute used to indicate that a user is a member of the group.\u001b[0m", "    \u001b[37m-# (string value)\u001b[0m", "    \u001b[37m-#group_member_attribute = member\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Enable this option if the members of the group object class are keystone user\u001b[0m", "    \u001b[37m-# IDs rather than LDAP DNs. This is the case when using `posixGroup` as the\u001b[0m", "    \u001b[37m-# group object class in Open Directory. (boolean value)\u001b[0m", "    \u001b[37m-#group_members_are_ids = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The LDAP attribute mapped to group descriptions in keystone. (string value)\u001b[0m", "    \u001b[37m-#group_desc_attribute = description\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# List of group attributes to ignore on create and update. or whether a\u001b[0m", "    \u001b[37m-# specific group attribute should be filtered for list or show group. (list\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#group_attribute_ignore =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# A list of LDAP attribute to keystone group attribute pairs used for mapping\u001b[0m", "    \u001b[37m-# additional attributes to groups in keystone. The expected format is\u001b[0m", "    \u001b[37m-# `<ldap_attr>:<group_attr>`, where `ldap_attr` is the attribute in the LDAP\u001b[0m", "    \u001b[37m-# object and `group_attr` is the attribute which should appear in the identity\u001b[0m", "    \u001b[37m-# API. (list value)\u001b[0m", "    \u001b[37m-#group_additional_attribute_mapping =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# If enabled, group queries will use Active Directory specific filters for\u001b[0m", "    \u001b[37m-# nested groups. (boolean value)\u001b[0m", "    \u001b[37m-#group_ad_nesting = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# An absolute path to a CA certificate file to use when communicating with LDAP\u001b[0m", "    \u001b[37m-# servers. This option will take precedence over `[ldap] tls_cacertdir`, so\u001b[0m", "    \u001b[37m-# there is no reason to set both. (string value)\u001b[0m", "    \u001b[37m-#tls_cacertfile = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# An absolute path to a CA certificate directory to use when communicating with\u001b[0m", "    \u001b[37m-# LDAP servers. There is no reason to set this option if you've also set\u001b[0m", "    \u001b[37m-# `[ldap] tls_cacertfile`. (string value)\u001b[0m", "    \u001b[37m-#tls_cacertdir = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Enable TLS when communicating with LDAP servers. You should also set the\u001b[0m", "    \u001b[37m-# `[ldap] tls_cacertfile` and `[ldap] tls_cacertdir` options when using this\u001b[0m", "    \u001b[37m-# option. Do not set this option if you are using LDAP over SSL (LDAPS) instead\u001b[0m", "    \u001b[37m-# of TLS. (boolean value)\u001b[0m", "    \u001b[37m-#use_tls = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Specifies which checks to perform against client certificates on incoming TLS\u001b[0m", "    \u001b[37m-# sessions. If set to `demand`, then a certificate will always be requested and\u001b[0m", "    \u001b[37m-# required from the LDAP server. If set to `allow`, then a certificate will\u001b[0m", "    \u001b[37m-# always be requested but not required from the LDAP server. If set to `never`,\u001b[0m", "    \u001b[37m-# then a certificate will never be requested. (string value)\u001b[0m", "    \u001b[37m-# Possible values:\u001b[0m", "    \u001b[37m-# demand - <No description provided>\u001b[0m", "    \u001b[37m-# never - <No description provided>\u001b[0m", "    \u001b[37m-# allow - <No description provided>\u001b[0m", "    \u001b[37m-#tls_req_cert = demand\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The connection timeout to use with the LDAP server. A value of `-1` means\u001b[0m", "    \u001b[37m-# that connections will never timeout. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: -1\u001b[0m", "    \u001b[37m-#connection_timeout = -1\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Enable LDAP connection pooling for queries to the LDAP server. There is\u001b[0m", "    \u001b[37m-# typically no reason to disable this. (boolean value)\u001b[0m", "    \u001b[37m-#use_pool = true\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The size of the LDAP connection pool. This option has no effect unless\u001b[0m", "    \u001b[37m-# `[ldap] use_pool` is also enabled. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 1\u001b[0m", "    \u001b[37m-#pool_size = 10\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The maximum number of times to attempt reconnecting to the LDAP server before\u001b[0m", "    \u001b[37m-# aborting. A value of zero prevents retries. This option has no effect unless\u001b[0m", "    \u001b[37m-# `[ldap] use_pool` is also enabled. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 0\u001b[0m", "    \u001b[37m-#pool_retry_max = 3\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The number of seconds to wait before attempting to reconnect to the LDAP\u001b[0m", "    \u001b[37m-# server. This option has no effect unless `[ldap] use_pool` is also enabled.\u001b[0m", "    \u001b[37m-# (floating point value)\u001b[0m", "    \u001b[37m-#pool_retry_delay = 0.1\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The connection timeout to use when pooling LDAP connections. A value of `-1`\u001b[0m", "    \u001b[37m-# means that connections will never timeout. This option has no effect unless\u001b[0m", "    \u001b[37m-# `[ldap] use_pool` is also enabled. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: -1\u001b[0m", "    \u001b[37m-#pool_connection_timeout = -1\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The maximum connection lifetime to the LDAP server in seconds. When this\u001b[0m", "    \u001b[37m-# lifetime is exceeded, the connection will be unbound and removed from the\u001b[0m", "    \u001b[37m-# connection pool. This option has no effect unless `[ldap] use_pool` is also\u001b[0m", "    \u001b[37m-# enabled. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 1\u001b[0m", "    \u001b[37m-#pool_connection_lifetime = 600\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Enable LDAP connection pooling for end user authentication. There is\u001b[0m", "    \u001b[37m-# typically no reason to disable this. (boolean value)\u001b[0m", "    \u001b[37m-#use_auth_pool = true\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The size of the connection pool to use for end user authentication. This\u001b[0m", "    \u001b[37m-# option has no effect unless `[ldap] use_auth_pool` is also enabled. (integer\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-# Minimum value: 1\u001b[0m", "    \u001b[37m-#auth_pool_size = 100\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The maximum end user authentication connection lifetime to the LDAP server in\u001b[0m", "    \u001b[37m-# seconds. When this lifetime is exceeded, the connection will be unbound and\u001b[0m", "    \u001b[37m-# removed from the connection pool. This option has no effect unless `[ldap]\u001b[0m", "    \u001b[37m-# use_auth_pool` is also enabled. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 1\u001b[0m", "    \u001b[37m-#auth_pool_connection_lifetime = 60\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[matchmaker_redis]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From oslo.messaging\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: Host to locate redis. (string value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: Replaced by [DEFAULT]/transport_url\u001b[0m", "    \u001b[37m-#host = 127.0.0.1\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: Use this port to connect to redis host. (port value)\u001b[0m", "    \u001b[37m-# Minimum value: 0\u001b[0m", "    \u001b[37m-# Maximum value: 65535\u001b[0m", "    \u001b[37m-# This option is deprecated for removal.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: Replaced by [DEFAULT]/transport_url\u001b[0m", "    \u001b[37m-#port = 6379\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: Password for Redis server (optional). (string value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: Replaced by [DEFAULT]/transport_url\u001b[0m", "    \u001b[37m-#password =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: List of Redis Sentinel hosts (fault tolerance mode), e.g.,\u001b[0m", "    \u001b[37m-# [host:port, host1:port ... ] (list value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: Replaced by [DEFAULT]/transport_url\u001b[0m", "    \u001b[37m-#sentinel_hosts =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Redis replica set name. (string value)\u001b[0m", "    \u001b[37m-#sentinel_group_name = oslo-messaging-zeromq\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Time in ms to wait between connection attempts. (integer value)\u001b[0m", "    \u001b[37m-#wait_timeout = 2000\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Time in ms to wait before the transaction is killed. (integer value)\u001b[0m", "    \u001b[37m-#check_timeout = 20000\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Timeout in ms on blocking socket operations. (integer value)\u001b[0m", "    \u001b[37m-#socket_timeout = 10000\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m [memcache]\u001b[0m", "    \u001b[37m+servers = \u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Number of seconds memcached server is considered dead before it is tried\u001b[0m", "    \u001b[37m-# again. This is used by the key value store system. (integer value)\u001b[0m", "    \u001b[37m-#dead_retry = 300\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Timeout in seconds for every call to a server. This is used by the key value\u001b[0m", "    \u001b[37m-# store system. (integer value)\u001b[0m", "    \u001b[37m-#socket_timeout = 3\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Max total number of open connections to every memcached server. This is used\u001b[0m", "    \u001b[37m-# by the key value store system. (integer value)\u001b[0m", "    \u001b[37m-#pool_maxsize = 10\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Number of seconds a connection to memcached is held unused in the pool before\u001b[0m", "    \u001b[37m-# it is closed. This is used by the key value store system. (integer value)\u001b[0m", "    \u001b[37m-#pool_unused_timeout = 60\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Number of seconds that an operation will wait to get a memcache client\u001b[0m", "    \u001b[37m-# connection. This is used by the key value store system. (integer value)\u001b[0m", "    \u001b[37m-#pool_connection_get_timeout = 10\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[oauth1]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Entry point for the OAuth backend driver in the `keystone.oauth1` namespace.\u001b[0m", "    \u001b[37m-# Typically, there is no reason to set this option unless you are providing a\u001b[0m", "    \u001b[37m-# custom entry point. (string value)\u001b[0m", "    \u001b[37m-#driver = sql\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Number of seconds for the OAuth Request Token to remain valid after being\u001b[0m", "    \u001b[37m-# created. This is the amount of time the user has to authorize the token.\u001b[0m", "    \u001b[37m-# Setting this option to zero means that request tokens will last forever.\u001b[0m", "    \u001b[37m-# (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 0\u001b[0m", "    \u001b[37m-#request_token_duration = 28800\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Number of seconds for the OAuth Access Token to remain valid after being\u001b[0m", "    \u001b[37m-# created. This is the amount of time the consumer has to interact with the\u001b[0m", "    \u001b[37m-# service provider (which is typically keystone). Setting this option to zero\u001b[0m", "    \u001b[37m-# means that access tokens will last forever. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 0\u001b[0m", "    \u001b[37m-#access_token_duration = 86400\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[oslo_messaging_amqp]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From oslo.messaging\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Name for the AMQP container. must be globally unique. Defaults to a generated\u001b[0m", "    \u001b[37m-# UUID (string value)\u001b[0m", "    \u001b[37m-#container_name = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Timeout for inactive connections (in seconds) (integer value)\u001b[0m", "    \u001b[37m-#idle_timeout = 0\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Debug: dump AMQP frames to stdout (boolean value)\u001b[0m", "    \u001b[37m-#trace = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Attempt to connect via SSL. If no other ssl-related parameters are given, it\u001b[0m", "    \u001b[37m-# will use the system's CA-bundle to verify the server's certificate. (boolean\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#ssl = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# CA certificate PEM file used to verify the server's certificate (string\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#ssl_ca_file =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Self-identifying certificate PEM file for client authentication (string\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#ssl_cert_file =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Private key PEM file used to sign ssl_cert_file certificate (optional)\u001b[0m", "    \u001b[37m-# (string value)\u001b[0m", "    \u001b[37m-#ssl_key_file =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Password for decrypting ssl_key_file (if encrypted) (string value)\u001b[0m", "    \u001b[37m-#ssl_key_password = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# By default SSL checks that the name in the server's certificate matches the\u001b[0m", "    \u001b[37m-# hostname in the transport_url. In some configurations it may be preferable to\u001b[0m", "    \u001b[37m-# use the virtual hostname instead, for example if the server uses the Server\u001b[0m", "    \u001b[37m-# Name Indication TLS extension (rfc6066) to provide a certificate per virtual\u001b[0m", "    \u001b[37m-# host. Set ssl_verify_vhost to True if the server's SSL certificate uses the\u001b[0m", "    \u001b[37m-# virtual host name instead of the DNS name. (boolean value)\u001b[0m", "    \u001b[37m-#ssl_verify_vhost = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: Accept clients using either SSL or plain TCP (boolean value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: Not applicable - not a SSL server\u001b[0m", "    \u001b[37m-#allow_insecure_clients = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Space separated list of acceptable SASL mechanisms (string value)\u001b[0m", "    \u001b[37m-#sasl_mechanisms =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Path to directory that contains the SASL configuration (string value)\u001b[0m", "    \u001b[37m-#sasl_config_dir =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Name of configuration file (without .conf suffix) (string value)\u001b[0m", "    \u001b[37m-#sasl_config_name =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# SASL realm to use if no realm present in username (string value)\u001b[0m", "    \u001b[37m-#sasl_default_realm =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: User name for message broker authentication (string value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: Should use configuration option transport_url to provide the\u001b[0m", "    \u001b[37m-# username.\u001b[0m", "    \u001b[37m-#username =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: Password for message broker authentication (string value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: Should use configuration option transport_url to provide the\u001b[0m", "    \u001b[37m-# password.\u001b[0m", "    \u001b[37m-#password =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Seconds to pause before attempting to re-connect. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 1\u001b[0m", "    \u001b[37m-#connection_retry_interval = 1\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Increase the connection_retry_interval by this many seconds after each\u001b[0m", "    \u001b[37m-# unsuccessful failover attempt. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 0\u001b[0m", "    \u001b[37m-#connection_retry_backoff = 2\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Maximum limit for connection_retry_interval + connection_retry_backoff\u001b[0m", "    \u001b[37m-# (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 1\u001b[0m", "    \u001b[37m-#connection_retry_interval_max = 30\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Time to pause between re-connecting an AMQP 1.0 link that failed due to a\u001b[0m", "    \u001b[37m-# recoverable error. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 1\u001b[0m", "    \u001b[37m-#link_retry_delay = 10\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The maximum number of attempts to re-send a reply message which failed due to\u001b[0m", "    \u001b[37m-# a recoverable error. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: -1\u001b[0m", "    \u001b[37m-#default_reply_retry = 0\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The deadline for an rpc reply message delivery. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 5\u001b[0m", "    \u001b[37m-#default_reply_timeout = 30\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The deadline for an rpc cast or call message delivery. Only used when caller\u001b[0m", "    \u001b[37m-# does not provide a timeout expiry. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 5\u001b[0m", "    \u001b[37m-#default_send_timeout = 30\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The deadline for a sent notification message delivery. Only used when caller\u001b[0m", "    \u001b[37m-# does not provide a timeout expiry. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 5\u001b[0m", "    \u001b[37m-#default_notify_timeout = 30\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The duration to schedule a purge of idle sender links. Detach link after\u001b[0m", "    \u001b[37m-# expiry. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 1\u001b[0m", "    \u001b[37m-#default_sender_link_timeout = 600\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Indicates the addressing mode used by the driver.\u001b[0m", "    \u001b[37m-# Permitted values:\u001b[0m", "    \u001b[37m-# 'legacy'   - use legacy non-routable addressing\u001b[0m", "    \u001b[37m-# 'routable' - use routable addresses\u001b[0m", "    \u001b[37m-# 'dynamic'  - use legacy addresses if the message bus does not support routing\u001b[0m", "    \u001b[37m-# otherwise use routable addressing (string value)\u001b[0m", "    \u001b[37m-#addressing_mode = dynamic\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Enable virtual host support for those message buses that do not natively\u001b[0m", "    \u001b[37m-# support virtual hosting (such as qpidd). When set to true the virtual host\u001b[0m", "    \u001b[37m-# name will be added to all message bus addresses, effectively creating a\u001b[0m", "    \u001b[37m-# private 'subnet' per virtual host. Set to False if the message bus supports\u001b[0m", "    \u001b[37m-# virtual hosting using the 'hostname' field in the AMQP 1.0 Open performative\u001b[0m", "    \u001b[37m-# as the name of the virtual host. (boolean value)\u001b[0m", "    \u001b[37m-#pseudo_vhost = true\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# address prefix used when sending to a specific server (string value)\u001b[0m", "    \u001b[37m-#server_request_prefix = exclusive\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# address prefix used when broadcasting to all servers (string value)\u001b[0m", "    \u001b[37m-#broadcast_prefix = broadcast\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# address prefix when sending to any server in group (string value)\u001b[0m", "    \u001b[37m-#group_request_prefix = unicast\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Address prefix for all generated RPC addresses (string value)\u001b[0m", "    \u001b[37m-#rpc_address_prefix = openstack.org/om/rpc\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Address prefix for all generated Notification addresses (string value)\u001b[0m", "    \u001b[37m-#notify_address_prefix = openstack.org/om/notify\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Appended to the address prefix when sending a fanout message. Used by the\u001b[0m", "    \u001b[37m-# message bus to identify fanout messages. (string value)\u001b[0m", "    \u001b[37m-#multicast_address = multicast\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Appended to the address prefix when sending to a particular RPC/Notification\u001b[0m", "    \u001b[37m-# server. Used by the message bus to identify messages sent to a single\u001b[0m", "    \u001b[37m-# destination. (string value)\u001b[0m", "    \u001b[37m-#unicast_address = unicast\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Appended to the address prefix when sending to a group of consumers. Used by\u001b[0m", "    \u001b[37m-# the message bus to identify messages that should be delivered in a round-\u001b[0m", "    \u001b[37m-# robin fashion across consumers. (string value)\u001b[0m", "    \u001b[37m-#anycast_address = anycast\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Exchange name used in notification addresses.\u001b[0m", "    \u001b[37m-# Exchange name resolution precedence:\u001b[0m", "    \u001b[37m-# Target.exchange if set\u001b[0m", "    \u001b[37m-# else default_notification_exchange if set\u001b[0m", "    \u001b[37m-# else control_exchange if set\u001b[0m", "    \u001b[37m-# else 'notify' (string value)\u001b[0m", "    \u001b[37m-#default_notification_exchange = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Exchange name used in RPC addresses.\u001b[0m", "    \u001b[37m-# Exchange name resolution precedence:\u001b[0m", "    \u001b[37m-# Target.exchange if set\u001b[0m", "    \u001b[37m-# else default_rpc_exchange if set\u001b[0m", "    \u001b[37m-# else control_exchange if set\u001b[0m", "    \u001b[37m-# else 'rpc' (string value)\u001b[0m", "    \u001b[37m-#default_rpc_exchange = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Window size for incoming RPC Reply messages. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 1\u001b[0m", "    \u001b[37m-#reply_link_credit = 200\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Window size for incoming RPC Request messages (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 1\u001b[0m", "    \u001b[37m-#rpc_server_credit = 100\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Window size for incoming Notification messages (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 1\u001b[0m", "    \u001b[37m-#notify_server_credit = 100\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Send messages of this type pre-settled.\u001b[0m", "    \u001b[37m-# Pre-settled messages will not receive acknowledgement\u001b[0m", "    \u001b[37m-# from the peer. Note well: pre-settled messages may be\u001b[0m", "    \u001b[37m-# silently discarded if the delivery fails.\u001b[0m", "    \u001b[37m-# Permitted values:\u001b[0m", "    \u001b[37m-# 'rpc-call' - send RPC Calls pre-settled\u001b[0m", "    \u001b[37m-# 'rpc-reply'- send RPC Replies pre-settled\u001b[0m", "    \u001b[37m-# 'rpc-cast' - Send RPC Casts pre-settled\u001b[0m", "    \u001b[37m-# 'notify'   - Send Notifications pre-settled\u001b[0m", "    \u001b[37m-#  (multi valued)\u001b[0m", "    \u001b[37m-#pre_settled = rpc-cast\u001b[0m", "    \u001b[37m-#pre_settled = rpc-reply\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[oslo_messaging_kafka]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From oslo.messaging\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: Default Kafka broker Host (string value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: Replaced by [DEFAULT]/transport_url\u001b[0m", "    \u001b[37m-#kafka_default_host = localhost\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: Default Kafka broker Port (port value)\u001b[0m", "    \u001b[37m-# Minimum value: 0\u001b[0m", "    \u001b[37m-# Maximum value: 65535\u001b[0m", "    \u001b[37m-# This option is deprecated for removal.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: Replaced by [DEFAULT]/transport_url\u001b[0m", "    \u001b[37m-#kafka_default_port = 9092\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Max fetch bytes of Kafka consumer (integer value)\u001b[0m", "    \u001b[37m-#kafka_max_fetch_bytes = 1048576\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Default timeout(s) for Kafka consumers (floating point value)\u001b[0m", "    \u001b[37m-#kafka_consumer_timeout = 1.0\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: Pool Size for Kafka Consumers (integer value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: Driver no longer uses connection pool.\u001b[0m", "    \u001b[37m-#pool_size = 10\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: The pool size limit for connections expiration policy (integer\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: Driver no longer uses connection pool.\u001b[0m", "    \u001b[37m-#conn_pool_min_size = 2\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: The time-to-live in sec of idle connections in the pool (integer\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: Driver no longer uses connection pool.\u001b[0m", "    \u001b[37m-#conn_pool_ttl = 1200\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Group id for Kafka consumer. Consumers in one group will coordinate message\u001b[0m", "    \u001b[37m-# consumption (string value)\u001b[0m", "    \u001b[37m-#consumer_group = oslo_messaging_consumer\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Upper bound on the delay for KafkaProducer batching in seconds (floating\u001b[0m", "    \u001b[37m-# point value)\u001b[0m", "    \u001b[37m-#producer_batch_timeout = 0.0\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Size of batch for the producer async send (integer value)\u001b[0m", "    \u001b[37m-#producer_batch_size = 16384\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Enable asynchronous consumer commits (boolean value)\u001b[0m", "    \u001b[37m-#enable_auto_commit = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The maximum number of records returned in a poll call (integer value)\u001b[0m", "    \u001b[37m-#max_poll_records = 500\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Protocol used to communicate with brokers (string value)\u001b[0m", "    \u001b[37m-# Possible values:\u001b[0m", "    \u001b[37m-# PLAINTEXT - <No description provided>\u001b[0m", "    \u001b[37m-# SASL_PLAINTEXT - <No description provided>\u001b[0m", "    \u001b[37m-# SSL - <No description provided>\u001b[0m", "    \u001b[37m-# SASL_SSL - <No description provided>\u001b[0m", "    \u001b[37m-#security_protocol = PLAINTEXT\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Mechanism when security protocol is SASL (string value)\u001b[0m", "    \u001b[37m-#sasl_mechanism = PLAIN\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# CA certificate PEM file used to verify the server certificate (string value)\u001b[0m", "    \u001b[37m-#ssl_cafile =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[oslo_messaging_notifications]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From oslo.messaging\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The Drivers(s) to handle sending notifications. Possible values are\u001b[0m", "    \u001b[37m-# messaging, messagingv2, routing, log, test, noop (multi valued)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/notification_driver\u001b[0m", "    \u001b[37m-#driver =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# A URL representing the messaging driver to use for notifications. If not set,\u001b[0m", "    \u001b[37m-# we fall back to the same configuration used for RPC. (string value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/notification_transport_url\u001b[0m", "    \u001b[37m-#transport_url = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# AMQP topic used for OpenStack notifications. (list value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [rpc_notifier2]/topics\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/notification_topics\u001b[0m", "    \u001b[37m-#topics = notifications\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The maximum number of attempts to re-send a notification message which failed\u001b[0m", "    \u001b[37m-# to be delivered due to a recoverable error. 0 - No retry, -1 - indefinite\u001b[0m", "    \u001b[37m-# (integer value)\u001b[0m", "    \u001b[37m-#retry = -1\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[oslo_messaging_rabbit]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From oslo.messaging\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Use durable queues in AMQP. (boolean value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/amqp_durable_queues\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/rabbit_durable_queues\u001b[0m", "    \u001b[37m-#amqp_durable_queues = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Auto-delete queues in AMQP. (boolean value)\u001b[0m", "    \u001b[37m-#amqp_auto_delete = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Connect over SSL. (boolean value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [oslo_messaging_rabbit]/rabbit_use_ssl\u001b[0m", "    \u001b[37m-#ssl = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# SSL version to use (valid only if SSL enabled). Valid values are TLSv1 and\u001b[0m", "    \u001b[37m-# SSLv23. SSLv2, SSLv3, TLSv1_1, and TLSv1_2 may be available on some\u001b[0m", "    \u001b[37m-# distributions. (string value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [oslo_messaging_rabbit]/kombu_ssl_version\u001b[0m", "    \u001b[37m-#ssl_version =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# SSL key file (valid only if SSL enabled). (string value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [oslo_messaging_rabbit]/kombu_ssl_keyfile\u001b[0m", "    \u001b[37m-#ssl_key_file =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# SSL cert file (valid only if SSL enabled). (string value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [oslo_messaging_rabbit]/kombu_ssl_certfile\u001b[0m", "    \u001b[37m-#ssl_cert_file =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# SSL certification authority file (valid only if SSL enabled). (string value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [oslo_messaging_rabbit]/kombu_ssl_ca_certs\u001b[0m", "    \u001b[37m-#ssl_ca_file =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# How long to wait before reconnecting in response to an AMQP consumer cancel\u001b[0m", "    \u001b[37m-# notification. (floating point value)\u001b[0m", "    \u001b[37m-#kombu_reconnect_delay = 1.0\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# EXPERIMENTAL: Possible values are: gzip, bz2. If not set compression will not\u001b[0m", "    \u001b[37m-# be used. This option may not be available in future versions. (string value)\u001b[0m", "    \u001b[37m-#kombu_compression = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# How long to wait a missing client before abandoning to send it its replies.\u001b[0m", "    \u001b[37m-# This value should not be longer than rpc_response_timeout. (integer value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [oslo_messaging_rabbit]/kombu_reconnect_timeout\u001b[0m", "    \u001b[37m-#kombu_missing_consumer_retry_timeout = 60\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Determines how the next RabbitMQ node is chosen in case the one we are\u001b[0m", "    \u001b[37m-# currently connected to becomes unavailable. Takes effect only if more than\u001b[0m", "    \u001b[37m-# one RabbitMQ node is provided in config. (string value)\u001b[0m", "    \u001b[37m-# Possible values:\u001b[0m", "    \u001b[37m-# round-robin - <No description provided>\u001b[0m", "    \u001b[37m-# shuffle - <No description provided>\u001b[0m", "    \u001b[37m-#kombu_failover_strategy = round-robin\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: The RabbitMQ broker address where a single node is used. (string\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: Replaced by [DEFAULT]/transport_url\u001b[0m", "    \u001b[37m-#rabbit_host = localhost\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: The RabbitMQ broker port where a single node is used. (port\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-# Minimum value: 0\u001b[0m", "    \u001b[37m-# Maximum value: 65535\u001b[0m", "    \u001b[37m-# This option is deprecated for removal.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: Replaced by [DEFAULT]/transport_url\u001b[0m", "    \u001b[37m-#rabbit_port = 5672\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: RabbitMQ HA cluster host:port pairs. (list value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: Replaced by [DEFAULT]/transport_url\u001b[0m", "    \u001b[37m-#rabbit_hosts = $rabbit_host:$rabbit_port\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: The RabbitMQ userid. (string value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: Replaced by [DEFAULT]/transport_url\u001b[0m", "    \u001b[37m-#rabbit_userid = guest\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: The RabbitMQ password. (string value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: Replaced by [DEFAULT]/transport_url\u001b[0m", "    \u001b[37m-#rabbit_password = guest\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The RabbitMQ login method. (string value)\u001b[0m", "    \u001b[37m-# Possible values:\u001b[0m", "    \u001b[37m-# PLAIN - <No description provided>\u001b[0m", "    \u001b[37m-# AMQPLAIN - <No description provided>\u001b[0m", "    \u001b[37m-# RABBIT-CR-DEMO - <No description provided>\u001b[0m", "    \u001b[37m-#rabbit_login_method = AMQPLAIN\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: The RabbitMQ virtual host. (string value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: Replaced by [DEFAULT]/transport_url\u001b[0m", "    \u001b[37m-#rabbit_virtual_host = /\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# How frequently to retry connecting with RabbitMQ. (integer value)\u001b[0m", "    \u001b[37m-#rabbit_retry_interval = 1\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# How long to backoff for between retries when connecting to RabbitMQ. (integer\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#rabbit_retry_backoff = 2\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Maximum interval of RabbitMQ connection retries. Default is 30 seconds.\u001b[0m", "    \u001b[37m-# (integer value)\u001b[0m", "    \u001b[37m-#rabbit_interval_max = 30\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: Maximum number of RabbitMQ connection retries. Default is 0\u001b[0m", "    \u001b[37m-# (infinite retry count). (integer value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-#rabbit_max_retries = 0\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Try to use HA queues in RabbitMQ (x-ha-policy: all). If you change this\u001b[0m", "    \u001b[37m-# option, you must wipe the RabbitMQ database. In RabbitMQ 3.0, queue mirroring\u001b[0m", "    \u001b[37m-# is no longer controlled by the x-ha-policy argument when declaring a queue.\u001b[0m", "    \u001b[37m-# If you just want to make sure that all queues (except those with auto-\u001b[0m", "    \u001b[37m-# generated names) are mirrored across all nodes, run: \"rabbitmqctl set_policy\u001b[0m", "    \u001b[37m-# HA '^(?!amq\\.).*' '{\"ha-mode\": \"all\"}' \" (boolean value)\u001b[0m", "    \u001b[37m-#rabbit_ha_queues = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Positive integer representing duration in seconds for queue TTL (x-expires).\u001b[0m", "    \u001b[37m-# Queues which are unused for the duration of the TTL are automatically\u001b[0m", "    \u001b[37m-# deleted. The parameter affects only reply and fanout queues. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 1\u001b[0m", "    \u001b[37m-#rabbit_transient_queues_ttl = 1800\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Specifies the number of messages to prefetch. Setting to zero allows\u001b[0m", "    \u001b[37m-# unlimited messages. (integer value)\u001b[0m", "    \u001b[37m-#rabbit_qos_prefetch_count = 0\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Number of seconds after which the Rabbit broker is considered down if\u001b[0m", "    \u001b[37m-# heartbeat's keep-alive fails (0 disable the heartbeat). EXPERIMENTAL (integer\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#heartbeat_timeout_threshold = 60\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# How often times during the heartbeat_timeout_threshold we check the\u001b[0m", "    \u001b[37m-# heartbeat. (integer value)\u001b[0m", "    \u001b[37m-#heartbeat_rate = 2\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[oslo_messaging_zmq]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From oslo.messaging\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# ZeroMQ bind address. Should be a wildcard (*), an ethernet interface, or IP.\u001b[0m", "    \u001b[37m-# The \"host\" option should point or resolve to this address. (string value)\u001b[0m", "    \u001b[37m-#rpc_zmq_bind_address = *\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# MatchMaker driver. (string value)\u001b[0m", "    \u001b[37m-# Possible values:\u001b[0m", "    \u001b[37m-# redis - <No description provided>\u001b[0m", "    \u001b[37m-# sentinel - <No description provided>\u001b[0m", "    \u001b[37m-# dummy - <No description provided>\u001b[0m", "    \u001b[37m-#rpc_zmq_matchmaker = redis\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Number of ZeroMQ contexts, defaults to 1. (integer value)\u001b[0m", "    \u001b[37m-#rpc_zmq_contexts = 1\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Maximum number of ingress messages to locally buffer per topic. Default is\u001b[0m", "    \u001b[37m-# unlimited. (integer value)\u001b[0m", "    \u001b[37m-#rpc_zmq_topic_backlog = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Directory for holding IPC sockets. (string value)\u001b[0m", "    \u001b[37m-#rpc_zmq_ipc_dir = /var/run/openstack\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Name of this node. Must be a valid hostname, FQDN, or IP address. Must match\u001b[0m", "    \u001b[37m-# \"host\" option, if running Nova. (string value)\u001b[0m", "    \u001b[37m-#rpc_zmq_host = localhost\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Number of seconds to wait before all pending messages will be sent after\u001b[0m", "    \u001b[37m-# closing a socket. The default value of -1 specifies an infinite linger\u001b[0m", "    \u001b[37m-# period. The value of 0 specifies no linger period. Pending messages shall be\u001b[0m", "    \u001b[37m-# discarded immediately when the socket is closed. Positive values specify an\u001b[0m", "    \u001b[37m-# upper bound for the linger period. (integer value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/rpc_cast_timeout\u001b[0m", "    \u001b[37m-#zmq_linger = -1\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The default number of seconds that poll should wait. Poll raises timeout\u001b[0m", "    \u001b[37m-# exception when timeout expired. (integer value)\u001b[0m", "    \u001b[37m-#rpc_poll_timeout = 1\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Expiration timeout in seconds of a name service record about existing target\u001b[0m", "    \u001b[37m-# ( < 0 means no timeout). (integer value)\u001b[0m", "    \u001b[37m-#zmq_target_expire = 300\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Update period in seconds of a name service record about existing target.\u001b[0m", "    \u001b[37m-# (integer value)\u001b[0m", "    \u001b[37m-#zmq_target_update = 180\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Use PUB/SUB pattern for fanout methods. PUB/SUB always uses proxy. (boolean\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#use_pub_sub = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Use ROUTER remote proxy. (boolean value)\u001b[0m", "    \u001b[37m-#use_router_proxy = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# This option makes direct connections dynamic or static. It makes sense only\u001b[0m", "    \u001b[37m-# with use_router_proxy=False which means to use direct connections for direct\u001b[0m", "    \u001b[37m-# message types (ignored otherwise). (boolean value)\u001b[0m", "    \u001b[37m-#use_dynamic_connections = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# How many additional connections to a host will be made for failover reasons.\u001b[0m", "    \u001b[37m-# This option is actual only in dynamic connections mode. (integer value)\u001b[0m", "    \u001b[37m-#zmq_failover_connections = 2\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Minimal port number for random ports range. (port value)\u001b[0m", "    \u001b[37m-# Minimum value: 0\u001b[0m", "    \u001b[37m-# Maximum value: 65535\u001b[0m", "    \u001b[37m-#rpc_zmq_min_port = 49153\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Maximal port number for random ports range. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 1\u001b[0m", "    \u001b[37m-# Maximum value: 65536\u001b[0m", "    \u001b[37m-#rpc_zmq_max_port = 65536\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Number of retries to find free port number before fail with ZMQBindError.\u001b[0m", "    \u001b[37m-# (integer value)\u001b[0m", "    \u001b[37m-#rpc_zmq_bind_port_retries = 100\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Default serialization mechanism for serializing/deserializing\u001b[0m", "    \u001b[37m-# outgoing/incoming messages (string value)\u001b[0m", "    \u001b[37m-# Possible values:\u001b[0m", "    \u001b[37m-# json - <No description provided>\u001b[0m", "    \u001b[37m-# msgpack - <No description provided>\u001b[0m", "    \u001b[37m-#rpc_zmq_serialization = json\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# This option configures round-robin mode in zmq socket. True means not keeping\u001b[0m", "    \u001b[37m-# a queue when server side disconnects. False means to keep queue and messages\u001b[0m", "    \u001b[37m-# even if server is disconnected, when the server appears we send all\u001b[0m", "    \u001b[37m-# accumulated messages to it. (boolean value)\u001b[0m", "    \u001b[37m-#zmq_immediate = true\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Enable/disable TCP keepalive (KA) mechanism. The default value of -1 (or any\u001b[0m", "    \u001b[37m-# other negative value) means to skip any overrides and leave it to OS default;\u001b[0m", "    \u001b[37m-# 0 and 1 (or any other positive value) mean to disable and enable the option\u001b[0m", "    \u001b[37m-# respectively. (integer value)\u001b[0m", "    \u001b[37m-#zmq_tcp_keepalive = -1\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The duration between two keepalive transmissions in idle condition. The unit\u001b[0m", "    \u001b[37m-# is platform dependent, for example, seconds in Linux, milliseconds in Windows\u001b[0m", "    \u001b[37m-# etc. The default value of -1 (or any other negative value and 0) means to\u001b[0m", "    \u001b[37m-# skip any overrides and leave it to OS default. (integer value)\u001b[0m", "    \u001b[37m-#zmq_tcp_keepalive_idle = -1\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The number of retransmissions to be carried out before declaring that remote\u001b[0m", "    \u001b[37m-# end is not available. The default value of -1 (or any other negative value\u001b[0m", "    \u001b[37m-# and 0) means to skip any overrides and leave it to OS default. (integer\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#zmq_tcp_keepalive_cnt = -1\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The duration between two successive keepalive retransmissions, if\u001b[0m", "    \u001b[37m-# acknowledgement to the previous keepalive transmission is not received. The\u001b[0m", "    \u001b[37m-# unit is platform dependent, for example, seconds in Linux, milliseconds in\u001b[0m", "    \u001b[37m-# Windows etc. The default value of -1 (or any other negative value and 0)\u001b[0m", "    \u001b[37m-# means to skip any overrides and leave it to OS default. (integer value)\u001b[0m", "    \u001b[37m-#zmq_tcp_keepalive_intvl = -1\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Maximum number of (green) threads to work concurrently. (integer value)\u001b[0m", "    \u001b[37m-#rpc_thread_pool_size = 100\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Expiration timeout in seconds of a sent/received message after which it is\u001b[0m", "    \u001b[37m-# not tracked anymore by a client/server. (integer value)\u001b[0m", "    \u001b[37m-#rpc_message_ttl = 300\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Wait for message acknowledgements from receivers. This mechanism works only\u001b[0m", "    \u001b[37m-# via proxy without PUB/SUB. (boolean value)\u001b[0m", "    \u001b[37m-#rpc_use_acks = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Number of seconds to wait for an ack from a cast/call. After each retry\u001b[0m", "    \u001b[37m-# attempt this timeout is multiplied by some specified multiplier. (integer\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#rpc_ack_timeout_base = 15\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Number to multiply base ack timeout by after each retry attempt. (integer\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#rpc_ack_timeout_multiplier = 2\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Default number of message sending attempts in case of any problems occurred:\u001b[0m", "    \u001b[37m-# positive value N means at most N retries, 0 means no retries, None or -1 (or\u001b[0m", "    \u001b[37m-# any other negative values) mean to retry forever. This option is used only if\u001b[0m", "    \u001b[37m-# acknowledgments are enabled. (integer value)\u001b[0m", "    \u001b[37m-#rpc_retry_attempts = 3\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# List of publisher hosts SubConsumer can subscribe on. This option has higher\u001b[0m", "    \u001b[37m-# priority then the default publishers list taken from the matchmaker. (list\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#subscribe_on =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[oslo_middleware]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From oslo.middleware\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The maximum body size for each  request, in bytes. (integer value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/osapi_max_request_body_size\u001b[0m", "    \u001b[37m-# Deprecated group/name - [DEFAULT]/max_request_body_size\u001b[0m", "    \u001b[37m-#max_request_body_size = 114688\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: The HTTP Header that will be used to determine what the original\u001b[0m", "    \u001b[37m-# request protocol scheme was, even if it was hidden by a SSL termination\u001b[0m", "    \u001b[37m-# proxy. (string value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-#secure_proxy_ssl_header = X-Forwarded-Proto\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Whether the application is behind a proxy or not. This determines if the\u001b[0m", "    \u001b[37m-# middleware should parse the headers or not. (boolean value)\u001b[0m", "    \u001b[37m-#enable_proxy_headers_parsing = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[oslo_policy]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From oslo.policy\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# This option controls whether or not to enforce scope when evaluating\u001b[0m", "    \u001b[37m-# policies. If ``True``, the scope of the token used in the request is compared\u001b[0m", "    \u001b[37m-# to the ``scope_types`` of the policy being enforced. If the scopes do not\u001b[0m", "    \u001b[37m-# match, an ``InvalidScope`` exception will be raised. If ``False``, a message\u001b[0m", "    \u001b[37m-# will be logged informing operators that policies are being invoked with\u001b[0m", "    \u001b[37m-# mismatching scope. (boolean value)\u001b[0m", "    \u001b[37m-#enforce_scope = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The file that defines policies. (string value)\u001b[0m", "    \u001b[37m-#policy_file = policy.json\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Default rule. Enforced when a requested rule is not found. (string value)\u001b[0m", "    \u001b[37m-#policy_default_rule = default\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Directories where policy configuration files are stored. They can be relative\u001b[0m", "    \u001b[37m-# to any directory in the search path defined by the config_dir option, or\u001b[0m", "    \u001b[37m-# absolute paths. The file defined by policy_file must exist for these\u001b[0m", "    \u001b[37m-# directories to be searched.  Missing or empty directories are ignored. (multi\u001b[0m", "    \u001b[37m-# valued)\u001b[0m", "    \u001b[37m-#policy_dirs = policy.d\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Content Type to send and receive data for REST based policy check (string\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-# Possible values:\u001b[0m", "    \u001b[37m-# application/x-www-form-urlencoded - <No description provided>\u001b[0m", "    \u001b[37m-# application/json - <No description provided>\u001b[0m", "    \u001b[37m-#remote_content_type = application/x-www-form-urlencoded\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# server identity verification for REST based policy check (boolean value)\u001b[0m", "    \u001b[37m-#remote_ssl_verify_server_crt = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Absolute path to ca cert file for REST based policy check (string value)\u001b[0m", "    \u001b[37m-#remote_ssl_ca_crt_file = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Absolute path to client cert for REST based policy check (string value)\u001b[0m", "    \u001b[37m-#remote_ssl_client_crt_file = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Absolute path client key file REST based policy check (string value)\u001b[0m", "    \u001b[37m-#remote_ssl_client_key_file = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[policy]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Entry point for the policy backend driver in the `keystone.policy` namespace.\u001b[0m", "    \u001b[37m-# Supplied drivers are `rules` (which does not support any CRUD operations for\u001b[0m", "    \u001b[37m-# the v3 policy API) and `sql`. Typically, there is no reason to set this\u001b[0m", "    \u001b[37m-# option unless you are providing a custom entry point. (string value)\u001b[0m", "    \u001b[37m-#driver = sql\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Maximum number of entities that will be returned in a policy collection.\u001b[0m", "    \u001b[37m-# (integer value)\u001b[0m", "    \u001b[37m-#list_limit = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[profiler]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From osprofiler\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# Enable the profiling for all services on this node.\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# Default value is False (fully disable the profiling feature).\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# Possible values:\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# * True: Enables the feature\u001b[0m", "    \u001b[37m-# * False: Disables the feature. The profiling cannot be started via this\u001b[0m", "    \u001b[37m-# project\u001b[0m", "    \u001b[37m-#   operations. If the profiling is triggered by another project, this project\u001b[0m", "    \u001b[37m-#   part will be empty.\u001b[0m", "    \u001b[37m-#  (boolean value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [profiler]/profiler_enabled\u001b[0m", "    \u001b[37m-#enabled = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# Enable SQL requests profiling in services.\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# Default value is False (SQL requests won't be traced).\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# Possible values:\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# * True: Enables SQL requests profiling. Each SQL query will be part of the\u001b[0m", "    \u001b[37m-#   trace and can the be analyzed by how much time was spent for that.\u001b[0m", "    \u001b[37m-# * False: Disables SQL requests profiling. The spent time is only shown on a\u001b[0m", "    \u001b[37m-#   higher level of operations. Single SQL queries cannot be analyzed this way.\u001b[0m", "    \u001b[37m-#  (boolean value)\u001b[0m", "    \u001b[37m-#trace_sqlalchemy = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# Secret key(s) to use for encrypting context data for performance profiling.\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# This string value should have the following format:\u001b[0m", "    \u001b[37m-# <key1>[,<key2>,...<keyn>],\u001b[0m", "    \u001b[37m-# where each key is some random string. A user who triggers the profiling via\u001b[0m", "    \u001b[37m-# the REST API has to set one of these keys in the headers of the REST API call\u001b[0m", "    \u001b[37m-# to include profiling results of this node for this particular project.\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# Both \"enabled\" flag and \"hmac_keys\" config options should be set to enable\u001b[0m", "    \u001b[37m-# profiling. Also, to generate correct profiling information across all\u001b[0m", "    \u001b[37m-# services\u001b[0m", "    \u001b[37m-# at least one key needs to be consistent between OpenStack projects. This\u001b[0m", "    \u001b[37m-# ensures it can be used from client side to generate the trace, containing\u001b[0m", "    \u001b[37m-# information from all possible resources.\u001b[0m", "    \u001b[37m-#  (string value)\u001b[0m", "    \u001b[37m-#hmac_keys = SECRET_KEY\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# Connection string for a notifier backend.\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# Default value is ``messaging://`` which sets the notifier to oslo_messaging.\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# Examples of possible values:\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# * ``messaging://`` - use oslo_messaging driver for sending spans.\u001b[0m", "    \u001b[37m-# * ``redis://127.0.0.1:6379`` - use redis driver for sending spans.\u001b[0m", "    \u001b[37m-# * ``mongodb://127.0.0.1:27017`` - use mongodb driver for sending spans.\u001b[0m", "    \u001b[37m-# * ``elasticsearch://127.0.0.1:9200`` - use elasticsearch driver for sending\u001b[0m", "    \u001b[37m-#   spans.\u001b[0m", "    \u001b[37m-# * ``jaeger://127.0.0.1:6831`` - use jaeger tracing as driver for sending\u001b[0m", "    \u001b[37m-# spans.\u001b[0m", "    \u001b[37m-#  (string value)\u001b[0m", "    \u001b[37m-#connection_string = messaging://\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# Document type for notification indexing in elasticsearch.\u001b[0m", "    \u001b[37m-#  (string value)\u001b[0m", "    \u001b[37m-#es_doc_type = notification\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# This parameter is a time value parameter (for example: es_scroll_time=2m),\u001b[0m", "    \u001b[37m-# indicating for how long the nodes that participate in the search will\u001b[0m", "    \u001b[37m-# maintain\u001b[0m", "    \u001b[37m-# relevant resources in order to continue and support it.\u001b[0m", "    \u001b[37m-#  (string value)\u001b[0m", "    \u001b[37m-#es_scroll_time = 2m\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# Elasticsearch splits large requests in batches. This parameter defines\u001b[0m", "    \u001b[37m-# maximum size of each batch (for example: es_scroll_size=10000).\u001b[0m", "    \u001b[37m-#  (integer value)\u001b[0m", "    \u001b[37m-#es_scroll_size = 10000\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# Redissentinel provides a timeout option on the connections.\u001b[0m", "    \u001b[37m-# This parameter defines that timeout (for example: socket_timeout=0.1).\u001b[0m", "    \u001b[37m-#  (floating point value)\u001b[0m", "    \u001b[37m-#socket_timeout = 0.1\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# Redissentinel uses a service name to identify a master redis service.\u001b[0m", "    \u001b[37m-# This parameter defines the name (for example:\u001b[0m", "    \u001b[37m-# ``sentinal_service_name=mymaster``).\u001b[0m", "    \u001b[37m-#  (string value)\u001b[0m", "    \u001b[37m-#sentinel_service_name = mymaster\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# Enable filter traces that contain error/exception to a separated place.\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# Default value is set to False.\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# Possible values:\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# * True: Enable filter traces that contain error/exception.\u001b[0m", "    \u001b[37m-# * False: Disable the filter.\u001b[0m", "    \u001b[37m-#  (boolean value)\u001b[0m", "    \u001b[37m-#filter_error_trace = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[resource]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: Entry point for the resource driver in the `keystone.resource`\u001b[0m", "    \u001b[37m-# namespace. Only a `sql` driver is supplied by keystone. Unless you are\u001b[0m", "    \u001b[37m-# writing proprietary drivers for keystone, you do not need to set this option.\u001b[0m", "    \u001b[37m-# (string value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal since P.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: Non-SQL resource cannot be used with SQL Identity and has been unable\u001b[0m", "    \u001b[37m-# to be used since Ocata. SQL Resource backend is a requirement as of Pike.\u001b[0m", "    \u001b[37m-# Setting this option no longer has an effect on how Keystone operates.\u001b[0m", "    \u001b[37m-#driver = sql\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Toggle for resource caching. This has no effect unless global caching is\u001b[0m", "    \u001b[37m-# enabled. (boolean value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [assignment]/caching\u001b[0m", "    \u001b[37m-#caching = true\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Time to cache resource data in seconds. This has no effect unless global\u001b[0m", "    \u001b[37m-# caching is enabled. (integer value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [assignment]/cache_time\u001b[0m", "    \u001b[37m-#cache_time = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Maximum number of entities that will be returned in a resource collection.\u001b[0m", "    \u001b[37m-# (integer value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [assignment]/list_limit\u001b[0m", "    \u001b[37m-#list_limit = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Name of the domain that owns the `admin_project_name`. If left unset, then\u001b[0m", "    \u001b[37m-# there is no admin project. `[resource] admin_project_name` must also be set\u001b[0m", "    \u001b[37m-# to use this option. (string value)\u001b[0m", "    \u001b[37m-#admin_project_domain_name = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# This is a special project which represents cloud-level administrator\u001b[0m", "    \u001b[37m-# privileges across services. Tokens scoped to this project will contain a true\u001b[0m", "    \u001b[37m-# `is_admin_project` attribute to indicate to policy systems that the role\u001b[0m", "    \u001b[37m-# assignments on that specific project should apply equally across every\u001b[0m", "    \u001b[37m-# project. If left unset, then there is no admin project, and thus no explicit\u001b[0m", "    \u001b[37m-# means of cross-project role assignments. `[resource]\u001b[0m", "    \u001b[37m-# admin_project_domain_name` must also be set to use this option. (string\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#admin_project_name = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# This controls whether the names of projects are restricted from containing\u001b[0m", "    \u001b[37m-# URL-reserved characters. If set to `new`, attempts to create or update a\u001b[0m", "    \u001b[37m-# project with a URL-unsafe name will fail. If set to `strict`, attempts to\u001b[0m", "    \u001b[37m-# scope a token with a URL-unsafe project name will fail, thereby forcing all\u001b[0m", "    \u001b[37m-# project names to be updated to be URL-safe. (string value)\u001b[0m", "    \u001b[37m-# Possible values:\u001b[0m", "    \u001b[37m-# off - <No description provided>\u001b[0m", "    \u001b[37m-# new - <No description provided>\u001b[0m", "    \u001b[37m-# strict - <No description provided>\u001b[0m", "    \u001b[37m-#project_name_url_safe = off\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# This controls whether the names of domains are restricted from containing\u001b[0m", "    \u001b[37m-# URL-reserved characters. If set to `new`, attempts to create or update a\u001b[0m", "    \u001b[37m-# domain with a URL-unsafe name will fail. If set to `strict`, attempts to\u001b[0m", "    \u001b[37m-# scope a token with a URL-unsafe domain name will fail, thereby forcing all\u001b[0m", "    \u001b[37m-# domain names to be updated to be URL-safe. (string value)\u001b[0m", "    \u001b[37m-# Possible values:\u001b[0m", "    \u001b[37m-# off - <No description provided>\u001b[0m", "    \u001b[37m-# new - <No description provided>\u001b[0m", "    \u001b[37m-# strict - <No description provided>\u001b[0m", "    \u001b[37m-#domain_name_url_safe = off\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[revoke]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Entry point for the token revocation backend driver in the `keystone.revoke`\u001b[0m", "    \u001b[37m-# namespace. Keystone only provides a `sql` driver, so there is no reason to\u001b[0m", "    \u001b[37m-# set this option unless you are providing a custom entry point. (string value)\u001b[0m", "    \u001b[37m-#driver = sql\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The number of seconds after a token has expired before a corresponding\u001b[0m", "    \u001b[37m-# revocation event may be purged from the backend. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 0\u001b[0m", "    \u001b[37m-#expiration_buffer = 1800\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Toggle for revocation event caching. This has no effect unless global caching\u001b[0m", "    \u001b[37m-# is enabled. (boolean value)\u001b[0m", "    \u001b[37m-#caching = true\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Time to cache the revocation list and the revocation events (in seconds).\u001b[0m", "    \u001b[37m-# This has no effect unless global and `[revoke] caching` are both enabled.\u001b[0m", "    \u001b[37m-# (integer value)\u001b[0m", "    \u001b[37m-# Deprecated group/name - [token]/revocation_cache_time\u001b[0m", "    \u001b[37m-#cache_time = 3600\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[role]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Entry point for the role backend driver in the `keystone.role` namespace.\u001b[0m", "    \u001b[37m-# Keystone only provides a `sql` driver, so there's no reason to change this\u001b[0m", "    \u001b[37m-# unless you are providing a custom entry point. (string value)\u001b[0m", "    \u001b[37m-#driver = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Toggle for role caching. This has no effect unless global caching is enabled.\u001b[0m", "    \u001b[37m-# In a typical deployment, there is no reason to disable this. (boolean value)\u001b[0m", "    \u001b[37m-#caching = true\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Time to cache role data, in seconds. This has no effect unless both global\u001b[0m", "    \u001b[37m-# caching and `[role] caching` are enabled. (integer value)\u001b[0m", "    \u001b[37m-#cache_time = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Maximum number of entities that will be returned in a role collection. This\u001b[0m", "    \u001b[37m-# may be useful to tune if you have a large number of discrete roles in your\u001b[0m", "    \u001b[37m-# deployment. (integer value)\u001b[0m", "    \u001b[37m-#list_limit = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[saml]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Determines the lifetime for any SAML assertions generated by keystone, using\u001b[0m", "    \u001b[37m-# `NotOnOrAfter` attributes. (integer value)\u001b[0m", "    \u001b[37m-#assertion_expiration_time = 3600\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Name of, or absolute path to, the binary to be used for XML signing. Although\u001b[0m", "    \u001b[37m-# only the XML Security Library (`xmlsec1`) is supported, it may have a non-\u001b[0m", "    \u001b[37m-# standard name or path on your system. If keystone cannot find the binary\u001b[0m", "    \u001b[37m-# itself, you may need to install the appropriate package, use this option to\u001b[0m", "    \u001b[37m-# specify an absolute path, or adjust keystone's PATH environment variable.\u001b[0m", "    \u001b[37m-# (string value)\u001b[0m", "    \u001b[37m-#xmlsec1_binary = xmlsec1\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Absolute path to the public certificate file to use for SAML signing. The\u001b[0m", "    \u001b[37m-# value cannot contain a comma (`,`). (string value)\u001b[0m", "    \u001b[37m-#certfile = /etc/keystone/ssl/certs/signing_cert.pem\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Absolute path to the private key file to use for SAML signing. The value\u001b[0m", "    \u001b[37m-# cannot contain a comma (`,`). (string value)\u001b[0m", "    \u001b[37m-#keyfile = /etc/keystone/ssl/private/signing_key.pem\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# This is the unique entity identifier of the identity provider (keystone) to\u001b[0m", "    \u001b[37m-# use when generating SAML assertions. This value is required to generate\u001b[0m", "    \u001b[37m-# identity provider metadata and must be a URI (a URL is recommended). For\u001b[0m", "    \u001b[37m-# example: `https://keystone.example.com/v3/OS-FEDERATION/saml2/idp`. (uri\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#idp_entity_id = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# This is the single sign-on (SSO) service location of the identity provider\u001b[0m", "    \u001b[37m-# which accepts HTTP POST requests. A value is required to generate identity\u001b[0m", "    \u001b[37m-# provider metadata. For example: `https://keystone.example.com/v3/OS-\u001b[0m", "    \u001b[37m-# FEDERATION/saml2/sso`. (uri value)\u001b[0m", "    \u001b[37m-#idp_sso_endpoint = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# This is the language used by the identity provider's organization. (string\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#idp_lang = en\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# This is the name of the identity provider's organization. (string value)\u001b[0m", "    \u001b[37m-#idp_organization_name = SAML Identity Provider\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# This is the name of the identity provider's organization to be displayed.\u001b[0m", "    \u001b[37m-# (string value)\u001b[0m", "    \u001b[37m-#idp_organization_display_name = OpenStack SAML Identity Provider\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# This is the URL of the identity provider's organization. The URL referenced\u001b[0m", "    \u001b[37m-# here should be useful to humans. (uri value)\u001b[0m", "    \u001b[37m-#idp_organization_url = https://example.com/\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# This is the company name of the identity provider's contact person. (string\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#idp_contact_company = Example, Inc.\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# This is the given name of the identity provider's contact person. (string\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#idp_contact_name = SAML Identity Provider Support\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# This is the surname of the identity provider's contact person. (string value)\u001b[0m", "    \u001b[37m-#idp_contact_surname = Support\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# This is the email address of the identity provider's contact person. (string\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#idp_contact_email = support@example.com\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# This is the telephone number of the identity provider's contact person.\u001b[0m", "    \u001b[37m-# (string value)\u001b[0m", "    \u001b[37m-#idp_contact_telephone = +1 800 555 0100\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# This is the type of contact that best describes the identity provider's\u001b[0m", "    \u001b[37m-# contact person. (string value)\u001b[0m", "    \u001b[37m-# Possible values:\u001b[0m", "    \u001b[37m-# technical - <No description provided>\u001b[0m", "    \u001b[37m-# support - <No description provided>\u001b[0m", "    \u001b[37m-# administrative - <No description provided>\u001b[0m", "    \u001b[37m-# billing - <No description provided>\u001b[0m", "    \u001b[37m-# other - <No description provided>\u001b[0m", "    \u001b[37m-#idp_contact_type = other\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Absolute path to the identity provider metadata file. This file should be\u001b[0m", "    \u001b[37m-# generated with the `keystone-manage saml_idp_metadata` command. There is\u001b[0m", "    \u001b[37m-# typically no reason to change this value. (string value)\u001b[0m", "    \u001b[37m-#idp_metadata_path = /etc/keystone/saml2_idp_metadata.xml\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The prefix of the RelayState SAML attribute to use when generating enhanced\u001b[0m", "    \u001b[37m-# client and proxy (ECP) assertions. In a typical deployment, there is no\u001b[0m", "    \u001b[37m-# reason to change this value. (string value)\u001b[0m", "    \u001b[37m-#relay_state_prefix = ss:mem:\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[security_compliance]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The maximum number of days a user can go without authenticating before being\u001b[0m", "    \u001b[37m-# considered \"inactive\" and automatically disabled (locked). This feature is\u001b[0m", "    \u001b[37m-# disabled by default; set any value to enable it. This feature depends on the\u001b[0m", "    \u001b[37m-# `sql` backend for the `[identity] driver`. When a user exceeds this threshold\u001b[0m", "    \u001b[37m-# and is considered \"inactive\", the user's `enabled` attribute in the HTTP API\u001b[0m", "    \u001b[37m-# may not match the value of the user's `enabled` column in the user table.\u001b[0m", "    \u001b[37m-# (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 1\u001b[0m", "    \u001b[37m-#disable_user_account_days_inactive = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The maximum number of times that a user can fail to authenticate before the\u001b[0m", "    \u001b[37m-# user account is locked for the number of seconds specified by\u001b[0m", "    \u001b[37m-# `[security_compliance] lockout_duration`. This feature is disabled by\u001b[0m", "    \u001b[37m-# default. If this feature is enabled and `[security_compliance]\u001b[0m", "    \u001b[37m-# lockout_duration` is not set, then users may be locked out indefinitely until\u001b[0m", "    \u001b[37m-# the user is explicitly enabled via the API. This feature depends on the `sql`\u001b[0m", "    \u001b[37m-# backend for the `[identity] driver`. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 1\u001b[0m", "    \u001b[37m-#lockout_failure_attempts = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The number of seconds a user account will be locked when the maximum number\u001b[0m", "    \u001b[37m-# of failed authentication attempts (as specified by `[security_compliance]\u001b[0m", "    \u001b[37m-# lockout_failure_attempts`) is exceeded. Setting this option will have no\u001b[0m", "    \u001b[37m-# effect unless you also set `[security_compliance] lockout_failure_attempts`\u001b[0m", "    \u001b[37m-# to a non-zero value. This feature depends on the `sql` backend for the\u001b[0m", "    \u001b[37m-# `[identity] driver`. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 1\u001b[0m", "    \u001b[37m-#lockout_duration = 1800\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The number of days for which a password will be considered valid before\u001b[0m", "    \u001b[37m-# requiring it to be changed. This feature is disabled by default. If enabled,\u001b[0m", "    \u001b[37m-# new password changes will have an expiration date, however existing passwords\u001b[0m", "    \u001b[37m-# would not be impacted. This feature depends on the `sql` backend for the\u001b[0m", "    \u001b[37m-# `[identity] driver`. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 1\u001b[0m", "    \u001b[37m-#password_expires_days = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# This controls the number of previous user password iterations to keep in\u001b[0m", "    \u001b[37m-# history, in order to enforce that newly created passwords are unique. The\u001b[0m", "    \u001b[37m-# total number which includes the new password should not be greater or equal\u001b[0m", "    \u001b[37m-# to this value. Setting the value to one (the default) disables this feature.\u001b[0m", "    \u001b[37m-# Thus, to enable this feature, values must be greater than 1. This feature\u001b[0m", "    \u001b[37m-# depends on the `sql` backend for the `[identity] driver`. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 1\u001b[0m", "    \u001b[37m-#unique_last_password_count = 1\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The number of days that a password must be used before the user can change\u001b[0m", "    \u001b[37m-# it. This prevents users from changing their passwords immediately in order to\u001b[0m", "    \u001b[37m-# wipe out their password history and reuse an old password. This feature does\u001b[0m", "    \u001b[37m-# not prevent administrators from manually resetting passwords. It is disabled\u001b[0m", "    \u001b[37m-# by default and allows for immediate password changes. This feature depends on\u001b[0m", "    \u001b[37m-# the `sql` backend for the `[identity] driver`. Note: If\u001b[0m", "    \u001b[37m-# `[security_compliance] password_expires_days` is set, then the value for this\u001b[0m", "    \u001b[37m-# option should be less than the `password_expires_days`. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 0\u001b[0m", "    \u001b[37m-#minimum_password_age = 0\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The regular expression used to validate password strength requirements. By\u001b[0m", "    \u001b[37m-# default, the regular expression will match any password. The following is an\u001b[0m", "    \u001b[37m-# example of a pattern which requires at least 1 letter, 1 digit, and have a\u001b[0m", "    \u001b[37m-# minimum length of 7 characters: ^(?=.*\\d)(?=.*[a-zA-Z]).{7,}$ This feature\u001b[0m", "    \u001b[37m-# depends on the `sql` backend for the `[identity] driver`. (string value)\u001b[0m", "    \u001b[37m-#password_regex = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Describe your password regular expression here in language for humans. If a\u001b[0m", "    \u001b[37m-# password fails to match the regular expression, the contents of this\u001b[0m", "    \u001b[37m-# configuration variable will be returned to users to explain why their\u001b[0m", "    \u001b[37m-# requested password was insufficient. (string value)\u001b[0m", "    \u001b[37m-#password_regex_description = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Enabling this option requires users to change their password when the user is\u001b[0m", "    \u001b[37m-# created, or upon administrative reset. Before accessing any services,\u001b[0m", "    \u001b[37m-# affected users will have to change their password. To ignore this requirement\u001b[0m", "    \u001b[37m-# for specific users, such as service users, set the `options` attribute\u001b[0m", "    \u001b[37m-# `ignore_change_password_upon_first_use` to `True` for the desired user via\u001b[0m", "    \u001b[37m-# the update user API. This feature is disabled by default. This feature is\u001b[0m", "    \u001b[37m-# only applicable with the `sql` backend for the `[identity] driver`. (boolean\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#change_password_upon_first_use = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[shadow_users]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Entry point for the shadow users backend driver in the\u001b[0m", "    \u001b[37m-# `keystone.identity.shadow_users` namespace. This driver is used for\u001b[0m", "    \u001b[37m-# persisting local user references to externally-managed identities (via\u001b[0m", "    \u001b[37m-# federation, LDAP, etc). Keystone only provides a `sql` driver, so there is no\u001b[0m", "    \u001b[37m-# reason to change this option unless you are providing a custom entry point.\u001b[0m", "    \u001b[37m-# (string value)\u001b[0m", "    \u001b[37m-#driver = sql\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[signing]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: Absolute path to the public certificate file to use for signing\u001b[0m", "    \u001b[37m-# responses to revocation lists requests. Set this together with `[signing]\u001b[0m", "    \u001b[37m-# keyfile`. For non-production environments, you may be interested in using\u001b[0m", "    \u001b[37m-# `keystone-manage pki_setup` to generate self-signed certificates. (string\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal since P.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: `keystone-manage pki_setup` was deprecated in Mitaka and removed in\u001b[0m", "    \u001b[37m-# Pike. These options remain for backwards compatibility.\u001b[0m", "    \u001b[37m-#certfile = /etc/keystone/ssl/certs/signing_cert.pem\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: Absolute path to the private key file to use for signing\u001b[0m", "    \u001b[37m-# responses to revocation lists requests. Set this together with `[signing]\u001b[0m", "    \u001b[37m-# certfile`. (string value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal since P.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: `keystone-manage pki_setup` was deprecated in Mitaka and removed in\u001b[0m", "    \u001b[37m-# Pike. These options remain for backwards compatibility.\u001b[0m", "    \u001b[37m-#keyfile = /etc/keystone/ssl/private/signing_key.pem\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: Absolute path to the public certificate authority (CA) file to\u001b[0m", "    \u001b[37m-# use when creating self-signed certificates with `keystone-manage pki_setup`.\u001b[0m", "    \u001b[37m-# Set this together with `[signing] ca_key`. There is no reason to set this\u001b[0m", "    \u001b[37m-# option unless you are requesting revocation lists in a non-production\u001b[0m", "    \u001b[37m-# environment. Use a `[signing] certfile` issued from a trusted certificate\u001b[0m", "    \u001b[37m-# authority instead. (string value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal since P.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: `keystone-manage pki_setup` was deprecated in Mitaka and removed in\u001b[0m", "    \u001b[37m-# Pike. These options remain for backwards compatibility.\u001b[0m", "    \u001b[37m-#ca_certs = /etc/keystone/ssl/certs/ca.pem\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: Absolute path to the private certificate authority (CA) key file\u001b[0m", "    \u001b[37m-# to use when creating self-signed certificates with `keystone-manage\u001b[0m", "    \u001b[37m-# pki_setup`. Set this together with `[signing] ca_certs`. There is no reason\u001b[0m", "    \u001b[37m-# to set this option unless you are requesting revocation lists in a non-\u001b[0m", "    \u001b[37m-# production environment. Use a `[signing] certfile` issued from a trusted\u001b[0m", "    \u001b[37m-# certificate authority instead. (string value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal since P.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: `keystone-manage pki_setup` was deprecated in Mitaka and removed in\u001b[0m", "    \u001b[37m-# Pike. These options remain for backwards compatibility.\u001b[0m", "    \u001b[37m-#ca_key = /etc/keystone/ssl/private/cakey.pem\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: Key size (in bits) to use when generating a self-signed token\u001b[0m", "    \u001b[37m-# signing certificate. There is no reason to set this option unless you are\u001b[0m", "    \u001b[37m-# requesting revocation lists in a non-production environment. Use a `[signing]\u001b[0m", "    \u001b[37m-# certfile` issued from a trusted certificate authority instead. (integer\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-# Minimum value: 1024\u001b[0m", "    \u001b[37m-# This option is deprecated for removal since P.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: `keystone-manage pki_setup` was deprecated in Mitaka and removed in\u001b[0m", "    \u001b[37m-# Pike. These options remain for backwards compatibility.\u001b[0m", "    \u001b[37m-#key_size = 2048\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: The validity period (in days) to use when generating a self-\u001b[0m", "    \u001b[37m-# signed token signing certificate. There is no reason to set this option\u001b[0m", "    \u001b[37m-# unless you are requesting revocation lists in a non-production environment.\u001b[0m", "    \u001b[37m-# Use a `[signing] certfile` issued from a trusted certificate authority\u001b[0m", "    \u001b[37m-# instead. (integer value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal since P.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: `keystone-manage pki_setup` was deprecated in Mitaka and removed in\u001b[0m", "    \u001b[37m-# Pike. These options remain for backwards compatibility.\u001b[0m", "    \u001b[37m-#valid_days = 3650\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: The certificate subject to use when generating a self-signed\u001b[0m", "    \u001b[37m-# token signing certificate. There is no reason to set this option unless you\u001b[0m", "    \u001b[37m-# are requesting revocation lists in a non-production environment. Use a\u001b[0m", "    \u001b[37m-# `[signing] certfile` issued from a trusted certificate authority instead.\u001b[0m", "    \u001b[37m-# (string value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal since P.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: `keystone-manage pki_setup` was deprecated in Mitaka and removed in\u001b[0m", "    \u001b[37m-# Pike. These options remain for backwards compatibility.\u001b[0m", "    \u001b[37m-#cert_subject = /C=US/ST=Unset/L=Unset/O=Unset/CN=www.example.com\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[token]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The amount of time that a token should remain valid (in seconds). Drastically\u001b[0m", "    \u001b[37m-# reducing this value may break \"long-running\" operations that involve multiple\u001b[0m", "    \u001b[37m-# services to coordinate together, and will force users to authenticate with\u001b[0m", "    \u001b[37m-# keystone more frequently. Drastically increasing this value will increase the\u001b[0m", "    \u001b[37m-# number of tokens that will be simultaneously valid. Keystone tokens are also\u001b[0m", "    \u001b[37m-# bearer tokens, so a shorter duration will also reduce the potential security\u001b[0m", "    \u001b[37m-# impact of a compromised token. (integer value)\u001b[0m", "    \u001b[37m-# Minimum value: 0\u001b[0m", "    \u001b[37m-# Maximum value: 9223372036854775807\u001b[0m", "    \u001b[37m-#expiration = 3600\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Entry point for the token provider in the `keystone.token.provider`\u001b[0m", "    \u001b[37m-# namespace. The token provider controls the token construction, validation,\u001b[0m", "    \u001b[37m-# and revocation operations. Keystone includes `fernet` token provider.\u001b[0m", "    \u001b[37m-# `fernet` tokens do not need to be persisted at all, but require that you run\u001b[0m", "    \u001b[37m-# `keystone-manage fernet_setup` (also see the `keystone-manage fernet_rotate`\u001b[0m", "    \u001b[37m-# command). (string value)\u001b[0m", "    \u001b[37m-#provider = fernet\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Toggle for caching token creation and validation data. This has no effect\u001b[0m", "    \u001b[37m-# unless global caching is enabled. (boolean value)\u001b[0m", "    \u001b[37m-#caching = true\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The number of seconds to cache token creation and validation data. This has\u001b[0m", "    \u001b[37m-# no effect unless both global and `[token] caching` are enabled. (integer\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-# Minimum value: 0\u001b[0m", "    \u001b[37m-# Maximum value: 9223372036854775807\u001b[0m", "    \u001b[37m-#cache_time = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# This toggles support for revoking individual tokens by the token identifier\u001b[0m", "    \u001b[37m-# and thus various token enumeration operations (such as listing all tokens\u001b[0m", "    \u001b[37m-# issued to a specific user). These operations are used to determine the list\u001b[0m", "    \u001b[37m-# of tokens to consider revoked. Do not disable this option if you're using the\u001b[0m", "    \u001b[37m-# `kvs` `[revoke] driver`. (boolean value)\u001b[0m", "    \u001b[37m-#revoke_by_id = true\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# This toggles whether scoped tokens may be re-scoped to a new project or\u001b[0m", "    \u001b[37m-# domain, thereby preventing users from exchanging a scoped token (including\u001b[0m", "    \u001b[37m-# those with a default project scope) for any other token. This forces users to\u001b[0m", "    \u001b[37m-# either authenticate for unscoped tokens (and later exchange that unscoped\u001b[0m", "    \u001b[37m-# token for tokens with a more specific scope) or to provide their credentials\u001b[0m", "    \u001b[37m-# in every request for a scoped token to avoid re-scoping altogether. (boolean\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#allow_rescope_scoped_token = true\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# DEPRECATED: This controls whether roles should be included with tokens that\u001b[0m", "    \u001b[37m-# are not directly assigned to the token's scope, but are instead linked\u001b[0m", "    \u001b[37m-# implicitly to other role assignments. (boolean value)\u001b[0m", "    \u001b[37m-# This option is deprecated for removal since R.\u001b[0m", "    \u001b[37m-# Its value may be silently ignored in the future.\u001b[0m", "    \u001b[37m-# Reason: Default roles depend on a chain of implied role assignments. Ex: an\u001b[0m", "    \u001b[37m-# admin user will also have the reader and member role. By ensuring that all\u001b[0m", "    \u001b[37m-# these roles will always appear on the token validation response, we can\u001b[0m", "    \u001b[37m-# improve the simplicity and readability of policy files.\u001b[0m", "    \u001b[37m-#infer_roles = true\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Enable storing issued token data to token validation cache so that first\u001b[0m", "    \u001b[37m-# token validation doesn't actually cause full validation cycle. This option\u001b[0m", "    \u001b[37m-# has no effect unless global caching and token caching are enabled. (boolean\u001b[0m", "    \u001b[37m-# value)\u001b[0m", "    \u001b[37m-#cache_on_issue = true\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# This controls the number of seconds that a token can be retrieved for beyond\u001b[0m", "    \u001b[37m-# the built-in expiry time. This allows long running operations to succeed.\u001b[0m", "    \u001b[37m-# Defaults to two days. (integer value)\u001b[0m", "    \u001b[37m-#allow_expired_window = 172800\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[tokenless_auth]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The list of distinguished names which identify trusted issuers of client\u001b[0m", "    \u001b[37m-# certificates allowed to use X.509 tokenless authorization. If the option is\u001b[0m", "    \u001b[37m-# absent then no certificates will be allowed. The format for the values of a\u001b[0m", "    \u001b[37m-# distinguished name (DN) must be separated by a comma and contain no spaces.\u001b[0m", "    \u001b[37m-# Furthermore, because an individual DN may contain commas, this configuration\u001b[0m", "    \u001b[37m-# option may be repeated multiple times to represent multiple values. For\u001b[0m", "    \u001b[37m-# example, keystone.conf would include two consecutive lines in order to trust\u001b[0m", "    \u001b[37m-# two different DNs, such as `trusted_issuer = CN=john,OU=keystone,O=openstack`\u001b[0m", "    \u001b[37m-# and `trusted_issuer = CN=mary,OU=eng,O=abc`. (multi valued)\u001b[0m", "    \u001b[37m-#trusted_issuer =\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The federated protocol ID used to represent X.509 tokenless authorization.\u001b[0m", "    \u001b[37m-# This is used in combination with the value of `[tokenless_auth]\u001b[0m", "    \u001b[37m-# issuer_attribute` to find a corresponding federated mapping. In a typical\u001b[0m", "    \u001b[37m-# deployment, there is no reason to change this value. (string value)\u001b[0m", "    \u001b[37m-#protocol = x509\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The name of the WSGI environment variable used to pass the issuer of the\u001b[0m", "    \u001b[37m-# client certificate to keystone. This attribute is used as an identity\u001b[0m", "    \u001b[37m-# provider ID for the X.509 tokenless authorization along with the protocol to\u001b[0m", "    \u001b[37m-# look up its corresponding mapping. In a typical deployment, there is no\u001b[0m", "    \u001b[37m-# reason to change this value. (string value)\u001b[0m", "    \u001b[37m-#issuer_attribute = SSL_CLIENT_I_DN\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[trust]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Allows authorization to be redelegated from one user to another, effectively\u001b[0m", "    \u001b[37m-# chaining trusts together. When disabled, the `remaining_uses` attribute of a\u001b[0m", "    \u001b[37m-# trust is constrained to be zero. (boolean value)\u001b[0m", "    \u001b[37m-#allow_redelegation = false\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Maximum number of times that authorization can be redelegated from one user\u001b[0m", "    \u001b[37m-# to another in a chain of trusts. This number may be reduced further for a\u001b[0m", "    \u001b[37m-# specific trust. (integer value)\u001b[0m", "    \u001b[37m-#max_redelegation_count = 3\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Entry point for the trust backend driver in the `keystone.trust` namespace.\u001b[0m", "    \u001b[37m-# Keystone only provides a `sql` driver, so there is no reason to change this\u001b[0m", "    \u001b[37m-# unless you are providing a custom entry point. (string value)\u001b[0m", "    \u001b[37m-#driver = sql\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[unified_limit]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Entry point for the unified limit backend driver in the\u001b[0m", "    \u001b[37m-# `keystone.unified_limit` namespace. Keystone only provides a `sql` driver, so\u001b[0m", "    \u001b[37m-# there's no reason to change this unless you are providing a custom entry\u001b[0m", "    \u001b[37m-# point. (string value)\u001b[0m", "    \u001b[37m-#driver = sql\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Toggle for unified limit caching. This has no effect unless global caching is\u001b[0m", "    \u001b[37m-# enabled. In a typical deployment, there is no reason to disable this.\u001b[0m", "    \u001b[37m-# (boolean value)\u001b[0m", "    \u001b[37m-#caching = true\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Time to cache unified limit data, in seconds. This has no effect unless both\u001b[0m", "    \u001b[37m-# global caching and `[unified_limit] caching` are enabled. (integer value)\u001b[0m", "    \u001b[37m-#cache_time = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Maximum number of entities that will be returned in a role collection. This\u001b[0m", "    \u001b[37m-# may be useful to tune if you have a large number of unified limits in your\u001b[0m", "    \u001b[37m-# deployment. (integer value)\u001b[0m", "    \u001b[37m-#list_limit = <None>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# The enforcement model to use when validating limits associated to projects.\u001b[0m", "    \u001b[37m-# Enforcement models will behave differently depending on the existing limits,\u001b[0m", "    \u001b[37m-# which may result in backwards incompatible changes if a model is switched in\u001b[0m", "    \u001b[37m-# a running deployment. (string value)\u001b[0m", "    \u001b[37m-# Possible values:\u001b[0m", "    \u001b[37m-# flat - <No description provided>\u001b[0m", "    \u001b[37m-# strict_two_level - <No description provided>\u001b[0m", "    \u001b[37m-#enforcement_model = flat\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-[wsgi]\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# From keystone\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# If set to true, this enables the oslo debug middleware in Keystone. This\u001b[0m", "    \u001b[37m-# Middleware prints a lot of information about the request and the response. It\u001b[0m", "    \u001b[37m-# is useful for getting information about the data on the wire (decoded) and\u001b[0m", "    \u001b[37m-# passed to the WSGI application pipeline. This middleware has no effect on the\u001b[0m", "    \u001b[37m-# \"debug\" setting in the [DEFAULT] section of the config file or setting\u001b[0m", "    \u001b[37m-# Keystone's log-level to \"DEBUG\"; it is specific to debugging the WSGI data as\u001b[0m", "    \u001b[37m-# it enters and leaves Keystone (specific request-related data). This option is\u001b[0m", "    \u001b[37m-# used for introspection on the request and response data between the web\u001b[0m", "    \u001b[37m-# server (apache, nginx, etc) and Keystone.  This middleware is inserted as the\u001b[0m", "    \u001b[37m-# first element in the middleware chain and will show the data closest to the\u001b[0m", "    \u001b[37m-# wire.  WARNING: NOT INTENDED FOR USE IN PRODUCTION. THIS MIDDLEWARE CAN AND\u001b[0m", "    \u001b[37m-# WILL EMIT SENSITIVE/PRIVILEGED DATA. (boolean value)\u001b[0m", "    \u001b[37m-#debug_middleware = false\u001b[0m", "    \u001b[37m+[database]\u001b[0m", "    \u001b[37m+connection = mysql+pymysql://keystone:mypass@147.75.201.110:3306/keystone?charset=utf8\u001b[0m", "    \u001b[32m- change owner from 'root' to 'keystone'\u001b[0m", "\u001b[0m  * ruby_block[delete all attributes in node['openstack']['identity']['conf_secrets']] action run", "    \u001b[32m- execute the ruby block delete all attributes in node['openstack']['identity']['conf_secrets']\u001b[0m", "\u001b[0m  * execute[keystone-manage db_sync] action run", "    \u001b[32m- execute keystone-manage db_sync\u001b[0m", "\u001b[0m  * execute[bootstrap_keystone] action run", "    \u001b[32m- execute keystone-manage bootstrap \\", "\u001b[0m    \u001b[32m          --bootstrap-password mypass \\", "\u001b[0m    \u001b[32m          --bootstrap-username admin \\", "\u001b[0m    \u001b[32m          --bootstrap-project-name admin \\", "\u001b[0m    \u001b[32m          --bootstrap-role-name admin \\", "\u001b[0m    \u001b[32m          --bootstrap-service-name keystone \\", "\u001b[0m    \u001b[32m          --bootstrap-region-id RegionOne \\", "\u001b[0m    \u001b[32m          --bootstrap-admin-url http://147.75.201.110:5000/v3 \\", "\u001b[0m    \u001b[32m          --bootstrap-public-url http://147.75.201.110:5000/v3 \\", "\u001b[0m    \u001b[32m          --bootstrap-internal-url http://147.75.201.110:5000/v3\u001b[0m", "\u001b[0mRecipe: apache2::default\u001b[0m", "  * yum_package[apache2] action install", "    \u001b[32m- install version 0:2.4.6-88.el7.centos.x86_64 of package httpd\u001b[0m", "\u001b[0m  * directory[/etc/httpd/sites-available] action create", "    \u001b[32m- create new directory /etc/httpd/sites-available\u001b[0m", "    \u001b[32m- change mode from '' to '0755'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0m  * directory[/etc/httpd/sites-enabled] action create", "    \u001b[32m- create new directory /etc/httpd/sites-enabled\u001b[0m", "    \u001b[32m- change mode from '' to '0755'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0m  * directory[/etc/httpd/mods-available] action create", "    \u001b[32m- create new directory /etc/httpd/mods-available\u001b[0m", "    \u001b[32m- change mode from '' to '0755'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0m  * directory[/etc/httpd/mods-enabled] action create", "    \u001b[32m- create new directory /etc/httpd/mods-enabled\u001b[0m", "    \u001b[32m- change mode from '' to '0755'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0m  * directory[/etc/httpd/conf-available] action create", "    \u001b[32m- create new directory /etc/httpd/conf-available\u001b[0m", "    \u001b[32m- change mode from '' to '0755'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0m  * directory[/etc/httpd/conf-enabled] action create", "    \u001b[32m- create new directory /etc/httpd/conf-enabled\u001b[0m", "    \u001b[32m- change mode from '' to '0755'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0m  * link[/etc/httpd/sites-enabled/default] action delete (up to date)", "  * file[/etc/httpd/sites-available/default] action delete (up to date)", "  * link[/etc/httpd/sites-enabled/default.conf] action delete (up to date)", "  * file[/etc/httpd/sites-available/default.conf] action delete (up to date)", "  * link[/etc/httpd/sites-enabled/000-default] action delete (up to date)", "  * file[/etc/httpd/sites-available/000-default] action delete (up to date)", "  * link[/etc/httpd/sites-enabled/000-default.conf] action delete (up to date)", "  * file[/etc/httpd/sites-available/000-default.conf] action delete (up to date)", "  * directory[/var/log/httpd] action create", "    \u001b[32m- change mode from '0700' to '0755'\u001b[0m", "\u001b[0m  * yum_package[perl] action install (up to date)", "  * link[/usr/sbin/a2ensite] action delete (skipped due to only_if)", "  * template[/usr/sbin/a2ensite] action create", "    \u001b[32m- create new file /usr/sbin/a2ensite\u001b[0m", "    \u001b[32m- update content in file /usr/sbin/a2ensite from none to 0556b3\u001b[0m", "    \u001b[37m--- /usr/sbin/a2ensite\t2019-04-26 14:50:56.244801122 +0000\u001b[0m", "    \u001b[37m+++ /usr/sbin/.chef-a2ensite20190426-67198-1b0i8z4\t2019-04-26 14:50:56.243801086 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,533 @@\u001b[0m", "    \u001b[37m+#!/usr/bin/perl -w\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# a2enmod by Stefan Fritsch <sf@debian.org>\u001b[0m", "    \u001b[37m+# Licensed under Apache License 2.0\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# The coding style is \"perltidy -pbp\"\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+use strict;\u001b[0m", "    \u001b[37m+use Cwd 'realpath';\u001b[0m", "    \u001b[37m+use File::Spec;\u001b[0m", "    \u001b[37m+use File::Basename;\u001b[0m", "    \u001b[37m+use File::Path;\u001b[0m", "    \u001b[37m+use Getopt::Long;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $quiet;\u001b[0m", "    \u001b[37m+my $force;\u001b[0m", "    \u001b[37m+my $maintmode;\u001b[0m", "    \u001b[37m+my $purge;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+Getopt::Long::Configure('bundling');\u001b[0m", "    \u001b[37m+GetOptions(\u001b[0m", "    \u001b[37m+    'quiet|q'     => \\$quiet,\u001b[0m", "    \u001b[37m+    'force|f'     => \\$force,\u001b[0m", "    \u001b[37m+    'maintmode|m' => \\$maintmode,\u001b[0m", "    \u001b[37m+    'purge|p'     => \\$purge\u001b[0m", "    \u001b[37m+) or exit 2;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $basename = basename($0);\u001b[0m", "    \u001b[37m+$basename =~ /^a2(en|dis)(mod|site|conf)((?:-.+)?)$/\u001b[0m", "    \u001b[37m+    or die \"$basename call name unknown\
\";\u001b[0m", "    \u001b[37m+my $act        = $1;\u001b[0m", "    \u001b[37m+my $obj        = $2;\u001b[0m", "    \u001b[37m+my $dir_suffix = $3;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $env_file = $ENV{APACHE_ENVVARS}\u001b[0m", "    \u001b[37m+    || (\u001b[0m", "    \u001b[37m+    $ENV{APACHE_CONFDIR}\u001b[0m", "    \u001b[37m+    ? \"$ENV{APACHE_CONFDIR}/envvars\"\u001b[0m", "    \u001b[37m+    : \"/etc/httpd$dir_suffix/envvars\"\u001b[0m", "    \u001b[37m+    );\u001b[0m", "    \u001b[37m+$ENV{LANG} = 'C';\u001b[0m", "    \u001b[37m+read_env_file($env_file);\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+$act .= 'able';\u001b[0m", "    \u001b[37m+my ( $name, $dir, $sffx, $reload );\u001b[0m", "    \u001b[37m+if ( $obj eq 'mod' ) {\u001b[0m", "    \u001b[37m+    $obj    = 'module';\u001b[0m", "    \u001b[37m+    $dir    = 'mods';\u001b[0m", "    \u001b[37m+    $sffx   = '.load';\u001b[0m", "    \u001b[37m+    $reload = 'restart';\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+elsif ( $obj eq 'conf' ) {\u001b[0m", "    \u001b[37m+    $obj    = 'conf';\u001b[0m", "    \u001b[37m+    $dir    = 'conf';\u001b[0m", "    \u001b[37m+    $sffx   = '.conf';\u001b[0m", "    \u001b[37m+    $reload = 'reload';\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+else {\u001b[0m", "    \u001b[37m+    $dir    = 'sites';\u001b[0m", "    \u001b[37m+    $sffx   = '.conf';\u001b[0m", "    \u001b[37m+    $reload = 'reload';\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+$name = ucfirst($obj);\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $confdir = $ENV{APACHE_CONFDIR} || \"/etc/httpd$dir_suffix\";\u001b[0m", "    \u001b[37m+my $availdir = $ENV{ uc(\"APACHE_${dir}_AVAILABLE\") }\u001b[0m", "    \u001b[37m+    || \"$confdir/$dir-available\";\u001b[0m", "    \u001b[37m+my $enabldir = $ENV{ uc(\"APACHE_${dir}_ENABLED\") } || \"$confdir/$dir-enabled\";\u001b[0m", "    \u001b[37m+my $statedir = $ENV{ uc(\"APACHE_STATE_DIRECTORY\") } || \"/usr/lib64/httpd\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+$statedir .= \"/$obj\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $choicedir = $act eq 'enable' ? $availdir : $enabldir;\u001b[0m", "    \u001b[37m+my $linkdir = File::Spec->abs2rel( $availdir, $enabldir );\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $request_reload = 0;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $rc = 0;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+if ( !scalar @ARGV ) {\u001b[0m", "    \u001b[37m+    my @choices = myglob('*');\u001b[0m", "    \u001b[37m+    print \"Your choices are: @choices\
\";\u001b[0m", "    \u001b[37m+    print \"Which ${obj}(s) do you want to $act (wildcards ok)?\
\";\u001b[0m", "    \u001b[37m+    my $input = <>;\u001b[0m", "    \u001b[37m+    @ARGV = split /\\s+/, $input;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my @objs;\u001b[0m", "    \u001b[37m+foreach my $arg (@ARGV) {\u001b[0m", "    \u001b[37m+    $arg =~ s/${sffx}$//;\u001b[0m", "    \u001b[37m+    my @glob = myglob($arg);\u001b[0m", "    \u001b[37m+    if ( !@glob ) {\u001b[0m", "    \u001b[37m+        error(\"No $obj found matching $arg!\
\");\u001b[0m", "    \u001b[37m+        $rc = 1;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    else {\u001b[0m", "    \u001b[37m+        push @objs, @glob;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+foreach my $acton (@objs) {\u001b[0m", "    \u001b[37m+    doit($acton) or $rc = 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+info(\u001b[0m", "    \u001b[37m+    \"To activate the new configuration, you need to run:\
  service apache2 $reload\
\"\u001b[0m", "    \u001b[37m+) if $request_reload;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+exit($rc);\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+##############################################################################\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub myglob {\u001b[0m", "    \u001b[37m+    my $arg = shift;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my @glob = map {\u001b[0m", "    \u001b[37m+        s{^$choicedir/}{};\u001b[0m", "    \u001b[37m+        s{$sffx$}{};\u001b[0m", "    \u001b[37m+        $_\u001b[0m", "    \u001b[37m+    } glob(\"$choicedir/$arg$sffx\");\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    return @glob;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub doit {\u001b[0m", "    \u001b[37m+    my $acton = shift;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my ( $conftgt, $conflink );\u001b[0m", "    \u001b[37m+    if ( $obj eq 'module' ) {\u001b[0m", "    \u001b[37m+        if ( $acton eq 'cgi' && threaded() ) {\u001b[0m", "    \u001b[37m+            print\u001b[0m", "    \u001b[37m+                \"Your MPM seems to be threaded. Selecting cgid instead of cgi.\
\";\u001b[0m", "    \u001b[37m+            $acton = 'cgid';\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        $conftgt = \"$availdir/$acton.conf\";\u001b[0m", "    \u001b[37m+        if ( -e $conftgt ) {\u001b[0m", "    \u001b[37m+            $conflink = \"$enabldir/$acton.conf\";\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my $tgt  = \"$availdir/$acton$sffx\";\u001b[0m", "    \u001b[37m+    my $link = \"$enabldir/$acton$sffx\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( !-e $tgt ) {\u001b[0m", "    \u001b[37m+        if ( -l $link && !-e $link ) {\u001b[0m", "    \u001b[37m+            if ( $act eq 'disable' ) {\u001b[0m", "    \u001b[37m+                info(\"removing dangling symlink $link\
\");\u001b[0m", "    \u001b[37m+                unlink($link);\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                # force a .conf path. It may exist as dangling link, too\u001b[0m", "    \u001b[37m+                $conflink = \"$enabldir/$acton.conf\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                if ( -l $conflink && !-e $conflink ) {\u001b[0m", "    \u001b[37m+                    info(\"removing dangling symlink $conflink\
\");\u001b[0m", "    \u001b[37m+                    unlink($conflink);\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                return 1;\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            else {\u001b[0m", "    \u001b[37m+                error(\"$link is a dangling symlink!\
\");\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        if ( $purge ) {\u001b[0m", "    \u001b[37m+            switch_marker( $obj, $act, $acton );\u001b[0m", "    \u001b[37m+            # exit silently, we are purging anyway\u001b[0m", "    \u001b[37m+            return 1;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        error(\"$name $acton does not exist!\
\");\u001b[0m", "    \u001b[37m+        return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    # handle module dependencies\u001b[0m", "    \u001b[37m+    if ( $obj eq 'module' ) {\u001b[0m", "    \u001b[37m+        if ( $act eq 'enable' ) {\u001b[0m", "    \u001b[37m+            if ( $acton eq 'mpm_itk' ) {\u001b[0m", "    \u001b[37m+                warning(  \"MPM_ITK is a third party module that is not part \"\u001b[0m", "    \u001b[37m+                        . \"of the official Apache HTTPD. It has seen less \"\u001b[0m", "    \u001b[37m+                        . \"testing than the official MPM modules.\" );\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            my @depends = get_deps(\"$availdir/$acton.load\");\u001b[0m", "    \u001b[37m+            do_deps( $acton, @depends ) or return 0;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            my @conflicts = get_deps( \"$availdir/$acton.load\", \"Conflicts\" );\u001b[0m", "    \u001b[37m+            check_conflicts( $acton, @conflicts ) or return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        else {\u001b[0m", "    \u001b[37m+            my @depending;\u001b[0m", "    \u001b[37m+            foreach my $d ( glob(\"$enabldir/*.load\") ) {\u001b[0m", "    \u001b[37m+                my @deps = get_deps($d);\u001b[0m", "    \u001b[37m+                if ( is_in( $acton, @deps ) ) {\u001b[0m", "    \u001b[37m+                    $d =~ m,/([^/]+).load$,;\u001b[0m", "    \u001b[37m+                    push @depending, $1;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            if ( scalar @depending ) {\u001b[0m", "    \u001b[37m+                if ($force) {\u001b[0m", "    \u001b[37m+                    do_deps( $acton, @depending ) or return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+                else {\u001b[0m", "    \u001b[37m+                    error(\u001b[0m", "    \u001b[37m+                        \"The following modules depend on $acton \",\u001b[0m", "    \u001b[37m+                        \"and need to be disabled first: @depending\
\"\u001b[0m", "    \u001b[37m+                    );\u001b[0m", "    \u001b[37m+                    return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    elsif ( $act eq 'enable' ) {\u001b[0m", "    \u001b[37m+        my @depends = get_deps(\"$availdir/$acton$sffx\");\u001b[0m", "    \u001b[37m+        warn_deps( $acton, @depends ) or return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( $act eq 'enable' ) {\u001b[0m", "    \u001b[37m+        my $check = check_link( $tgt, $link );\u001b[0m", "    \u001b[37m+        if ( $check eq 'ok' ) {\u001b[0m", "    \u001b[37m+            if ($conflink) {\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                # handle .conf file\u001b[0m", "    \u001b[37m+                my $confcheck = check_link( $conftgt, $conflink );\u001b[0m", "    \u001b[37m+                if ( $confcheck eq 'ok' ) {\u001b[0m", "    \u001b[37m+                    info(\"$name $acton already enabled\
\");\u001b[0m", "    \u001b[37m+                    return 1;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+                elsif ( $confcheck eq 'missing' ) {\u001b[0m", "    \u001b[37m+                    print \"Enabling config file $acton.conf.\
\";\u001b[0m", "    \u001b[37m+                    add_link( $conftgt, $conflink ) or return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+                else {\u001b[0m", "    \u001b[37m+                    error(\u001b[0m", "    \u001b[37m+                        \"Config file $acton.conf not properly enabled: $confcheck\
\"\u001b[0m", "    \u001b[37m+                    );\u001b[0m", "    \u001b[37m+                    return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            else {\u001b[0m", "    \u001b[37m+                info(\"$name $acton already enabled\
\");\u001b[0m", "    \u001b[37m+                return 1;\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        elsif ( $check eq 'missing' ) {\u001b[0m", "    \u001b[37m+            if ($conflink) {\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                # handle .conf file\u001b[0m", "    \u001b[37m+                my $confcheck = check_link( $conftgt, $conflink );\u001b[0m", "    \u001b[37m+                if ( $confcheck eq 'missing' ) {\u001b[0m", "    \u001b[37m+                    add_link( $conftgt, $conflink ) or return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+                elsif ( $confcheck ne 'ok' ) {\u001b[0m", "    \u001b[37m+                    error(\u001b[0m", "    \u001b[37m+                        \"Config file $acton.conf not properly enabled: $confcheck\
\"\u001b[0m", "    \u001b[37m+                    );\u001b[0m", "    \u001b[37m+                    return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            print \"Enabling $obj $acton.\
\";\u001b[0m", "    \u001b[37m+            if ( $acton eq 'ssl' ) {\u001b[0m", "    \u001b[37m+                info(     \"See /usr/share/doc/apache2/README.Debian.gz on \"\u001b[0m", "    \u001b[37m+                        . \"how to configure SSL and create self-signed certificates.\
\"\u001b[0m", "    \u001b[37m+                );\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            return add_link( $tgt, $link )\u001b[0m", "    \u001b[37m+                && switch_marker( $obj, $act, $acton );\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        else {\u001b[0m", "    \u001b[37m+            error(\"$name $acton not properly enabled: $check\
\");\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    else {\u001b[0m", "    \u001b[37m+        if ( -e $link || -l $link ) {\u001b[0m", "    \u001b[37m+            remove_link($link);\u001b[0m", "    \u001b[37m+            if ( $conflink && -e $conflink ) {\u001b[0m", "    \u001b[37m+                remove_link($conflink);\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            switch_marker( $obj, $act, $acton );\u001b[0m", "    \u001b[37m+            print \"$name $acton disabled.\
\";\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        elsif ( $conflink && -e $conflink ) {\u001b[0m", "    \u001b[37m+            print \"Disabling stale config file $acton.conf.\
\";\u001b[0m", "    \u001b[37m+            remove_link($conflink);\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        else {\u001b[0m", "    \u001b[37m+            info(\"$name $acton already disabled\
\");\u001b[0m", "    \u001b[37m+            if ( $purge ) {\u001b[0m", "    \u001b[37m+                switch_marker( $obj, $act, $acton );\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            return 1;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub get_deps {\u001b[0m", "    \u001b[37m+    my $file = shift;\u001b[0m", "    \u001b[37m+    my $type = shift || \"Depends\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my $fd;\u001b[0m", "    \u001b[37m+    if ( !open( $fd, '<', $file ) ) {\u001b[0m", "    \u001b[37m+        error(\"Can't open $file: $!\");\u001b[0m", "    \u001b[37m+        return;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    my $line;\u001b[0m", "    \u001b[37m+    while ( defined( $line = <$fd> ) ) {\u001b[0m", "    \u001b[37m+        chomp $line;\u001b[0m", "    \u001b[37m+        if ( $line =~ /^# $type:\\s+(.*?)\\s*$/ ) {\u001b[0m", "    \u001b[37m+            my $deps = $1;\u001b[0m", "    \u001b[37m+            return split( /[\
\\s]+/, $deps );\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        # only check until the first non-empty non-comment line\u001b[0m", "    \u001b[37m+        last if ( $line !~ /^\\s*(?:#.*)?$/ );\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub do_deps {\u001b[0m", "    \u001b[37m+    my $acton = shift;\u001b[0m", "    \u001b[37m+    foreach my $d (@_) {\u001b[0m", "    \u001b[37m+        info(\"Considering dependency $d for $acton:\
\");\u001b[0m", "    \u001b[37m+        if ( !doit($d) ) {\u001b[0m", "    \u001b[37m+            error(\"Could not $act dependency $d for $acton, aborting\
\");\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub warn_deps {\u001b[0m", "    \u001b[37m+    my $acton = shift;\u001b[0m", "    \u001b[37m+    my $modsenabldir = $ENV{APACHE_MODS_ENABLED} || \"$confdir/mods-enabled\";\u001b[0m", "    \u001b[37m+    foreach my $d (@_) {\u001b[0m", "    \u001b[37m+        info(\"Checking dependency $d for $acton:\
\");\u001b[0m", "    \u001b[37m+        if ( !-e \"$modsenabldir/$d.load\" ) {\u001b[0m", "    \u001b[37m+            warning(\u001b[0m", "    \u001b[37m+                \"Module $d is not enabled, but $acton depends on it, aborting\
\"\u001b[0m", "    \u001b[37m+            );\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub check_conflicts {\u001b[0m", "    \u001b[37m+    my $acton    = shift;\u001b[0m", "    \u001b[37m+    my $haderror = 0;\u001b[0m", "    \u001b[37m+    foreach my $d (@_) {\u001b[0m", "    \u001b[37m+        info(\"Considering conflict $d for $acton:\
\");\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        my $tgt  = \"$availdir/$d$sffx\";\u001b[0m", "    \u001b[37m+        my $link = \"$enabldir/$d$sffx\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        my $confcheck = check_link( $tgt, $link );\u001b[0m", "    \u001b[37m+        if ( $confcheck eq 'ok' ) {\u001b[0m", "    \u001b[37m+            error(\u001b[0m", "    \u001b[37m+                \"Module $d is enabled - cannot proceed due to conflicts. It needs to be disabled first!\
\"\u001b[0m", "    \u001b[37m+            );\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            # Don't return immediately, there could be several conflicts\u001b[0m", "    \u001b[37m+            $haderror++;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ($haderror) {\u001b[0m", "    \u001b[37m+        return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub add_link {\u001b[0m", "    \u001b[37m+    my ( $tgt, $link ) = @_;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    # create relative link\u001b[0m", "    \u001b[37m+    if ( !symlink( File::Spec->abs2rel( $tgt, dirname($link) ), $link ) ) {\u001b[0m", "    \u001b[37m+        die(\"Could not create $link: $!\
\");\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    $request_reload = 1;\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub check_link {\u001b[0m", "    \u001b[37m+    my ( $tgt, $link ) = @_;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( !-e $link ) {\u001b[0m", "    \u001b[37m+        if ( -l $link ) {\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            # points to nowhere\u001b[0m", "    \u001b[37m+            info(\"Removing dangling link $link\");\u001b[0m", "    \u001b[37m+            unlink($link) or die \"Could not remove $link\
\";\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        return 'missing';\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( -e $link && !-l $link ) {\u001b[0m", "    \u001b[37m+        return \"$link is a real file, not touching it\";\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    if ( realpath($link) ne realpath($tgt) ) {\u001b[0m", "    \u001b[37m+        return \"$link exists but does not point to $tgt, not touching it\";\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return 'ok';\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub remove_link {\u001b[0m", "    \u001b[37m+    my ($link) = @_;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( -l $link ) {\u001b[0m", "    \u001b[37m+        unlink($link) or die \"Could not remove $link: $!\
\";\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    elsif ( -e $link ) {\u001b[0m", "    \u001b[37m+        error(\"$link is not a symbolic link, not deleting\
\");\u001b[0m", "    \u001b[37m+        return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    $request_reload = 1;\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub threaded {\u001b[0m", "    \u001b[37m+    my $result = \"\";\u001b[0m", "    \u001b[37m+    $result = qx{/usr/sbin/apachectl -V | grep 'threaded'}\u001b[0m", "    \u001b[37m+        if -x '/usr/sbin/apachectl';\u001b[0m", "    \u001b[37m+    if ( $? != 0 ) {\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        # config doesn't work\u001b[0m", "    \u001b[37m+        if ( -e \"$enabldir/mpm_prefork.load\" || -e \"$enabldir/mpm_itk.load\" )\u001b[0m", "    \u001b[37m+        {\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        elsif (-e \"$enabldir/mpm_worker.load\"\u001b[0m", "    \u001b[37m+            || -e \"$enabldir/mpm_event.load\" )\u001b[0m", "    \u001b[37m+        {\u001b[0m", "    \u001b[37m+            return 1;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        else {\u001b[0m", "    \u001b[37m+            error(\"Can't determine enabled MPM\");\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            # do what user requested\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    if ( $result =~ / no/ ) {\u001b[0m", "    \u001b[37m+        return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    elsif ( $result =~ / yes/ ) {\u001b[0m", "    \u001b[37m+        return 1;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    else {\u001b[0m", "    \u001b[37m+        die(\"Can't parse output from apache2ctl -V:\
$result\
\");\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub info {\u001b[0m", "    \u001b[37m+    print @_ if !$quiet;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub error {\u001b[0m", "    \u001b[37m+    print STDERR 'ERROR: ', @_;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub warning {\u001b[0m", "    \u001b[37m+    print STDERR 'WARNING: ', @_;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub is_in {\u001b[0m", "    \u001b[37m+    my $needle = shift;\u001b[0m", "    \u001b[37m+    foreach my $e (@_) {\u001b[0m", "    \u001b[37m+        return 1 if $needle eq $e;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return 0;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub read_env_file {\u001b[0m", "    \u001b[37m+    my $file = shift;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    -r $file or return;\u001b[0m", "    \u001b[37m+    my @lines = qx{env - sh -c '. $file && env'};\u001b[0m", "    \u001b[37m+    if ($?) {\u001b[0m", "    \u001b[37m+        die \"Could not read $file\
\";\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    foreach my $l (@lines) {\u001b[0m", "    \u001b[37m+        chomp $l;\u001b[0m", "    \u001b[37m+        $l =~ /^(.*)?=(.*)$/ or die \"Could not parse $file\
\";\u001b[0m", "    \u001b[37m+        $ENV{$1} = $2;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub switch_marker {\u001b[0m", "    \u001b[37m+    die('usage: switch_marker([module|site|conf], [enable|disable], $name)')\u001b[0m", "    \u001b[37m+        if @_ != 3;\u001b[0m", "    \u001b[37m+    my $which = shift;\u001b[0m", "    \u001b[37m+    my $what  = shift;\u001b[0m", "    \u001b[37m+    my $name  = shift;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my $mode = \"admin\";\u001b[0m", "    \u001b[37m+    $mode = \"maint\" if $maintmode;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    #print(\"switch_marker $which $what $name\
\");\u001b[0m", "    \u001b[37m+    # TODO: get rid of the magic string(s)\u001b[0m", "    \u001b[37m+    my $state_marker_dir = \"$statedir/$what\" . \"d\" . \"_by_$mode\";\u001b[0m", "    \u001b[37m+    my $state_marker     = \"$state_marker_dir/$name\";\u001b[0m", "    \u001b[37m+    if ( !-d $state_marker_dir ) {\u001b[0m", "    \u001b[37m+        File::Path::mkpath(\"$state_marker_dir\")\u001b[0m", "    \u001b[37m+            || error(\u001b[0m", "    \u001b[37m+            \"Failed to create marker directory: '$state_marker_dir'\
\");\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    # XXX: swap find with perl alternative\u001b[0m", "    \u001b[37m+    my @markers = qx{find \"$statedir\" -type f -a -name \"$name\"};\u001b[0m", "    \u001b[37m+    chomp(@markers);\u001b[0m", "    \u001b[37m+    foreach (@markers) {\u001b[0m", "    \u001b[37m+        unless ( unlink $_ ) {\u001b[0m", "    \u001b[37m+            error(\"Failed to remove old marker '$_'!\
\") && return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    unless ($purge) {\u001b[0m", "    \u001b[37m+        qx{touch \"$state_marker\"};\u001b[0m", "    \u001b[37m+        if ( $? != 0 ) {\u001b[0m", "    \u001b[37m+            error(\"Failed to create marker '$state_marker'!\
\") && return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        return 1;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+# vim: syntax=perl sw=4 sts=4 sr et\u001b[0m", "    \u001b[32m- change mode from '' to '0700'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0m  * link[/usr/sbin/a2dissite] action delete (skipped due to only_if)", "  * template[/usr/sbin/a2dissite] action create", "    \u001b[32m- create new file /usr/sbin/a2dissite\u001b[0m", "    \u001b[32m- update content in file /usr/sbin/a2dissite from none to 0556b3\u001b[0m", "    \u001b[37m--- /usr/sbin/a2dissite\t2019-04-26 14:50:56.266801917 +0000\u001b[0m", "    \u001b[37m+++ /usr/sbin/.chef-a2dissite20190426-67198-khdjvf\t2019-04-26 14:50:56.266801917 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,533 @@\u001b[0m", "    \u001b[37m+#!/usr/bin/perl -w\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# a2enmod by Stefan Fritsch <sf@debian.org>\u001b[0m", "    \u001b[37m+# Licensed under Apache License 2.0\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# The coding style is \"perltidy -pbp\"\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+use strict;\u001b[0m", "    \u001b[37m+use Cwd 'realpath';\u001b[0m", "    \u001b[37m+use File::Spec;\u001b[0m", "    \u001b[37m+use File::Basename;\u001b[0m", "    \u001b[37m+use File::Path;\u001b[0m", "    \u001b[37m+use Getopt::Long;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $quiet;\u001b[0m", "    \u001b[37m+my $force;\u001b[0m", "    \u001b[37m+my $maintmode;\u001b[0m", "    \u001b[37m+my $purge;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+Getopt::Long::Configure('bundling');\u001b[0m", "    \u001b[37m+GetOptions(\u001b[0m", "    \u001b[37m+    'quiet|q'     => \\$quiet,\u001b[0m", "    \u001b[37m+    'force|f'     => \\$force,\u001b[0m", "    \u001b[37m+    'maintmode|m' => \\$maintmode,\u001b[0m", "    \u001b[37m+    'purge|p'     => \\$purge\u001b[0m", "    \u001b[37m+) or exit 2;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $basename = basename($0);\u001b[0m", "    \u001b[37m+$basename =~ /^a2(en|dis)(mod|site|conf)((?:-.+)?)$/\u001b[0m", "    \u001b[37m+    or die \"$basename call name unknown\
\";\u001b[0m", "    \u001b[37m+my $act        = $1;\u001b[0m", "    \u001b[37m+my $obj        = $2;\u001b[0m", "    \u001b[37m+my $dir_suffix = $3;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $env_file = $ENV{APACHE_ENVVARS}\u001b[0m", "    \u001b[37m+    || (\u001b[0m", "    \u001b[37m+    $ENV{APACHE_CONFDIR}\u001b[0m", "    \u001b[37m+    ? \"$ENV{APACHE_CONFDIR}/envvars\"\u001b[0m", "    \u001b[37m+    : \"/etc/httpd$dir_suffix/envvars\"\u001b[0m", "    \u001b[37m+    );\u001b[0m", "    \u001b[37m+$ENV{LANG} = 'C';\u001b[0m", "    \u001b[37m+read_env_file($env_file);\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+$act .= 'able';\u001b[0m", "    \u001b[37m+my ( $name, $dir, $sffx, $reload );\u001b[0m", "    \u001b[37m+if ( $obj eq 'mod' ) {\u001b[0m", "    \u001b[37m+    $obj    = 'module';\u001b[0m", "    \u001b[37m+    $dir    = 'mods';\u001b[0m", "    \u001b[37m+    $sffx   = '.load';\u001b[0m", "    \u001b[37m+    $reload = 'restart';\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+elsif ( $obj eq 'conf' ) {\u001b[0m", "    \u001b[37m+    $obj    = 'conf';\u001b[0m", "    \u001b[37m+    $dir    = 'conf';\u001b[0m", "    \u001b[37m+    $sffx   = '.conf';\u001b[0m", "    \u001b[37m+    $reload = 'reload';\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+else {\u001b[0m", "    \u001b[37m+    $dir    = 'sites';\u001b[0m", "    \u001b[37m+    $sffx   = '.conf';\u001b[0m", "    \u001b[37m+    $reload = 'reload';\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+$name = ucfirst($obj);\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $confdir = $ENV{APACHE_CONFDIR} || \"/etc/httpd$dir_suffix\";\u001b[0m", "    \u001b[37m+my $availdir = $ENV{ uc(\"APACHE_${dir}_AVAILABLE\") }\u001b[0m", "    \u001b[37m+    || \"$confdir/$dir-available\";\u001b[0m", "    \u001b[37m+my $enabldir = $ENV{ uc(\"APACHE_${dir}_ENABLED\") } || \"$confdir/$dir-enabled\";\u001b[0m", "    \u001b[37m+my $statedir = $ENV{ uc(\"APACHE_STATE_DIRECTORY\") } || \"/usr/lib64/httpd\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+$statedir .= \"/$obj\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $choicedir = $act eq 'enable' ? $availdir : $enabldir;\u001b[0m", "    \u001b[37m+my $linkdir = File::Spec->abs2rel( $availdir, $enabldir );\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $request_reload = 0;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $rc = 0;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+if ( !scalar @ARGV ) {\u001b[0m", "    \u001b[37m+    my @choices = myglob('*');\u001b[0m", "    \u001b[37m+    print \"Your choices are: @choices\
\";\u001b[0m", "    \u001b[37m+    print \"Which ${obj}(s) do you want to $act (wildcards ok)?\
\";\u001b[0m", "    \u001b[37m+    my $input = <>;\u001b[0m", "    \u001b[37m+    @ARGV = split /\\s+/, $input;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my @objs;\u001b[0m", "    \u001b[37m+foreach my $arg (@ARGV) {\u001b[0m", "    \u001b[37m+    $arg =~ s/${sffx}$//;\u001b[0m", "    \u001b[37m+    my @glob = myglob($arg);\u001b[0m", "    \u001b[37m+    if ( !@glob ) {\u001b[0m", "    \u001b[37m+        error(\"No $obj found matching $arg!\
\");\u001b[0m", "    \u001b[37m+        $rc = 1;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    else {\u001b[0m", "    \u001b[37m+        push @objs, @glob;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+foreach my $acton (@objs) {\u001b[0m", "    \u001b[37m+    doit($acton) or $rc = 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+info(\u001b[0m", "    \u001b[37m+    \"To activate the new configuration, you need to run:\
  service apache2 $reload\
\"\u001b[0m", "    \u001b[37m+) if $request_reload;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+exit($rc);\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+##############################################################################\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub myglob {\u001b[0m", "    \u001b[37m+    my $arg = shift;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my @glob = map {\u001b[0m", "    \u001b[37m+        s{^$choicedir/}{};\u001b[0m", "    \u001b[37m+        s{$sffx$}{};\u001b[0m", "    \u001b[37m+        $_\u001b[0m", "    \u001b[37m+    } glob(\"$choicedir/$arg$sffx\");\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    return @glob;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub doit {\u001b[0m", "    \u001b[37m+    my $acton = shift;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my ( $conftgt, $conflink );\u001b[0m", "    \u001b[37m+    if ( $obj eq 'module' ) {\u001b[0m", "    \u001b[37m+        if ( $acton eq 'cgi' && threaded() ) {\u001b[0m", "    \u001b[37m+            print\u001b[0m", "    \u001b[37m+                \"Your MPM seems to be threaded. Selecting cgid instead of cgi.\
\";\u001b[0m", "    \u001b[37m+            $acton = 'cgid';\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        $conftgt = \"$availdir/$acton.conf\";\u001b[0m", "    \u001b[37m+        if ( -e $conftgt ) {\u001b[0m", "    \u001b[37m+            $conflink = \"$enabldir/$acton.conf\";\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my $tgt  = \"$availdir/$acton$sffx\";\u001b[0m", "    \u001b[37m+    my $link = \"$enabldir/$acton$sffx\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( !-e $tgt ) {\u001b[0m", "    \u001b[37m+        if ( -l $link && !-e $link ) {\u001b[0m", "    \u001b[37m+            if ( $act eq 'disable' ) {\u001b[0m", "    \u001b[37m+                info(\"removing dangling symlink $link\
\");\u001b[0m", "    \u001b[37m+                unlink($link);\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                # force a .conf path. It may exist as dangling link, too\u001b[0m", "    \u001b[37m+                $conflink = \"$enabldir/$acton.conf\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                if ( -l $conflink && !-e $conflink ) {\u001b[0m", "    \u001b[37m+                    info(\"removing dangling symlink $conflink\
\");\u001b[0m", "    \u001b[37m+                    unlink($conflink);\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                return 1;\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            else {\u001b[0m", "    \u001b[37m+                error(\"$link is a dangling symlink!\
\");\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        if ( $purge ) {\u001b[0m", "    \u001b[37m+            switch_marker( $obj, $act, $acton );\u001b[0m", "    \u001b[37m+            # exit silently, we are purging anyway\u001b[0m", "    \u001b[37m+            return 1;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        error(\"$name $acton does not exist!\
\");\u001b[0m", "    \u001b[37m+        return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    # handle module dependencies\u001b[0m", "    \u001b[37m+    if ( $obj eq 'module' ) {\u001b[0m", "    \u001b[37m+        if ( $act eq 'enable' ) {\u001b[0m", "    \u001b[37m+            if ( $acton eq 'mpm_itk' ) {\u001b[0m", "    \u001b[37m+                warning(  \"MPM_ITK is a third party module that is not part \"\u001b[0m", "    \u001b[37m+                        . \"of the official Apache HTTPD. It has seen less \"\u001b[0m", "    \u001b[37m+                        . \"testing than the official MPM modules.\" );\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            my @depends = get_deps(\"$availdir/$acton.load\");\u001b[0m", "    \u001b[37m+            do_deps( $acton, @depends ) or return 0;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            my @conflicts = get_deps( \"$availdir/$acton.load\", \"Conflicts\" );\u001b[0m", "    \u001b[37m+            check_conflicts( $acton, @conflicts ) or return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        else {\u001b[0m", "    \u001b[37m+            my @depending;\u001b[0m", "    \u001b[37m+            foreach my $d ( glob(\"$enabldir/*.load\") ) {\u001b[0m", "    \u001b[37m+                my @deps = get_deps($d);\u001b[0m", "    \u001b[37m+                if ( is_in( $acton, @deps ) ) {\u001b[0m", "    \u001b[37m+                    $d =~ m,/([^/]+).load$,;\u001b[0m", "    \u001b[37m+                    push @depending, $1;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            if ( scalar @depending ) {\u001b[0m", "    \u001b[37m+                if ($force) {\u001b[0m", "    \u001b[37m+                    do_deps( $acton, @depending ) or return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+                else {\u001b[0m", "    \u001b[37m+                    error(\u001b[0m", "    \u001b[37m+                        \"The following modules depend on $acton \",\u001b[0m", "    \u001b[37m+                        \"and need to be disabled first: @depending\
\"\u001b[0m", "    \u001b[37m+                    );\u001b[0m", "    \u001b[37m+                    return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    elsif ( $act eq 'enable' ) {\u001b[0m", "    \u001b[37m+        my @depends = get_deps(\"$availdir/$acton$sffx\");\u001b[0m", "    \u001b[37m+        warn_deps( $acton, @depends ) or return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( $act eq 'enable' ) {\u001b[0m", "    \u001b[37m+        my $check = check_link( $tgt, $link );\u001b[0m", "    \u001b[37m+        if ( $check eq 'ok' ) {\u001b[0m", "    \u001b[37m+            if ($conflink) {\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                # handle .conf file\u001b[0m", "    \u001b[37m+                my $confcheck = check_link( $conftgt, $conflink );\u001b[0m", "    \u001b[37m+                if ( $confcheck eq 'ok' ) {\u001b[0m", "    \u001b[37m+                    info(\"$name $acton already enabled\
\");\u001b[0m", "    \u001b[37m+                    return 1;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+                elsif ( $confcheck eq 'missing' ) {\u001b[0m", "    \u001b[37m+                    print \"Enabling config file $acton.conf.\
\";\u001b[0m", "    \u001b[37m+                    add_link( $conftgt, $conflink ) or return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+                else {\u001b[0m", "    \u001b[37m+                    error(\u001b[0m", "    \u001b[37m+                        \"Config file $acton.conf not properly enabled: $confcheck\
\"\u001b[0m", "    \u001b[37m+                    );\u001b[0m", "    \u001b[37m+                    return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            else {\u001b[0m", "    \u001b[37m+                info(\"$name $acton already enabled\
\");\u001b[0m", "    \u001b[37m+                return 1;\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        elsif ( $check eq 'missing' ) {\u001b[0m", "    \u001b[37m+            if ($conflink) {\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                # handle .conf file\u001b[0m", "    \u001b[37m+                my $confcheck = check_link( $conftgt, $conflink );\u001b[0m", "    \u001b[37m+                if ( $confcheck eq 'missing' ) {\u001b[0m", "    \u001b[37m+                    add_link( $conftgt, $conflink ) or return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+                elsif ( $confcheck ne 'ok' ) {\u001b[0m", "    \u001b[37m+                    error(\u001b[0m", "    \u001b[37m+                        \"Config file $acton.conf not properly enabled: $confcheck\
\"\u001b[0m", "    \u001b[37m+                    );\u001b[0m", "    \u001b[37m+                    return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            print \"Enabling $obj $acton.\
\";\u001b[0m", "    \u001b[37m+            if ( $acton eq 'ssl' ) {\u001b[0m", "    \u001b[37m+                info(     \"See /usr/share/doc/apache2/README.Debian.gz on \"\u001b[0m", "    \u001b[37m+                        . \"how to configure SSL and create self-signed certificates.\
\"\u001b[0m", "    \u001b[37m+                );\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            return add_link( $tgt, $link )\u001b[0m", "    \u001b[37m+                && switch_marker( $obj, $act, $acton );\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        else {\u001b[0m", "    \u001b[37m+            error(\"$name $acton not properly enabled: $check\
\");\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    else {\u001b[0m", "    \u001b[37m+        if ( -e $link || -l $link ) {\u001b[0m", "    \u001b[37m+            remove_link($link);\u001b[0m", "    \u001b[37m+            if ( $conflink && -e $conflink ) {\u001b[0m", "    \u001b[37m+                remove_link($conflink);\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            switch_marker( $obj, $act, $acton );\u001b[0m", "    \u001b[37m+            print \"$name $acton disabled.\
\";\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        elsif ( $conflink && -e $conflink ) {\u001b[0m", "    \u001b[37m+            print \"Disabling stale config file $acton.conf.\
\";\u001b[0m", "    \u001b[37m+            remove_link($conflink);\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        else {\u001b[0m", "    \u001b[37m+            info(\"$name $acton already disabled\
\");\u001b[0m", "    \u001b[37m+            if ( $purge ) {\u001b[0m", "    \u001b[37m+                switch_marker( $obj, $act, $acton );\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            return 1;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub get_deps {\u001b[0m", "    \u001b[37m+    my $file = shift;\u001b[0m", "    \u001b[37m+    my $type = shift || \"Depends\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my $fd;\u001b[0m", "    \u001b[37m+    if ( !open( $fd, '<', $file ) ) {\u001b[0m", "    \u001b[37m+        error(\"Can't open $file: $!\");\u001b[0m", "    \u001b[37m+        return;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    my $line;\u001b[0m", "    \u001b[37m+    while ( defined( $line = <$fd> ) ) {\u001b[0m", "    \u001b[37m+        chomp $line;\u001b[0m", "    \u001b[37m+        if ( $line =~ /^# $type:\\s+(.*?)\\s*$/ ) {\u001b[0m", "    \u001b[37m+            my $deps = $1;\u001b[0m", "    \u001b[37m+            return split( /[\
\\s]+/, $deps );\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        # only check until the first non-empty non-comment line\u001b[0m", "    \u001b[37m+        last if ( $line !~ /^\\s*(?:#.*)?$/ );\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub do_deps {\u001b[0m", "    \u001b[37m+    my $acton = shift;\u001b[0m", "    \u001b[37m+    foreach my $d (@_) {\u001b[0m", "    \u001b[37m+        info(\"Considering dependency $d for $acton:\
\");\u001b[0m", "    \u001b[37m+        if ( !doit($d) ) {\u001b[0m", "    \u001b[37m+            error(\"Could not $act dependency $d for $acton, aborting\
\");\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub warn_deps {\u001b[0m", "    \u001b[37m+    my $acton = shift;\u001b[0m", "    \u001b[37m+    my $modsenabldir = $ENV{APACHE_MODS_ENABLED} || \"$confdir/mods-enabled\";\u001b[0m", "    \u001b[37m+    foreach my $d (@_) {\u001b[0m", "    \u001b[37m+        info(\"Checking dependency $d for $acton:\
\");\u001b[0m", "    \u001b[37m+        if ( !-e \"$modsenabldir/$d.load\" ) {\u001b[0m", "    \u001b[37m+            warning(\u001b[0m", "    \u001b[37m+                \"Module $d is not enabled, but $acton depends on it, aborting\
\"\u001b[0m", "    \u001b[37m+            );\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub check_conflicts {\u001b[0m", "    \u001b[37m+    my $acton    = shift;\u001b[0m", "    \u001b[37m+    my $haderror = 0;\u001b[0m", "    \u001b[37m+    foreach my $d (@_) {\u001b[0m", "    \u001b[37m+        info(\"Considering conflict $d for $acton:\
\");\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        my $tgt  = \"$availdir/$d$sffx\";\u001b[0m", "    \u001b[37m+        my $link = \"$enabldir/$d$sffx\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        my $confcheck = check_link( $tgt, $link );\u001b[0m", "    \u001b[37m+        if ( $confcheck eq 'ok' ) {\u001b[0m", "    \u001b[37m+            error(\u001b[0m", "    \u001b[37m+                \"Module $d is enabled - cannot proceed due to conflicts. It needs to be disabled first!\
\"\u001b[0m", "    \u001b[37m+            );\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            # Don't return immediately, there could be several conflicts\u001b[0m", "    \u001b[37m+            $haderror++;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ($haderror) {\u001b[0m", "    \u001b[37m+        return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub add_link {\u001b[0m", "    \u001b[37m+    my ( $tgt, $link ) = @_;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    # create relative link\u001b[0m", "    \u001b[37m+    if ( !symlink( File::Spec->abs2rel( $tgt, dirname($link) ), $link ) ) {\u001b[0m", "    \u001b[37m+        die(\"Could not create $link: $!\
\");\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    $request_reload = 1;\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub check_link {\u001b[0m", "    \u001b[37m+    my ( $tgt, $link ) = @_;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( !-e $link ) {\u001b[0m", "    \u001b[37m+        if ( -l $link ) {\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            # points to nowhere\u001b[0m", "    \u001b[37m+            info(\"Removing dangling link $link\");\u001b[0m", "    \u001b[37m+            unlink($link) or die \"Could not remove $link\
\";\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        return 'missing';\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( -e $link && !-l $link ) {\u001b[0m", "    \u001b[37m+        return \"$link is a real file, not touching it\";\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    if ( realpath($link) ne realpath($tgt) ) {\u001b[0m", "    \u001b[37m+        return \"$link exists but does not point to $tgt, not touching it\";\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return 'ok';\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub remove_link {\u001b[0m", "    \u001b[37m+    my ($link) = @_;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( -l $link ) {\u001b[0m", "    \u001b[37m+        unlink($link) or die \"Could not remove $link: $!\
\";\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    elsif ( -e $link ) {\u001b[0m", "    \u001b[37m+        error(\"$link is not a symbolic link, not deleting\
\");\u001b[0m", "    \u001b[37m+        return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    $request_reload = 1;\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub threaded {\u001b[0m", "    \u001b[37m+    my $result = \"\";\u001b[0m", "    \u001b[37m+    $result = qx{/usr/sbin/apachectl -V | grep 'threaded'}\u001b[0m", "    \u001b[37m+        if -x '/usr/sbin/apachectl';\u001b[0m", "    \u001b[37m+    if ( $? != 0 ) {\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        # config doesn't work\u001b[0m", "    \u001b[37m+        if ( -e \"$enabldir/mpm_prefork.load\" || -e \"$enabldir/mpm_itk.load\" )\u001b[0m", "    \u001b[37m+        {\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        elsif (-e \"$enabldir/mpm_worker.load\"\u001b[0m", "    \u001b[37m+            || -e \"$enabldir/mpm_event.load\" )\u001b[0m", "    \u001b[37m+        {\u001b[0m", "    \u001b[37m+            return 1;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        else {\u001b[0m", "    \u001b[37m+            error(\"Can't determine enabled MPM\");\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            # do what user requested\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    if ( $result =~ / no/ ) {\u001b[0m", "    \u001b[37m+        return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    elsif ( $result =~ / yes/ ) {\u001b[0m", "    \u001b[37m+        return 1;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    else {\u001b[0m", "    \u001b[37m+        die(\"Can't parse output from apache2ctl -V:\
$result\
\");\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub info {\u001b[0m", "    \u001b[37m+    print @_ if !$quiet;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub error {\u001b[0m", "    \u001b[37m+    print STDERR 'ERROR: ', @_;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub warning {\u001b[0m", "    \u001b[37m+    print STDERR 'WARNING: ', @_;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub is_in {\u001b[0m", "    \u001b[37m+    my $needle = shift;\u001b[0m", "    \u001b[37m+    foreach my $e (@_) {\u001b[0m", "    \u001b[37m+        return 1 if $needle eq $e;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return 0;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub read_env_file {\u001b[0m", "    \u001b[37m+    my $file = shift;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    -r $file or return;\u001b[0m", "    \u001b[37m+    my @lines = qx{env - sh -c '. $file && env'};\u001b[0m", "    \u001b[37m+    if ($?) {\u001b[0m", "    \u001b[37m+        die \"Could not read $file\
\";\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    foreach my $l (@lines) {\u001b[0m", "    \u001b[37m+        chomp $l;\u001b[0m", "    \u001b[37m+        $l =~ /^(.*)?=(.*)$/ or die \"Could not parse $file\
\";\u001b[0m", "    \u001b[37m+        $ENV{$1} = $2;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub switch_marker {\u001b[0m", "    \u001b[37m+    die('usage: switch_marker([module|site|conf], [enable|disable], $name)')\u001b[0m", "    \u001b[37m+        if @_ != 3;\u001b[0m", "    \u001b[37m+    my $which = shift;\u001b[0m", "    \u001b[37m+    my $what  = shift;\u001b[0m", "    \u001b[37m+    my $name  = shift;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my $mode = \"admin\";\u001b[0m", "    \u001b[37m+    $mode = \"maint\" if $maintmode;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    #print(\"switch_marker $which $what $name\
\");\u001b[0m", "    \u001b[37m+    # TODO: get rid of the magic string(s)\u001b[0m", "    \u001b[37m+    my $state_marker_dir = \"$statedir/$what\" . \"d\" . \"_by_$mode\";\u001b[0m", "    \u001b[37m+    my $state_marker     = \"$state_marker_dir/$name\";\u001b[0m", "    \u001b[37m+    if ( !-d $state_marker_dir ) {\u001b[0m", "    \u001b[37m+        File::Path::mkpath(\"$state_marker_dir\")\u001b[0m", "    \u001b[37m+            || error(\u001b[0m", "    \u001b[37m+            \"Failed to create marker directory: '$state_marker_dir'\
\");\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    # XXX: swap find with perl alternative\u001b[0m", "    \u001b[37m+    my @markers = qx{find \"$statedir\" -type f -a -name \"$name\"};\u001b[0m", "    \u001b[37m+    chomp(@markers);\u001b[0m", "    \u001b[37m+    foreach (@markers) {\u001b[0m", "    \u001b[37m+        unless ( unlink $_ ) {\u001b[0m", "    \u001b[37m+            error(\"Failed to remove old marker '$_'!\
\") && return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    unless ($purge) {\u001b[0m", "    \u001b[37m+        qx{touch \"$state_marker\"};\u001b[0m", "    \u001b[37m+        if ( $? != 0 ) {\u001b[0m", "    \u001b[37m+            error(\"Failed to create marker '$state_marker'!\
\") && return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        return 1;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+# vim: syntax=perl sw=4 sts=4 sr et\u001b[0m", "    \u001b[32m- change mode from '' to '0700'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0m  * link[/usr/sbin/a2enmod] action delete (skipped due to only_if)", "  * template[/usr/sbin/a2enmod] action create", "    \u001b[32m- create new file /usr/sbin/a2enmod\u001b[0m", "    \u001b[32m- update content in file /usr/sbin/a2enmod from none to 0556b3\u001b[0m", "    \u001b[37m--- /usr/sbin/a2enmod\t2019-04-26 14:50:56.281802459 +0000\u001b[0m", "    \u001b[37m+++ /usr/sbin/.chef-a2enmod20190426-67198-1bpamit\t2019-04-26 14:50:56.281802459 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,533 @@\u001b[0m", "    \u001b[37m+#!/usr/bin/perl -w\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# a2enmod by Stefan Fritsch <sf@debian.org>\u001b[0m", "    \u001b[37m+# Licensed under Apache License 2.0\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# The coding style is \"perltidy -pbp\"\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+use strict;\u001b[0m", "    \u001b[37m+use Cwd 'realpath';\u001b[0m", "    \u001b[37m+use File::Spec;\u001b[0m", "    \u001b[37m+use File::Basename;\u001b[0m", "    \u001b[37m+use File::Path;\u001b[0m", "    \u001b[37m+use Getopt::Long;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $quiet;\u001b[0m", "    \u001b[37m+my $force;\u001b[0m", "    \u001b[37m+my $maintmode;\u001b[0m", "    \u001b[37m+my $purge;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+Getopt::Long::Configure('bundling');\u001b[0m", "    \u001b[37m+GetOptions(\u001b[0m", "    \u001b[37m+    'quiet|q'     => \\$quiet,\u001b[0m", "    \u001b[37m+    'force|f'     => \\$force,\u001b[0m", "    \u001b[37m+    'maintmode|m' => \\$maintmode,\u001b[0m", "    \u001b[37m+    'purge|p'     => \\$purge\u001b[0m", "    \u001b[37m+) or exit 2;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $basename = basename($0);\u001b[0m", "    \u001b[37m+$basename =~ /^a2(en|dis)(mod|site|conf)((?:-.+)?)$/\u001b[0m", "    \u001b[37m+    or die \"$basename call name unknown\
\";\u001b[0m", "    \u001b[37m+my $act        = $1;\u001b[0m", "    \u001b[37m+my $obj        = $2;\u001b[0m", "    \u001b[37m+my $dir_suffix = $3;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $env_file = $ENV{APACHE_ENVVARS}\u001b[0m", "    \u001b[37m+    || (\u001b[0m", "    \u001b[37m+    $ENV{APACHE_CONFDIR}\u001b[0m", "    \u001b[37m+    ? \"$ENV{APACHE_CONFDIR}/envvars\"\u001b[0m", "    \u001b[37m+    : \"/etc/httpd$dir_suffix/envvars\"\u001b[0m", "    \u001b[37m+    );\u001b[0m", "    \u001b[37m+$ENV{LANG} = 'C';\u001b[0m", "    \u001b[37m+read_env_file($env_file);\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+$act .= 'able';\u001b[0m", "    \u001b[37m+my ( $name, $dir, $sffx, $reload );\u001b[0m", "    \u001b[37m+if ( $obj eq 'mod' ) {\u001b[0m", "    \u001b[37m+    $obj    = 'module';\u001b[0m", "    \u001b[37m+    $dir    = 'mods';\u001b[0m", "    \u001b[37m+    $sffx   = '.load';\u001b[0m", "    \u001b[37m+    $reload = 'restart';\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+elsif ( $obj eq 'conf' ) {\u001b[0m", "    \u001b[37m+    $obj    = 'conf';\u001b[0m", "    \u001b[37m+    $dir    = 'conf';\u001b[0m", "    \u001b[37m+    $sffx   = '.conf';\u001b[0m", "    \u001b[37m+    $reload = 'reload';\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+else {\u001b[0m", "    \u001b[37m+    $dir    = 'sites';\u001b[0m", "    \u001b[37m+    $sffx   = '.conf';\u001b[0m", "    \u001b[37m+    $reload = 'reload';\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+$name = ucfirst($obj);\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $confdir = $ENV{APACHE_CONFDIR} || \"/etc/httpd$dir_suffix\";\u001b[0m", "    \u001b[37m+my $availdir = $ENV{ uc(\"APACHE_${dir}_AVAILABLE\") }\u001b[0m", "    \u001b[37m+    || \"$confdir/$dir-available\";\u001b[0m", "    \u001b[37m+my $enabldir = $ENV{ uc(\"APACHE_${dir}_ENABLED\") } || \"$confdir/$dir-enabled\";\u001b[0m", "    \u001b[37m+my $statedir = $ENV{ uc(\"APACHE_STATE_DIRECTORY\") } || \"/usr/lib64/httpd\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+$statedir .= \"/$obj\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $choicedir = $act eq 'enable' ? $availdir : $enabldir;\u001b[0m", "    \u001b[37m+my $linkdir = File::Spec->abs2rel( $availdir, $enabldir );\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $request_reload = 0;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $rc = 0;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+if ( !scalar @ARGV ) {\u001b[0m", "    \u001b[37m+    my @choices = myglob('*');\u001b[0m", "    \u001b[37m+    print \"Your choices are: @choices\
\";\u001b[0m", "    \u001b[37m+    print \"Which ${obj}(s) do you want to $act (wildcards ok)?\
\";\u001b[0m", "    \u001b[37m+    my $input = <>;\u001b[0m", "    \u001b[37m+    @ARGV = split /\\s+/, $input;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my @objs;\u001b[0m", "    \u001b[37m+foreach my $arg (@ARGV) {\u001b[0m", "    \u001b[37m+    $arg =~ s/${sffx}$//;\u001b[0m", "    \u001b[37m+    my @glob = myglob($arg);\u001b[0m", "    \u001b[37m+    if ( !@glob ) {\u001b[0m", "    \u001b[37m+        error(\"No $obj found matching $arg!\
\");\u001b[0m", "    \u001b[37m+        $rc = 1;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    else {\u001b[0m", "    \u001b[37m+        push @objs, @glob;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+foreach my $acton (@objs) {\u001b[0m", "    \u001b[37m+    doit($acton) or $rc = 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+info(\u001b[0m", "    \u001b[37m+    \"To activate the new configuration, you need to run:\
  service apache2 $reload\
\"\u001b[0m", "    \u001b[37m+) if $request_reload;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+exit($rc);\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+##############################################################################\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub myglob {\u001b[0m", "    \u001b[37m+    my $arg = shift;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my @glob = map {\u001b[0m", "    \u001b[37m+        s{^$choicedir/}{};\u001b[0m", "    \u001b[37m+        s{$sffx$}{};\u001b[0m", "    \u001b[37m+        $_\u001b[0m", "    \u001b[37m+    } glob(\"$choicedir/$arg$sffx\");\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    return @glob;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub doit {\u001b[0m", "    \u001b[37m+    my $acton = shift;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my ( $conftgt, $conflink );\u001b[0m", "    \u001b[37m+    if ( $obj eq 'module' ) {\u001b[0m", "    \u001b[37m+        if ( $acton eq 'cgi' && threaded() ) {\u001b[0m", "    \u001b[37m+            print\u001b[0m", "    \u001b[37m+                \"Your MPM seems to be threaded. Selecting cgid instead of cgi.\
\";\u001b[0m", "    \u001b[37m+            $acton = 'cgid';\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        $conftgt = \"$availdir/$acton.conf\";\u001b[0m", "    \u001b[37m+        if ( -e $conftgt ) {\u001b[0m", "    \u001b[37m+            $conflink = \"$enabldir/$acton.conf\";\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my $tgt  = \"$availdir/$acton$sffx\";\u001b[0m", "    \u001b[37m+    my $link = \"$enabldir/$acton$sffx\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( !-e $tgt ) {\u001b[0m", "    \u001b[37m+        if ( -l $link && !-e $link ) {\u001b[0m", "    \u001b[37m+            if ( $act eq 'disable' ) {\u001b[0m", "    \u001b[37m+                info(\"removing dangling symlink $link\
\");\u001b[0m", "    \u001b[37m+                unlink($link);\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                # force a .conf path. It may exist as dangling link, too\u001b[0m", "    \u001b[37m+                $conflink = \"$enabldir/$acton.conf\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                if ( -l $conflink && !-e $conflink ) {\u001b[0m", "    \u001b[37m+                    info(\"removing dangling symlink $conflink\
\");\u001b[0m", "    \u001b[37m+                    unlink($conflink);\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                return 1;\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            else {\u001b[0m", "    \u001b[37m+                error(\"$link is a dangling symlink!\
\");\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        if ( $purge ) {\u001b[0m", "    \u001b[37m+            switch_marker( $obj, $act, $acton );\u001b[0m", "    \u001b[37m+            # exit silently, we are purging anyway\u001b[0m", "    \u001b[37m+            return 1;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        error(\"$name $acton does not exist!\
\");\u001b[0m", "    \u001b[37m+        return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    # handle module dependencies\u001b[0m", "    \u001b[37m+    if ( $obj eq 'module' ) {\u001b[0m", "    \u001b[37m+        if ( $act eq 'enable' ) {\u001b[0m", "    \u001b[37m+            if ( $acton eq 'mpm_itk' ) {\u001b[0m", "    \u001b[37m+                warning(  \"MPM_ITK is a third party module that is not part \"\u001b[0m", "    \u001b[37m+                        . \"of the official Apache HTTPD. It has seen less \"\u001b[0m", "    \u001b[37m+                        . \"testing than the official MPM modules.\" );\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            my @depends = get_deps(\"$availdir/$acton.load\");\u001b[0m", "    \u001b[37m+            do_deps( $acton, @depends ) or return 0;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            my @conflicts = get_deps( \"$availdir/$acton.load\", \"Conflicts\" );\u001b[0m", "    \u001b[37m+            check_conflicts( $acton, @conflicts ) or return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        else {\u001b[0m", "    \u001b[37m+            my @depending;\u001b[0m", "    \u001b[37m+            foreach my $d ( glob(\"$enabldir/*.load\") ) {\u001b[0m", "    \u001b[37m+                my @deps = get_deps($d);\u001b[0m", "    \u001b[37m+                if ( is_in( $acton, @deps ) ) {\u001b[0m", "    \u001b[37m+                    $d =~ m,/([^/]+).load$,;\u001b[0m", "    \u001b[37m+                    push @depending, $1;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            if ( scalar @depending ) {\u001b[0m", "    \u001b[37m+                if ($force) {\u001b[0m", "    \u001b[37m+                    do_deps( $acton, @depending ) or return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+                else {\u001b[0m", "    \u001b[37m+                    error(\u001b[0m", "    \u001b[37m+                        \"The following modules depend on $acton \",\u001b[0m", "    \u001b[37m+                        \"and need to be disabled first: @depending\
\"\u001b[0m", "    \u001b[37m+                    );\u001b[0m", "    \u001b[37m+                    return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    elsif ( $act eq 'enable' ) {\u001b[0m", "    \u001b[37m+        my @depends = get_deps(\"$availdir/$acton$sffx\");\u001b[0m", "    \u001b[37m+        warn_deps( $acton, @depends ) or return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( $act eq 'enable' ) {\u001b[0m", "    \u001b[37m+        my $check = check_link( $tgt, $link );\u001b[0m", "    \u001b[37m+        if ( $check eq 'ok' ) {\u001b[0m", "    \u001b[37m+            if ($conflink) {\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                # handle .conf file\u001b[0m", "    \u001b[37m+                my $confcheck = check_link( $conftgt, $conflink );\u001b[0m", "    \u001b[37m+                if ( $confcheck eq 'ok' ) {\u001b[0m", "    \u001b[37m+                    info(\"$name $acton already enabled\
\");\u001b[0m", "    \u001b[37m+                    return 1;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+                elsif ( $confcheck eq 'missing' ) {\u001b[0m", "    \u001b[37m+                    print \"Enabling config file $acton.conf.\
\";\u001b[0m", "    \u001b[37m+                    add_link( $conftgt, $conflink ) or return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+                else {\u001b[0m", "    \u001b[37m+                    error(\u001b[0m", "    \u001b[37m+                        \"Config file $acton.conf not properly enabled: $confcheck\
\"\u001b[0m", "    \u001b[37m+                    );\u001b[0m", "    \u001b[37m+                    return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            else {\u001b[0m", "    \u001b[37m+                info(\"$name $acton already enabled\
\");\u001b[0m", "    \u001b[37m+                return 1;\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        elsif ( $check eq 'missing' ) {\u001b[0m", "    \u001b[37m+            if ($conflink) {\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                # handle .conf file\u001b[0m", "    \u001b[37m+                my $confcheck = check_link( $conftgt, $conflink );\u001b[0m", "    \u001b[37m+                if ( $confcheck eq 'missing' ) {\u001b[0m", "    \u001b[37m+                    add_link( $conftgt, $conflink ) or return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+                elsif ( $confcheck ne 'ok' ) {\u001b[0m", "    \u001b[37m+                    error(\u001b[0m", "    \u001b[37m+                        \"Config file $acton.conf not properly enabled: $confcheck\
\"\u001b[0m", "    \u001b[37m+                    );\u001b[0m", "    \u001b[37m+                    return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            print \"Enabling $obj $acton.\
\";\u001b[0m", "    \u001b[37m+            if ( $acton eq 'ssl' ) {\u001b[0m", "    \u001b[37m+                info(     \"See /usr/share/doc/apache2/README.Debian.gz on \"\u001b[0m", "    \u001b[37m+                        . \"how to configure SSL and create self-signed certificates.\
\"\u001b[0m", "    \u001b[37m+                );\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            return add_link( $tgt, $link )\u001b[0m", "    \u001b[37m+                && switch_marker( $obj, $act, $acton );\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        else {\u001b[0m", "    \u001b[37m+            error(\"$name $acton not properly enabled: $check\
\");\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    else {\u001b[0m", "    \u001b[37m+        if ( -e $link || -l $link ) {\u001b[0m", "    \u001b[37m+            remove_link($link);\u001b[0m", "    \u001b[37m+            if ( $conflink && -e $conflink ) {\u001b[0m", "    \u001b[37m+                remove_link($conflink);\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            switch_marker( $obj, $act, $acton );\u001b[0m", "    \u001b[37m+            print \"$name $acton disabled.\
\";\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        elsif ( $conflink && -e $conflink ) {\u001b[0m", "    \u001b[37m+            print \"Disabling stale config file $acton.conf.\
\";\u001b[0m", "    \u001b[37m+            remove_link($conflink);\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        else {\u001b[0m", "    \u001b[37m+            info(\"$name $acton already disabled\
\");\u001b[0m", "    \u001b[37m+            if ( $purge ) {\u001b[0m", "    \u001b[37m+                switch_marker( $obj, $act, $acton );\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            return 1;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub get_deps {\u001b[0m", "    \u001b[37m+    my $file = shift;\u001b[0m", "    \u001b[37m+    my $type = shift || \"Depends\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my $fd;\u001b[0m", "    \u001b[37m+    if ( !open( $fd, '<', $file ) ) {\u001b[0m", "    \u001b[37m+        error(\"Can't open $file: $!\");\u001b[0m", "    \u001b[37m+        return;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    my $line;\u001b[0m", "    \u001b[37m+    while ( defined( $line = <$fd> ) ) {\u001b[0m", "    \u001b[37m+        chomp $line;\u001b[0m", "    \u001b[37m+        if ( $line =~ /^# $type:\\s+(.*?)\\s*$/ ) {\u001b[0m", "    \u001b[37m+            my $deps = $1;\u001b[0m", "    \u001b[37m+            return split( /[\
\\s]+/, $deps );\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        # only check until the first non-empty non-comment line\u001b[0m", "    \u001b[37m+        last if ( $line !~ /^\\s*(?:#.*)?$/ );\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub do_deps {\u001b[0m", "    \u001b[37m+    my $acton = shift;\u001b[0m", "    \u001b[37m+    foreach my $d (@_) {\u001b[0m", "    \u001b[37m+        info(\"Considering dependency $d for $acton:\
\");\u001b[0m", "    \u001b[37m+        if ( !doit($d) ) {\u001b[0m", "    \u001b[37m+            error(\"Could not $act dependency $d for $acton, aborting\
\");\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub warn_deps {\u001b[0m", "    \u001b[37m+    my $acton = shift;\u001b[0m", "    \u001b[37m+    my $modsenabldir = $ENV{APACHE_MODS_ENABLED} || \"$confdir/mods-enabled\";\u001b[0m", "    \u001b[37m+    foreach my $d (@_) {\u001b[0m", "    \u001b[37m+        info(\"Checking dependency $d for $acton:\
\");\u001b[0m", "    \u001b[37m+        if ( !-e \"$modsenabldir/$d.load\" ) {\u001b[0m", "    \u001b[37m+            warning(\u001b[0m", "    \u001b[37m+                \"Module $d is not enabled, but $acton depends on it, aborting\
\"\u001b[0m", "    \u001b[37m+            );\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub check_conflicts {\u001b[0m", "    \u001b[37m+    my $acton    = shift;\u001b[0m", "    \u001b[37m+    my $haderror = 0;\u001b[0m", "    \u001b[37m+    foreach my $d (@_) {\u001b[0m", "    \u001b[37m+        info(\"Considering conflict $d for $acton:\
\");\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        my $tgt  = \"$availdir/$d$sffx\";\u001b[0m", "    \u001b[37m+        my $link = \"$enabldir/$d$sffx\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        my $confcheck = check_link( $tgt, $link );\u001b[0m", "    \u001b[37m+        if ( $confcheck eq 'ok' ) {\u001b[0m", "    \u001b[37m+            error(\u001b[0m", "    \u001b[37m+                \"Module $d is enabled - cannot proceed due to conflicts. It needs to be disabled first!\
\"\u001b[0m", "    \u001b[37m+            );\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            # Don't return immediately, there could be several conflicts\u001b[0m", "    \u001b[37m+            $haderror++;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ($haderror) {\u001b[0m", "    \u001b[37m+        return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub add_link {\u001b[0m", "    \u001b[37m+    my ( $tgt, $link ) = @_;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    # create relative link\u001b[0m", "    \u001b[37m+    if ( !symlink( File::Spec->abs2rel( $tgt, dirname($link) ), $link ) ) {\u001b[0m", "    \u001b[37m+        die(\"Could not create $link: $!\
\");\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    $request_reload = 1;\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub check_link {\u001b[0m", "    \u001b[37m+    my ( $tgt, $link ) = @_;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( !-e $link ) {\u001b[0m", "    \u001b[37m+        if ( -l $link ) {\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            # points to nowhere\u001b[0m", "    \u001b[37m+            info(\"Removing dangling link $link\");\u001b[0m", "    \u001b[37m+            unlink($link) or die \"Could not remove $link\
\";\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        return 'missing';\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( -e $link && !-l $link ) {\u001b[0m", "    \u001b[37m+        return \"$link is a real file, not touching it\";\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    if ( realpath($link) ne realpath($tgt) ) {\u001b[0m", "    \u001b[37m+        return \"$link exists but does not point to $tgt, not touching it\";\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return 'ok';\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub remove_link {\u001b[0m", "    \u001b[37m+    my ($link) = @_;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( -l $link ) {\u001b[0m", "    \u001b[37m+        unlink($link) or die \"Could not remove $link: $!\
\";\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    elsif ( -e $link ) {\u001b[0m", "    \u001b[37m+        error(\"$link is not a symbolic link, not deleting\
\");\u001b[0m", "    \u001b[37m+        return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    $request_reload = 1;\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub threaded {\u001b[0m", "    \u001b[37m+    my $result = \"\";\u001b[0m", "    \u001b[37m+    $result = qx{/usr/sbin/apachectl -V | grep 'threaded'}\u001b[0m", "    \u001b[37m+        if -x '/usr/sbin/apachectl';\u001b[0m", "    \u001b[37m+    if ( $? != 0 ) {\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        # config doesn't work\u001b[0m", "    \u001b[37m+        if ( -e \"$enabldir/mpm_prefork.load\" || -e \"$enabldir/mpm_itk.load\" )\u001b[0m", "    \u001b[37m+        {\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        elsif (-e \"$enabldir/mpm_worker.load\"\u001b[0m", "    \u001b[37m+            || -e \"$enabldir/mpm_event.load\" )\u001b[0m", "    \u001b[37m+        {\u001b[0m", "    \u001b[37m+            return 1;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        else {\u001b[0m", "    \u001b[37m+            error(\"Can't determine enabled MPM\");\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            # do what user requested\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    if ( $result =~ / no/ ) {\u001b[0m", "    \u001b[37m+        return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    elsif ( $result =~ / yes/ ) {\u001b[0m", "    \u001b[37m+        return 1;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    else {\u001b[0m", "    \u001b[37m+        die(\"Can't parse output from apache2ctl -V:\
$result\
\");\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub info {\u001b[0m", "    \u001b[37m+    print @_ if !$quiet;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub error {\u001b[0m", "    \u001b[37m+    print STDERR 'ERROR: ', @_;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub warning {\u001b[0m", "    \u001b[37m+    print STDERR 'WARNING: ', @_;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub is_in {\u001b[0m", "    \u001b[37m+    my $needle = shift;\u001b[0m", "    \u001b[37m+    foreach my $e (@_) {\u001b[0m", "    \u001b[37m+        return 1 if $needle eq $e;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return 0;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub read_env_file {\u001b[0m", "    \u001b[37m+    my $file = shift;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    -r $file or return;\u001b[0m", "    \u001b[37m+    my @lines = qx{env - sh -c '. $file && env'};\u001b[0m", "    \u001b[37m+    if ($?) {\u001b[0m", "    \u001b[37m+        die \"Could not read $file\
\";\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    foreach my $l (@lines) {\u001b[0m", "    \u001b[37m+        chomp $l;\u001b[0m", "    \u001b[37m+        $l =~ /^(.*)?=(.*)$/ or die \"Could not parse $file\
\";\u001b[0m", "    \u001b[37m+        $ENV{$1} = $2;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub switch_marker {\u001b[0m", "    \u001b[37m+    die('usage: switch_marker([module|site|conf], [enable|disable], $name)')\u001b[0m", "    \u001b[37m+        if @_ != 3;\u001b[0m", "    \u001b[37m+    my $which = shift;\u001b[0m", "    \u001b[37m+    my $what  = shift;\u001b[0m", "    \u001b[37m+    my $name  = shift;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my $mode = \"admin\";\u001b[0m", "    \u001b[37m+    $mode = \"maint\" if $maintmode;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    #print(\"switch_marker $which $what $name\
\");\u001b[0m", "    \u001b[37m+    # TODO: get rid of the magic string(s)\u001b[0m", "    \u001b[37m+    my $state_marker_dir = \"$statedir/$what\" . \"d\" . \"_by_$mode\";\u001b[0m", "    \u001b[37m+    my $state_marker     = \"$state_marker_dir/$name\";\u001b[0m", "    \u001b[37m+    if ( !-d $state_marker_dir ) {\u001b[0m", "    \u001b[37m+        File::Path::mkpath(\"$state_marker_dir\")\u001b[0m", "    \u001b[37m+            || error(\u001b[0m", "    \u001b[37m+            \"Failed to create marker directory: '$state_marker_dir'\
\");\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    # XXX: swap find with perl alternative\u001b[0m", "    \u001b[37m+    my @markers = qx{find \"$statedir\" -type f -a -name \"$name\"};\u001b[0m", "    \u001b[37m+    chomp(@markers);\u001b[0m", "    \u001b[37m+    foreach (@markers) {\u001b[0m", "    \u001b[37m+        unless ( unlink $_ ) {\u001b[0m", "    \u001b[37m+            error(\"Failed to remove old marker '$_'!\
\") && return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    unless ($purge) {\u001b[0m", "    \u001b[37m+        qx{touch \"$state_marker\"};\u001b[0m", "    \u001b[37m+        if ( $? != 0 ) {\u001b[0m", "    \u001b[37m+            error(\"Failed to create marker '$state_marker'!\
\") && return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        return 1;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+# vim: syntax=perl sw=4 sts=4 sr et\u001b[0m", "    \u001b[32m- change mode from '' to '0700'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0m  * link[/usr/sbin/a2dismod] action delete (skipped due to only_if)", "  * template[/usr/sbin/a2dismod] action create", "    \u001b[32m- create new file /usr/sbin/a2dismod\u001b[0m", "    \u001b[32m- update content in file /usr/sbin/a2dismod from none to 0556b3\u001b[0m", "    \u001b[37m--- /usr/sbin/a2dismod\t2019-04-26 14:50:56.297803037 +0000\u001b[0m", "    \u001b[37m+++ /usr/sbin/.chef-a2dismod20190426-67198-10i64zc\t2019-04-26 14:50:56.297803037 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,533 @@\u001b[0m", "    \u001b[37m+#!/usr/bin/perl -w\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# a2enmod by Stefan Fritsch <sf@debian.org>\u001b[0m", "    \u001b[37m+# Licensed under Apache License 2.0\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# The coding style is \"perltidy -pbp\"\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+use strict;\u001b[0m", "    \u001b[37m+use Cwd 'realpath';\u001b[0m", "    \u001b[37m+use File::Spec;\u001b[0m", "    \u001b[37m+use File::Basename;\u001b[0m", "    \u001b[37m+use File::Path;\u001b[0m", "    \u001b[37m+use Getopt::Long;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $quiet;\u001b[0m", "    \u001b[37m+my $force;\u001b[0m", "    \u001b[37m+my $maintmode;\u001b[0m", "    \u001b[37m+my $purge;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+Getopt::Long::Configure('bundling');\u001b[0m", "    \u001b[37m+GetOptions(\u001b[0m", "    \u001b[37m+    'quiet|q'     => \\$quiet,\u001b[0m", "    \u001b[37m+    'force|f'     => \\$force,\u001b[0m", "    \u001b[37m+    'maintmode|m' => \\$maintmode,\u001b[0m", "    \u001b[37m+    'purge|p'     => \\$purge\u001b[0m", "    \u001b[37m+) or exit 2;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $basename = basename($0);\u001b[0m", "    \u001b[37m+$basename =~ /^a2(en|dis)(mod|site|conf)((?:-.+)?)$/\u001b[0m", "    \u001b[37m+    or die \"$basename call name unknown\
\";\u001b[0m", "    \u001b[37m+my $act        = $1;\u001b[0m", "    \u001b[37m+my $obj        = $2;\u001b[0m", "    \u001b[37m+my $dir_suffix = $3;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $env_file = $ENV{APACHE_ENVVARS}\u001b[0m", "    \u001b[37m+    || (\u001b[0m", "    \u001b[37m+    $ENV{APACHE_CONFDIR}\u001b[0m", "    \u001b[37m+    ? \"$ENV{APACHE_CONFDIR}/envvars\"\u001b[0m", "    \u001b[37m+    : \"/etc/httpd$dir_suffix/envvars\"\u001b[0m", "    \u001b[37m+    );\u001b[0m", "    \u001b[37m+$ENV{LANG} = 'C';\u001b[0m", "    \u001b[37m+read_env_file($env_file);\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+$act .= 'able';\u001b[0m", "    \u001b[37m+my ( $name, $dir, $sffx, $reload );\u001b[0m", "    \u001b[37m+if ( $obj eq 'mod' ) {\u001b[0m", "    \u001b[37m+    $obj    = 'module';\u001b[0m", "    \u001b[37m+    $dir    = 'mods';\u001b[0m", "    \u001b[37m+    $sffx   = '.load';\u001b[0m", "    \u001b[37m+    $reload = 'restart';\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+elsif ( $obj eq 'conf' ) {\u001b[0m", "    \u001b[37m+    $obj    = 'conf';\u001b[0m", "    \u001b[37m+    $dir    = 'conf';\u001b[0m", "    \u001b[37m+    $sffx   = '.conf';\u001b[0m", "    \u001b[37m+    $reload = 'reload';\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+else {\u001b[0m", "    \u001b[37m+    $dir    = 'sites';\u001b[0m", "    \u001b[37m+    $sffx   = '.conf';\u001b[0m", "    \u001b[37m+    $reload = 'reload';\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+$name = ucfirst($obj);\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $confdir = $ENV{APACHE_CONFDIR} || \"/etc/httpd$dir_suffix\";\u001b[0m", "    \u001b[37m+my $availdir = $ENV{ uc(\"APACHE_${dir}_AVAILABLE\") }\u001b[0m", "    \u001b[37m+    || \"$confdir/$dir-available\";\u001b[0m", "    \u001b[37m+my $enabldir = $ENV{ uc(\"APACHE_${dir}_ENABLED\") } || \"$confdir/$dir-enabled\";\u001b[0m", "    \u001b[37m+my $statedir = $ENV{ uc(\"APACHE_STATE_DIRECTORY\") } || \"/usr/lib64/httpd\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+$statedir .= \"/$obj\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $choicedir = $act eq 'enable' ? $availdir : $enabldir;\u001b[0m", "    \u001b[37m+my $linkdir = File::Spec->abs2rel( $availdir, $enabldir );\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $request_reload = 0;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $rc = 0;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+if ( !scalar @ARGV ) {\u001b[0m", "    \u001b[37m+    my @choices = myglob('*');\u001b[0m", "    \u001b[37m+    print \"Your choices are: @choices\
\";\u001b[0m", "    \u001b[37m+    print \"Which ${obj}(s) do you want to $act (wildcards ok)?\
\";\u001b[0m", "    \u001b[37m+    my $input = <>;\u001b[0m", "    \u001b[37m+    @ARGV = split /\\s+/, $input;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my @objs;\u001b[0m", "    \u001b[37m+foreach my $arg (@ARGV) {\u001b[0m", "    \u001b[37m+    $arg =~ s/${sffx}$//;\u001b[0m", "    \u001b[37m+    my @glob = myglob($arg);\u001b[0m", "    \u001b[37m+    if ( !@glob ) {\u001b[0m", "    \u001b[37m+        error(\"No $obj found matching $arg!\
\");\u001b[0m", "    \u001b[37m+        $rc = 1;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    else {\u001b[0m", "    \u001b[37m+        push @objs, @glob;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+foreach my $acton (@objs) {\u001b[0m", "    \u001b[37m+    doit($acton) or $rc = 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+info(\u001b[0m", "    \u001b[37m+    \"To activate the new configuration, you need to run:\
  service apache2 $reload\
\"\u001b[0m", "    \u001b[37m+) if $request_reload;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+exit($rc);\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+##############################################################################\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub myglob {\u001b[0m", "    \u001b[37m+    my $arg = shift;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my @glob = map {\u001b[0m", "    \u001b[37m+        s{^$choicedir/}{};\u001b[0m", "    \u001b[37m+        s{$sffx$}{};\u001b[0m", "    \u001b[37m+        $_\u001b[0m", "    \u001b[37m+    } glob(\"$choicedir/$arg$sffx\");\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    return @glob;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub doit {\u001b[0m", "    \u001b[37m+    my $acton = shift;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my ( $conftgt, $conflink );\u001b[0m", "    \u001b[37m+    if ( $obj eq 'module' ) {\u001b[0m", "    \u001b[37m+        if ( $acton eq 'cgi' && threaded() ) {\u001b[0m", "    \u001b[37m+            print\u001b[0m", "    \u001b[37m+                \"Your MPM seems to be threaded. Selecting cgid instead of cgi.\
\";\u001b[0m", "    \u001b[37m+            $acton = 'cgid';\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        $conftgt = \"$availdir/$acton.conf\";\u001b[0m", "    \u001b[37m+        if ( -e $conftgt ) {\u001b[0m", "    \u001b[37m+            $conflink = \"$enabldir/$acton.conf\";\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my $tgt  = \"$availdir/$acton$sffx\";\u001b[0m", "    \u001b[37m+    my $link = \"$enabldir/$acton$sffx\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( !-e $tgt ) {\u001b[0m", "    \u001b[37m+        if ( -l $link && !-e $link ) {\u001b[0m", "    \u001b[37m+            if ( $act eq 'disable' ) {\u001b[0m", "    \u001b[37m+                info(\"removing dangling symlink $link\
\");\u001b[0m", "    \u001b[37m+                unlink($link);\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                # force a .conf path. It may exist as dangling link, too\u001b[0m", "    \u001b[37m+                $conflink = \"$enabldir/$acton.conf\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                if ( -l $conflink && !-e $conflink ) {\u001b[0m", "    \u001b[37m+                    info(\"removing dangling symlink $conflink\
\");\u001b[0m", "    \u001b[37m+                    unlink($conflink);\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                return 1;\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            else {\u001b[0m", "    \u001b[37m+                error(\"$link is a dangling symlink!\
\");\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        if ( $purge ) {\u001b[0m", "    \u001b[37m+            switch_marker( $obj, $act, $acton );\u001b[0m", "    \u001b[37m+            # exit silently, we are purging anyway\u001b[0m", "    \u001b[37m+            return 1;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        error(\"$name $acton does not exist!\
\");\u001b[0m", "    \u001b[37m+        return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    # handle module dependencies\u001b[0m", "    \u001b[37m+    if ( $obj eq 'module' ) {\u001b[0m", "    \u001b[37m+        if ( $act eq 'enable' ) {\u001b[0m", "    \u001b[37m+            if ( $acton eq 'mpm_itk' ) {\u001b[0m", "    \u001b[37m+                warning(  \"MPM_ITK is a third party module that is not part \"\u001b[0m", "    \u001b[37m+                        . \"of the official Apache HTTPD. It has seen less \"\u001b[0m", "    \u001b[37m+                        . \"testing than the official MPM modules.\" );\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            my @depends = get_deps(\"$availdir/$acton.load\");\u001b[0m", "    \u001b[37m+            do_deps( $acton, @depends ) or return 0;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            my @conflicts = get_deps( \"$availdir/$acton.load\", \"Conflicts\" );\u001b[0m", "    \u001b[37m+            check_conflicts( $acton, @conflicts ) or return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        else {\u001b[0m", "    \u001b[37m+            my @depending;\u001b[0m", "    \u001b[37m+            foreach my $d ( glob(\"$enabldir/*.load\") ) {\u001b[0m", "    \u001b[37m+                my @deps = get_deps($d);\u001b[0m", "    \u001b[37m+                if ( is_in( $acton, @deps ) ) {\u001b[0m", "    \u001b[37m+                    $d =~ m,/([^/]+).load$,;\u001b[0m", "    \u001b[37m+                    push @depending, $1;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            if ( scalar @depending ) {\u001b[0m", "    \u001b[37m+                if ($force) {\u001b[0m", "    \u001b[37m+                    do_deps( $acton, @depending ) or return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+                else {\u001b[0m", "    \u001b[37m+                    error(\u001b[0m", "    \u001b[37m+                        \"The following modules depend on $acton \",\u001b[0m", "    \u001b[37m+                        \"and need to be disabled first: @depending\
\"\u001b[0m", "    \u001b[37m+                    );\u001b[0m", "    \u001b[37m+                    return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    elsif ( $act eq 'enable' ) {\u001b[0m", "    \u001b[37m+        my @depends = get_deps(\"$availdir/$acton$sffx\");\u001b[0m", "    \u001b[37m+        warn_deps( $acton, @depends ) or return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( $act eq 'enable' ) {\u001b[0m", "    \u001b[37m+        my $check = check_link( $tgt, $link );\u001b[0m", "    \u001b[37m+        if ( $check eq 'ok' ) {\u001b[0m", "    \u001b[37m+            if ($conflink) {\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                # handle .conf file\u001b[0m", "    \u001b[37m+                my $confcheck = check_link( $conftgt, $conflink );\u001b[0m", "    \u001b[37m+                if ( $confcheck eq 'ok' ) {\u001b[0m", "    \u001b[37m+                    info(\"$name $acton already enabled\
\");\u001b[0m", "    \u001b[37m+                    return 1;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+                elsif ( $confcheck eq 'missing' ) {\u001b[0m", "    \u001b[37m+                    print \"Enabling config file $acton.conf.\
\";\u001b[0m", "    \u001b[37m+                    add_link( $conftgt, $conflink ) or return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+                else {\u001b[0m", "    \u001b[37m+                    error(\u001b[0m", "    \u001b[37m+                        \"Config file $acton.conf not properly enabled: $confcheck\
\"\u001b[0m", "    \u001b[37m+                    );\u001b[0m", "    \u001b[37m+                    return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            else {\u001b[0m", "    \u001b[37m+                info(\"$name $acton already enabled\
\");\u001b[0m", "    \u001b[37m+                return 1;\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        elsif ( $check eq 'missing' ) {\u001b[0m", "    \u001b[37m+            if ($conflink) {\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                # handle .conf file\u001b[0m", "    \u001b[37m+                my $confcheck = check_link( $conftgt, $conflink );\u001b[0m", "    \u001b[37m+                if ( $confcheck eq 'missing' ) {\u001b[0m", "    \u001b[37m+                    add_link( $conftgt, $conflink ) or return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+                elsif ( $confcheck ne 'ok' ) {\u001b[0m", "    \u001b[37m+                    error(\u001b[0m", "    \u001b[37m+                        \"Config file $acton.conf not properly enabled: $confcheck\
\"\u001b[0m", "    \u001b[37m+                    );\u001b[0m", "    \u001b[37m+                    return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            print \"Enabling $obj $acton.\
\";\u001b[0m", "    \u001b[37m+            if ( $acton eq 'ssl' ) {\u001b[0m", "    \u001b[37m+                info(     \"See /usr/share/doc/apache2/README.Debian.gz on \"\u001b[0m", "    \u001b[37m+                        . \"how to configure SSL and create self-signed certificates.\
\"\u001b[0m", "    \u001b[37m+                );\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            return add_link( $tgt, $link )\u001b[0m", "    \u001b[37m+                && switch_marker( $obj, $act, $acton );\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        else {\u001b[0m", "    \u001b[37m+            error(\"$name $acton not properly enabled: $check\
\");\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    else {\u001b[0m", "    \u001b[37m+        if ( -e $link || -l $link ) {\u001b[0m", "    \u001b[37m+            remove_link($link);\u001b[0m", "    \u001b[37m+            if ( $conflink && -e $conflink ) {\u001b[0m", "    \u001b[37m+                remove_link($conflink);\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            switch_marker( $obj, $act, $acton );\u001b[0m", "    \u001b[37m+            print \"$name $acton disabled.\
\";\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        elsif ( $conflink && -e $conflink ) {\u001b[0m", "    \u001b[37m+            print \"Disabling stale config file $acton.conf.\
\";\u001b[0m", "    \u001b[37m+            remove_link($conflink);\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        else {\u001b[0m", "    \u001b[37m+            info(\"$name $acton already disabled\
\");\u001b[0m", "    \u001b[37m+            if ( $purge ) {\u001b[0m", "    \u001b[37m+                switch_marker( $obj, $act, $acton );\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            return 1;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub get_deps {\u001b[0m", "    \u001b[37m+    my $file = shift;\u001b[0m", "    \u001b[37m+    my $type = shift || \"Depends\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my $fd;\u001b[0m", "    \u001b[37m+    if ( !open( $fd, '<', $file ) ) {\u001b[0m", "    \u001b[37m+        error(\"Can't open $file: $!\");\u001b[0m", "    \u001b[37m+        return;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    my $line;\u001b[0m", "    \u001b[37m+    while ( defined( $line = <$fd> ) ) {\u001b[0m", "    \u001b[37m+        chomp $line;\u001b[0m", "    \u001b[37m+        if ( $line =~ /^# $type:\\s+(.*?)\\s*$/ ) {\u001b[0m", "    \u001b[37m+            my $deps = $1;\u001b[0m", "    \u001b[37m+            return split( /[\
\\s]+/, $deps );\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        # only check until the first non-empty non-comment line\u001b[0m", "    \u001b[37m+        last if ( $line !~ /^\\s*(?:#.*)?$/ );\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub do_deps {\u001b[0m", "    \u001b[37m+    my $acton = shift;\u001b[0m", "    \u001b[37m+    foreach my $d (@_) {\u001b[0m", "    \u001b[37m+        info(\"Considering dependency $d for $acton:\
\");\u001b[0m", "    \u001b[37m+        if ( !doit($d) ) {\u001b[0m", "    \u001b[37m+            error(\"Could not $act dependency $d for $acton, aborting\
\");\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub warn_deps {\u001b[0m", "    \u001b[37m+    my $acton = shift;\u001b[0m", "    \u001b[37m+    my $modsenabldir = $ENV{APACHE_MODS_ENABLED} || \"$confdir/mods-enabled\";\u001b[0m", "    \u001b[37m+    foreach my $d (@_) {\u001b[0m", "    \u001b[37m+        info(\"Checking dependency $d for $acton:\
\");\u001b[0m", "    \u001b[37m+        if ( !-e \"$modsenabldir/$d.load\" ) {\u001b[0m", "    \u001b[37m+            warning(\u001b[0m", "    \u001b[37m+                \"Module $d is not enabled, but $acton depends on it, aborting\
\"\u001b[0m", "    \u001b[37m+            );\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub check_conflicts {\u001b[0m", "    \u001b[37m+    my $acton    = shift;\u001b[0m", "    \u001b[37m+    my $haderror = 0;\u001b[0m", "    \u001b[37m+    foreach my $d (@_) {\u001b[0m", "    \u001b[37m+        info(\"Considering conflict $d for $acton:\
\");\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        my $tgt  = \"$availdir/$d$sffx\";\u001b[0m", "    \u001b[37m+        my $link = \"$enabldir/$d$sffx\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        my $confcheck = check_link( $tgt, $link );\u001b[0m", "    \u001b[37m+        if ( $confcheck eq 'ok' ) {\u001b[0m", "    \u001b[37m+            error(\u001b[0m", "    \u001b[37m+                \"Module $d is enabled - cannot proceed due to conflicts. It needs to be disabled first!\
\"\u001b[0m", "    \u001b[37m+            );\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            # Don't return immediately, there could be several conflicts\u001b[0m", "    \u001b[37m+            $haderror++;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ($haderror) {\u001b[0m", "    \u001b[37m+        return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub add_link {\u001b[0m", "    \u001b[37m+    my ( $tgt, $link ) = @_;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    # create relative link\u001b[0m", "    \u001b[37m+    if ( !symlink( File::Spec->abs2rel( $tgt, dirname($link) ), $link ) ) {\u001b[0m", "    \u001b[37m+        die(\"Could not create $link: $!\
\");\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    $request_reload = 1;\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub check_link {\u001b[0m", "    \u001b[37m+    my ( $tgt, $link ) = @_;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( !-e $link ) {\u001b[0m", "    \u001b[37m+        if ( -l $link ) {\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            # points to nowhere\u001b[0m", "    \u001b[37m+            info(\"Removing dangling link $link\");\u001b[0m", "    \u001b[37m+            unlink($link) or die \"Could not remove $link\
\";\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        return 'missing';\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( -e $link && !-l $link ) {\u001b[0m", "    \u001b[37m+        return \"$link is a real file, not touching it\";\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    if ( realpath($link) ne realpath($tgt) ) {\u001b[0m", "    \u001b[37m+        return \"$link exists but does not point to $tgt, not touching it\";\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return 'ok';\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub remove_link {\u001b[0m", "    \u001b[37m+    my ($link) = @_;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( -l $link ) {\u001b[0m", "    \u001b[37m+        unlink($link) or die \"Could not remove $link: $!\
\";\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    elsif ( -e $link ) {\u001b[0m", "    \u001b[37m+        error(\"$link is not a symbolic link, not deleting\
\");\u001b[0m", "    \u001b[37m+        return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    $request_reload = 1;\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub threaded {\u001b[0m", "    \u001b[37m+    my $result = \"\";\u001b[0m", "    \u001b[37m+    $result = qx{/usr/sbin/apachectl -V | grep 'threaded'}\u001b[0m", "    \u001b[37m+        if -x '/usr/sbin/apachectl';\u001b[0m", "    \u001b[37m+    if ( $? != 0 ) {\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        # config doesn't work\u001b[0m", "    \u001b[37m+        if ( -e \"$enabldir/mpm_prefork.load\" || -e \"$enabldir/mpm_itk.load\" )\u001b[0m", "    \u001b[37m+        {\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        elsif (-e \"$enabldir/mpm_worker.load\"\u001b[0m", "    \u001b[37m+            || -e \"$enabldir/mpm_event.load\" )\u001b[0m", "    \u001b[37m+        {\u001b[0m", "    \u001b[37m+            return 1;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        else {\u001b[0m", "    \u001b[37m+            error(\"Can't determine enabled MPM\");\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            # do what user requested\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    if ( $result =~ / no/ ) {\u001b[0m", "    \u001b[37m+        return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    elsif ( $result =~ / yes/ ) {\u001b[0m", "    \u001b[37m+        return 1;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    else {\u001b[0m", "    \u001b[37m+        die(\"Can't parse output from apache2ctl -V:\
$result\
\");\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub info {\u001b[0m", "    \u001b[37m+    print @_ if !$quiet;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub error {\u001b[0m", "    \u001b[37m+    print STDERR 'ERROR: ', @_;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub warning {\u001b[0m", "    \u001b[37m+    print STDERR 'WARNING: ', @_;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub is_in {\u001b[0m", "    \u001b[37m+    my $needle = shift;\u001b[0m", "    \u001b[37m+    foreach my $e (@_) {\u001b[0m", "    \u001b[37m+        return 1 if $needle eq $e;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return 0;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub read_env_file {\u001b[0m", "    \u001b[37m+    my $file = shift;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    -r $file or return;\u001b[0m", "    \u001b[37m+    my @lines = qx{env - sh -c '. $file && env'};\u001b[0m", "    \u001b[37m+    if ($?) {\u001b[0m", "    \u001b[37m+        die \"Could not read $file\
\";\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    foreach my $l (@lines) {\u001b[0m", "    \u001b[37m+        chomp $l;\u001b[0m", "    \u001b[37m+        $l =~ /^(.*)?=(.*)$/ or die \"Could not parse $file\
\";\u001b[0m", "    \u001b[37m+        $ENV{$1} = $2;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub switch_marker {\u001b[0m", "    \u001b[37m+    die('usage: switch_marker([module|site|conf], [enable|disable], $name)')\u001b[0m", "    \u001b[37m+        if @_ != 3;\u001b[0m", "    \u001b[37m+    my $which = shift;\u001b[0m", "    \u001b[37m+    my $what  = shift;\u001b[0m", "    \u001b[37m+    my $name  = shift;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my $mode = \"admin\";\u001b[0m", "    \u001b[37m+    $mode = \"maint\" if $maintmode;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    #print(\"switch_marker $which $what $name\
\");\u001b[0m", "    \u001b[37m+    # TODO: get rid of the magic string(s)\u001b[0m", "    \u001b[37m+    my $state_marker_dir = \"$statedir/$what\" . \"d\" . \"_by_$mode\";\u001b[0m", "    \u001b[37m+    my $state_marker     = \"$state_marker_dir/$name\";\u001b[0m", "    \u001b[37m+    if ( !-d $state_marker_dir ) {\u001b[0m", "    \u001b[37m+        File::Path::mkpath(\"$state_marker_dir\")\u001b[0m", "    \u001b[37m+            || error(\u001b[0m", "    \u001b[37m+            \"Failed to create marker directory: '$state_marker_dir'\
\");\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    # XXX: swap find with perl alternative\u001b[0m", "    \u001b[37m+    my @markers = qx{find \"$statedir\" -type f -a -name \"$name\"};\u001b[0m", "    \u001b[37m+    chomp(@markers);\u001b[0m", "    \u001b[37m+    foreach (@markers) {\u001b[0m", "    \u001b[37m+        unless ( unlink $_ ) {\u001b[0m", "    \u001b[37m+            error(\"Failed to remove old marker '$_'!\
\") && return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    unless ($purge) {\u001b[0m", "    \u001b[37m+        qx{touch \"$state_marker\"};\u001b[0m", "    \u001b[37m+        if ( $? != 0 ) {\u001b[0m", "    \u001b[37m+            error(\"Failed to create marker '$state_marker'!\
\") && return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        return 1;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+# vim: syntax=perl sw=4 sts=4 sr et\u001b[0m", "    \u001b[32m- change mode from '' to '0700'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0m  * link[/usr/sbin/a2enconf] action delete (skipped due to only_if)", "  * template[/usr/sbin/a2enconf] action create", "    \u001b[32m- create new file /usr/sbin/a2enconf\u001b[0m", "    \u001b[32m- update content in file /usr/sbin/a2enconf from none to 0556b3\u001b[0m", "    \u001b[37m--- /usr/sbin/a2enconf\t2019-04-26 14:50:56.316803724 +0000\u001b[0m", "    \u001b[37m+++ /usr/sbin/.chef-a2enconf20190426-67198-17wgxvo\t2019-04-26 14:50:56.316803724 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,533 @@\u001b[0m", "    \u001b[37m+#!/usr/bin/perl -w\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# a2enmod by Stefan Fritsch <sf@debian.org>\u001b[0m", "    \u001b[37m+# Licensed under Apache License 2.0\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# The coding style is \"perltidy -pbp\"\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+use strict;\u001b[0m", "    \u001b[37m+use Cwd 'realpath';\u001b[0m", "    \u001b[37m+use File::Spec;\u001b[0m", "    \u001b[37m+use File::Basename;\u001b[0m", "    \u001b[37m+use File::Path;\u001b[0m", "    \u001b[37m+use Getopt::Long;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $quiet;\u001b[0m", "    \u001b[37m+my $force;\u001b[0m", "    \u001b[37m+my $maintmode;\u001b[0m", "    \u001b[37m+my $purge;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+Getopt::Long::Configure('bundling');\u001b[0m", "    \u001b[37m+GetOptions(\u001b[0m", "    \u001b[37m+    'quiet|q'     => \\$quiet,\u001b[0m", "    \u001b[37m+    'force|f'     => \\$force,\u001b[0m", "    \u001b[37m+    'maintmode|m' => \\$maintmode,\u001b[0m", "    \u001b[37m+    'purge|p'     => \\$purge\u001b[0m", "    \u001b[37m+) or exit 2;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $basename = basename($0);\u001b[0m", "    \u001b[37m+$basename =~ /^a2(en|dis)(mod|site|conf)((?:-.+)?)$/\u001b[0m", "    \u001b[37m+    or die \"$basename call name unknown\
\";\u001b[0m", "    \u001b[37m+my $act        = $1;\u001b[0m", "    \u001b[37m+my $obj        = $2;\u001b[0m", "    \u001b[37m+my $dir_suffix = $3;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $env_file = $ENV{APACHE_ENVVARS}\u001b[0m", "    \u001b[37m+    || (\u001b[0m", "    \u001b[37m+    $ENV{APACHE_CONFDIR}\u001b[0m", "    \u001b[37m+    ? \"$ENV{APACHE_CONFDIR}/envvars\"\u001b[0m", "    \u001b[37m+    : \"/etc/httpd$dir_suffix/envvars\"\u001b[0m", "    \u001b[37m+    );\u001b[0m", "    \u001b[37m+$ENV{LANG} = 'C';\u001b[0m", "    \u001b[37m+read_env_file($env_file);\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+$act .= 'able';\u001b[0m", "    \u001b[37m+my ( $name, $dir, $sffx, $reload );\u001b[0m", "    \u001b[37m+if ( $obj eq 'mod' ) {\u001b[0m", "    \u001b[37m+    $obj    = 'module';\u001b[0m", "    \u001b[37m+    $dir    = 'mods';\u001b[0m", "    \u001b[37m+    $sffx   = '.load';\u001b[0m", "    \u001b[37m+    $reload = 'restart';\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+elsif ( $obj eq 'conf' ) {\u001b[0m", "    \u001b[37m+    $obj    = 'conf';\u001b[0m", "    \u001b[37m+    $dir    = 'conf';\u001b[0m", "    \u001b[37m+    $sffx   = '.conf';\u001b[0m", "    \u001b[37m+    $reload = 'reload';\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+else {\u001b[0m", "    \u001b[37m+    $dir    = 'sites';\u001b[0m", "    \u001b[37m+    $sffx   = '.conf';\u001b[0m", "    \u001b[37m+    $reload = 'reload';\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+$name = ucfirst($obj);\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $confdir = $ENV{APACHE_CONFDIR} || \"/etc/httpd$dir_suffix\";\u001b[0m", "    \u001b[37m+my $availdir = $ENV{ uc(\"APACHE_${dir}_AVAILABLE\") }\u001b[0m", "    \u001b[37m+    || \"$confdir/$dir-available\";\u001b[0m", "    \u001b[37m+my $enabldir = $ENV{ uc(\"APACHE_${dir}_ENABLED\") } || \"$confdir/$dir-enabled\";\u001b[0m", "    \u001b[37m+my $statedir = $ENV{ uc(\"APACHE_STATE_DIRECTORY\") } || \"/usr/lib64/httpd\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+$statedir .= \"/$obj\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $choicedir = $act eq 'enable' ? $availdir : $enabldir;\u001b[0m", "    \u001b[37m+my $linkdir = File::Spec->abs2rel( $availdir, $enabldir );\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $request_reload = 0;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $rc = 0;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+if ( !scalar @ARGV ) {\u001b[0m", "    \u001b[37m+    my @choices = myglob('*');\u001b[0m", "    \u001b[37m+    print \"Your choices are: @choices\
\";\u001b[0m", "    \u001b[37m+    print \"Which ${obj}(s) do you want to $act (wildcards ok)?\
\";\u001b[0m", "    \u001b[37m+    my $input = <>;\u001b[0m", "    \u001b[37m+    @ARGV = split /\\s+/, $input;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my @objs;\u001b[0m", "    \u001b[37m+foreach my $arg (@ARGV) {\u001b[0m", "    \u001b[37m+    $arg =~ s/${sffx}$//;\u001b[0m", "    \u001b[37m+    my @glob = myglob($arg);\u001b[0m", "    \u001b[37m+    if ( !@glob ) {\u001b[0m", "    \u001b[37m+        error(\"No $obj found matching $arg!\
\");\u001b[0m", "    \u001b[37m+        $rc = 1;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    else {\u001b[0m", "    \u001b[37m+        push @objs, @glob;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+foreach my $acton (@objs) {\u001b[0m", "    \u001b[37m+    doit($acton) or $rc = 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+info(\u001b[0m", "    \u001b[37m+    \"To activate the new configuration, you need to run:\
  service apache2 $reload\
\"\u001b[0m", "    \u001b[37m+) if $request_reload;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+exit($rc);\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+##############################################################################\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub myglob {\u001b[0m", "    \u001b[37m+    my $arg = shift;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my @glob = map {\u001b[0m", "    \u001b[37m+        s{^$choicedir/}{};\u001b[0m", "    \u001b[37m+        s{$sffx$}{};\u001b[0m", "    \u001b[37m+        $_\u001b[0m", "    \u001b[37m+    } glob(\"$choicedir/$arg$sffx\");\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    return @glob;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub doit {\u001b[0m", "    \u001b[37m+    my $acton = shift;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my ( $conftgt, $conflink );\u001b[0m", "    \u001b[37m+    if ( $obj eq 'module' ) {\u001b[0m", "    \u001b[37m+        if ( $acton eq 'cgi' && threaded() ) {\u001b[0m", "    \u001b[37m+            print\u001b[0m", "    \u001b[37m+                \"Your MPM seems to be threaded. Selecting cgid instead of cgi.\
\";\u001b[0m", "    \u001b[37m+            $acton = 'cgid';\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        $conftgt = \"$availdir/$acton.conf\";\u001b[0m", "    \u001b[37m+        if ( -e $conftgt ) {\u001b[0m", "    \u001b[37m+            $conflink = \"$enabldir/$acton.conf\";\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my $tgt  = \"$availdir/$acton$sffx\";\u001b[0m", "    \u001b[37m+    my $link = \"$enabldir/$acton$sffx\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( !-e $tgt ) {\u001b[0m", "    \u001b[37m+        if ( -l $link && !-e $link ) {\u001b[0m", "    \u001b[37m+            if ( $act eq 'disable' ) {\u001b[0m", "    \u001b[37m+                info(\"removing dangling symlink $link\
\");\u001b[0m", "    \u001b[37m+                unlink($link);\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                # force a .conf path. It may exist as dangling link, too\u001b[0m", "    \u001b[37m+                $conflink = \"$enabldir/$acton.conf\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                if ( -l $conflink && !-e $conflink ) {\u001b[0m", "    \u001b[37m+                    info(\"removing dangling symlink $conflink\
\");\u001b[0m", "    \u001b[37m+                    unlink($conflink);\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                return 1;\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            else {\u001b[0m", "    \u001b[37m+                error(\"$link is a dangling symlink!\
\");\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        if ( $purge ) {\u001b[0m", "    \u001b[37m+            switch_marker( $obj, $act, $acton );\u001b[0m", "    \u001b[37m+            # exit silently, we are purging anyway\u001b[0m", "    \u001b[37m+            return 1;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        error(\"$name $acton does not exist!\
\");\u001b[0m", "    \u001b[37m+        return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    # handle module dependencies\u001b[0m", "    \u001b[37m+    if ( $obj eq 'module' ) {\u001b[0m", "    \u001b[37m+        if ( $act eq 'enable' ) {\u001b[0m", "    \u001b[37m+            if ( $acton eq 'mpm_itk' ) {\u001b[0m", "    \u001b[37m+                warning(  \"MPM_ITK is a third party module that is not part \"\u001b[0m", "    \u001b[37m+                        . \"of the official Apache HTTPD. It has seen less \"\u001b[0m", "    \u001b[37m+                        . \"testing than the official MPM modules.\" );\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            my @depends = get_deps(\"$availdir/$acton.load\");\u001b[0m", "    \u001b[37m+            do_deps( $acton, @depends ) or return 0;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            my @conflicts = get_deps( \"$availdir/$acton.load\", \"Conflicts\" );\u001b[0m", "    \u001b[37m+            check_conflicts( $acton, @conflicts ) or return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        else {\u001b[0m", "    \u001b[37m+            my @depending;\u001b[0m", "    \u001b[37m+            foreach my $d ( glob(\"$enabldir/*.load\") ) {\u001b[0m", "    \u001b[37m+                my @deps = get_deps($d);\u001b[0m", "    \u001b[37m+                if ( is_in( $acton, @deps ) ) {\u001b[0m", "    \u001b[37m+                    $d =~ m,/([^/]+).load$,;\u001b[0m", "    \u001b[37m+                    push @depending, $1;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            if ( scalar @depending ) {\u001b[0m", "    \u001b[37m+                if ($force) {\u001b[0m", "    \u001b[37m+                    do_deps( $acton, @depending ) or return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+                else {\u001b[0m", "    \u001b[37m+                    error(\u001b[0m", "    \u001b[37m+                        \"The following modules depend on $acton \",\u001b[0m", "    \u001b[37m+                        \"and need to be disabled first: @depending\
\"\u001b[0m", "    \u001b[37m+                    );\u001b[0m", "    \u001b[37m+                    return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    elsif ( $act eq 'enable' ) {\u001b[0m", "    \u001b[37m+        my @depends = get_deps(\"$availdir/$acton$sffx\");\u001b[0m", "    \u001b[37m+        warn_deps( $acton, @depends ) or return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( $act eq 'enable' ) {\u001b[0m", "    \u001b[37m+        my $check = check_link( $tgt, $link );\u001b[0m", "    \u001b[37m+        if ( $check eq 'ok' ) {\u001b[0m", "    \u001b[37m+            if ($conflink) {\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                # handle .conf file\u001b[0m", "    \u001b[37m+                my $confcheck = check_link( $conftgt, $conflink );\u001b[0m", "    \u001b[37m+                if ( $confcheck eq 'ok' ) {\u001b[0m", "    \u001b[37m+                    info(\"$name $acton already enabled\
\");\u001b[0m", "    \u001b[37m+                    return 1;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+                elsif ( $confcheck eq 'missing' ) {\u001b[0m", "    \u001b[37m+                    print \"Enabling config file $acton.conf.\
\";\u001b[0m", "    \u001b[37m+                    add_link( $conftgt, $conflink ) or return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+                else {\u001b[0m", "    \u001b[37m+                    error(\u001b[0m", "    \u001b[37m+                        \"Config file $acton.conf not properly enabled: $confcheck\
\"\u001b[0m", "    \u001b[37m+                    );\u001b[0m", "    \u001b[37m+                    return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            else {\u001b[0m", "    \u001b[37m+                info(\"$name $acton already enabled\
\");\u001b[0m", "    \u001b[37m+                return 1;\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        elsif ( $check eq 'missing' ) {\u001b[0m", "    \u001b[37m+            if ($conflink) {\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                # handle .conf file\u001b[0m", "    \u001b[37m+                my $confcheck = check_link( $conftgt, $conflink );\u001b[0m", "    \u001b[37m+                if ( $confcheck eq 'missing' ) {\u001b[0m", "    \u001b[37m+                    add_link( $conftgt, $conflink ) or return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+                elsif ( $confcheck ne 'ok' ) {\u001b[0m", "    \u001b[37m+                    error(\u001b[0m", "    \u001b[37m+                        \"Config file $acton.conf not properly enabled: $confcheck\
\"\u001b[0m", "    \u001b[37m+                    );\u001b[0m", "    \u001b[37m+                    return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            print \"Enabling $obj $acton.\
\";\u001b[0m", "    \u001b[37m+            if ( $acton eq 'ssl' ) {\u001b[0m", "    \u001b[37m+                info(     \"See /usr/share/doc/apache2/README.Debian.gz on \"\u001b[0m", "    \u001b[37m+                        . \"how to configure SSL and create self-signed certificates.\
\"\u001b[0m", "    \u001b[37m+                );\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            return add_link( $tgt, $link )\u001b[0m", "    \u001b[37m+                && switch_marker( $obj, $act, $acton );\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        else {\u001b[0m", "    \u001b[37m+            error(\"$name $acton not properly enabled: $check\
\");\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    else {\u001b[0m", "    \u001b[37m+        if ( -e $link || -l $link ) {\u001b[0m", "    \u001b[37m+            remove_link($link);\u001b[0m", "    \u001b[37m+            if ( $conflink && -e $conflink ) {\u001b[0m", "    \u001b[37m+                remove_link($conflink);\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            switch_marker( $obj, $act, $acton );\u001b[0m", "    \u001b[37m+            print \"$name $acton disabled.\
\";\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        elsif ( $conflink && -e $conflink ) {\u001b[0m", "    \u001b[37m+            print \"Disabling stale config file $acton.conf.\
\";\u001b[0m", "    \u001b[37m+            remove_link($conflink);\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        else {\u001b[0m", "    \u001b[37m+            info(\"$name $acton already disabled\
\");\u001b[0m", "    \u001b[37m+            if ( $purge ) {\u001b[0m", "    \u001b[37m+                switch_marker( $obj, $act, $acton );\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            return 1;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub get_deps {\u001b[0m", "    \u001b[37m+    my $file = shift;\u001b[0m", "    \u001b[37m+    my $type = shift || \"Depends\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my $fd;\u001b[0m", "    \u001b[37m+    if ( !open( $fd, '<', $file ) ) {\u001b[0m", "    \u001b[37m+        error(\"Can't open $file: $!\");\u001b[0m", "    \u001b[37m+        return;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    my $line;\u001b[0m", "    \u001b[37m+    while ( defined( $line = <$fd> ) ) {\u001b[0m", "    \u001b[37m+        chomp $line;\u001b[0m", "    \u001b[37m+        if ( $line =~ /^# $type:\\s+(.*?)\\s*$/ ) {\u001b[0m", "    \u001b[37m+            my $deps = $1;\u001b[0m", "    \u001b[37m+            return split( /[\
\\s]+/, $deps );\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        # only check until the first non-empty non-comment line\u001b[0m", "    \u001b[37m+        last if ( $line !~ /^\\s*(?:#.*)?$/ );\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub do_deps {\u001b[0m", "    \u001b[37m+    my $acton = shift;\u001b[0m", "    \u001b[37m+    foreach my $d (@_) {\u001b[0m", "    \u001b[37m+        info(\"Considering dependency $d for $acton:\
\");\u001b[0m", "    \u001b[37m+        if ( !doit($d) ) {\u001b[0m", "    \u001b[37m+            error(\"Could not $act dependency $d for $acton, aborting\
\");\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub warn_deps {\u001b[0m", "    \u001b[37m+    my $acton = shift;\u001b[0m", "    \u001b[37m+    my $modsenabldir = $ENV{APACHE_MODS_ENABLED} || \"$confdir/mods-enabled\";\u001b[0m", "    \u001b[37m+    foreach my $d (@_) {\u001b[0m", "    \u001b[37m+        info(\"Checking dependency $d for $acton:\
\");\u001b[0m", "    \u001b[37m+        if ( !-e \"$modsenabldir/$d.load\" ) {\u001b[0m", "    \u001b[37m+            warning(\u001b[0m", "    \u001b[37m+                \"Module $d is not enabled, but $acton depends on it, aborting\
\"\u001b[0m", "    \u001b[37m+            );\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub check_conflicts {\u001b[0m", "    \u001b[37m+    my $acton    = shift;\u001b[0m", "    \u001b[37m+    my $haderror = 0;\u001b[0m", "    \u001b[37m+    foreach my $d (@_) {\u001b[0m", "    \u001b[37m+        info(\"Considering conflict $d for $acton:\
\");\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        my $tgt  = \"$availdir/$d$sffx\";\u001b[0m", "    \u001b[37m+        my $link = \"$enabldir/$d$sffx\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        my $confcheck = check_link( $tgt, $link );\u001b[0m", "    \u001b[37m+        if ( $confcheck eq 'ok' ) {\u001b[0m", "    \u001b[37m+            error(\u001b[0m", "    \u001b[37m+                \"Module $d is enabled - cannot proceed due to conflicts. It needs to be disabled first!\
\"\u001b[0m", "    \u001b[37m+            );\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            # Don't return immediately, there could be several conflicts\u001b[0m", "    \u001b[37m+            $haderror++;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ($haderror) {\u001b[0m", "    \u001b[37m+        return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub add_link {\u001b[0m", "    \u001b[37m+    my ( $tgt, $link ) = @_;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    # create relative link\u001b[0m", "    \u001b[37m+    if ( !symlink( File::Spec->abs2rel( $tgt, dirname($link) ), $link ) ) {\u001b[0m", "    \u001b[37m+        die(\"Could not create $link: $!\
\");\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    $request_reload = 1;\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub check_link {\u001b[0m", "    \u001b[37m+    my ( $tgt, $link ) = @_;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( !-e $link ) {\u001b[0m", "    \u001b[37m+        if ( -l $link ) {\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            # points to nowhere\u001b[0m", "    \u001b[37m+            info(\"Removing dangling link $link\");\u001b[0m", "    \u001b[37m+            unlink($link) or die \"Could not remove $link\
\";\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        return 'missing';\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( -e $link && !-l $link ) {\u001b[0m", "    \u001b[37m+        return \"$link is a real file, not touching it\";\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    if ( realpath($link) ne realpath($tgt) ) {\u001b[0m", "    \u001b[37m+        return \"$link exists but does not point to $tgt, not touching it\";\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return 'ok';\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub remove_link {\u001b[0m", "    \u001b[37m+    my ($link) = @_;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( -l $link ) {\u001b[0m", "    \u001b[37m+        unlink($link) or die \"Could not remove $link: $!\
\";\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    elsif ( -e $link ) {\u001b[0m", "    \u001b[37m+        error(\"$link is not a symbolic link, not deleting\
\");\u001b[0m", "    \u001b[37m+        return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    $request_reload = 1;\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub threaded {\u001b[0m", "    \u001b[37m+    my $result = \"\";\u001b[0m", "    \u001b[37m+    $result = qx{/usr/sbin/apachectl -V | grep 'threaded'}\u001b[0m", "    \u001b[37m+        if -x '/usr/sbin/apachectl';\u001b[0m", "    \u001b[37m+    if ( $? != 0 ) {\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        # config doesn't work\u001b[0m", "    \u001b[37m+        if ( -e \"$enabldir/mpm_prefork.load\" || -e \"$enabldir/mpm_itk.load\" )\u001b[0m", "    \u001b[37m+        {\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        elsif (-e \"$enabldir/mpm_worker.load\"\u001b[0m", "    \u001b[37m+            || -e \"$enabldir/mpm_event.load\" )\u001b[0m", "    \u001b[37m+        {\u001b[0m", "    \u001b[37m+            return 1;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        else {\u001b[0m", "    \u001b[37m+            error(\"Can't determine enabled MPM\");\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            # do what user requested\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    if ( $result =~ / no/ ) {\u001b[0m", "    \u001b[37m+        return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    elsif ( $result =~ / yes/ ) {\u001b[0m", "    \u001b[37m+        return 1;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    else {\u001b[0m", "    \u001b[37m+        die(\"Can't parse output from apache2ctl -V:\
$result\
\");\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub info {\u001b[0m", "    \u001b[37m+    print @_ if !$quiet;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub error {\u001b[0m", "    \u001b[37m+    print STDERR 'ERROR: ', @_;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub warning {\u001b[0m", "    \u001b[37m+    print STDERR 'WARNING: ', @_;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub is_in {\u001b[0m", "    \u001b[37m+    my $needle = shift;\u001b[0m", "    \u001b[37m+    foreach my $e (@_) {\u001b[0m", "    \u001b[37m+        return 1 if $needle eq $e;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return 0;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub read_env_file {\u001b[0m", "    \u001b[37m+    my $file = shift;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    -r $file or return;\u001b[0m", "    \u001b[37m+    my @lines = qx{env - sh -c '. $file && env'};\u001b[0m", "    \u001b[37m+    if ($?) {\u001b[0m", "    \u001b[37m+        die \"Could not read $file\
\";\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    foreach my $l (@lines) {\u001b[0m", "    \u001b[37m+        chomp $l;\u001b[0m", "    \u001b[37m+        $l =~ /^(.*)?=(.*)$/ or die \"Could not parse $file\
\";\u001b[0m", "    \u001b[37m+        $ENV{$1} = $2;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub switch_marker {\u001b[0m", "    \u001b[37m+    die('usage: switch_marker([module|site|conf], [enable|disable], $name)')\u001b[0m", "    \u001b[37m+        if @_ != 3;\u001b[0m", "    \u001b[37m+    my $which = shift;\u001b[0m", "    \u001b[37m+    my $what  = shift;\u001b[0m", "    \u001b[37m+    my $name  = shift;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my $mode = \"admin\";\u001b[0m", "    \u001b[37m+    $mode = \"maint\" if $maintmode;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    #print(\"switch_marker $which $what $name\
\");\u001b[0m", "    \u001b[37m+    # TODO: get rid of the magic string(s)\u001b[0m", "    \u001b[37m+    my $state_marker_dir = \"$statedir/$what\" . \"d\" . \"_by_$mode\";\u001b[0m", "    \u001b[37m+    my $state_marker     = \"$state_marker_dir/$name\";\u001b[0m", "    \u001b[37m+    if ( !-d $state_marker_dir ) {\u001b[0m", "    \u001b[37m+        File::Path::mkpath(\"$state_marker_dir\")\u001b[0m", "    \u001b[37m+            || error(\u001b[0m", "    \u001b[37m+            \"Failed to create marker directory: '$state_marker_dir'\
\");\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    # XXX: swap find with perl alternative\u001b[0m", "    \u001b[37m+    my @markers = qx{find \"$statedir\" -type f -a -name \"$name\"};\u001b[0m", "    \u001b[37m+    chomp(@markers);\u001b[0m", "    \u001b[37m+    foreach (@markers) {\u001b[0m", "    \u001b[37m+        unless ( unlink $_ ) {\u001b[0m", "    \u001b[37m+            error(\"Failed to remove old marker '$_'!\
\") && return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    unless ($purge) {\u001b[0m", "    \u001b[37m+        qx{touch \"$state_marker\"};\u001b[0m", "    \u001b[37m+        if ( $? != 0 ) {\u001b[0m", "    \u001b[37m+            error(\"Failed to create marker '$state_marker'!\
\") && return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        return 1;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+# vim: syntax=perl sw=4 sts=4 sr et\u001b[0m", "    \u001b[32m- change mode from '' to '0700'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0m  * link[/usr/sbin/a2disconf] action delete (skipped due to only_if)", "  * template[/usr/sbin/a2disconf] action create", "    \u001b[32m- create new file /usr/sbin/a2disconf\u001b[0m", "    \u001b[32m- update content in file /usr/sbin/a2disconf from none to 0556b3\u001b[0m", "    \u001b[37m--- /usr/sbin/a2disconf\t2019-04-26 14:50:56.333804338 +0000\u001b[0m", "    \u001b[37m+++ /usr/sbin/.chef-a2disconf20190426-67198-7pxpff\t2019-04-26 14:50:56.333804338 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,533 @@\u001b[0m", "    \u001b[37m+#!/usr/bin/perl -w\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# a2enmod by Stefan Fritsch <sf@debian.org>\u001b[0m", "    \u001b[37m+# Licensed under Apache License 2.0\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# The coding style is \"perltidy -pbp\"\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+use strict;\u001b[0m", "    \u001b[37m+use Cwd 'realpath';\u001b[0m", "    \u001b[37m+use File::Spec;\u001b[0m", "    \u001b[37m+use File::Basename;\u001b[0m", "    \u001b[37m+use File::Path;\u001b[0m", "    \u001b[37m+use Getopt::Long;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $quiet;\u001b[0m", "    \u001b[37m+my $force;\u001b[0m", "    \u001b[37m+my $maintmode;\u001b[0m", "    \u001b[37m+my $purge;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+Getopt::Long::Configure('bundling');\u001b[0m", "    \u001b[37m+GetOptions(\u001b[0m", "    \u001b[37m+    'quiet|q'     => \\$quiet,\u001b[0m", "    \u001b[37m+    'force|f'     => \\$force,\u001b[0m", "    \u001b[37m+    'maintmode|m' => \\$maintmode,\u001b[0m", "    \u001b[37m+    'purge|p'     => \\$purge\u001b[0m", "    \u001b[37m+) or exit 2;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $basename = basename($0);\u001b[0m", "    \u001b[37m+$basename =~ /^a2(en|dis)(mod|site|conf)((?:-.+)?)$/\u001b[0m", "    \u001b[37m+    or die \"$basename call name unknown\
\";\u001b[0m", "    \u001b[37m+my $act        = $1;\u001b[0m", "    \u001b[37m+my $obj        = $2;\u001b[0m", "    \u001b[37m+my $dir_suffix = $3;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $env_file = $ENV{APACHE_ENVVARS}\u001b[0m", "    \u001b[37m+    || (\u001b[0m", "    \u001b[37m+    $ENV{APACHE_CONFDIR}\u001b[0m", "    \u001b[37m+    ? \"$ENV{APACHE_CONFDIR}/envvars\"\u001b[0m", "    \u001b[37m+    : \"/etc/httpd$dir_suffix/envvars\"\u001b[0m", "    \u001b[37m+    );\u001b[0m", "    \u001b[37m+$ENV{LANG} = 'C';\u001b[0m", "    \u001b[37m+read_env_file($env_file);\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+$act .= 'able';\u001b[0m", "    \u001b[37m+my ( $name, $dir, $sffx, $reload );\u001b[0m", "    \u001b[37m+if ( $obj eq 'mod' ) {\u001b[0m", "    \u001b[37m+    $obj    = 'module';\u001b[0m", "    \u001b[37m+    $dir    = 'mods';\u001b[0m", "    \u001b[37m+    $sffx   = '.load';\u001b[0m", "    \u001b[37m+    $reload = 'restart';\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+elsif ( $obj eq 'conf' ) {\u001b[0m", "    \u001b[37m+    $obj    = 'conf';\u001b[0m", "    \u001b[37m+    $dir    = 'conf';\u001b[0m", "    \u001b[37m+    $sffx   = '.conf';\u001b[0m", "    \u001b[37m+    $reload = 'reload';\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+else {\u001b[0m", "    \u001b[37m+    $dir    = 'sites';\u001b[0m", "    \u001b[37m+    $sffx   = '.conf';\u001b[0m", "    \u001b[37m+    $reload = 'reload';\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+$name = ucfirst($obj);\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $confdir = $ENV{APACHE_CONFDIR} || \"/etc/httpd$dir_suffix\";\u001b[0m", "    \u001b[37m+my $availdir = $ENV{ uc(\"APACHE_${dir}_AVAILABLE\") }\u001b[0m", "    \u001b[37m+    || \"$confdir/$dir-available\";\u001b[0m", "    \u001b[37m+my $enabldir = $ENV{ uc(\"APACHE_${dir}_ENABLED\") } || \"$confdir/$dir-enabled\";\u001b[0m", "    \u001b[37m+my $statedir = $ENV{ uc(\"APACHE_STATE_DIRECTORY\") } || \"/usr/lib64/httpd\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+$statedir .= \"/$obj\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $choicedir = $act eq 'enable' ? $availdir : $enabldir;\u001b[0m", "    \u001b[37m+my $linkdir = File::Spec->abs2rel( $availdir, $enabldir );\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $request_reload = 0;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my $rc = 0;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+if ( !scalar @ARGV ) {\u001b[0m", "    \u001b[37m+    my @choices = myglob('*');\u001b[0m", "    \u001b[37m+    print \"Your choices are: @choices\
\";\u001b[0m", "    \u001b[37m+    print \"Which ${obj}(s) do you want to $act (wildcards ok)?\
\";\u001b[0m", "    \u001b[37m+    my $input = <>;\u001b[0m", "    \u001b[37m+    @ARGV = split /\\s+/, $input;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+my @objs;\u001b[0m", "    \u001b[37m+foreach my $arg (@ARGV) {\u001b[0m", "    \u001b[37m+    $arg =~ s/${sffx}$//;\u001b[0m", "    \u001b[37m+    my @glob = myglob($arg);\u001b[0m", "    \u001b[37m+    if ( !@glob ) {\u001b[0m", "    \u001b[37m+        error(\"No $obj found matching $arg!\
\");\u001b[0m", "    \u001b[37m+        $rc = 1;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    else {\u001b[0m", "    \u001b[37m+        push @objs, @glob;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+foreach my $acton (@objs) {\u001b[0m", "    \u001b[37m+    doit($acton) or $rc = 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+info(\u001b[0m", "    \u001b[37m+    \"To activate the new configuration, you need to run:\
  service apache2 $reload\
\"\u001b[0m", "    \u001b[37m+) if $request_reload;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+exit($rc);\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+##############################################################################\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub myglob {\u001b[0m", "    \u001b[37m+    my $arg = shift;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my @glob = map {\u001b[0m", "    \u001b[37m+        s{^$choicedir/}{};\u001b[0m", "    \u001b[37m+        s{$sffx$}{};\u001b[0m", "    \u001b[37m+        $_\u001b[0m", "    \u001b[37m+    } glob(\"$choicedir/$arg$sffx\");\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    return @glob;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub doit {\u001b[0m", "    \u001b[37m+    my $acton = shift;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my ( $conftgt, $conflink );\u001b[0m", "    \u001b[37m+    if ( $obj eq 'module' ) {\u001b[0m", "    \u001b[37m+        if ( $acton eq 'cgi' && threaded() ) {\u001b[0m", "    \u001b[37m+            print\u001b[0m", "    \u001b[37m+                \"Your MPM seems to be threaded. Selecting cgid instead of cgi.\
\";\u001b[0m", "    \u001b[37m+            $acton = 'cgid';\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        $conftgt = \"$availdir/$acton.conf\";\u001b[0m", "    \u001b[37m+        if ( -e $conftgt ) {\u001b[0m", "    \u001b[37m+            $conflink = \"$enabldir/$acton.conf\";\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my $tgt  = \"$availdir/$acton$sffx\";\u001b[0m", "    \u001b[37m+    my $link = \"$enabldir/$acton$sffx\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( !-e $tgt ) {\u001b[0m", "    \u001b[37m+        if ( -l $link && !-e $link ) {\u001b[0m", "    \u001b[37m+            if ( $act eq 'disable' ) {\u001b[0m", "    \u001b[37m+                info(\"removing dangling symlink $link\
\");\u001b[0m", "    \u001b[37m+                unlink($link);\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                # force a .conf path. It may exist as dangling link, too\u001b[0m", "    \u001b[37m+                $conflink = \"$enabldir/$acton.conf\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                if ( -l $conflink && !-e $conflink ) {\u001b[0m", "    \u001b[37m+                    info(\"removing dangling symlink $conflink\
\");\u001b[0m", "    \u001b[37m+                    unlink($conflink);\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                return 1;\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            else {\u001b[0m", "    \u001b[37m+                error(\"$link is a dangling symlink!\
\");\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        if ( $purge ) {\u001b[0m", "    \u001b[37m+            switch_marker( $obj, $act, $acton );\u001b[0m", "    \u001b[37m+            # exit silently, we are purging anyway\u001b[0m", "    \u001b[37m+            return 1;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        error(\"$name $acton does not exist!\
\");\u001b[0m", "    \u001b[37m+        return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    # handle module dependencies\u001b[0m", "    \u001b[37m+    if ( $obj eq 'module' ) {\u001b[0m", "    \u001b[37m+        if ( $act eq 'enable' ) {\u001b[0m", "    \u001b[37m+            if ( $acton eq 'mpm_itk' ) {\u001b[0m", "    \u001b[37m+                warning(  \"MPM_ITK is a third party module that is not part \"\u001b[0m", "    \u001b[37m+                        . \"of the official Apache HTTPD. It has seen less \"\u001b[0m", "    \u001b[37m+                        . \"testing than the official MPM modules.\" );\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            my @depends = get_deps(\"$availdir/$acton.load\");\u001b[0m", "    \u001b[37m+            do_deps( $acton, @depends ) or return 0;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            my @conflicts = get_deps( \"$availdir/$acton.load\", \"Conflicts\" );\u001b[0m", "    \u001b[37m+            check_conflicts( $acton, @conflicts ) or return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        else {\u001b[0m", "    \u001b[37m+            my @depending;\u001b[0m", "    \u001b[37m+            foreach my $d ( glob(\"$enabldir/*.load\") ) {\u001b[0m", "    \u001b[37m+                my @deps = get_deps($d);\u001b[0m", "    \u001b[37m+                if ( is_in( $acton, @deps ) ) {\u001b[0m", "    \u001b[37m+                    $d =~ m,/([^/]+).load$,;\u001b[0m", "    \u001b[37m+                    push @depending, $1;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            if ( scalar @depending ) {\u001b[0m", "    \u001b[37m+                if ($force) {\u001b[0m", "    \u001b[37m+                    do_deps( $acton, @depending ) or return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+                else {\u001b[0m", "    \u001b[37m+                    error(\u001b[0m", "    \u001b[37m+                        \"The following modules depend on $acton \",\u001b[0m", "    \u001b[37m+                        \"and need to be disabled first: @depending\
\"\u001b[0m", "    \u001b[37m+                    );\u001b[0m", "    \u001b[37m+                    return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    elsif ( $act eq 'enable' ) {\u001b[0m", "    \u001b[37m+        my @depends = get_deps(\"$availdir/$acton$sffx\");\u001b[0m", "    \u001b[37m+        warn_deps( $acton, @depends ) or return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( $act eq 'enable' ) {\u001b[0m", "    \u001b[37m+        my $check = check_link( $tgt, $link );\u001b[0m", "    \u001b[37m+        if ( $check eq 'ok' ) {\u001b[0m", "    \u001b[37m+            if ($conflink) {\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                # handle .conf file\u001b[0m", "    \u001b[37m+                my $confcheck = check_link( $conftgt, $conflink );\u001b[0m", "    \u001b[37m+                if ( $confcheck eq 'ok' ) {\u001b[0m", "    \u001b[37m+                    info(\"$name $acton already enabled\
\");\u001b[0m", "    \u001b[37m+                    return 1;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+                elsif ( $confcheck eq 'missing' ) {\u001b[0m", "    \u001b[37m+                    print \"Enabling config file $acton.conf.\
\";\u001b[0m", "    \u001b[37m+                    add_link( $conftgt, $conflink ) or return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+                else {\u001b[0m", "    \u001b[37m+                    error(\u001b[0m", "    \u001b[37m+                        \"Config file $acton.conf not properly enabled: $confcheck\
\"\u001b[0m", "    \u001b[37m+                    );\u001b[0m", "    \u001b[37m+                    return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            else {\u001b[0m", "    \u001b[37m+                info(\"$name $acton already enabled\
\");\u001b[0m", "    \u001b[37m+                return 1;\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        elsif ( $check eq 'missing' ) {\u001b[0m", "    \u001b[37m+            if ($conflink) {\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+                # handle .conf file\u001b[0m", "    \u001b[37m+                my $confcheck = check_link( $conftgt, $conflink );\u001b[0m", "    \u001b[37m+                if ( $confcheck eq 'missing' ) {\u001b[0m", "    \u001b[37m+                    add_link( $conftgt, $conflink ) or return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+                elsif ( $confcheck ne 'ok' ) {\u001b[0m", "    \u001b[37m+                    error(\u001b[0m", "    \u001b[37m+                        \"Config file $acton.conf not properly enabled: $confcheck\
\"\u001b[0m", "    \u001b[37m+                    );\u001b[0m", "    \u001b[37m+                    return 0;\u001b[0m", "    \u001b[37m+                }\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            print \"Enabling $obj $acton.\
\";\u001b[0m", "    \u001b[37m+            if ( $acton eq 'ssl' ) {\u001b[0m", "    \u001b[37m+                info(     \"See /usr/share/doc/apache2/README.Debian.gz on \"\u001b[0m", "    \u001b[37m+                        . \"how to configure SSL and create self-signed certificates.\
\"\u001b[0m", "    \u001b[37m+                );\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            return add_link( $tgt, $link )\u001b[0m", "    \u001b[37m+                && switch_marker( $obj, $act, $acton );\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        else {\u001b[0m", "    \u001b[37m+            error(\"$name $acton not properly enabled: $check\
\");\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    else {\u001b[0m", "    \u001b[37m+        if ( -e $link || -l $link ) {\u001b[0m", "    \u001b[37m+            remove_link($link);\u001b[0m", "    \u001b[37m+            if ( $conflink && -e $conflink ) {\u001b[0m", "    \u001b[37m+                remove_link($conflink);\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            switch_marker( $obj, $act, $acton );\u001b[0m", "    \u001b[37m+            print \"$name $acton disabled.\
\";\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        elsif ( $conflink && -e $conflink ) {\u001b[0m", "    \u001b[37m+            print \"Disabling stale config file $acton.conf.\
\";\u001b[0m", "    \u001b[37m+            remove_link($conflink);\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        else {\u001b[0m", "    \u001b[37m+            info(\"$name $acton already disabled\
\");\u001b[0m", "    \u001b[37m+            if ( $purge ) {\u001b[0m", "    \u001b[37m+                switch_marker( $obj, $act, $acton );\u001b[0m", "    \u001b[37m+            }\u001b[0m", "    \u001b[37m+            return 1;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub get_deps {\u001b[0m", "    \u001b[37m+    my $file = shift;\u001b[0m", "    \u001b[37m+    my $type = shift || \"Depends\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my $fd;\u001b[0m", "    \u001b[37m+    if ( !open( $fd, '<', $file ) ) {\u001b[0m", "    \u001b[37m+        error(\"Can't open $file: $!\");\u001b[0m", "    \u001b[37m+        return;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    my $line;\u001b[0m", "    \u001b[37m+    while ( defined( $line = <$fd> ) ) {\u001b[0m", "    \u001b[37m+        chomp $line;\u001b[0m", "    \u001b[37m+        if ( $line =~ /^# $type:\\s+(.*?)\\s*$/ ) {\u001b[0m", "    \u001b[37m+            my $deps = $1;\u001b[0m", "    \u001b[37m+            return split( /[\
\\s]+/, $deps );\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        # only check until the first non-empty non-comment line\u001b[0m", "    \u001b[37m+        last if ( $line !~ /^\\s*(?:#.*)?$/ );\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub do_deps {\u001b[0m", "    \u001b[37m+    my $acton = shift;\u001b[0m", "    \u001b[37m+    foreach my $d (@_) {\u001b[0m", "    \u001b[37m+        info(\"Considering dependency $d for $acton:\
\");\u001b[0m", "    \u001b[37m+        if ( !doit($d) ) {\u001b[0m", "    \u001b[37m+            error(\"Could not $act dependency $d for $acton, aborting\
\");\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub warn_deps {\u001b[0m", "    \u001b[37m+    my $acton = shift;\u001b[0m", "    \u001b[37m+    my $modsenabldir = $ENV{APACHE_MODS_ENABLED} || \"$confdir/mods-enabled\";\u001b[0m", "    \u001b[37m+    foreach my $d (@_) {\u001b[0m", "    \u001b[37m+        info(\"Checking dependency $d for $acton:\
\");\u001b[0m", "    \u001b[37m+        if ( !-e \"$modsenabldir/$d.load\" ) {\u001b[0m", "    \u001b[37m+            warning(\u001b[0m", "    \u001b[37m+                \"Module $d is not enabled, but $acton depends on it, aborting\
\"\u001b[0m", "    \u001b[37m+            );\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub check_conflicts {\u001b[0m", "    \u001b[37m+    my $acton    = shift;\u001b[0m", "    \u001b[37m+    my $haderror = 0;\u001b[0m", "    \u001b[37m+    foreach my $d (@_) {\u001b[0m", "    \u001b[37m+        info(\"Considering conflict $d for $acton:\
\");\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        my $tgt  = \"$availdir/$d$sffx\";\u001b[0m", "    \u001b[37m+        my $link = \"$enabldir/$d$sffx\";\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        my $confcheck = check_link( $tgt, $link );\u001b[0m", "    \u001b[37m+        if ( $confcheck eq 'ok' ) {\u001b[0m", "    \u001b[37m+            error(\u001b[0m", "    \u001b[37m+                \"Module $d is enabled - cannot proceed due to conflicts. It needs to be disabled first!\
\"\u001b[0m", "    \u001b[37m+            );\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            # Don't return immediately, there could be several conflicts\u001b[0m", "    \u001b[37m+            $haderror++;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ($haderror) {\u001b[0m", "    \u001b[37m+        return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub add_link {\u001b[0m", "    \u001b[37m+    my ( $tgt, $link ) = @_;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    # create relative link\u001b[0m", "    \u001b[37m+    if ( !symlink( File::Spec->abs2rel( $tgt, dirname($link) ), $link ) ) {\u001b[0m", "    \u001b[37m+        die(\"Could not create $link: $!\
\");\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    $request_reload = 1;\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub check_link {\u001b[0m", "    \u001b[37m+    my ( $tgt, $link ) = @_;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( !-e $link ) {\u001b[0m", "    \u001b[37m+        if ( -l $link ) {\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            # points to nowhere\u001b[0m", "    \u001b[37m+            info(\"Removing dangling link $link\");\u001b[0m", "    \u001b[37m+            unlink($link) or die \"Could not remove $link\
\";\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        return 'missing';\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( -e $link && !-l $link ) {\u001b[0m", "    \u001b[37m+        return \"$link is a real file, not touching it\";\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    if ( realpath($link) ne realpath($tgt) ) {\u001b[0m", "    \u001b[37m+        return \"$link exists but does not point to $tgt, not touching it\";\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return 'ok';\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub remove_link {\u001b[0m", "    \u001b[37m+    my ($link) = @_;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    if ( -l $link ) {\u001b[0m", "    \u001b[37m+        unlink($link) or die \"Could not remove $link: $!\
\";\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    elsif ( -e $link ) {\u001b[0m", "    \u001b[37m+        error(\"$link is not a symbolic link, not deleting\
\");\u001b[0m", "    \u001b[37m+        return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    $request_reload = 1;\u001b[0m", "    \u001b[37m+    return 1;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub threaded {\u001b[0m", "    \u001b[37m+    my $result = \"\";\u001b[0m", "    \u001b[37m+    $result = qx{/usr/sbin/apachectl -V | grep 'threaded'}\u001b[0m", "    \u001b[37m+        if -x '/usr/sbin/apachectl';\u001b[0m", "    \u001b[37m+    if ( $? != 0 ) {\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+        # config doesn't work\u001b[0m", "    \u001b[37m+        if ( -e \"$enabldir/mpm_prefork.load\" || -e \"$enabldir/mpm_itk.load\" )\u001b[0m", "    \u001b[37m+        {\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        elsif (-e \"$enabldir/mpm_worker.load\"\u001b[0m", "    \u001b[37m+            || -e \"$enabldir/mpm_event.load\" )\u001b[0m", "    \u001b[37m+        {\u001b[0m", "    \u001b[37m+            return 1;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        else {\u001b[0m", "    \u001b[37m+            error(\"Can't determine enabled MPM\");\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+            # do what user requested\u001b[0m", "    \u001b[37m+            return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    if ( $result =~ / no/ ) {\u001b[0m", "    \u001b[37m+        return 0;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    elsif ( $result =~ / yes/ ) {\u001b[0m", "    \u001b[37m+        return 1;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    else {\u001b[0m", "    \u001b[37m+        die(\"Can't parse output from apache2ctl -V:\
$result\
\");\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub info {\u001b[0m", "    \u001b[37m+    print @_ if !$quiet;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub error {\u001b[0m", "    \u001b[37m+    print STDERR 'ERROR: ', @_;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub warning {\u001b[0m", "    \u001b[37m+    print STDERR 'WARNING: ', @_;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub is_in {\u001b[0m", "    \u001b[37m+    my $needle = shift;\u001b[0m", "    \u001b[37m+    foreach my $e (@_) {\u001b[0m", "    \u001b[37m+        return 1 if $needle eq $e;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    return 0;\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub read_env_file {\u001b[0m", "    \u001b[37m+    my $file = shift;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    -r $file or return;\u001b[0m", "    \u001b[37m+    my @lines = qx{env - sh -c '. $file && env'};\u001b[0m", "    \u001b[37m+    if ($?) {\u001b[0m", "    \u001b[37m+        die \"Could not read $file\
\";\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    foreach my $l (@lines) {\u001b[0m", "    \u001b[37m+        chomp $l;\u001b[0m", "    \u001b[37m+        $l =~ /^(.*)?=(.*)$/ or die \"Could not parse $file\
\";\u001b[0m", "    \u001b[37m+        $ENV{$1} = $2;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+sub switch_marker {\u001b[0m", "    \u001b[37m+    die('usage: switch_marker([module|site|conf], [enable|disable], $name)')\u001b[0m", "    \u001b[37m+        if @_ != 3;\u001b[0m", "    \u001b[37m+    my $which = shift;\u001b[0m", "    \u001b[37m+    my $what  = shift;\u001b[0m", "    \u001b[37m+    my $name  = shift;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    my $mode = \"admin\";\u001b[0m", "    \u001b[37m+    $mode = \"maint\" if $maintmode;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    #print(\"switch_marker $which $what $name\
\");\u001b[0m", "    \u001b[37m+    # TODO: get rid of the magic string(s)\u001b[0m", "    \u001b[37m+    my $state_marker_dir = \"$statedir/$what\" . \"d\" . \"_by_$mode\";\u001b[0m", "    \u001b[37m+    my $state_marker     = \"$state_marker_dir/$name\";\u001b[0m", "    \u001b[37m+    if ( !-d $state_marker_dir ) {\u001b[0m", "    \u001b[37m+        File::Path::mkpath(\"$state_marker_dir\")\u001b[0m", "    \u001b[37m+            || error(\u001b[0m", "    \u001b[37m+            \"Failed to create marker directory: '$state_marker_dir'\
\");\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    # XXX: swap find with perl alternative\u001b[0m", "    \u001b[37m+    my @markers = qx{find \"$statedir\" -type f -a -name \"$name\"};\u001b[0m", "    \u001b[37m+    chomp(@markers);\u001b[0m", "    \u001b[37m+    foreach (@markers) {\u001b[0m", "    \u001b[37m+        unless ( unlink $_ ) {\u001b[0m", "    \u001b[37m+            error(\"Failed to remove old marker '$_'!\
\") && return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+    unless ($purge) {\u001b[0m", "    \u001b[37m+        qx{touch \"$state_marker\"};\u001b[0m", "    \u001b[37m+        if ( $? != 0 ) {\u001b[0m", "    \u001b[37m+            error(\"Failed to create marker '$state_marker'!\
\") && return 0;\u001b[0m", "    \u001b[37m+        }\u001b[0m", "    \u001b[37m+        return 1;\u001b[0m", "    \u001b[37m+    }\u001b[0m", "    \u001b[37m+}\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+# vim: syntax=perl sw=4 sts=4 sr et\u001b[0m", "    \u001b[32m- change mode from '' to '0700'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0m  * cookbook_file[/usr/local/bin/apache2_module_conf_generate.pl] action create", "    \u001b[32m- create new file /usr/local/bin/apache2_module_conf_generate.pl\u001b[0m", "    \u001b[32m- update content in file /usr/local/bin/apache2_module_conf_generate.pl from none to eaf6aa\u001b[0m", "    \u001b[37m--- /usr/local/bin/apache2_module_conf_generate.pl\t2019-04-26 14:50:56.349804916 +0000\u001b[0m", "    \u001b[37m+++ /usr/local/bin/.chef-apache2_module_conf_generate20190426-67198-e69b2e.pl\t2019-04-26 14:50:56.349804916 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,42 @@\u001b[0m", "    \u001b[37m+#!/usr/bin/perl\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+=begin\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+Generates Ubuntu style module.load files.\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+./apache2_module_conf_generate.pl /usr/lib64/httpd/modules /etc/httpd/mods-available\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+ARGV[0] is the apache modules directory, ARGV[1] is where you want 'em.\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+=cut\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+use File::Find;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+use strict;\u001b[0m", "    \u001b[37m+use warnings;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+die \"Must have '/path/to/modules' and '/path/to/modules.load'\"\u001b[0m", "    \u001b[37m+  unless $ARGV[0] && $ARGV[1];\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+find(\u001b[0m", "    \u001b[37m+  {\u001b[0m", "    \u001b[37m+    wanted => sub {\u001b[0m", "    \u001b[37m+      return 1 if $File::Find::name !~ /\\.so$/;\u001b[0m", "    \u001b[37m+      my $modfile = $_;\u001b[0m", "    \u001b[37m+      $modfile =~ /(lib|mod_)(.+)\\.so$/;\u001b[0m", "    \u001b[37m+      my $modname  = $2;\u001b[0m", "    \u001b[37m+      my $filename = \"$ARGV[1]/$modname.load\";\u001b[0m", "    \u001b[37m+      unless ( -f $filename ) {\u001b[0m", "    \u001b[37m+        open( FILE, \">\", $filename ) or die \"Cannot open $filename\";\u001b[0m", "    \u001b[37m+        print FILE \"LoadModule \" . $modname . \"_module $File::Find::name\
\";\u001b[0m", "    \u001b[37m+        close(FILE);\u001b[0m", "    \u001b[37m+      }\u001b[0m", "    \u001b[37m+    },\u001b[0m", "    \u001b[37m+    follow => 1,\u001b[0m", "    \u001b[37m+  },\u001b[0m", "    \u001b[37m+  $ARGV[0]\u001b[0m", "    \u001b[37m+);\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+exit 0;\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[32m- change mode from '' to '0755'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0m  * execute[generate-module-list] action nothing (skipped due to action :nothing)", "  * directory[/etc/httpd/ssl] action create", "    \u001b[32m- create new directory /etc/httpd/ssl\u001b[0m", "    \u001b[32m- change mode from '' to '0755'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0m  * directory[/var/cache/httpd] action create", "    \u001b[32m- change mode from '0700' to '0755'\u001b[0m", "    \u001b[32m- change owner from 'apache' to 'root'\u001b[0m", "    \u001b[32m- change group from 'apache' to 'root'\u001b[0m", "\u001b[0m  * directory[/var/run/httpd] action create", "    \u001b[32m- change mode from '0710' to '0755'\u001b[0m", "    \u001b[32m- change group from 'apache' to 'root'\u001b[0m", "\u001b[0m  * template[/etc/sysconfig/httpd] action create", "    \u001b[32m- update content in file /etc/sysconfig/httpd from fa3a9b to a17f9c\u001b[0m", "    \u001b[37m--- /etc/sysconfig/httpd\t2018-10-30 15:00:25.000000000 +0000\u001b[0m", "    \u001b[37m+++ /etc/sysconfig/.chef-httpd20190426-67198-pbz3l7\t2019-04-26 14:50:56.361805350 +0000\u001b[0m", "    \u001b[37m@@ -1,14 +1,12 @@\u001b[0m", "    \u001b[37m+# This file is managed by Chef. Changes will be overwritten.\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-# This file can be used to set additional environment variables for\u001b[0m", "    \u001b[37m-# the httpd process, or pass additional options to the httpd\u001b[0m", "    \u001b[37m-# executable.\u001b[0m", "    \u001b[37m+# The default processing model (MPM) is the process-based\u001b[0m", "    \u001b[37m+# 'prefork' model.  A thread-based model, 'worker', is also\u001b[0m", "    \u001b[37m+# available, but does not work with some modules (such as PHP).\u001b[0m", "    \u001b[37m+# The service must be stopped before changing this variable.\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-# Note: With previous versions of httpd, the MPM could be changed by\u001b[0m", "    \u001b[37m-# editing an \"HTTPD\" variable here.  With the current version, that\u001b[0m", "    \u001b[37m-# variable is now ignored.  The MPM is a loadable module, and the\u001b[0m", "    \u001b[37m-# choice of MPM can be changed by editing the configuration file\u001b[0m", "    \u001b[37m-# /etc/httpd/conf.modules.d/00-mpm.conf.\u001b[0m", "    \u001b[37m-# \u001b[0m", "    \u001b[37m+HTTPD=/usr/sbin/httpd\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m # To pass additional options (for instance, -D definitions) to the\u001b[0m", "    \u001b[37m@@ -17,10 +15,19 @@\u001b[0m", "    \u001b[37m #OPTIONS=\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-# This setting ensures the httpd process is started in the \"C\" locale\u001b[0m", "    \u001b[37m-# by default.  (Some modules will not behave correctly if\u001b[0m", "    \u001b[37m-# case-sensitive string comparisons are performed in a different\u001b[0m", "    \u001b[37m-# locale.)\u001b[0m", "    \u001b[37m+# By default, the httpd process is started in the C locale; to\u001b[0m", "    \u001b[37m+# change the locale in which the server runs, the HTTPD_LANG\u001b[0m", "    \u001b[37m+# variable can be set.\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-LANG=C\u001b[0m", "    \u001b[37m+HTTPD_LANG=C\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# By default, the httpd process will create the file\u001b[0m", "    \u001b[37m+# /var/run/httpd/httpd.pid in which it records its process\u001b[0m", "    \u001b[37m+# identification number when it starts.  If an alternate location is\u001b[0m", "    \u001b[37m+# specified in httpd.conf (via the PidFile directive), the new\u001b[0m", "    \u001b[37m+# location needs to be reported in the PIDFILE.\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+PIDFILE=/var/run/httpd/httpd.pid\u001b[0m", "    \u001b[37m+\u001b[0m", "\u001b[0m  * template[/etc/httpd/envvars] action create (skipped due to only_if)", "  * template[apache2.conf] action create", "    \u001b[32m- update content in file /etc/httpd/conf/httpd.conf from 3f002b to 91de15\u001b[0m", "    \u001b[37m--- /etc/httpd/conf/httpd.conf\t2018-10-30 15:00:25.000000000 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/conf/.chef-httpd20190426-67198-y092ui.conf\t2019-04-26 14:50:56.367805567 +0000\u001b[0m", "    \u001b[37m@@ -1,185 +1,111 @@\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-# This is the main Apache HTTP server configuration file.  It contains the\u001b[0m", "    \u001b[37m-# configuration directives that give the server its instructions.\u001b[0m", "    \u001b[37m-# See <URL:http://httpd.apache.org/docs/2.4/> for detailed information.\u001b[0m", "    \u001b[37m-# In particular, see \u001b[0m", "    \u001b[37m-# <URL:http://httpd.apache.org/docs/2.4/mod/directives.html>\u001b[0m", "    \u001b[37m-# for a discussion of each configuration directive.\u001b[0m", "    \u001b[37m+# Generated by Chef\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-# Do NOT simply read the instructions in here without understanding\u001b[0m", "    \u001b[37m-# what they do.  They're here only as hints or reminders.  If you are unsure\u001b[0m", "    \u001b[37m-# consult the online docs. You have been warned.  \u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# Configuration and logfile names: If the filenames you specify for many\u001b[0m", "    \u001b[37m-# of the server's control files begin with \"/\" (or \"drive:/\" for Win32), the\u001b[0m", "    \u001b[37m-# server will use that explicit path.  If the filenames do *not* begin\u001b[0m", "    \u001b[37m-# with \"/\", the value of ServerRoot is prepended -- so 'log/access_log'\u001b[0m", "    \u001b[37m-# with ServerRoot set to '/www' will be interpreted by the\u001b[0m", "    \u001b[37m-# server as '/www/log/access_log', where as '/log/access_log' will be\u001b[0m", "    \u001b[37m-# interpreted as '/log/access_log'.\u001b[0m", "    \u001b[37m+# Based on the Ubuntu apache2.conf\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# ServerRoot: The top of the directory tree under which the server's\u001b[0m", "    \u001b[37m-# configuration, error, and log files are kept.\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# Do not add a slash at the end of the directory path.  If you point\u001b[0m", "    \u001b[37m-# ServerRoot at a non-local disk, be sure to specify a local disk on the\u001b[0m", "    \u001b[37m-# Mutex directive, if file-based mutexes are used.  If you wish to share the\u001b[0m", "    \u001b[37m-# same ServerRoot for multiple httpd daemons, you will need to change at\u001b[0m", "    \u001b[37m-# least PidFile.\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m ServerRoot \"/etc/httpd\"\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-# Listen: Allows you to bind Apache to specific IP addresses and/or\u001b[0m", "    \u001b[37m-# ports, instead of the default. See also the <VirtualHost>\u001b[0m", "    \u001b[37m-# directive.\u001b[0m", "    \u001b[37m+# The accept serialization lock file MUST BE STORED ON A LOCAL DISK.\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-# Change this to Listen on specific IP addresses as shown below to \u001b[0m", "    \u001b[37m-# prevent Apache from glomming onto all bound IP addresses.\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-#Listen 12.34.56.78:80\u001b[0m", "    \u001b[37m-Listen 80\u001b[0m", "    \u001b[37m+Mutex file:/var/run/httpd default\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-# Dynamic Shared Object (DSO) Support\u001b[0m", "    \u001b[37m+# PidFile: The file in which the server should record its process\u001b[0m", "    \u001b[37m+# identification number when it starts.\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-# To be able to use the functionality of a module which was built as a DSO you\u001b[0m", "    \u001b[37m-# have to place corresponding `LoadModule' lines at this location so the\u001b[0m", "    \u001b[37m-# directives contained in it are actually available _before_ they are used.\u001b[0m", "    \u001b[37m-# Statically compiled modules (those listed by `httpd -l') do not need\u001b[0m", "    \u001b[37m-# to be loaded here.\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# Example:\u001b[0m", "    \u001b[37m-# LoadModule foo_module modules/mod_foo.so\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-Include conf.modules.d/*.conf\u001b[0m", "    \u001b[37m+PidFile /var/run/httpd/httpd.pid\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-# If you wish httpd to run as a different user or group, you must run\u001b[0m", "    \u001b[37m-# httpd as root initially and it will switch.  \u001b[0m", "    \u001b[37m+# Timeout: The number of seconds before receives and sends time out.\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-# User/Group: The name (or #number) of the user/group to run httpd as.\u001b[0m", "    \u001b[37m-# It is usually good practice to create a dedicated user and group for\u001b[0m", "    \u001b[37m-# running httpd, as with most system services.\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-User apache\u001b[0m", "    \u001b[37m-Group apache\u001b[0m", "    \u001b[37m+Timeout 300\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m-# 'Main' server configuration\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-# The directives in this section set up the values used by the 'main'\u001b[0m", "    \u001b[37m-# server, which responds to any requests that aren't handled by a\u001b[0m", "    \u001b[37m-# <VirtualHost> definition.  These values also provide defaults for\u001b[0m", "    \u001b[37m-# any <VirtualHost> containers you may define later in the file.\u001b[0m", "    \u001b[37m+# KeepAlive: Whether or not to allow persistent connections (more than\u001b[0m", "    \u001b[37m+# one request per connection). Set to \"Off\" to deactivate.\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-# All of these directives may appear inside <VirtualHost> containers,\u001b[0m", "    \u001b[37m-# in which case these default settings will be overridden for the\u001b[0m", "    \u001b[37m-# virtual host being defined.\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m+KeepAlive On\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-# ServerAdmin: Your address, where problems with the server should be\u001b[0m", "    \u001b[37m-# e-mailed.  This address appears on some server-generated pages, such\u001b[0m", "    \u001b[37m-# as error documents.  e.g. admin@your-domain.com\u001b[0m", "    \u001b[37m+# MaxKeepAliveRequests: The maximum number of requests to allow\u001b[0m", "    \u001b[37m+# during a persistent connection. Set to 0 to allow an unlimited amount.\u001b[0m", "    \u001b[37m+# We recommend you leave this number high, for maximum performance.\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-ServerAdmin root@localhost\u001b[0m", "    \u001b[37m+MaxKeepAliveRequests 100\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-# ServerName gives the name and port that the server uses to identify itself.\u001b[0m", "    \u001b[37m-# This can often be determined automatically, but we recommend you specify\u001b[0m", "    \u001b[37m-# it explicitly to prevent problems during startup.\u001b[0m", "    \u001b[37m+# KeepAliveTimeout: Number of seconds to wait for the next request from the\u001b[0m", "    \u001b[37m+# same client on the same connection.\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-# If your host doesn't have a registered DNS name, enter its IP address here.\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-#ServerName www.example.com:80\u001b[0m", "    \u001b[37m+KeepAliveTimeout 5\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m+#<IfModule unixd_module>\u001b[0m", "    \u001b[37m+User apache\u001b[0m", "    \u001b[37m+Group apache\u001b[0m", "    \u001b[37m+#</IfModule>\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+# Sets the default security model of the Apache2 HTTPD server. It does\u001b[0m", "    \u001b[37m+# not allow access to the root filesystem outside of /usr/share and /var/www/html.\u001b[0m", "    \u001b[37m+# If your system is serving content from a sub-directory in /srv you must allow\u001b[0m", "    \u001b[37m+# access in conf-enabled, or in any related virtual host. e.g.\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-# Deny access to the entirety of your server's filesystem. You must\u001b[0m", "    \u001b[37m-# explicitly permit access to web content directories in other \u001b[0m", "    \u001b[37m-# <Directory> blocks below.\u001b[0m", "    \u001b[37m+#  <Directory /srv/>\u001b[0m", "    \u001b[37m+#    Options Indexes FollowSymLinks\u001b[0m", "    \u001b[37m+#    AllowOverride None\u001b[0m", "    \u001b[37m+#    Require all granted\u001b[0m", "    \u001b[37m+#  </Directory>\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m <Directory />\u001b[0m", "    \u001b[37m-    AllowOverride none\u001b[0m", "    \u001b[37m-    Require all denied\u001b[0m", "    \u001b[37m+        Options FollowSymLinks\u001b[0m", "    \u001b[37m+        AllowOverride None\u001b[0m", "    \u001b[37m+        Require all denied\u001b[0m", "    \u001b[37m </Directory>\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# Note that from this point forward you must specifically allow\u001b[0m", "    \u001b[37m-# particular features to be enabled - so if something's not working as\u001b[0m", "    \u001b[37m-# you might expect, make sure that you have specifically enabled it\u001b[0m", "    \u001b[37m-# below.\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# DocumentRoot: The directory out of which you will serve your\u001b[0m", "    \u001b[37m-# documents. By default, all requests are taken from this directory, but\u001b[0m", "    \u001b[37m-# symbolic links and aliases may be used to point to other locations.\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-DocumentRoot \"/var/www/html\"\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# Relax access to content within /var/www.\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-<Directory \"/var/www\">\u001b[0m", "    \u001b[37m-    AllowOverride None\u001b[0m", "    \u001b[37m-    # Allow open access:\u001b[0m", "    \u001b[37m-    Require all granted\u001b[0m", "    \u001b[37m+<Directory /usr/share>\u001b[0m", "    \u001b[37m+        AllowOverride None\u001b[0m", "    \u001b[37m+        Require all granted\u001b[0m", "    \u001b[37m </Directory>\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m-# Further relax access to the default document root:\u001b[0m", "    \u001b[37m-<Directory \"/var/www/html\">\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    # Possible values for the Options directive are \"None\", \"All\",\u001b[0m", "    \u001b[37m-    # or any combination of:\u001b[0m", "    \u001b[37m-    #   Indexes Includes FollowSymLinks SymLinksifOwnerMatch ExecCGI MultiViews\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    # Note that \"MultiViews\" must be named *explicitly* --- \"Options All\"\u001b[0m", "    \u001b[37m-    # doesn't give it to you.\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    # The Options directive is both complicated and important.  Please see\u001b[0m", "    \u001b[37m-    # http://httpd.apache.org/docs/2.4/mod/core.html#options\u001b[0m", "    \u001b[37m-    # for more information.\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    Options Indexes FollowSymLinks\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    # AllowOverride controls what directives may be placed in .htaccess files.\u001b[0m", "    \u001b[37m-    # It can be \"All\", \"None\", or any combination of the keywords:\u001b[0m", "    \u001b[37m-    #   Options FileInfo AuthConfig Limit\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    AllowOverride None\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    # Controls who can get stuff from this server.\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    Require all granted\u001b[0m", "    \u001b[37m+<Directory /var/www/html>\u001b[0m", "    \u001b[37m+        Options Indexes FollowSymLinks\u001b[0m", "    \u001b[37m+        AllowOverride None\u001b[0m", "    \u001b[37m+        Require all granted\u001b[0m", "    \u001b[37m </Directory>\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-# DirectoryIndex: sets the file that Apache will serve if a directory\u001b[0m", "    \u001b[37m-# is requested.\u001b[0m", "    \u001b[37m+# AccessFileName: The name of the file to look for in each directory\u001b[0m", "    \u001b[37m+# for additional configuration directives.  See also the AllowOverride\u001b[0m", "    \u001b[37m+# directive.\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-<IfModule dir_module>\u001b[0m", "    \u001b[37m-    DirectoryIndex index.html\u001b[0m", "    \u001b[37m-</IfModule>\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m+AccessFileName .htaccess\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-# The following lines prevent .htaccess and .htpasswd files from being \u001b[0m", "    \u001b[37m-# viewed by Web clients. \u001b[0m", "    \u001b[37m+# The following lines prevent .htaccess and .htpasswd files from being\u001b[0m", "    \u001b[37m+# viewed by Web clients.\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-<Files \".ht*\">\u001b[0m", "    \u001b[37m+<Files ~ \"^\\.ht\">\u001b[0m", "    \u001b[37m     Require all denied\u001b[0m", "    \u001b[37m </Files>\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m+# HostnameLookups: Log the names of clients or just their IP addresses\u001b[0m", "    \u001b[37m+# e.g., www.apache.org (on) or 204.62.129.132 (off).\u001b[0m", "    \u001b[37m+# The default is off because it'd be overall better for the net if people\u001b[0m", "    \u001b[37m+# had to knowingly turn this feature on, since enabling it means that\u001b[0m", "    \u001b[37m+# each client request will result in AT LEAST one lookup request to the\u001b[0m", "    \u001b[37m+# nameserver.\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+HostnameLookups Off\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m # ErrorLog: The location of the error log file.\u001b[0m", "    \u001b[37m # If you do not specify an ErrorLog directive within a <VirtualHost>\u001b[0m", "    \u001b[37m # container, error messages relating to that virtual host will be\u001b[0m", "    \u001b[37m # logged here.  If you *do* define an error logfile for a <VirtualHost>\u001b[0m", "    \u001b[37m # container, that host's errors will be logged there and not here.\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-ErrorLog \"logs/error_log\"\u001b[0m", "    \u001b[37m+ErrorLog /var/log/httpd/error.log\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m # LogLevel: Control the number of messages logged to the error_log.\u001b[0m", "    \u001b[37m@@ -188,167 +114,31 @@\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m LogLevel warn\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m-<IfModule log_config_module>\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    # The following directives define some format nicknames for use with\u001b[0m", "    \u001b[37m-    # a CustomLog directive (see below).\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" combined\u001b[0m", "    \u001b[37m-    LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b\" common\u001b[0m", "    \u001b[37m+# COOK-1021: Dummy LoadModule directive to aid module installations\u001b[0m", "    \u001b[37m+#LoadModule dummy_module modules/mod_dummy.so\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m-    <IfModule logio_module>\u001b[0m", "    \u001b[37m-      # You need to enable mod_logio.c to use %I and %O\u001b[0m", "    \u001b[37m-      LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\" %I %O\" combinedio\u001b[0m", "    \u001b[37m-    </IfModule>\u001b[0m", "    \u001b[37m+# Include module configuration:\u001b[0m", "    \u001b[37m+IncludeOptional /etc/httpd/mods-enabled/*.load\u001b[0m", "    \u001b[37m+IncludeOptional /etc/httpd/mods-enabled/*.conf\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    # The location and format of the access logfile (Common Logfile Format).\u001b[0m", "    \u001b[37m-    # If you do not define any access logfiles within a <VirtualHost>\u001b[0m", "    \u001b[37m-    # container, they will be logged here.  Contrariwise, if you *do*\u001b[0m", "    \u001b[37m-    # define per-<VirtualHost> access logfiles, transactions will be\u001b[0m", "    \u001b[37m-    # logged therein and *not* in this file.\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    #CustomLog \"logs/access_log\" common\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    # If you prefer a logfile with access, agent, and referer information\u001b[0m", "    \u001b[37m-    # (Combined Logfile Format) you can use the following directive.\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    CustomLog \"logs/access_log\" combined\u001b[0m", "    \u001b[37m-</IfModule>\u001b[0m", "    \u001b[37m+# Include ports listing\u001b[0m", "    \u001b[37m+Include /etc/httpd/ports.conf\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m-<IfModule alias_module>\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    # Redirect: Allows you to tell clients about documents that used to \u001b[0m", "    \u001b[37m-    # exist in your server's namespace, but do not anymore. The client \u001b[0m", "    \u001b[37m-    # will make a new request for the document at its new location.\u001b[0m", "    \u001b[37m-    # Example:\u001b[0m", "    \u001b[37m-    # Redirect permanent /foo http://www.example.com/bar\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    # Alias: Maps web paths into filesystem paths and is used to\u001b[0m", "    \u001b[37m-    # access content that does not live under the DocumentRoot.\u001b[0m", "    \u001b[37m-    # Example:\u001b[0m", "    \u001b[37m-    # Alias /webpath /full/filesystem/path\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    # If you include a trailing / on /webpath then the server will\u001b[0m", "    \u001b[37m-    # require it to be present in the URL.  You will also likely\u001b[0m", "    \u001b[37m-    # need to provide a <Directory> section to allow access to\u001b[0m", "    \u001b[37m-    # the filesystem path.\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    # ScriptAlias: This controls which directories contain server scripts. \u001b[0m", "    \u001b[37m-    # ScriptAliases are essentially the same as Aliases, except that\u001b[0m", "    \u001b[37m-    # documents in the target directory are treated as applications and\u001b[0m", "    \u001b[37m-    # run by the server when requested rather than as documents sent to the\u001b[0m", "    \u001b[37m-    # client.  The same rules about trailing \"/\" apply to ScriptAlias\u001b[0m", "    \u001b[37m-    # directives as to Alias.\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    ScriptAlias /cgi-bin/ \"/var/www/cgi-bin/\"\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-</IfModule>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-# \"/var/www/cgi-bin\" should be changed to whatever your ScriptAliased\u001b[0m", "    \u001b[37m-# CGI directory exists, if you have that configured.\u001b[0m", "    \u001b[37m+# The following directives define some format nicknames for use with\u001b[0m", "    \u001b[37m+# a CustomLog directive (see below).\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-<Directory \"/var/www/cgi-bin\">\u001b[0m", "    \u001b[37m-    AllowOverride None\u001b[0m", "    \u001b[37m-    Options None\u001b[0m", "    \u001b[37m-    Require all granted\u001b[0m", "    \u001b[37m-</Directory>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-<IfModule mime_module>\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    # TypesConfig points to the file containing the list of mappings from\u001b[0m", "    \u001b[37m-    # filename extension to MIME-type.\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    TypesConfig /etc/mime.types\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    # AddType allows you to add to or override the MIME configuration\u001b[0m", "    \u001b[37m-    # file specified in TypesConfig for specific file types.\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    #AddType application/x-gzip .tgz\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    # AddEncoding allows you to have certain browsers uncompress\u001b[0m", "    \u001b[37m-    # information on the fly. Note: Not all browsers support this.\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    #AddEncoding x-compress .Z\u001b[0m", "    \u001b[37m-    #AddEncoding x-gzip .gz .tgz\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    # If the AddEncoding directives above are commented-out, then you\u001b[0m", "    \u001b[37m-    # probably should define those extensions to indicate media types:\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    AddType application/x-compress .Z\u001b[0m", "    \u001b[37m-    AddType application/x-gzip .gz .tgz\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    # AddHandler allows you to map certain file extensions to \"handlers\":\u001b[0m", "    \u001b[37m-    # actions unrelated to filetype. These can be either built into the server\u001b[0m", "    \u001b[37m-    # or added with the Action directive (see below)\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    # To use CGI scripts outside of ScriptAliased directories:\u001b[0m", "    \u001b[37m-    # (You will also need to add \"ExecCGI\" to the \"Options\" directive.)\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    #AddHandler cgi-script .cgi\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-    # For type maps (negotiated resources):\u001b[0m", "    \u001b[37m-    #AddHandler type-map var\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    # Filters allow you to process content before it is sent to the client.\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    # To parse .shtml files for server-side includes (SSI):\u001b[0m", "    \u001b[37m-    # (You will also need to add \"Includes\" to the \"Options\" directive.)\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    AddType text/html .shtml\u001b[0m", "    \u001b[37m-    AddOutputFilter INCLUDES .shtml\u001b[0m", "    \u001b[37m-</IfModule>\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m+LogFormat \"%v:%p %h %l %u %t \\\"%r\\\" %>s %O \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" vhost_combined\u001b[0m", "    \u001b[37m+LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" combined\u001b[0m", "    \u001b[37m+LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b\" common\u001b[0m", "    \u001b[37m+LogFormat \"%{Referer}i -> %U\" referer\u001b[0m", "    \u001b[37m+LogFormat \"%{User-agent}i\" agent\u001b[0m", "    \u001b[37m #\u001b[0m", "    \u001b[37m-# Specify a default charset for all content served; this enables\u001b[0m", "    \u001b[37m-# interpretation of all content as UTF-8 by default.  To use the \u001b[0m", "    \u001b[37m-# default browser choice (ISO-8859-1), or to allow the META tags\u001b[0m", "    \u001b[37m-# in HTML content to override this choice, comment out this\u001b[0m", "    \u001b[37m-# directive:\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-AddDefaultCharset UTF-8\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m-<IfModule mime_magic_module>\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    # The mod_mime_magic module allows the server to use various hints from the\u001b[0m", "    \u001b[37m-    # contents of the file itself to determine its type.  The MIMEMagicFile\u001b[0m", "    \u001b[37m-    # directive tells the module where the hint definitions are located.\u001b[0m", "    \u001b[37m-    #\u001b[0m", "    \u001b[37m-    MIMEMagicFile conf/magic\u001b[0m", "    \u001b[37m-</IfModule>\u001b[0m", "    \u001b[37m+# Include generic snippets of statements\u001b[0m", "    \u001b[37m+IncludeOptional /etc/httpd/conf-enabled/*.conf\u001b[0m", "    \u001b[37m \u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# Customizable error responses come in three flavors:\u001b[0m", "    \u001b[37m-# 1) plain text 2) local redirects 3) external redirects\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# Some examples:\u001b[0m", "    \u001b[37m-#ErrorDocument 500 \"The server made a boo boo.\"\u001b[0m", "    \u001b[37m-#ErrorDocument 404 /missing.html\u001b[0m", "    \u001b[37m-#ErrorDocument 404 \"/cgi-bin/missing_handler.pl\"\u001b[0m", "    \u001b[37m-#ErrorDocument 402 http://www.example.com/subscription_info.html\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# EnableMMAP and EnableSendfile: On systems that support it, \u001b[0m", "    \u001b[37m-# memory-mapping or the sendfile syscall may be used to deliver\u001b[0m", "    \u001b[37m-# files.  This usually improves server performance, but must\u001b[0m", "    \u001b[37m-# be turned off when serving from networked-mounted \u001b[0m", "    \u001b[37m-# filesystems or if support for these functions is otherwise\u001b[0m", "    \u001b[37m-# broken on your system.\u001b[0m", "    \u001b[37m-# Defaults if commented: EnableMMAP On, EnableSendfile Off\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-#EnableMMAP off\u001b[0m", "    \u001b[37m-EnableSendfile on\u001b[0m", "    \u001b[37m-\u001b[0m", "    \u001b[37m-# Supplemental configuration\u001b[0m", "    \u001b[37m-#\u001b[0m", "    \u001b[37m-# Load config files in the \"/etc/httpd/conf.d\" directory, if any.\u001b[0m", "    \u001b[37m-IncludeOptional conf.d/*.conf\u001b[0m", "    \u001b[37m+# Include the virtual host configurations:\u001b[0m", "    \u001b[37m+IncludeOptional /etc/httpd/sites-enabled/*.conf\u001b[0m", "\u001b[0m  * file[/etc/httpd/conf-available/security] action delete (up to date)", "  * template[/etc/httpd/conf-available/security.conf] action create", "    \u001b[32m- create new file /etc/httpd/conf-available/security.conf\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/conf-available/security.conf from none to b8213b\u001b[0m", "    \u001b[37m--- /etc/httpd/conf-available/security.conf\t2019-04-26 14:50:56.381806073 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/conf-available/.chef-security20190426-67198-1ny54v2.conf\t2019-04-26 14:50:56.381806073 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,33 @@\u001b[0m", "    \u001b[37m+# Changing the following options will not really affect the security of the\u001b[0m", "    \u001b[37m+# server, but might make attacks slightly more difficult in some cases.\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# ServerTokens\u001b[0m", "    \u001b[37m+# This directive configures what you return as the Server HTTP response\u001b[0m", "    \u001b[37m+# Header. The default is 'Full' which sends information about the OS-Type\u001b[0m", "    \u001b[37m+# and compiled in modules.\u001b[0m", "    \u001b[37m+# Set to one of:  Full | OS | Minimal | Minor | Major | Prod\u001b[0m", "    \u001b[37m+# where Full conveys the most information, and Prod the least.\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+ServerTokens Prod\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# Optionally add a line containing the server version and virtual host\u001b[0m", "    \u001b[37m+# name to server-generated pages (internal error documents, FTP directory\u001b[0m", "    \u001b[37m+# listings, mod_status and mod_info output etc., but not CGI generated\u001b[0m", "    \u001b[37m+# documents or custom error documents).\u001b[0m", "    \u001b[37m+# Set to \"EMail\" to also include a mailto: link to the ServerAdmin.\u001b[0m", "    \u001b[37m+# Set to one of:  On | Off | EMail\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+ServerSignature On\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# Allow TRACE method\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# Set to \"extended\" to also reflect the request body (only for testing and\u001b[0m", "    \u001b[37m+# diagnostic purposes).\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+# Set to one of:  On | Off | extended\u001b[0m", "    \u001b[37m+#\u001b[0m", "    \u001b[37m+TraceEnable Off\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0m  * execute[a2enconf security.conf] action run", "    \u001b[32m- execute /usr/sbin/a2enconf security.conf\u001b[0m", "\u001b[0m  * file[/etc/httpd/conf-available/charset] action delete (up to date)", "  * template[/etc/httpd/conf-available/charset.conf] action create", "    \u001b[32m- create new file /etc/httpd/conf-available/charset.conf\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/conf-available/charset.conf from none to 543c6c\u001b[0m", "    \u001b[37m--- /etc/httpd/conf-available/charset.conf\t2019-04-26 14:50:56.436808061 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/conf-available/.chef-charset20190426-67198-1mb7zsg.conf\t2019-04-26 14:50:56.436808061 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,7 @@\u001b[0m", "    \u001b[37m+# Read the documentation before enabling AddDefaultCharset.\u001b[0m", "    \u001b[37m+# In general, it is only a good idea if you know that all your files\u001b[0m", "    \u001b[37m+# have this encoding. It will override any encoding given in the files\u001b[0m", "    \u001b[37m+# in meta http-equiv or xml encoding tags.\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+#AddDefaultCharset UTF-8\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0m  * execute[a2enconf charset.conf] action run", "    \u001b[32m- execute /usr/sbin/a2enconf charset.conf\u001b[0m", "\u001b[0m  * file[/etc/httpd/ports] action delete (up to date)", "  * template[/etc/httpd/ports.conf] action create", "    \u001b[32m- create new file /etc/httpd/ports.conf\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/ports.conf from none to eed992\u001b[0m", "    \u001b[37m--- /etc/httpd/ports.conf\t2019-04-26 14:50:56.487809904 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/.chef-ports20190426-67198-t5kqf3.conf\t2019-04-26 14:50:56.487809904 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,7 @@\u001b[0m", "    \u001b[37m+# This file was generated by Chef for openstack-centos-mstr1.\u001b[0m", "    \u001b[37m+# Do NOT modify this file by hand!\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+Listen 147.75.201.110:5000\u001b[0m", "    \u001b[37m+Listen 0.0.0.0:80\u001b[0m", "    \u001b[37m+Listen 0.0.0.0:443\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0mRecipe: apache2::mpm_prefork\u001b[0m", "  * file[/etc/httpd/mods-available/mpm_event.load] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/mpm_event.load\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/mpm_event.load from none to 53c7f3\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/mpm_event.load\t2019-04-26 14:50:56.491810048 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-mpm_event20190426-67198-1x2ihmu.load\t2019-04-26 14:50:56.491810048 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,2 @@\u001b[0m", "    \u001b[37m+LoadModule mpm_event_module /usr/lib64/httpd/modules/mod_mpm_event.so\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * execute[a2dismod mpm_event] action run (skipped due to only_if)", "  * file[/etc/httpd/mods-available/mpm_worker.load] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/mpm_worker.load\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/mpm_worker.load from none to e206b7\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/mpm_worker.load\t2019-04-26 14:50:56.494810157 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-mpm_worker20190426-67198-5a83y5.load\t2019-04-26 14:50:56.494810157 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,2 @@\u001b[0m", "    \u001b[37m+LoadModule mpm_worker_module /usr/lib64/httpd/modules/mod_mpm_worker.so\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * execute[a2dismod mpm_worker] action run (skipped due to only_if)", "  * template[/etc/httpd/mods-available/mpm_prefork.conf] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/mpm_prefork.conf\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/mpm_prefork.conf from none to a6980c\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/mpm_prefork.conf\t2019-04-26 14:50:56.499810337 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-mpm_prefork20190426-67198-1p8vda7.conf\t2019-04-26 14:50:56.499810337 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,15 @@\u001b[0m", "    \u001b[37m+# prefork MPM\u001b[0m", "    \u001b[37m+<IfModule mpm_prefork_module>\u001b[0m", "    \u001b[37m+  # StartServers: number of server processes to start\u001b[0m", "    \u001b[37m+  # MinSpareServers: minimum number of server processes which are kept spare\u001b[0m", "    \u001b[37m+  # MaxSpareServers: maximum number of server processes which are kept spare\u001b[0m", "    \u001b[37m+  # MaxRequestWorkers: maximum number of server processes allowed to start\u001b[0m", "    \u001b[37m+  # MaxConnectionsPerChild: maximum number of requests a server process serves\u001b[0m", "    \u001b[37m+  StartServers           16\u001b[0m", "    \u001b[37m+  MinSpareServers        16\u001b[0m", "    \u001b[37m+  MaxSpareServers        32\u001b[0m", "    \u001b[37m+  ServerLimit            256\u001b[0m", "    \u001b[37m+  MaxRequestWorkers      256\u001b[0m", "    \u001b[37m+  MaxConnectionsPerChild 10000\u001b[0m", "    \u001b[37m+</IfModule>\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * file[/etc/httpd/mods-available/mpm_prefork.load] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/mpm_prefork.load\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/mpm_prefork.load from none to 00691d\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/mpm_prefork.load\t2019-04-26 14:50:56.502810446 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-mpm_prefork20190426-67198-h0vah7.load\t2019-04-26 14:50:56.502810446 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,2 @@\u001b[0m", "    \u001b[37m+LoadModule mpm_prefork_module /usr/lib64/httpd/modules/mod_mpm_prefork.so\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * execute[a2enmod mpm_prefork] action run", "    \u001b[32m- execute /usr/sbin/a2enmod mpm_prefork\u001b[0m", "\u001b[0mRecipe: apache2::mod_status\u001b[0m", "  * template[/etc/httpd/mods-available/status.conf] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/status.conf\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/status.conf from none to ed62d0\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/status.conf\t2019-04-26 14:50:56.552812253 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-status20190426-67198-1d4ayvg.conf\t2019-04-26 14:50:56.552812253 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,31 @@\u001b[0m", "    \u001b[37m+<IfModule mod_status.c>\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # Allow server status reports generated by mod_status,\u001b[0m", "    \u001b[37m+  # with the URL of http://servername/server-status\u001b[0m", "    \u001b[37m+  # Uncomment and change the \".example.com\" to allow\u001b[0m", "    \u001b[37m+  # access from other hosts.\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  <Location /server-status>\u001b[0m", "    \u001b[37m+    SetHandler server-status\u001b[0m", "    \u001b[37m+    Require local\u001b[0m", "    \u001b[37m+    Require ip 127.0.0.1 ::1\u001b[0m", "    \u001b[37m+  </Location>\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # ExtendedStatus controls whether Apache will generate \"full\" status\u001b[0m", "    \u001b[37m+  # information (ExtendedStatus On) or just basic information (ExtendedStatus\u001b[0m", "    \u001b[37m+  # Off) when the \"server-status\" handler is called. The default is Off.\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  ExtendedStatus Off\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+  # Determine if mod_status displays the first 63 characters of a request or\u001b[0m", "    \u001b[37m+  # the last 63, assuming the request itself is greater than 63 chars.\u001b[0m", "    \u001b[37m+  # Default: Off\u001b[0m", "    \u001b[37m+  #SeeRequestTail On\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+  <IfModule mod_proxy.c>\u001b[0m", "    \u001b[37m+     # Show Proxy LoadBalancer status in mod_status\u001b[0m", "    \u001b[37m+     ProxyStatus On\u001b[0m", "    \u001b[37m+  </IfModule>\u001b[0m", "    \u001b[37m+</IfModule>\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * file[/etc/httpd/mods-available/status.load] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/status.load\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/status.load from none to 4fdc51\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/status.load\t2019-04-26 14:50:56.556812397 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-status20190426-67198-qi0qbt.load\t2019-04-26 14:50:56.556812397 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,2 @@\u001b[0m", "    \u001b[37m+LoadModule status_module /usr/lib64/httpd/modules/mod_status.so\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * execute[a2enmod status] action run", "    \u001b[32m- execute /usr/sbin/a2enmod status\u001b[0m", "\u001b[0mRecipe: apache2::mod_alias\u001b[0m", "  * template[/etc/httpd/mods-available/alias.conf] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/alias.conf\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/alias.conf from none to e275d5\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/alias.conf\t2019-04-26 14:50:56.606814204 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-alias20190426-67198-5bk9pi.conf\t2019-04-26 14:50:56.606814204 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,23 @@\u001b[0m", "    \u001b[37m+<IfModule alias_module>\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # Aliases: Add here as many aliases as you need (with no limit). The format is\u001b[0m", "    \u001b[37m+  # Alias fakename realname\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # Note that if you include a trailing / on fakename then the server will\u001b[0m", "    \u001b[37m+  # require it to be present in the URL.  So \"/icons\" isn't aliased in this\u001b[0m", "    \u001b[37m+  # example, only \"/icons/\".  If the fakename is slash-terminated, then the\u001b[0m", "    \u001b[37m+  # realname must also be slash terminated, and if the fakename omits the\u001b[0m", "    \u001b[37m+  # trailing slash, the realname must also omit it.\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # We include the /icons/ alias for FancyIndexed directory listings.  If\u001b[0m", "    \u001b[37m+  # you do not use FancyIndexing, you may comment this out.\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  Alias /icons/ \"/usr/share/httpd/icons/\"\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+  <Directory \"/usr/share/httpd/icons\">\u001b[0m", "    \u001b[37m+    Options Indexes MultiViews\u001b[0m", "    \u001b[37m+    AllowOverride None\u001b[0m", "    \u001b[37m+    Require all granted\u001b[0m", "    \u001b[37m+  </Directory>\u001b[0m", "    \u001b[37m+</IfModule>\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * file[/etc/httpd/mods-available/alias.load] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/alias.load\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/alias.load from none to aceb16\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/alias.load\t2019-04-26 14:50:56.609814313 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-alias20190426-67198-15c9l44.load\t2019-04-26 14:50:56.609814313 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,2 @@\u001b[0m", "    \u001b[37m+LoadModule alias_module /usr/lib64/httpd/modules/mod_alias.so\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * execute[a2enmod alias] action run", "    \u001b[32m- execute /usr/sbin/a2enmod alias\u001b[0m", "\u001b[0mRecipe: apache2::mod_auth_basic\u001b[0m", "  * file[/etc/httpd/mods-available/auth_basic.load] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/auth_basic.load\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/auth_basic.load from none to 053e14\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/auth_basic.load\t2019-04-26 14:50:56.656816011 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-auth_basic20190426-67198-1h4j3k7.load\t2019-04-26 14:50:56.656816011 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,2 @@\u001b[0m", "    \u001b[37m+LoadModule auth_basic_module /usr/lib64/httpd/modules/mod_auth_basic.so\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * execute[a2enmod auth_basic] action run", "    \u001b[32m- execute /usr/sbin/a2enmod auth_basic\u001b[0m", "\u001b[0mRecipe: apache2::mod_authn_core\u001b[0m", "  * file[/etc/httpd/mods-available/authn_core.load] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/authn_core.load\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/authn_core.load from none to b063ef\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/authn_core.load\t2019-04-26 14:50:56.703817710 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-authn_core20190426-67198-13lyyb8.load\t2019-04-26 14:50:56.702817674 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,2 @@\u001b[0m", "    \u001b[37m+LoadModule authn_core_module /usr/lib64/httpd/modules/mod_authn_core.so\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * execute[a2enmod authn_core] action run", "    \u001b[32m- execute /usr/sbin/a2enmod authn_core\u001b[0m", "\u001b[0mRecipe: apache2::mod_authn_file\u001b[0m", "  * file[/etc/httpd/mods-available/authn_file.load] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/authn_file.load\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/authn_file.load from none to d22bea\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/authn_file.load\t2019-04-26 14:50:56.749819372 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-authn_file20190426-67198-s2g4eq.load\t2019-04-26 14:50:56.749819372 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,2 @@\u001b[0m", "    \u001b[37m+LoadModule authn_file_module /usr/lib64/httpd/modules/mod_authn_file.so\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * execute[a2enmod authn_file] action run", "    \u001b[32m- execute /usr/sbin/a2enmod authn_file\u001b[0m", "\u001b[0mRecipe: apache2::mod_authz_core\u001b[0m", "  * file[/etc/httpd/mods-available/authz_core.load] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/authz_core.load\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/authz_core.load from none to 8b988f\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/authz_core.load\t2019-04-26 14:50:56.795821035 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-authz_core20190426-67198-8dehso.load\t2019-04-26 14:50:56.795821035 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,2 @@\u001b[0m", "    \u001b[37m+LoadModule authz_core_module /usr/lib64/httpd/modules/mod_authz_core.so\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * execute[a2enmod authz_core] action run", "    \u001b[32m- execute /usr/sbin/a2enmod authz_core\u001b[0m", "\u001b[0mRecipe: apache2::mod_authz_groupfile\u001b[0m", "  * file[/etc/httpd/mods-available/authz_groupfile.load] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/authz_groupfile.load\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/authz_groupfile.load from none to 4f60ac\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/authz_groupfile.load\t2019-04-26 14:50:56.841822697 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-authz_groupfile20190426-67198-1sslgfk.load\t2019-04-26 14:50:56.841822697 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,2 @@\u001b[0m", "    \u001b[37m+LoadModule authz_groupfile_module /usr/lib64/httpd/modules/mod_authz_groupfile.so\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * execute[a2enmod authz_groupfile] action run", "    \u001b[32m- execute /usr/sbin/a2enmod authz_groupfile\u001b[0m", "\u001b[0mRecipe: apache2::mod_authz_host\u001b[0m", "  * file[/etc/httpd/mods-available/authz_host.load] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/authz_host.load\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/authz_host.load from none to bb59ea\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/authz_host.load\t2019-04-26 14:50:56.888824396 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-authz_host20190426-67198-19vkvq9.load\t2019-04-26 14:50:56.888824396 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,2 @@\u001b[0m", "    \u001b[37m+LoadModule authz_host_module /usr/lib64/httpd/modules/mod_authz_host.so\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * execute[a2enmod authz_host] action run", "    \u001b[32m- execute /usr/sbin/a2enmod authz_host\u001b[0m", "\u001b[0mRecipe: apache2::mod_authz_user\u001b[0m", "  * file[/etc/httpd/mods-available/authz_user.load] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/authz_user.load\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/authz_user.load from none to a4603f\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/authz_user.load\t2019-04-26 14:50:56.935826094 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-authz_user20190426-67198-xpij78.load\t2019-04-26 14:50:56.935826094 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,2 @@\u001b[0m", "    \u001b[37m+LoadModule authz_user_module /usr/lib64/httpd/modules/mod_authz_user.so\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * execute[a2enmod authz_user] action run", "    \u001b[32m- execute /usr/sbin/a2enmod authz_user\u001b[0m", "\u001b[0mRecipe: apache2::mod_autoindex\u001b[0m", "  * template[/etc/httpd/mods-available/autoindex.conf] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/autoindex.conf\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/autoindex.conf from none to 8e7e44\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/autoindex.conf\t2019-04-26 14:50:56.984827865 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-autoindex20190426-67198-13fjyvx.conf\t2019-04-26 14:50:56.984827865 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,101 @@\u001b[0m", "    \u001b[37m+<IfModule mod_autoindex.c>\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # Directives controlling the display of server-generated directory listings.\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # IndexOptions: Controls the appearance of server-generated directory\u001b[0m", "    \u001b[37m+  # listings.\u001b[0m", "    \u001b[37m+  # Remove/replace the \"Charset=UTF-8\" if you don't use UTF-8 for your filenames.\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  IndexOptions FancyIndexing VersionSort HTMLTable NameWidth=* DescriptionWidth=* Charset=UTF-8\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # AddIcon* directives tell the server which icon to show for different\u001b[0m", "    \u001b[37m+  # files or filename extensions.  These are only displayed for\u001b[0m", "    \u001b[37m+  # FancyIndexed directories.\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  AddIconByEncoding (CMP,/icons/compressed.gif) x-compress x-gzip x-bzip2\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+  AddIconByType (TXT,/icons/text.gif) text/*\u001b[0m", "    \u001b[37m+  AddIconByType (IMG,/icons/image2.gif) image/*\u001b[0m", "    \u001b[37m+  AddIconByType (SND,/icons/sound2.gif) audio/*\u001b[0m", "    \u001b[37m+  AddIconByType (VID,/icons/movie.gif) video/*\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+  AddIcon /icons/binary.gif .bin .exe\u001b[0m", "    \u001b[37m+  AddIcon /icons/binhex.gif .hqx\u001b[0m", "    \u001b[37m+  AddIcon /icons/tar.gif .tar\u001b[0m", "    \u001b[37m+  AddIcon /icons/world2.gif .wrl .wrl.gz .vrml .vrm .iv\u001b[0m", "    \u001b[37m+  AddIcon /icons/compressed.gif .Z .z .tgz .gz .zip\u001b[0m", "    \u001b[37m+  AddIcon /icons/a.gif .ps .ai .eps\u001b[0m", "    \u001b[37m+  AddIcon /icons/layout.gif .html .shtml .htm .pdf\u001b[0m", "    \u001b[37m+  AddIcon /icons/text.gif .txt\u001b[0m", "    \u001b[37m+  AddIcon /icons/c.gif .c\u001b[0m", "    \u001b[37m+  AddIcon /icons/p.gif .pl .py\u001b[0m", "    \u001b[37m+  AddIcon /icons/f.gif .for\u001b[0m", "    \u001b[37m+  AddIcon /icons/dvi.gif .dvi\u001b[0m", "    \u001b[37m+  AddIcon /icons/uuencoded.gif .uu\u001b[0m", "    \u001b[37m+  AddIcon /icons/script.gif .conf .sh .shar .csh .ksh .tcl\u001b[0m", "    \u001b[37m+  AddIcon /icons/tex.gif .tex\u001b[0m", "    \u001b[37m+  # It's a suffix rule, so simply matching \"core\" matches \"score\" as well !\u001b[0m", "    \u001b[37m+  AddIcon /icons/bomb.gif /core\u001b[0m", "    \u001b[37m+  AddIcon (SND,/icons/sound2.gif) .ogg\u001b[0m", "    \u001b[37m+  AddIcon (VID,/icons/movie.gif) .ogm\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+  AddIcon /icons/back.gif ..\u001b[0m", "    \u001b[37m+  AddIcon /icons/hand.right.gif README\u001b[0m", "    \u001b[37m+  AddIcon /icons/folder.gif ^^DIRECTORY^^\u001b[0m", "    \u001b[37m+  AddIcon /icons/blank.gif ^^BLANKICON^^\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+  # Default icons for OpenDocument format\u001b[0m", "    \u001b[37m+  AddIcon /icons/odf6odt-20x22.png .odt\u001b[0m", "    \u001b[37m+  AddIcon /icons/odf6ods-20x22.png .ods\u001b[0m", "    \u001b[37m+  AddIcon /icons/odf6odp-20x22.png .odp\u001b[0m", "    \u001b[37m+  AddIcon /icons/odf6odg-20x22.png .odg\u001b[0m", "    \u001b[37m+  AddIcon /icons/odf6odc-20x22.png .odc\u001b[0m", "    \u001b[37m+  AddIcon /icons/odf6odf-20x22.png .odf\u001b[0m", "    \u001b[37m+  AddIcon /icons/odf6odb-20x22.png .odb\u001b[0m", "    \u001b[37m+  AddIcon /icons/odf6odi-20x22.png .odi\u001b[0m", "    \u001b[37m+  AddIcon /icons/odf6odm-20x22.png .odm\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+  AddIcon /icons/odf6ott-20x22.png .ott\u001b[0m", "    \u001b[37m+  AddIcon /icons/odf6ots-20x22.png .ots\u001b[0m", "    \u001b[37m+  AddIcon /icons/odf6otp-20x22.png .otp\u001b[0m", "    \u001b[37m+  AddIcon /icons/odf6otg-20x22.png .otg\u001b[0m", "    \u001b[37m+  AddIcon /icons/odf6otc-20x22.png .otc\u001b[0m", "    \u001b[37m+  AddIcon /icons/odf6otf-20x22.png .otf\u001b[0m", "    \u001b[37m+  AddIcon /icons/odf6oti-20x22.png .oti\u001b[0m", "    \u001b[37m+  AddIcon /icons/odf6oth-20x22.png .oth\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # DefaultIcon is which icon to show for files which do not have an icon\u001b[0m", "    \u001b[37m+  # explicitly set.\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  DefaultIcon /icons/unknown.gif\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # AddDescription allows you to place a short description after a file in\u001b[0m", "    \u001b[37m+  # server-generated indexes.  These are only displayed for FancyIndexed\u001b[0m", "    \u001b[37m+  # directories.\u001b[0m", "    \u001b[37m+  # Format: AddDescription \"description\" filename\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  #AddDescription \"GZIP compressed document\" .gz\u001b[0m", "    \u001b[37m+  #AddDescription \"tar archive\" .tar\u001b[0m", "    \u001b[37m+  #AddDescription \"GZIP compressed tar archive\" .tgz\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # ReadmeName is the name of the README file the server will look for by\u001b[0m", "    \u001b[37m+  # default, and append to directory listings.\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # HeaderName is the name of a file which should be prepended to\u001b[0m", "    \u001b[37m+  # directory indexes.\u001b[0m", "    \u001b[37m+  ReadmeName README.html\u001b[0m", "    \u001b[37m+  HeaderName HEADER.html\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # IndexIgnore is a set of filenames which directory indexing should ignore\u001b[0m", "    \u001b[37m+  # and not include in the listing.  Shell-style wildcarding is permitted.\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  IndexIgnore .??* *~ *# RCS CVS *,v *,t\u001b[0m", "    \u001b[37m+</IfModule>\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * file[/etc/httpd/mods-available/autoindex.load] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/autoindex.load\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/autoindex.load from none to a4888e\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/autoindex.load\t2019-04-26 14:50:56.992828154 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-autoindex20190426-67198-1nbpc15.load\t2019-04-26 14:50:56.992828154 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,2 @@\u001b[0m", "    \u001b[37m+LoadModule autoindex_module /usr/lib64/httpd/modules/mod_autoindex.so\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * execute[a2enmod autoindex] action run", "    \u001b[32m- execute /usr/sbin/a2enmod autoindex\u001b[0m", "\u001b[0mRecipe: apache2::mod_deflate\u001b[0m", "  * template[/etc/httpd/mods-available/deflate.conf] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/deflate.conf\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/deflate.conf from none to c8749f\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/deflate.conf\t2019-04-26 14:50:57.044830034 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-deflate20190426-67198-qn04im.conf\t2019-04-26 14:50:57.044830034 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,19 @@\u001b[0m", "    \u001b[37m+<IfModule mod_deflate.c>\u001b[0m", "    \u001b[37m+  <IfModule mod_filter.c>\u001b[0m", "    \u001b[37m+     # these are known to be safe with MSIE 6\u001b[0m", "    \u001b[37m+     AddOutputFilterByType DEFLATE text/html text/plain text/xml\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+     # everything else may cause problems with MSIE 6\u001b[0m", "    \u001b[37m+     AddOutputFilterByType DEFLATE text/css\u001b[0m", "    \u001b[37m+     AddOutputFilterByType DEFLATE application/x-javascript application/javascript application/ecmascript\u001b[0m", "    \u001b[37m+     AddOutputFilterByType DEFLATE application/rss+xml\u001b[0m", "    \u001b[37m+     AddOutputFilterByType DEFLATE application/xml\u001b[0m", "    \u001b[37m+     AddOutputFilterByType DEFLATE application/xhtml+xml\u001b[0m", "    \u001b[37m+     AddOutputFilterByType DEFLATE image/svg+xml\u001b[0m", "    \u001b[37m+     AddOutputFilterByType DEFLATE application/atom_xml\u001b[0m", "    \u001b[37m+     AddOutputFilterByType DEFLATE application/x-httpd-php\u001b[0m", "    \u001b[37m+     AddOutputFilterByType DEFLATE application/x-httpd-fastphp\u001b[0m", "    \u001b[37m+     AddOutputFilterByType DEFLATE application/x-httpd-eruby\u001b[0m", "    \u001b[37m+  </IfModule>\u001b[0m", "    \u001b[37m+</IfModule>\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * file[/etc/httpd/mods-available/deflate.load] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/deflate.load\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/deflate.load from none to d20592\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/deflate.load\t2019-04-26 14:50:57.047830142 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-deflate20190426-67198-1xbt0gv.load\t2019-04-26 14:50:57.047830142 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,2 @@\u001b[0m", "    \u001b[37m+LoadModule deflate_module /usr/lib64/httpd/modules/mod_deflate.so\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * execute[a2enmod deflate] action run", "    \u001b[32m- execute /usr/sbin/a2enmod deflate\u001b[0m", "\u001b[0mRecipe: apache2::mod_dir\u001b[0m", "  * template[/etc/httpd/mods-available/dir.conf] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/dir.conf\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/dir.conf from none to 5d2651\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/dir.conf\t2019-04-26 14:50:57.095831877 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-dir20190426-67198-1jvwpd5.conf\t2019-04-26 14:50:57.094831841 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,4 @@\u001b[0m", "    \u001b[37m+<IfModule mod_dir.c>\u001b[0m", "    \u001b[37m+  DirectoryIndex index.html index.cgi index.pl index.php index.xhtml index.htm\u001b[0m", "    \u001b[37m+</IfModule>\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * file[/etc/httpd/mods-available/dir.load] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/dir.load\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/dir.load from none to 846d55\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/dir.load\t2019-04-26 14:50:57.096831913 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-dir20190426-67198-orq541.load\t2019-04-26 14:50:57.096831913 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,2 @@\u001b[0m", "    \u001b[37m+LoadModule dir_module /usr/lib64/httpd/modules/mod_dir.so\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * execute[a2enmod dir] action run", "    \u001b[32m- execute /usr/sbin/a2enmod dir\u001b[0m", "\u001b[0mRecipe: apache2::mod_env\u001b[0m", "  * file[/etc/httpd/mods-available/env.load] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/env.load\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/env.load from none to bac691\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/env.load\t2019-04-26 14:50:57.142833575 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-env20190426-67198-wv69fp.load\t2019-04-26 14:50:57.142833575 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,2 @@\u001b[0m", "    \u001b[37m+LoadModule env_module /usr/lib64/httpd/modules/mod_env.so\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * execute[a2enmod env] action run", "    \u001b[32m- execute /usr/sbin/a2enmod env\u001b[0m", "\u001b[0mRecipe: apache2::mod_mime\u001b[0m", "  * template[/etc/httpd/mods-available/mime.conf] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/mime.conf\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/mime.conf from none to 76e7d0\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/mime.conf\t2019-04-26 14:50:57.193835418 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-mime20190426-67198-st53aj.conf\t2019-04-26 14:50:57.193835418 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,193 @@\u001b[0m", "    \u001b[37m+<IfModule mod_mime.c>\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # TypesConfig points to the file containing the list of mappings from\u001b[0m", "    \u001b[37m+  # filename extension to MIME-type.\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  TypesConfig /etc/mime.types\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # AddType allows you to add to or override the MIME configuration\u001b[0m", "    \u001b[37m+  # file mime.types for specific file types.\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  #AddType application/x-gzip .tgz\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # AddEncoding allows you to have certain browsers uncompress\u001b[0m", "    \u001b[37m+  # information on the fly. Note: Not all browsers support this.\u001b[0m", "    \u001b[37m+  # Despite the name similarity, the following Add* directives have\u001b[0m", "    \u001b[37m+  # nothing to do with the FancyIndexing customization directives above.\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  #AddEncoding x-compress .Z\u001b[0m", "    \u001b[37m+  #AddEncoding x-gzip .gz .tgz\u001b[0m", "    \u001b[37m+  #AddEncoding x-bzip2 .bz2\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # If the AddEncoding directives above are commented-out, then you\u001b[0m", "    \u001b[37m+  # probably should define those extensions to indicate media types:\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  AddType application/x-compress .Z\u001b[0m", "    \u001b[37m+  AddType application/x-gzip .gz .tgz\u001b[0m", "    \u001b[37m+  AddType application/x-bzip2 .bz2\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+  AddType image/svg+xml svg svgz\u001b[0m", "    \u001b[37m+  AddEncoding gzip svgz\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # DefaultLanguage and AddLanguage allows you to specify the language of\u001b[0m", "    \u001b[37m+  # a document. You can then use content negotiation to give a browser a\u001b[0m", "    \u001b[37m+  # file in a language the user can understand.\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # Specify a default language. This means that all data\u001b[0m", "    \u001b[37m+  # going out without a specific language tag (see below) will\u001b[0m", "    \u001b[37m+  # be marked with this one. You probably do NOT want to set\u001b[0m", "    \u001b[37m+  # this unless you are sure it is correct for all cases.\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # * It is generally better to not mark a page as\u001b[0m", "    \u001b[37m+  # * being a certain language than marking it with the wrong\u001b[0m", "    \u001b[37m+  # * language!\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # DefaultLanguage nl\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # Note 1: The suffix does not have to be the same as the language\u001b[0m", "    \u001b[37m+  # keyword --- those with documents in Polish (whose net-standard\u001b[0m", "    \u001b[37m+  # language code is pl) may wish to use \"AddLanguage pl .po\" to\u001b[0m", "    \u001b[37m+  # avoid the ambiguity with the common suffix for perl scripts.\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # Note 2: The example entries below illustrate that in some cases\u001b[0m", "    \u001b[37m+  # the two character 'Language' abbreviation is not identical to\u001b[0m", "    \u001b[37m+  # the two character 'Country' code for its country,\u001b[0m", "    \u001b[37m+  # E.g. 'Danmark/dk' versus 'Danish/da'.\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # Note 3: In the case of 'ltz' we violate the RFC by using a three char\u001b[0m", "    \u001b[37m+  # specifier. There is 'work in progress' to fix this and get\u001b[0m", "    \u001b[37m+  # the reference data for rfc1766 cleaned up.\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # Catalan (ca) - Croatian (hr) - Czech (cs) - Danish (da) - Dutch (nl)\u001b[0m", "    \u001b[37m+  # English (en) - Esperanto (eo) - Estonian (et) - French (fr) - German (de)\u001b[0m", "    \u001b[37m+  # Greek-Modern (el) - Hebrew (he) - Italian (it) - Japanese (ja)\u001b[0m", "    \u001b[37m+  # Korean (ko) - Luxembourgeois* (ltz) - Norwegian Nynorsk (nn)\u001b[0m", "    \u001b[37m+  # Norwegian (no) - Polish (pl) - Portugese (pt)\u001b[0m", "    \u001b[37m+  # Brazilian Portuguese (pt-BR) - Russian (ru) - Swedish (sv)\u001b[0m", "    \u001b[37m+  # Simplified Chinese (zh-CN) - Spanish (es) - Traditional Chinese (zh-TW)\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  AddLanguage ca .ca\u001b[0m", "    \u001b[37m+  AddLanguage cs .cz .cs\u001b[0m", "    \u001b[37m+  AddLanguage da .dk\u001b[0m", "    \u001b[37m+  AddLanguage de .de\u001b[0m", "    \u001b[37m+  AddLanguage el .el\u001b[0m", "    \u001b[37m+  AddLanguage en .en\u001b[0m", "    \u001b[37m+  AddLanguage eo .eo\u001b[0m", "    \u001b[37m+  # See README.Debian for Spanish\u001b[0m", "    \u001b[37m+  AddLanguage es .es\u001b[0m", "    \u001b[37m+  AddLanguage et .et\u001b[0m", "    \u001b[37m+  AddLanguage fr .fr\u001b[0m", "    \u001b[37m+  AddLanguage he .he\u001b[0m", "    \u001b[37m+  AddLanguage hr .hr\u001b[0m", "    \u001b[37m+  AddLanguage it .it\u001b[0m", "    \u001b[37m+  AddLanguage ja .ja\u001b[0m", "    \u001b[37m+  AddLanguage ko .ko\u001b[0m", "    \u001b[37m+  AddLanguage ltz .ltz\u001b[0m", "    \u001b[37m+  AddLanguage nl .nl\u001b[0m", "    \u001b[37m+  AddLanguage nn .nn\u001b[0m", "    \u001b[37m+  AddLanguage no .no\u001b[0m", "    \u001b[37m+  AddLanguage pl .po\u001b[0m", "    \u001b[37m+  AddLanguage pt .pt\u001b[0m", "    \u001b[37m+  AddLanguage pt-BR .pt-br\u001b[0m", "    \u001b[37m+  AddLanguage ru .ru\u001b[0m", "    \u001b[37m+  AddLanguage sv .sv\u001b[0m", "    \u001b[37m+  # See README.Debian for Turkish\u001b[0m", "    \u001b[37m+  AddLanguage tr .tr\u001b[0m", "    \u001b[37m+  AddLanguage zh-CN .zh-cn\u001b[0m", "    \u001b[37m+  AddLanguage zh-TW .zh-tw\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # Commonly used filename extensions to character sets. You probably\u001b[0m", "    \u001b[37m+  # want to avoid clashes with the language extensions, unless you\u001b[0m", "    \u001b[37m+  # are good at carefully testing your setup after each change.\u001b[0m", "    \u001b[37m+  # See http://www.iana.org/assignments/character-sets for the\u001b[0m", "    \u001b[37m+  # official list of charset names and their respective RFCs.\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  AddCharset us-ascii    .ascii .us-ascii\u001b[0m", "    \u001b[37m+  AddCharset ISO-8859-1  .iso8859-1  .latin1\u001b[0m", "    \u001b[37m+  AddCharset ISO-8859-2  .iso8859-2  .latin2 .cen\u001b[0m", "    \u001b[37m+  AddCharset ISO-8859-3  .iso8859-3  .latin3\u001b[0m", "    \u001b[37m+  AddCharset ISO-8859-4  .iso8859-4  .latin4\u001b[0m", "    \u001b[37m+  AddCharset ISO-8859-5  .iso8859-5  .cyr .iso-ru\u001b[0m", "    \u001b[37m+  AddCharset ISO-8859-6  .iso8859-6  .arb .arabic\u001b[0m", "    \u001b[37m+  AddCharset ISO-8859-7  .iso8859-7  .grk .greek\u001b[0m", "    \u001b[37m+  AddCharset ISO-8859-8  .iso8859-8  .heb .hebrew\u001b[0m", "    \u001b[37m+  AddCharset ISO-8859-9  .iso8859-9  .latin5 .trk\u001b[0m", "    \u001b[37m+  AddCharset ISO-8859-10  .iso8859-10  .latin6\u001b[0m", "    \u001b[37m+  AddCharset ISO-8859-13  .iso8859-13\u001b[0m", "    \u001b[37m+  AddCharset ISO-8859-14  .iso8859-14  .latin8\u001b[0m", "    \u001b[37m+  AddCharset ISO-8859-15  .iso8859-15  .latin9\u001b[0m", "    \u001b[37m+  AddCharset ISO-8859-16  .iso8859-16  .latin10\u001b[0m", "    \u001b[37m+  AddCharset ISO-2022-JP .iso2022-jp .jis\u001b[0m", "    \u001b[37m+  AddCharset ISO-2022-KR .iso2022-kr .kis\u001b[0m", "    \u001b[37m+  AddCharset ISO-2022-CN .iso2022-cn .cis\u001b[0m", "    \u001b[37m+  AddCharset Big5        .Big5       .big5 .b5\u001b[0m", "    \u001b[37m+  AddCharset cn-Big5     .cn-big5\u001b[0m", "    \u001b[37m+  # For russian, more than one charset is used (depends on client, mostly):\u001b[0m", "    \u001b[37m+  AddCharset WINDOWS-1251 .cp-1251   .win-1251\u001b[0m", "    \u001b[37m+  AddCharset CP866       .cp866\u001b[0m", "    \u001b[37m+  AddCharset KOI8      .koi8\u001b[0m", "    \u001b[37m+  AddCharset KOI8-E      .koi8-e\u001b[0m", "    \u001b[37m+  AddCharset KOI8-r      .koi8-r .koi8-ru\u001b[0m", "    \u001b[37m+  AddCharset KOI8-U      .koi8-u\u001b[0m", "    \u001b[37m+  AddCharset KOI8-ru     .koi8-uk .ua\u001b[0m", "    \u001b[37m+  AddCharset ISO-10646-UCS-2 .ucs2\u001b[0m", "    \u001b[37m+  AddCharset ISO-10646-UCS-4 .ucs4\u001b[0m", "    \u001b[37m+  AddCharset UTF-7       .utf7\u001b[0m", "    \u001b[37m+  AddCharset UTF-8       .utf8\u001b[0m", "    \u001b[37m+  AddCharset UTF-16      .utf16\u001b[0m", "    \u001b[37m+  AddCharset UTF-16BE    .utf16be\u001b[0m", "    \u001b[37m+  AddCharset UTF-16LE    .utf16le\u001b[0m", "    \u001b[37m+  AddCharset UTF-32      .utf32\u001b[0m", "    \u001b[37m+  AddCharset UTF-32BE    .utf32be\u001b[0m", "    \u001b[37m+  AddCharset UTF-32LE    .utf32le\u001b[0m", "    \u001b[37m+  AddCharset euc-cn      .euc-cn\u001b[0m", "    \u001b[37m+  AddCharset euc-gb      .euc-gb\u001b[0m", "    \u001b[37m+  AddCharset euc-jp      .euc-jp\u001b[0m", "    \u001b[37m+  AddCharset euc-kr      .euc-kr\u001b[0m", "    \u001b[37m+  #Not sure how euc-tw got in - IANA doesn't list it???\u001b[0m", "    \u001b[37m+  AddCharset EUC-TW      .euc-tw\u001b[0m", "    \u001b[37m+  AddCharset gb2312      .gb2312 .gb\u001b[0m", "    \u001b[37m+  AddCharset iso-10646-ucs-2 .ucs-2 .iso-10646-ucs-2\u001b[0m", "    \u001b[37m+  AddCharset iso-10646-ucs-4 .ucs-4 .iso-10646-ucs-4\u001b[0m", "    \u001b[37m+  AddCharset shift_jis   .shift_jis .sjis\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # AddHandler allows you to map certain file extensions to \"handlers\":\u001b[0m", "    \u001b[37m+  # actions unrelated to filetype. These can be either built into the server\u001b[0m", "    \u001b[37m+  # or added with the Action directive (see below)\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # To use CGI scripts outside of ScriptAliased directories:\u001b[0m", "    \u001b[37m+  # (You will also need to add \"ExecCGI\" to the \"Options\" directive.)\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  #AddHandler cgi-script .cgi\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # For files that include their own HTTP headers:\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  #AddHandler send-as-is asis\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # For server-parsed imagemap files:\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  #AddHandler imap-file map\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # For type maps (negotiated resources):\u001b[0m", "    \u001b[37m+  # (This is enabled by default to allow the Apache \"It Worked\" page\u001b[0m", "    \u001b[37m+  #  to be distributed in multiple languages.)\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  AddHandler type-map var\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # Filters allow you to process content before it is sent to the client.\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # To parse .shtml files for server-side includes (SSI):\u001b[0m", "    \u001b[37m+  # (You will also need to add \"Includes\" to the \"Options\" directive.)\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  AddType text/html .shtml\u001b[0m", "    \u001b[37m+  AddOutputFilter INCLUDES .shtml\u001b[0m", "    \u001b[37m+</IfModule>\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * file[/etc/httpd/mods-available/mime.load] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/mime.load\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/mime.load from none to 37c2d3\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/mime.load\t2019-04-26 14:50:57.202835744 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-mime20190426-67198-s5s41y.load\t2019-04-26 14:50:57.202835744 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,2 @@\u001b[0m", "    \u001b[37m+LoadModule mime_module /usr/lib64/httpd/modules/mod_mime.so\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * execute[a2enmod mime] action run", "    \u001b[32m- execute /usr/sbin/a2enmod mime\u001b[0m", "\u001b[0mRecipe: apache2::mod_negotiation\u001b[0m", "  * template[/etc/httpd/mods-available/negotiation.conf] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/negotiation.conf\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/negotiation.conf from none to 3ad8fd\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/negotiation.conf\t2019-04-26 14:50:57.250837478 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-negotiation20190426-67198-dsuxy3.conf\t2019-04-26 14:50:57.250837478 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,18 @@\u001b[0m", "    \u001b[37m+<IfModule mod_negotiation.c>\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # LanguagePriority allows you to give precedence to some languages\u001b[0m", "    \u001b[37m+  # in case of a tie during content negotiation.\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # Just list the languages in decreasing order of preference. We have\u001b[0m", "    \u001b[37m+  # more or less alphabetized them here. You probably want to change this.\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  LanguagePriority en ca cs da de el eo es et fr he hr it ja ko ltz nl nn no pl pt pt-BR ru sv tr zh-CN zh-TW\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # ForceLanguagePriority allows you to serve a result page rather than\u001b[0m", "    \u001b[37m+  # MULTIPLE CHOICES (Prefer) [in case of a tie] or NOT ACCEPTABLE (Fallback)\u001b[0m", "    \u001b[37m+  # [in case no accepted languages matched the available variants]\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  ForceLanguagePriority Prefer Fallback\u001b[0m", "    \u001b[37m+</IfModule>\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * file[/etc/httpd/mods-available/negotiation.load] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/negotiation.load\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/negotiation.load from none to 114b49\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/negotiation.load\t2019-04-26 14:50:57.254837623 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-negotiation20190426-67198-14o72dm.load\t2019-04-26 14:50:57.254837623 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,2 @@\u001b[0m", "    \u001b[37m+LoadModule negotiation_module /usr/lib64/httpd/modules/mod_negotiation.so\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * execute[a2enmod negotiation] action run", "    \u001b[32m- execute /usr/sbin/a2enmod negotiation\u001b[0m", "\u001b[0mRecipe: apache2::mod_setenvif\u001b[0m", "  * template[/etc/httpd/mods-available/setenvif.conf] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/setenvif.conf\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/setenvif.conf from none to fb5a27\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/setenvif.conf\t2019-04-26 14:50:57.302839358 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-setenvif20190426-67198-1pmtbf8.conf\t2019-04-26 14:50:57.302839358 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,29 @@\u001b[0m", "    \u001b[37m+<IfModule mod_setenvif.c>\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # The following directives modify normal HTTP response behavior to\u001b[0m", "    \u001b[37m+  # handle known problems with browser implementations.\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  BrowserMatch \"Mozilla/2\" nokeepalive\u001b[0m", "    \u001b[37m+  BrowserMatch \"MSIE 4\\.0b2;\" nokeepalive downgrade-1.0 force-response-1.0\u001b[0m", "    \u001b[37m+  BrowserMatch \"RealPlayer 4\\.0\" force-response-1.0\u001b[0m", "    \u001b[37m+  BrowserMatch \"Java/1\\.0\" force-response-1.0\u001b[0m", "    \u001b[37m+  BrowserMatch \"JDK/1\\.0\" force-response-1.0\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  # The following directive disables redirects on non-GET requests for\u001b[0m", "    \u001b[37m+  # a directory that does not include the trailing slash.  This fixes a\u001b[0m", "    \u001b[37m+  # problem with Microsoft WebFolders which does not appropriately handle\u001b[0m", "    \u001b[37m+  # redirects for folders with DAV methods.\u001b[0m", "    \u001b[37m+  # Same deal with Apple's DAV filesystem and Gnome VFS support for DAV.\u001b[0m", "    \u001b[37m+  #\u001b[0m", "    \u001b[37m+  BrowserMatch \"Microsoft Data Access Internet Publishing Provider\" redirect-carefully\u001b[0m", "    \u001b[37m+  BrowserMatch \"MS FrontPage\" redirect-carefully\u001b[0m", "    \u001b[37m+  BrowserMatch \"^WebDrive\" redirect-carefully\u001b[0m", "    \u001b[37m+  BrowserMatch \"^WebDAVFS/1.[012]\" redirect-carefully\u001b[0m", "    \u001b[37m+  BrowserMatch \"^gnome-vfs/1.0\" redirect-carefully\u001b[0m", "    \u001b[37m+  BrowserMatch \"^gvfs/1\" redirect-carefully\u001b[0m", "    \u001b[37m+  BrowserMatch \"^XML Spy\" redirect-carefully\u001b[0m", "    \u001b[37m+  BrowserMatch \"^Dreamweaver-WebDAV-SCM1\" redirect-carefully\u001b[0m", "    \u001b[37m+  BrowserMatch \" Konqueror/4\" redirect-carefully\u001b[0m", "    \u001b[37m+</IfModule>\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * file[/etc/httpd/mods-available/setenvif.load] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/setenvif.load\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/setenvif.load from none to 3b5f9f\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/setenvif.load\t2019-04-26 14:50:57.306839502 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-setenvif20190426-67198-chlgcq.load\t2019-04-26 14:50:57.305839466 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,2 @@\u001b[0m", "    \u001b[37m+LoadModule setenvif_module /usr/lib64/httpd/modules/mod_setenvif.so\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * execute[a2enmod setenvif] action run", "    \u001b[32m- execute /usr/sbin/a2enmod setenvif\u001b[0m", "\u001b[0mRecipe: apache2::mod_log_config\u001b[0m", "  * file[/etc/httpd/mods-available/log_config.load] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/log_config.load\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/log_config.load from none to 73d95c\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/log_config.load\t2019-04-26 14:50:57.352841165 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-log_config20190426-67198-weast5.load\t2019-04-26 14:50:57.352841165 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,2 @@\u001b[0m", "    \u001b[37m+LoadModule log_config_module /usr/lib64/httpd/modules/mod_log_config.so\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * execute[a2enmod log_config] action run", "    \u001b[32m- execute /usr/sbin/a2enmod log_config\u001b[0m", "\u001b[0mRecipe: apache2::mod_logio\u001b[0m", "  * file[/etc/httpd/mods-available/logio.load] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/logio.load\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/logio.load from none to d7e67c\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/logio.load\t2019-04-26 14:50:57.398842827 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-logio20190426-67198-hc4477.load\t2019-04-26 14:50:57.398842827 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,2 @@\u001b[0m", "    \u001b[37m+LoadModule logio_module /usr/lib64/httpd/modules/mod_logio.so\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * execute[a2enmod logio] action run", "    \u001b[32m- execute /usr/sbin/a2enmod logio\u001b[0m", "\u001b[0mRecipe: apache2::mod_unixd\u001b[0m", "  * file[/etc/httpd/mods-available/unixd.load] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/unixd.load\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/unixd.load from none to 4cb8ec\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/unixd.load\t2019-04-26 14:50:57.444844490 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-unixd20190426-67198-19v4f8v.load\t2019-04-26 14:50:57.444844490 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,2 @@\u001b[0m", "    \u001b[37m+LoadModule unixd_module /usr/lib64/httpd/modules/mod_unixd.so\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * execute[a2enmod unixd] action run", "    \u001b[32m- execute /usr/sbin/a2enmod unixd\u001b[0m", "\u001b[0mRecipe: apache2::mod_systemd\u001b[0m", "  * file[/etc/httpd/mods-available/systemd.load] action create", "    \u001b[32m- create new file /etc/httpd/mods-available/systemd.load\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/mods-available/systemd.load from none to f75665\u001b[0m", "    \u001b[37m--- /etc/httpd/mods-available/systemd.load\t2019-04-26 14:50:57.490846152 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/mods-available/.chef-systemd20190426-67198-7sl6li.load\t2019-04-26 14:50:57.490846152 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,2 @@\u001b[0m", "    \u001b[37m+LoadModule systemd_module /usr/lib64/httpd/modules/mod_systemd.so\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "\u001b[0m  * execute[a2enmod systemd] action run", "    \u001b[32m- execute /usr/sbin/a2enmod systemd\u001b[0m", "\u001b[0mRecipe: apache2::default\u001b[0m", "  * service[apache2] action enable", "    \u001b[32m- enable service service[apache2]\u001b[0m", "\u001b[0mRecipe: openstack-dashboard::horizon\u001b[0m", "  * file[/usr/share/openstack-dashboard/openstack_dashboard/local/.secret_key_store] action create (skipped due to only_if)", "Recipe: apache2::default\u001b[0m", "  * service[apache2] action start", "    \u001b[32m- start service service[apache2]\u001b[0m", "\u001b[0mRecipe: openstack-dashboard::horizon\u001b[0m", "  * file[/usr/share/openstack-dashboard/openstack_dashboard/local/.secret_key_store] action create (skipped due to only_if)", "Recipe: apache2::mod_wsgi\u001b[0m", "  * yum_package[mod_wsgi] action install", "    \u001b[32m- install version 0:3.4-18.el7.x86_64 of package mod_wsgi\u001b[0m", "\u001b[0mRecipe: apache2::default\u001b[0m", "  * execute[generate-module-list] action run", "    \u001b[32m- execute /usr/local/bin/apache2_module_conf_generate.pl /usr/lib64/httpd /etc/httpd/mods-available\u001b[0m", "\u001b[0mRecipe: apache2::mod_wsgi\u001b[0m", "  * file[/etc/httpd/conf.d/wsgi.conf] action create", "    \u001b[32m- create new file /etc/httpd/conf.d/wsgi.conf\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/conf.d/wsgi.conf from none to 7b8a87\u001b[0m", "    \u001b[37m--- /etc/httpd/conf.d/wsgi.conf\t2019-04-26 14:50:59.815930177 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/conf.d/.chef-wsgi20190426-67198-1l9gaje.conf\t2019-04-26 14:50:59.815930177 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,2 @@\u001b[0m", "    \u001b[37m+# conf is under mods-available/wsgi.conf - apache2 cookbook\
\u001b[0m", "\u001b[0m  * file[/etc/httpd/mods-available/wsgi.load] action create (up to date)", "  * execute[a2enmod wsgi] action run", "    \u001b[32m- execute /usr/sbin/a2enmod wsgi\u001b[0m", "\u001b[0mRecipe: openstack-identity::server-apache\u001b[0m", "  * directory[/var/www/html/keystone] action create", "    \u001b[32m- create new directory /var/www/html/keystone\u001b[0m", "    \u001b[32m- change mode from '' to '0755'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0mRecipe: apache2::mod_rewrite\u001b[0m", "  * file[/etc/httpd/mods-available/rewrite.load] action create (up to date)", "  * execute[a2enmod rewrite] action run", "    \u001b[32m- execute /usr/sbin/a2enmod rewrite\u001b[0m", "\u001b[0mRecipe: apache2::mod_headers\u001b[0m", "  * file[/etc/httpd/mods-available/headers.load] action create (up to date)", "  * execute[a2enmod headers] action run", "    \u001b[32m- execute /usr/sbin/a2enmod headers\u001b[0m", "\u001b[0mRecipe: openstack-identity::server-apache\u001b[0m", "  * template[/etc/httpd/sites-available/identity.conf] action create", "    \u001b[32m- create new file /etc/httpd/sites-available/identity.conf\u001b[0m", "    \u001b[32m- update content in file /etc/httpd/sites-available/identity.conf from none to 382e53\u001b[0m", "    \u001b[37m--- /etc/httpd/sites-available/identity.conf\t2019-04-26 14:50:59.968935707 +0000\u001b[0m", "    \u001b[37m+++ /etc/httpd/sites-available/.chef-identity20190426-67198-1bwsftc.conf\t2019-04-26 14:50:59.968935707 +0000\u001b[0m", "    \u001b[37m@@ -1 +1,22 @@\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+# This file is automatically generated by Chef\u001b[0m", "    \u001b[37m+# Any changes will be overwritten\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+<VirtualHost 147.75.201.110:5000>\u001b[0m", "    \u001b[37m+    WSGIDaemonProcess identity processes=5 threads=1 user=keystone group=keystone display-name=%{GROUP}\u001b[0m", "    \u001b[37m+    WSGIProcessGroup identity\u001b[0m", "    \u001b[37m+    WSGIScriptAlias / /usr/bin/keystone-wsgi-public\u001b[0m", "    \u001b[37m+    WSGIApplicationGroup %{GLOBAL}\u001b[0m", "    \u001b[37m+    WSGIPassAuthorization On\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    ErrorLogFormat \"%{cu}t %M\"\u001b[0m", "    \u001b[37m+    ErrorLog /var/log/httpd/identity.log\u001b[0m", "    \u001b[37m+    CustomLog /var/log/httpd/identity_access.log combined\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+    <Directory /usr/bin>\u001b[0m", "    \u001b[37m+        Require all granted\u001b[0m", "    \u001b[37m+    </Directory>\u001b[0m", "    \u001b[37m+\u001b[0m", "    \u001b[37m+</VirtualHost>\u001b[0m", "    \u001b[32m- change mode from '' to '0644'\u001b[0m", "    \u001b[32m- change owner from '' to 'root'\u001b[0m", "    \u001b[32m- change group from '' to 'root'\u001b[0m", "\u001b[0m  * execute[a2ensite identity.conf] action run", "    \u001b[32m- execute /usr/sbin/a2ensite identity.conf\u001b[0m", "\u001b[0m  * execute[a2dissite keystone.conf] action run (skipped due to only_if)", "  * execute[Keystone apache restart] action run", "    \u001b[32m- execute uname\u001b[0m", "\u001b[0mRecipe: openstack-dashboard::apache2-server\u001b[0m", "  * execute[restore-selinux-context] action run (skipped due to only_if)", "Recipe: apache2::default\u001b[0m", "  * service[apache2] action restart", "    \u001b[32m- restart service service[apache2]\u001b[0m", "\u001b[0mRecipe: openstack-dashboard::horizon\u001b[0m", "  * file[/usr/share/openstack-dashboard/openstack_dashboard/local/.secret_key_store] action create (skipped due to only_if)", "Recipe: openstack-identity::server-apache\u001b[0m", "  * execute[restore-selinux-context] action nothing (skipped due to action :nothing)", "Recipe: openstack-identity::registration\u001b[0m", "  * ruby_block[wait for identity endpoint] action run", "    \u001b[32m- execute the ruby block wait for identity endpoint\u001b[0m", "\u001b[0m  * openstack_domain[identity] action create", "    \u001b[0m", "    ================================================================================\u001b[0m", "    \u001b[31mError executing action `create` on resource 'openstack_domain[identity]'\u001b[0m", "    ================================================================================\u001b[0m", "    ", "\u001b[0m    Excon::Error::NotFound\u001b[0m", "    ----------------------\u001b[0m", "    Expected([200, 201]) <=> Actual(404 Not Found)", "\u001b[0m    excon.error.response", "\u001b[0m      :body          => \"{\\\"error\\\": {\\\"message\\\": \\\"(http://147.75.201.110:5000/v3/auth/tokens/auth/tokens): The resource could not be found.\\\", \\\"code\\\": 404, \\\"title\\\": \\\"Not Found\\\"}}\"", "\u001b[0m      :cookies       => [", "\u001b[0m      ]", "\u001b[0m      :headers       => {", "\u001b[0m        \"Content-Length\"         => \"150\"", "\u001b[0m        \"Content-Type\"           => \"application/json\"", "\u001b[0m        \"Date\"                   => \"Fri, 26 Apr 2019 14:51:02 GMT\"", "\u001b[0m        \"Server\"                 => \"Apache\"", "\u001b[0m        \"Vary\"                   => \"X-Auth-Token\"", "\u001b[0m        \"x-openstack-request-id\" => \"req-69746a7d-6d7c-4a10-a9e7-f0a55f653425\"", "\u001b[0m      }", "\u001b[0m      :host          => \"147.75.201.110\"", "\u001b[0m      :local_address => \"147.75.201.110\"", "\u001b[0m      :local_port    => 41684", "\u001b[0m      :path          => \"/v3/auth/tokens/auth/tokens\"", "\u001b[0m      :port          => 5000", "\u001b[0m      :reason_phrase => \"Not Found\"", "\u001b[0m      :remote_ip     => \"147.75.201.110\"", "\u001b[0m      :status        => 404", "\u001b[0m      :status_line   => \"HTTP/1.1 404 Not Found\\r\
\"", "\u001b[0m    ", "\u001b[0m    Cookbook Trace:\u001b[0m", "    ---------------\u001b[0m", "    /root/.chef/local-mode-cache/cache/cookbooks/openstackclient/libraries/openstack_base.rb:21:in `connection'", "\u001b[0m    /root/.chef/local-mode-cache/cache/cookbooks/openstackclient/libraries/openstack_domain.rb:28:in `block in <class:OpenstackDomain>'\u001b[0m", "    ", "\u001b[0m    Resource Declaration:\u001b[0m", "    ---------------------\u001b[0m", "    # In /root/.chef/local-mode-cache/cache/cookbooks/openstack-identity/recipes/registration.rb", "\u001b[0m    ", "\u001b[0m     68: openstack_domain 'identity' do", "\u001b[0m     69:   connection_params connection_params", "\u001b[0m     70: end", "\u001b[0m     71: ", "\u001b[0m    ", "\u001b[0m    Compiled Resource:\u001b[0m", "    ------------------\u001b[0m", "    # Declared in /root/.chef/local-mode-cache/cache/cookbooks/openstack-identity/recipes/registration.rb:68:in `from_file'", "\u001b[0m    ", "\u001b[0m    openstack_domain(\"identity\") do", "\u001b[0m      action [:create]", "\u001b[0m      default_guard_interpreter :default", "\u001b[0m      declared_type :openstack_domain", "\u001b[0m      cookbook_name \"openstack-identity\"", "\u001b[0m      recipe_name \"registration\"", "\u001b[0m      connection_params {:openstack_auth_url=>\"http://147.75.201.110:5000/v3/auth/tokens\", :openstack_username=>\"admin\", :openstack_api_key=>\"mypass\", :openstack_project_name=>\"admin\", :openstack_domain_id=>\"default\"}", "\u001b[0m      domain_name \"identity\"", "\u001b[0m    end", "\u001b[0m    ", "\u001b[0m    System Info:\u001b[0m", "    ------------\u001b[0m", "    chef_version=14.6.47", "\u001b[0m    platform=centos", "\u001b[0m    platform_version=7.6.1810", "\u001b[0m    ruby=ruby 2.5.3p105 (2018-10-18 revision 65156) [x86_64-linux]", "\u001b[0m    program_name=/usr/bin/chef-client", "\u001b[0m    executable=/opt/chefdk/bin/chef-client\u001b[0m", "    ", "\u001b[0mRecipe: mariadb::server\u001b[0m", "  * service[mysql] action restart", "    \u001b[32m- restart service service[mysql]\u001b[0m", "\u001b[0mRecipe: rabbitmq::default\u001b[0m", "  * service[rabbitmq-server] action restart", "    \u001b[32m- restart service service[rabbitmq-server]\u001b[0m", "\u001b[0mRecipe: apache2::default\u001b[0m", "  * service[apache2] action restart", "    \u001b[32m- restart service service[apache2]\u001b[0m", "\u001b[0mRecipe: openstack-dashboard::horizon\u001b[0m", "  * file[/usr/share/openstack-dashboard/openstack_dashboard/local/.secret_key_store] action create (skipped due to only_if)", "Recipe: apache2::default\u001b[0m", "  * service[apache2] action reload", "    \u001b[32m- reload service service[apache2]\u001b[0m", "\u001b[0mRecipe: openstack-dashboard::horizon\u001b[0m", "  * file[/usr/share/openstack-dashboard/openstack_dashboard/local/.secret_key_store] action create (skipped due to only_if)", "\u001b[0m", "Running handlers:\u001b[0m", "[2019-04-26T14:51:17+00:00] ERROR: Running exception handlers", "Running handlers complete", "\u001b[0m[2019-04-26T14:51:17+00:00] ERROR: Exception handlers complete", "Chef Client failed. 250 resources updated in 04 minutes 09 seconds\u001b[0m", "[2019-04-26T14:51:17+00:00] FATAL: Stacktrace dumped to /root/.chef/local-mode-cache/cache/chef-stacktrace.out", "[2019-04-26T14:51:17+00:00] FATAL: Please provide the contents of the stacktrace.out file if you file a bug report", "[2019-04-26T14:51:17+00:00] FATAL: Excon::Error::NotFound: openstack_domain[identity] (openstack-identity::registration line 68) had an error: Excon::Error::NotFound: Expected([200, 201]) <=> Actual(404 Not Found)", "excon.error.response", "  :body          => \"{\\\"error\\\": {\\\"message\\\": \\\"(http://147.75.201.110:5000/v3/auth/tokens/auth/tokens): The resource could not be found.\\\", \\\"code\\\": 404, \\\"title\\\": \\\"Not Found\\\"}}\"", "  :cookies       => [", "  ]", "  :headers       => {", "    \"Content-Length\"         => \"150\"", "    \"Content-Type\"           => \"application/json\"", "    \"Date\"                   => \"Fri, 26 Apr 2019 14:51:02 GMT\"", "    \"Server\"                 => \"Apache\"", "    \"Vary\"                   => \"X-Auth-Token\"", "    \"x-openstack-request-id\" => \"req-69746a7d-6d7c-4a10-a9e7-f0a55f653425\"", "  }", "  :host          => \"147.75.201.110\"", "  :local_address => \"147.75.201.110\"", "  :local_port    => 41684", "  :path          => \"/v3/auth/tokens/auth/tokens\"", "  :port          => 5000", "  :reason_phrase => \"Not Found\"", "  :remote_ip     => \"147.75.201.110\"", "  :status        => 404", "  :status_line   => \"HTTP/1.1 404 Not Found\\r\
\""]}